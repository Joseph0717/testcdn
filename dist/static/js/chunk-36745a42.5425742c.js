(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-36745a42"],{"030f":function(e,t,n){(function(e){!function(){"use strict";function t(){}function n(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}}function r(e){return function(){return e}}function o(e){return e}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function a(e){return function(t){return!e(t)}}function u(e){return function(){throw new Error(e)}}var c=r(!1),s=r(!0),l=tinymce.util.Tools.resolve("tinymce.ThemeManager"),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function d(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var g=function(){return h},h={fold:function(e,t){return e()},is:c,isSome:c,isNone:s,getOr:b,getOrThunk:v,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:b,orThunk:v,map:g,each:t,bind:g,exists:c,forall:s,filter:g,equals:p,equals_:p,toArray:function(){return[]},toString:r("none()")};function p(e){return e.isNone()}function v(e){return e()}function b(e){return e}function y(e){return!(null==e)}function w(e,t){if(K(e)){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1}function x(e,t){return te.call(e,t)}function C(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1}function S(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}function k(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=ee.call(e,r,r+t);n.push(o)}return n}function O(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function T(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}}function _(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}function E(e,t,n){return function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)}(e,(function(e){n=t(n,e)})),n}function D(e,t,n){return oe(e,(function(e){n=t(n,e)})),n}function A(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return W.some(i);if(n(i,r))break}return W.none()}(e,t,c)}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return W.some(n);return W.none()}function R(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!K(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);ne.apply(t,e[n])}return t}function M(e,t){return R(O(e,t))}function N(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0}function B(e){return(e=ee.call(e,0)).reverse(),e}function P(e,t){return _(e,(function(e){return!re(t,e)}))}function H(e,t){return(e=ee.call(e,0)).sort(t),e}function L(e,t){return 0<=t&&t<e.length?W.some(e[t]):W.none()}function I(e){return L(e,e.length-1)}function F(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return W.none()}var V,j,U=function(e){function t(){return i}function n(t){return t(e)}var o=r(e),i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:c,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:t,orThunk:t,map:function(t){return U(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?i:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,(function(t){return n(e,t)}))}};return i},W={some:U,none:g,from:function(e){return null==e?h:U(e)}},q=function(e){return function(t){return t=typeof(n=t),(null===n?"null":"object"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t)===e;var n}},$=function(e){return function(t){return typeof t===e}},G=q("string"),X=q("object"),K=q("array"),Y=$("boolean"),J=(V=void 0,function(e){return V===e}),Q=$("function"),Z=$("number"),ee=Array.prototype.slice,te=Array.prototype.indexOf,ne=Array.prototype.push,re=function(e,t){return-1<x(e,t)},oe=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},ie=function(e){return L(e,0)},ae=Q(Array.from)?Array.from:function(e){return ee.call(e)},ue=function(e){return{is:function(t){return e===t},isValue:s,isError:c,getOr:r(e),getOrThunk:r(e),getOrDie:r(e),or:function(t){return ue(e)},orThunk:function(t){return ue(e)},fold:function(t,n){return n(e)},map:function(t){return ue(t(e))},mapError:function(t){return ue(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return W.some(e)}}},ce=function(e){return{is:c,isValue:c,isError:s,getOr:o,getOrThunk:function(e){return e()},getOrDie:function(){return u(String(e))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return ce(e)},mapError:function(t){return ce(t(e))},each:t,bind:function(t){return ce(e)},exists:c,forall:s,toOptional:W.none}},se={value:ue,error:ce,fromOption:function(e,t){return e.fold((function(){return ce(t)}),ue)}};function le(e,t,n){return e.stype===j.Error?t(e.serror):n(e.svalue)}function fe(e){return{stype:j.Value,svalue:e}}function de(e){return{stype:j.Error,serror:e}}function me(e,t){for(var n=Mr(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}function ge(e,t){return Br(e,(function(e,n){return{k:n,v:t(e,n)}}))}function he(e,n){var r,o,i,a,u={};return r=n,a=u,o=function(e,t){a[t]=e},i=t,me(e,(function(e,t){(r(e,t)?o:i)(e,t)})),u}function pe(e,t){var n=[];return me(e,(function(e,r){n.push(t(e,r))})),n}function ve(e,t){for(var n=Mr(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return W.some(a)}return W.none()}function be(e){return pe(e,(function(e){return e}))}function ye(e,t){return Pr(e,t)?W.from(e[t]):W.none()}function we(e,t){return Pr(e,t)&&void 0!==e[t]&&null!==e[t]}function xe(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}function Ce(e){return jr.defaultedThunk(r(e))}function Se(e,t){var n={};return n[e]=t,n}function ke(e,t){return n=t,r={},me(e,(function(e,t){re(n,t)||(r[t]=e)})),r;var n,r}function Oe(e){return t={},oe(e,(function(e){t[e.key]=e.value})),t;var t}function Te(e,t){var n,r,o;return 0<(n=[],r=[],oe(e,(function(e){e.fold((function(e){n.push(e)}),(function(e){r.push(e)}))})),o={errors:n,values:r}).errors.length?(e=o.errors,se.error(R(e))):(t=t,0===(o=o.values).length?se.value(t):se.value(Fr(t,Vr.apply(void 0,o))))}function _e(e){return n(Er,R)(e)}function Ee(e){return X(e)&&100<Mr(e).length?" removed due to size":JSON.stringify(e,null,2)}function De(e,t){return Er([{path:e,getErrorInfo:t}])}function Ae(e,t,n){return ye(t,n).fold((function(){return r=n,o=t,De(e,(function(){return'Could not find valid *strict* value for "'+r+'" in '+Ee(o)}));var r,o}),Tr)}function ze(e,t,n){return t=ye(e,t).fold((function(){return n(e)}),o),Tr(t)}function Re(e,t,n,o){return n.fold((function(n,i,a,u){function c(t){return t=u.extract(e.concat([n]),o,t),zr(t,(function(e){return Se(i,o(e))}))}function s(t){return t.fold((function(){var e=Se(i,o(W.none()));return Tr(e)}),(function(t){return t=u.extract(e.concat([n]),o,t),zr(t,(function(e){return Se(i,o(W.some(e)))}))}))}return a.fold((function(){return Dr(Ae(e,t,n),c)}),(function(e){return Dr(ze(t,n,e),c)}),(function(){return Dr(Tr(ye(t,n)),s)}),(function(e){return Dr(function(e,t,n){return t=ye(e,t).map((function(t){return!0===t?n(e):t})),Tr(t)}(t,n,e),s)}),(function(e){var o=e(t);e=zr(ze(t,n,r({})),(function(e){return Fr(o,e)}));return Dr(e,c)}))}),(function(e,n){return n=n(t),Tr(Se(e,o(n)))}))}function Me(e){return{extract:function(t,n,r){return Ar(e(r,n),(function(e){return n=e,De(t,(function(){return n}));var n}))},toString:function(){return"val"}}}function Ne(e){var t=Jr(e),n=E(e,(function(e,t){return t.fold((function(t){return Fr(e,Gr(t,!0))}),r(e))}),{});return{extract:function(e,r,o){var i,a=Y(o)?[]:Mr(he(o,(function(e){return null!=e})));a=_(a,(function(e){return!we(n,e)}));return 0===a.length?t.extract(e,r,o):(i=a,De(e,(function(){return"There are unsupported fields: ["+i.join(", ")+"] specified"})))},toString:t.toString}}function Be(e){return{extract:function(t,n,r){return r=O(r,(function(r,o){return e.extract(t.concat(["["+o+"]"]),n,r)})),Kr(r)},toString:function(){return"array("+e.toString()+")"}}}function Pe(e,t){return{extract:function(n,r,i){var a=Mr(i);a=Be(Me(e)).extract(n,o,a);return Dr(a,(function(e){return e=O(e,(function(e){return Yr.field(e,e,Ur(),t)})),Jr(e).extract(n,r,i)}))},toString:function(){return"setOf("+t.toString()+")"}}}function He(e,t,n,r,o){return ye(r,o).fold((function(){return t=r,n=o,De(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Ee(t)}));var t,n}),(function(r){return r.extract(e.concat(["branch: "+o]),t,n)}))}function Le(e,t){return{extract:function(n,r,o){return ye(o,e).fold((function(){return t=e,De(n,(function(){return'Choice schema did not contain choice key: "'+t+'"'}));var t}),(function(e){return He(n,r,o,t,e)}))},toString:function(){return"chooseOn("+e+"). Possible values: "+Mr(t)}}}function Ie(e){return Me((function(t){return e(t).fold(Er,Tr)}))}function Fe(e,t,n){return Or(function(e,t,n,r){return n=t.extract([e],n,r),Rr(n,(function(e){return{input:r,errors:e}}))}(e,t,o,n))}function Ve(e){return e.fold((function(e){throw new Error(uo(e))}),o)}function je(e,t,n){return Ve(Fe(e,t,n))}function Ue(e,t){return Le(e,ge(t,Jr))}function We(e){return Ie((function(t){return re(e,t)?se.value(t):se.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')}))}function qe(e){return no(e,e,Ur(),Zr())}function $e(e,t){return no(e,e,Ur(),t)}function Ge(e){return $e(e,mo)}function Xe(e,t){return no(e,e,Ur(),We(t))}function Ke(e,t){return no(e,e,Ur(),Jr(t))}function Ye(e,t){return no(e,e,Ur(),eo(t))}function Je(e,t){return no(e,e,Ur(),Be(t))}function Qe(e){return no(e,e,Wr(),Zr())}function Ze(e,t){return no(e,e,Wr(),t)}function et(e){return Ze(e,fo)}function tt(e){return Ze(e,mo)}function nt(e,t){return Ze(e,Jr(t))}function rt(e,t){return no(e,e,Ce(t),Zr())}function ot(e,t,n){return no(e,e,Ce(t),n)}function it(e,t){return ot(e,t,mo)}function at(e,t){return ot(e,t,ho)}function ut(e,t,n){return ot(e,t,Jr(n))}function ct(e,t){return to(e,t)}function st(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function lt(e,t){var n=String(t).toLowerCase();return A(e,(function(e){return e.search(n)}))}function ft(e,t){return-1!==e.indexOf(t)}function dt(e,t){return n=t,t=(e=e).length-t.length,""===n||e.length>=n.length&&e.substr(t,t+n.length)===n;var n}function mt(e){return window.matchMedia(e).matches}function gt(e,t){if(1!==(e=e.dom).nodeType)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}function ht(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount}function pt(e,t){return e.dom===t.dom}function vt(e,t){return n=e.dom,e=t.dom,t=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(n.compareDocumentPosition(e)&t);var n}function bt(e,t){return(Xo().browser.isIE()?vt:function(e,t){return e=e.dom,t=t.dom,e!==t&&e.contains(t)})(e,t)}function yt(e){return Q(e)?e:c}function wt(e,t,n){for(var r=e.dom,o=yt(n);r.parentNode;){r=r.parentNode;var i=Oo.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return W.none()}function xt(e,t,n){var r=t(e),o=yt(n);return r.orThunk((function(){return o(e)?W.none():wt(e,t,o)}))}function Ct(e,t){return pt(e.element,t.event.target)}function St(e){if(!we(e,"can")&&!we(e,"abort")&&!we(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return je("Extracting event.handler",Ne([rt("can",s),rt("abort",c),rt("run",t)]),e)}function kt(e){var t,n,r,o,i=(n=function(e){return e.can},function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return D(t,(function(t,r){return t&&n(r).apply(void 0,e)}),!0)}),a=(r=t=e,o=function(e){return e.abort},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return D(r,(function(t,n){return t||o(n).apply(void 0,e)}),!1)});return St({can:i,abort:a,run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];oe(e,(function(e){e.run.apply(void 0,t)}))}})}function Ot(e,t){Vi(e,e.element,t,{})}function Tt(e,t,n){Vi(e,e.element,t,n)}function _t(e){Ot(e,wi())}function Et(e,t,n){Vi(e,t,n,{})}function Dt(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event)}function At(e,t){return{key:e,value:St({abort:t})}}function zt(e){return{key:e,value:St({run:function(e,t){t.event.prevent()}})}}function Rt(e,t){return{key:e,value:St({run:t})}}function Mt(e,t,n){return{key:e,value:St({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}}function Nt(e){return function(t){return{key:e,value:St({run:function(e,n){Ct(e,n)&&t(e,n)}})}}}function Bt(e,t,n){var r,o;n=t.partUids[n];return o=n,Rt(r=e,(function(e,t){e.getSystem().getByUid(o).each((function(e){Dt(e,e.element,r,t)}))}))}function Pt(e,t){return Rt(e,(function(e,n){var r=n.event,o=e.getSystem().getByDom(r.target).fold((function(){return xt(r.target,(function(t){return e.getSystem().getByDom(t).toOptional()}),c).getOr(e)}),(function(e){return e}));t(e,o,n)}))}function Ht(e){return Rt(e,(function(e,t){t.cut()}))}function Lt(e,t){return Nt(e)(t)}function It(e){return e.dom.nodeName.toLowerCase()}function Ft(e){return Oo.fromDom(e.dom.ownerDocument)}function Vt(e){return Yi(e)?e:Ft(e)}function jt(e){return Oo.fromDom(Vt(e).dom.documentElement)}function Ut(e){return Oo.fromDom(Vt(e).dom.defaultView)}function Wt(e){return W.from(e.dom.parentNode).map(Oo.fromDom)}function qt(e){return W.from(e.dom.offsetParent).map(Oo.fromDom)}function $t(e){return O(e.dom.childNodes,Oo.fromDom)}function Gt(e,t){return e=e.dom.childNodes,W.from(e[t]).map(Oo.fromDom)}function Xt(e){return Ji(e)&&y(e.dom.host)}function Kt(e){return Xt(e)?e:Oo.fromDom(Vt(e).dom.body)}function Yt(e){return Oo.fromDom(e.dom.host)}function Jt(e,t){Wt(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))}function Qt(e,t){W.from(e.dom.nextSibling).map(Oo.fromDom).fold((function(){Wt(e).each((function(e){oa(e,t)}))}),(function(e){Jt(e,t)}))}function Zt(e,t){Gt(e,0).fold((function(){oa(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))}function en(e,t){oe(t,(function(t){oa(e,t)}))}function tn(e){e.dom.textContent="",oe($t(e),(function(e){ia(e)}))}function nn(e){var t,n=$t(e);0<n.length&&(t=e,oe(n,(function(e){Jt(t,e)}))),ia(e)}function rn(e){return e.dom.innerHTML}function on(e,t){var n=Ft(e).dom,r=Oo.fromDom(n.createDocumentFragment());n=function(e,t){return t=(t||document).createElement("div"),t.innerHTML=e,$t(Oo.fromDom(t))}(t,n);en(r,n),tn(e),oa(e,r)}function an(e,t,n){if(!(G(n)||Y(n)||Z(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")}function un(e,t,n){an(e.dom,t,n)}function cn(e,t){return null===(t=e.dom.getAttribute(t))?void 0:t}function sn(e,t){return W.from(cn(e,t))}function ln(e,t){return!(!(e=e.dom)||!e.hasAttribute)&&e.hasAttribute(t)}function fn(e,t){e.dom.removeAttribute(t)}function dn(e){return t=!1,Oo.fromDom(e.dom.cloneNode(t));var t}function mn(e){if(Xt(e))return"#shadow-root";var t=dn(e);return e=t,t=Oo.fromTag("div"),e=Oo.fromDom(e.dom.cloneNode(!0)),oa(t,e),rn(t)}function gn(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++ca+String(t)}function hn(e){return e=Xi(e)?e.dom[da]:null,W.from(e)}function pn(e){function t(t){return function(){throw new Error("The component must be in a context to send: "+t+(e?"\n"+mn(e().element)+" is not in context.":""))}}return{debugInfo:r("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:c}}function vn(e,t){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:va(i)}},e}function bn(e){return Gr(ba,e)}function yn(e){return t=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,m([t.getApis(),t],n))},r=(n=e).toString(),o=r.indexOf(")")+1,n=r.indexOf("("),i=r.substring(n+1,o-1).split(/,\s*/),t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:va(i.slice(1))}},t;var t,n,r,o,i}function wn(e,t){var n={};return me(e,(function(e,r){me(e,(function(e,o){var i=ye(n,o).getOr([]);n[o]=i.concat([t(r,e)])}))})),n}function xn(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}}function Cn(e,t,n,r){var o=f({},t);function i(e){return E(e,(function(e,t){return f(f({},t.modification),e)}),{})}oe(n,(function(t){o[t.name()]=t.exhibit(e,r)}));var a=wn(o,(function(e,t){return{name:e,modification:t}}));t=E(a.classes,(function(e,t){return t.modification.concat(e)}),[]),n=i(a.attributes),a=i(a.styles);return xn({classes:t,attributes:n,styles:a})}function Sn(e){return e.cHandler}function kn(e,t){return{name:e,handler:t}}function On(e,t,n){var r,o;t=f(f({},n),(r=e,o={},oe(t,(function(e){o[e.name()]=e.handlers(r)})),o));return wn(t,kn)}function Tn(e){var t=Q(e=e)?{can:s,abort:c,run:e}:e;return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];e=[e,n].concat(r),t.abort.apply(void 0,e)?n.stop():t.can.apply(void 0,e)&&t.run.apply(void 0,e)}}function _n(e,t,n){return(t=t[n])?function(e,t,n,r){try{var o=H(n,(function(n,o){var i=n[t],a=o[t];n=r.indexOf(i),o=r.indexOf(a);if(-1===n)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===o)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return n<o?-1:o<n?1:0}));return se.value(o)}catch(n){return se.error([n])}}("Event: "+n,"name",e,t).map((function(e){return e=O(e,(function(e){return e.handler})),kt(e)})):se.error(["The event ("+n+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(O(e,(function(e){return e.name})),null,2)])}function En(e){var t;return Fe("custom.definition",Jr([no("dom","dom",Ur(),Jr([qe("tag"),rt("styles",{}),rt("classes",[]),rt("attributes",{}),Qe("value"),Qe("innerHtml")])),qe("components"),qe("uid"),rt("events",{}),rt("apis",{}),no("eventOrder","eventOrder",((t={})[wi()]=["disabling",Ca,"toggling","typeaheadevents"],t[pi()]=[Ca,"focusing","keying"],t[Ti()]=[Ca,"disabling","toggling","representing"],t[si()]=[Ca,"representing","streaming","invalidating"],t[Ri()]=[Ca,"representing","item-events","tooltipping"],t[ei()]=["focusing",Ca,"item-type-events"],t[Yo()]=["focusing",Ca,"item-type-events"],t[oi()]=["item-type-events","tooltipping"],t[yi()]=["receiving","reflecting","tooltipping"],t=t,jr.mergeWithThunk(r(t))),so()),Qe("domModification")]),e)}function Dn(e,t){return void 0===(t=cn(e,t))||""===t?[]:t.split(" ")}function An(e){return void 0!==e.dom.classList}function zn(e,t){return function(e,t,n){return n=Dn(e,t).concat([n]),un(e,t,n.join(" ")),!0}(e,"class",t)}function Rn(e,t){return r=t,0<(e=_(Dn(n=e,t="class"),(function(e){return e!==r}))).length?un(n,t,e.join(" ")):fn(n,t),0;var n,r}function Mn(e,t){An(e)?e.dom.classList.add(t):zn(e,t)}function Nn(e){0===(An(e)?e.dom.classList:Dn(e,"class")).length&&fn(e,"class")}function Bn(e,t){An(e)?e.dom.classList.remove(t):Rn(e,t),Nn(e)}function Pn(e,t){return An(e)&&e.dom.classList.contains(t)}function Hn(e,t){oe(t,(function(t){Mn(e,t)}))}function Ln(e,t){oe(t,(function(t){Bn(e,t)}))}function In(e){return void 0!==e.style&&Q(e.style.getPropertyValue)}function Fn(e,t,n){if(!G(n))throw new Error("CSS value must be a string: "+n);In(e)&&e.style.setProperty(t,n)}function Vn(e,t){In(e)&&e.style.removeProperty(t)}function jn(e,t,n){e=e.dom,Fn(e,t,n)}function Un(e,t){var n=e.dom;me(t,(function(e,t){Fn(n,t,e)}))}function Wn(e,t){var n=e.dom;me(t,(function(e,t){e.fold((function(){Vn(n,t)}),(function(e){Fn(n,t,e)}))}))}function qn(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||Sa(e)?r:Ta(n,t)}function $n(e,t){return e=e.dom,t=Ta(e,t),W.from(t).filter((function(e){return 0<e.length}))}function Gn(e,t,n){return e=Oo.fromTag(e),jn(e,t,n),$n(e,t).isSome()}function Xn(e,t){var n=e.dom;Vn(n,t),sn(e,"style").map(zo).is("")&&fn(e,"style")}function Kn(e){return e.dom.offsetWidth}function Yn(e){return e.dom.value}function Jn(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t}function Qn(e){var t,n=Oo.fromTag(e.tag);r=e.attributes,t=n.dom,me(r,(function(e,n){an(t,n,e)})),Hn(n,e.classes),Un(n,e.styles),e.innerHtml.each((function(e){return on(n,e)}));var r=e.domChildren;return en(n,r),e.value.each((function(e){Jn(n,e)})),e.uid,ma(n,e.uid),n}function Zn(e,t){return n=e,t=O(e=t,(function(e){return nt(e.name(),[qe("config"),rt("state",ya)])})),t=Fe("component.behaviours",Jr(t),n.behaviours).fold((function(e){throw new Error(uo(e)+"\nComplete spec:\n"+JSON.stringify(n,null,2))}),(function(e){return e})),{list:e,data:ge(t,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}));return function(){return t}}))};var n}function er(e){var t,n=(t=ye(n=e,"behaviours").getOr({}),n=_(Mr(t),(function(e){return void 0!==t[e]})),O(n,(function(e){return t[e].me})));return Zn(e,n)}function tr(e,t,n){var r=f(f({},(r=e).dom),{uid:r.uid,domChildren:O(r.components,(function(e){return e.element}))});e=e.domModification.fold((function(){return xn({})}),xn);return e=e=0<t.length?Cn(n,{"alloy.base.modification":e},t,r):e,f(f({},r=r),{attributes:f(f({},r.attributes),e.attributes),styles:f(f({},r.styles),e.styles),classes:r.classes.concat(e.classes)})}function nr(e,t,n){var r={"alloy.base.behaviour":e.events};return function(e,t,n,r){return r=On(e,n,r),xa(r,t)}(n,e.eventOrder,t,r).getOrDie()}function rr(e){var t,n,r,o,i,a,u,c=(s=ha(e)).events,s=function(e){return e=ye(e,"components").getOr([]),O(e,Da)}(e=d(s,["events"]));c=f(f({},e),{events:f(f({},ua),c),components:s});return se.value((n=st(pa),r=Ve(En(t=c)),s=er(t),c=s.list,o=s.data,s=tr(r,c,o),i=Qn(s),c=nr(r,c,o),a=st(r.components),u={getSystem:n.get,config:function(e){var n=o;return(Q(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))})()},hasConfigured:function(e){return Q(o[e.name()])},spec:t,readState:function(e){return o[e]().map((function(e){return e.state.readState()})).getOr("not enabled")},getApis:function(){return r.apis},connect:function(e){n.set(e)},disconnect:function(){n.set(pn(l))},element:i,syncComponents:function(){var e=$t(i);e=M(e,(function(e){return n.get().getByDom(e).fold((function(){return[]}),(function(e){return[e]}))}));a.set(e)},components:a.get,events:c}));function l(){return u}}function or(e){return e=Oo.fromText(e),_a({element:e})}function ir(e){return Ra.get(e)}function ar(e){return Ra.getOuter(e)}function ur(e,t){return void 0!==e?e:void 0!==t?t:0}function cr(e){var t=(i=e.dom.ownerDocument).body,n=i.defaultView,r=i.documentElement;if(t===e.dom)return Na(t.offsetLeft,t.offsetTop);var o=ur(null==n?void 0:n.pageYOffset,r.scrollTop),i=ur(null==n?void 0:n.pageXOffset,r.scrollLeft);n=ur(r.clientTop,t.clientTop),t=ur(r.clientLeft,t.clientLeft);return Ba(e).translate(i-t,o-n)}function sr(e){return Pa.get(e)}function lr(e){return Pa.getOuter(e)}function fr(e){function t(){return e.stopPropagation()}function r(){return e.preventDefault()}var o=Oo.fromDom(function(e){if(ea()&&y(e.target)){var t=Oo.fromDom(e.target);if(Xi(t)&&ra(t)&&e.composed&&e.composedPath&&(t=e.composedPath(),t))return ie(t)}return W.from(e.target)}(e).getOr(e.target)),i=n(r,t);return{target:o,x:e.clientX,y:e.clientY,stop:t,prevent:r,kill:i,raw:e}}function dr(e,t,n,r,o){var a,u;a=n,u=r,r=function(e){a(e)&&u(fr(e))};return e.dom.addEventListener(t,r,o),{unbind:i(Ha,e,t,r,o)}}function mr(e){e=(t=void 0!==e?e.dom:document).body.scrollLeft||t.documentElement.scrollLeft;var t=t.body.scrollTop||t.documentElement.scrollTop;return Na(e,t)}function gr(e,t,n){(n=(void 0!==n?n.dom:document).defaultView)&&n.scrollTo(e,t)}function hr(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}}function pr(e){var t=void 0===e?window:e,n=(e=t.document,mr(Oo.fromDom(e)));return function(e){return e=void 0===e?window:e,W.from(e.visualViewport)}(t).fold((function(){var e=t.document.documentElement,r=e.clientWidth;e=e.clientHeight;return hr(n.left,n.top,r,e)}),(function(e){return hr(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)}))}function vr(e){var t=Oo.fromDom(document),n=mr(t);return function(e,t){return e=t.owner(e),e=La(t,e),W.some(e)}(e,Ia).fold(i(cr,e),(function(t){var r=Ba(e);t=E(t,(function(e,t){return t=Ba(t),{left:e.left+t.left,top:e.top+t.top}}),{left:0,top:0});return Na(t.left+r.left+n.left,t.top+r.top+n.top)}))}function br(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}}function yr(e){var t=cr(e),n=lr(e);e=ar(e);return br(t.left,t.top,n,e)}function wr(e){var t=vr(e),n=lr(e);e=ar(e);return br(t.left,t.top,n,e)}function xr(){return pr(window)}(Tc=j=j||{})[Tc.Error=0]="Error",Tc[Tc.Value=1]="Value";var Cr,Sr,kr=function(e){return e.fold(de,fe)},Or=function(e){return le(e,se.error,se.value)},Tr=fe,_r=function(e){var t=[],n=[];return oe(e,(function(e){le(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},Er=de,Dr=function(e,t){return e.stype===j.Value?t(e.svalue):e},Ar=function(e,t){return e.stype===j.Error?t(e.serror):e},zr=function(e,t){return e.stype===j.Value?{stype:j.Value,svalue:t(e.svalue)}:e},Rr=function(e,t){return e.stype===j.Error?{stype:j.Error,serror:t(e.serror)}:e},Mr=Object.keys,Nr=Object.hasOwnProperty,Br=function(e,t){var n={};return me(e,(function(e,r){r=t(e,r),n[r.k]=r.v})),n},Pr=function(e,t){return Nr.call(e,t)},Hr=function(e){if(!K(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return oe(e,(function(r,o){var i=Mr(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!K(u))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+i);return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:function(e){var r=Mr(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!N(t,(function(e){return re(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)},log:function(e){}}}})),n},Lr=Object.prototype.hasOwnProperty,Ir=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i,a=t[o];for(i in a)Lr.call(a,i)&&(r[i]=e(r[i],a[i]))}return r}},Fr=Ir((function(e,t){return X(e)&&X(t)?Fr(e,t):t})),Vr=Ir((function(e,t){return t})),jr=Hr([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Ur=jr.strict,Wr=jr.asOption,qr=jr.defaultedThunk,$r=(jr.asDefaultedOptionThunk,jr.mergeWithThunk),Gr=(Hr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),Se),Xr=function(e,t){return e=_r(e),0<e.errors.length?_e(e.errors):(e=e.values,t=t,0<e.length?Tr(Fr(t,Vr.apply(void 0,e))):Tr(t))},Kr=function(e){return e=_r(e),0<e.errors.length?_e(e.errors):Tr(e.values)},Yr=Hr([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Jr=function(e){return{extract:function(t,n,r){return function(e,t,n,r){return n=O(n,(function(n){return Re(e,t,n,r)})),Xr(n,{})}(t,r,e,n)},toString:function(){return"obj{\n"+O(e,(function(e){return e.fold((function(e,t,n,r){return e+" -> "+r.toString()}),(function(e,t){return"state("+e+")"}))})).join("\n")+"}"}}},Qr=function(e){return{extract:function(t,n,r){for(var o=[],i=0,a=e;i<a.length;i++){var u=a[i].extract(t,n,r);if(u.stype===j.Value)return u;o.push(u)}return Kr(o)},toString:function(){return"oneOf("+O(e,(function(e){return e.toString()})).join(", ")+")"}}},Zr=r(Me(Tr)),eo=n(Be,Jr),to=Yr.state,no=Yr.field,ro=Me(Tr),oo=function(e){return eo(e)},io=function(e){return{extract:function(t,n,r){return e().extract(t,n,r)},toString:function(){return e().toString()}}},ao=function(e,t){return Pe((function(t){return kr(e(t))}),t)},uo=function(e){return"Errors: \n"+function(e){return e=10<e.length?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e,O(e,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))}(e.errors).join("\n")+"\n\nInput object: "+Ee(e.input)},co=Le,so=r(ro),lo=function(e,t){return Me((function(n){var r=typeof n;return e(n)?Tr(n):Er("Expected type: "+t+" but got: "+r)}))},fo=lo(Z,"number"),mo=lo(G,"string"),go=lo(Y,"boolean"),ho=lo(Q,"function"),po=function(e){function t(e,t){for(var n=e.next();!n.done;){if(!t(n.value))return!1;n=e.next()}return!0}if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(t){return po(e[t])}));case"Map":return t(e.keys(),po)&&t(e.values(),po);case"Set":return t(e.keys(),po);default:return!1}},vo=Me((function(e){return po(e)?Tr(e):Er("Expected value to be acceptable for sending via postMessage")})),bo=function(e){return $e(e,ho)},yo=function(e){return Ze(e,ho)},wo=function(e,t){return ot(e,t,fo)},xo=function(e,t,n){return ot(e,t,We(n))},Co=function(e,t){return ot(e,t,go)},So=function(e,t,n){return ot(e,t,Be(n))},ko=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Oo={fromHtml:function(e,t){if(t=(t||document).createElement("div"),t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw new Error("HTML must have a single root node");return ko(t.childNodes[0])},fromTag:function(e,t){return e=(t||document).createElement(e),ko(e)},fromText:function(e,t){return e=(t||document).createTextNode(e),ko(e)},fromDom:ko,fromPoint:function(e,t,n){return W.from(e.dom.elementFromPoint(t,n)).map(ko)}},To=function(){return _o(0,0)},_o=function(e,t){return{major:e,minor:t}},Eo={nu:_o,detect:function(e,t){return t=String(t).toLowerCase(),0===e.length?To():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);return n?(e=function(e){return Number(t.replace(n,"$"+e))},_o(e(1),e(2))):{major:0,minor:0}}(e,t)},unknown:To},Do=function(e,t){return lt(e,t).map((function(e){var n=Eo.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},Ao=function(e,t){return lt(e,t).map((function(e){var n=Eo.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},zo=(Cr=/^\s+|\s+$/g,function(e){return e.replace(Cr,"")}),Ro=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mo=function(e){return function(t){return ft(t,e)}},No=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ft(e,"edge/")&&ft(e,"chrome")&&ft(e,"safari")&&ft(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ro],search:function(e){return ft(e,"chrome")&&!ft(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ft(e,"msie")||ft(e,"trident")}},{name:"Opera",versionRegexes:[Ro,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mo("firefox")},{name:"Safari",versionRegexes:[Ro,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ft(e,"safari")||ft(e,"mobile/"))&&ft(e,"applewebkit")}}],Bo=[{name:"Windows",search:Mo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ft(e,"iphone")||ft(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Mo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mo("linux"),versionRegexes:[]},{name:"Solaris",search:Mo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Mo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Po={browsers:r(No),oses:r(Bo)},Ho="Firefox",Lo=function(e){var t=e.current,n=e.version;e=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:e("Edge"),isChrome:e("Chrome"),isIE:e("IE"),isOpera:e("Opera"),isFirefox:e(Ho),isSafari:e("Safari")}},Io={unknown:function(){return Lo({current:void 0,version:Eo.unknown()})},nu:Lo,edge:r("Edge"),chrome:r("Chrome"),ie:r("IE"),opera:r("Opera"),firefox:r(Ho),safari:r("Safari")},Fo="Windows",Vo="Android",jo="Solaris",Uo="FreeBSD",Wo="ChromeOS",qo=function(e){var t=e.current,n=e.version;e=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:e(Fo),isiOS:e("iOS"),isAndroid:e(Vo),isOSX:e("OSX"),isLinux:e("Linux"),isSolaris:e(jo),isFreeBSD:e(Uo),isChromeOS:e(Wo)}},$o={unknown:function(){return qo({current:void 0,version:Eo.unknown()})},nu:qo,windows:r(Fo),ios:r("iOS"),android:r(Vo),linux:r("Linux"),osx:r("OSX"),solaris:r(jo),freebsd:r(Uo),chromeos:r(Wo)},Go=function(e,t){var n,o,i=Po.browsers(),a=Po.oses(),u=Do(i,e).fold(Io.unknown,Io.nu),c=Ao(a,e).fold($o.unknown,$o.nu);return{browser:u,os:c,deviceType:(n=u,o=e,i=t,u=(a=c).isiOS()&&!0===/ipad/i.test(o),e=a.isiOS()&&!u,t=a.isiOS()||a.isAndroid(),c=t||i("(pointer:coarse)"),i=u||!e&&t&&i("(min-device-width:768px)"),t=e||t&&!i,o=n.isSafari()&&a.isiOS()&&!1===/safari/i.test(o),{isiPad:r(u),isiPhone:r(e),isTablet:r(i),isPhone:r(t),isTouch:r(c),isAndroid:a.isAndroid,isiOS:a.isiOS,isWebView:r(o),isDesktop:r(!t&&!i&&!o)})}},Xo=xe((function(){return Go(navigator.userAgent,mt)})),Ko=r,Yo=Ko("touchstart"),Jo=Ko("touchmove"),Qo=Ko("touchend"),Zo=Ko("touchcancel"),ei=Ko("mousedown"),ti=Ko("mousemove"),ni=Ko("mouseout"),ri=Ko("mouseup"),oi=Ko("mouseover"),ii=Ko("focusin"),ai=Ko("focusout"),ui=Ko("keydown"),ci=Ko("keyup"),si=Ko("input"),li=Ko("change"),fi=Ko("click"),di=Ko("transitionend"),mi=Ko("selectstart"),gi=function(e){return r("alloy."+e)},hi={tap:gi("tap")},pi=gi("focus"),vi=gi("blur.post"),bi=gi("paste.post"),yi=gi("receive"),wi=gi("execute"),xi=gi("focus.item"),Ci=hi.tap,Si=gi("longpress"),ki=gi("sandbox.close"),Oi=gi("typeahead.cancel"),Ti=gi("system.init"),_i=gi("system.touchmove"),Ei=gi("system.touchend"),Di=gi("system.scroll"),Ai=gi("system.resize"),zi=gi("system.attached"),Ri=gi("system.detached"),Mi=gi("system.dismissRequested"),Ni=gi("system.repositionRequested"),Bi=gi("focusmanager.shifted"),Pi=gi("slotcontainer.visibility"),Hi=gi("change.tab"),Li=gi("dismiss.tab"),Ii=gi("highlight"),Fi=gi("dehighlight"),Vi=function(e,t,n,r){r=f({target:t},r),e.getSystem().triggerEvent(n,t,r)},ji=Oe,Ui=Nt(zi()),Wi=Nt(Ri()),qi=Nt(Ti()),$i=(Sr=wi(),function(e){return Rt(Sr,e)}),Gi=("undefined"!=typeof window||Function("return this;")(),function(e){return function(t){return t.dom.nodeType===e}}),Xi=Gi(1),Ki=Gi(3),Yi=Gi(9),Ji=Gi(11),Qi=Wt,Zi=Q(Element.prototype.attachShadow)&&Q(Node.prototype.getRootNode),ea=r(Zi),ta=Zi?function(e){return Oo.fromDom(e.dom.getRootNode())}:Vt,na=function(e){return e=ta(e),Xt(e)?W.some(e):W.none()},ra=function(e){return y(e.dom.shadowRoot)},oa=function(e,t){e.dom.appendChild(t.dom)},ia=function(e){e=e.dom,null!==e.parentNode&&e.parentNode.removeChild(e)},aa=ji([{key:pi(),value:St({can:function(e,t){var n=t.event;t=n.originator,n=n.target;return n=n,!(pt(t=t,e.element)&&!pt(t,n))}})}]),ua=Object.freeze({__proto__:null,events:aa}),ca=0,sa=r("alloy-id-"),la=r("data-alloy-id"),fa=sa(),da=la(),ma=function(e,t){Object.defineProperty(e.dom,da,{value:t,writable:!0})},ga=gn,ha=o,pa=pn(),va=function(e){return O(e,(function(e){return dt(e,"/*")?e.substring(0,e.length-"/*".length):e}))},ba=gn("alloy-premade"),ya={init:function(){return wa({readState:function(){return"No State required"}})}},wa=function(e){return e},xa=function(e,t){return e=pe(e,(function(e,n){return(1===e.length?se.value(e[0].handler):_n(e,t,n)).map((function(r){var o=Tn(r);r=1<e.length?_(t[n],(function(t){return C(e,(function(e){return e.name===t}))})).join(" > "):e[0].name;return Gr(n,{handler:o,purpose:r})}))})),Te(e,{})},Ca="alloy.base.behaviour",Sa=function(e){var t=Ki(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return na(Oo.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=Sa,r=Yt,function(e){return n(r(e))}))},ka=function(){return Oa(Oo.fromDom(document))},Oa=function(e){if(e=e.dom.body,null==e)throw new Error("Body is not available yet");return Oo.fromDom(e)},Ta=function(e,t){return In(e)?e.style.getPropertyValue(t):""},_a=function(e){var n=je("external.component",Ne([qe("element"),Qe("uid")]),e),o=st(pn());n.uid.each((function(e){ma(n.element,e)}));var i={getSystem:o.get,config:W.none,hasConfigured:c,connect:function(e){o.set(e)},disconnect:function(){o.set(pn((function(){return i})))},getApis:function(){return{}},element:n.element,spec:e,readState:r("No state"),syncComponents:t,components:r([]),events:{}};return bn(i)},Ea=ga,Da=function(e){return ye(e,ba).fold((function(){var t=e.hasOwnProperty("uid")?e:f({uid:Ea("")},e);return rr(t).getOrDie()}),(function(e){return e}))},Aa=bn,za=function(e,t){function n(n){var r=t(n);return r<=0||null===r?(n=qn(n,e),parseFloat(n)||0):r}function r(e,t){return D(t,(function(t,n){return n=qn(e,n),n=void 0===n?0:parseInt(n,10),isNaN(n)?t:t+n}),0)}return{set:function(t,n){if(!Z(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);t=t.dom,In(t)&&(t.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){return n=r(e,n),n<t?t-n:0}}},Ra=za("height",(function(e){var t=e.dom;return Sa(e)?t.getBoundingClientRect().height:t.offsetHeight})),Ma=function(e,t){return{left:e,top:t,translate:function(n,r){return Ma(e+n,t+r)}}},Na=Ma,Ba=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?Na(n.offsetLeft,n.offsetTop):Sa(e)?function(e){return e=e.getBoundingClientRect(),Na(e.left,e.top)}(t):Na(0,0)},Pa=za("width",(function(e){return e.dom.offsetWidth})),Ha=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},La=function(e,t){return e.view(t).fold(r([]),(function(t){var n=e.owner(t);n=La(e,n);return[t].concat(n)}))},Ia=Object.freeze({__proto__:null,view:function(e){return(e.dom===document?W.none():W.from(null===(e=e.dom.defaultView)||void 0===e?void 0:e.frameElement)).map(Oo.fromDom)},owner:Ft});function Fa(e,t,n,r,o){return e(n,r)?W.some(n):Q(o)&&o(n)?W.none():t(n,r,o)}function Va(e,t,n){for(var r=e.dom,o=Q(n)?n:c;r.parentNode;){r=r.parentNode;var i=Oo.fromDom(r);if(t(i))return W.some(i);if(o(i))break}return W.none()}function ja(e,t,n){return Fa((function(e,t){return t(e)}),Va,e,t,n)}function Ua(e,t,n){return ja(e,t,n).isSome()}function Wa(e,t,n){return Va(e,(function(e){return gt(e,t)}),n)}function qa(e,t){return function(e,t){return t=void 0===t?document:t.dom,ht(t)?W.none():W.from(t.querySelector(e)).map(Oo.fromDom)}(t,e)}function $a(e,t,n){return Fa(gt,Wa,e,t,n)}function Ga(){var e=gn("aria-owns");return{id:e,link:function(t){un(t,"aria-owns",e)},unlink:function(e){fn(e,"aria-owns")}}}function Xa(e,t){return ja(t,(function(e){return!!Xi(e)&&(e=cn(e,"id"),void 0!==e&&-1<e.indexOf("aria-owns"))})).bind((function(e){var t=cn(e,"id");e=ta(e);return qa(e,'[aria-owns="'+t+'"]')})).exists((function(t){return Ya(e,t)}))}var Ka,Ya=function(e,t){return Ua(t,(function(t){return pt(t,e.element)}),c)||Xa(e,t)},Ja="unknown";function Qa(e,t,n){switch(ye(Ku.get(),e).orThunk((function(){var t=Mr(Ku.get());return F(t,(function(t){return-1<e.indexOf(t)?W.some(Ku.get()[t]):W.none()}))})).getOr(Ka.NORMAL)){case Ka.NORMAL:return n(Ju());case Ka.LOGGING:var r=function(e){var t=[];return(new Date).getTime(),{logEventCut:function(e,n,r){t.push({outcome:"cut",target:n,purpose:r})},logEventStopped:function(e,n,r){t.push({outcome:"stopped",target:n,purpose:r})},logNoParent:function(e,n,r){t.push({outcome:"no-parent",target:n,purpose:r})},logEventNoHandlers:function(e,n){t.push({outcome:"no-handlers-left",target:n})},logEventResponse:function(e,n,r){t.push({outcome:"response",purpose:r,target:n})},write:function(){(new Date).getTime(),re(["mousemove","mouseover","mouseout",Ti()],e)}}}(e),o=n(r);return r.write(),o;case Ka.STOP:return!0}}function Za(e,t,n){return Qa(e,0,n)}function eu(e,t,n){return function(){var e=new Error;void 0!==e.stack&&(e=e.stack.split("\n"),A(e,(function(e){return 0<e.indexOf("alloy")&&!C(Yu,(function(t){return-1<e.indexOf(t)}))})).getOr(Ja))}(),no(t,t,n,Ie((function(e){return se.value((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)}))})))}function tu(e,t){return ct(e,r(t))}function nu(e){return ct(e,o)}function ru(e,t,n,r,o,i){return{x:e,y:t,bubble:n,direction:r,boundsRestriction:o,label:i}}function ou(e,t){return function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}(["left","right","top","bottom"],(function(n){return ye(t,n).map((function(t){return function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}}(e,t)}))}))}function iu(e,t,n){function r(e,r){var i="top"===e||"bottom"===e?n.top:n.left;return ye(t,e).bind(o).bind((function(t){return"left"===e||"top"===e?r<=t?W.some(t):W.none():t<=r?W.some(t):W.none()})).map((function(e){return e+i})).getOr(r)}var i=r("left",e.x),a=r("top",e.y),u=r("right",e.right);e=r("bottom",e.bottom);return br(i,a,u-i,e-a)}function au(e,t){return e.x+e.width/2-t.width/2}function uu(e,t){return e.x+e.width-t.width}function cu(e,t){return e.y-t.height}function su(e){return e.y+e.height}function lu(e,t){return e.y+e.height/2-t.height/2}function fu(e,t,n){return ru(e.x,su(e),n.southeast(),lc(),ou(e,{left:1,top:3}),"layout-se")}function du(e,t,n){return ru(uu(e,t),su(e),n.southwest(),fc(),ou(e,{right:0,top:3}),"layout-sw")}function mu(e,t,n){return ru(e.x,cu(e,t),n.northeast(),dc(),ou(e,{left:1,bottom:2}),"layout-ne")}function gu(e,t,n){return ru(uu(e,t),cu(e,t),n.northwest(),mc(),ou(e,{right:0,bottom:2}),"layout-nw")}function hu(e,t,n){return ru(e.x+e.width,lu(e,t),n.east(),pc(),ou(e,{left:0}),"layout-e")}function pu(e,t,n){return ru(e.x-t.width,lu(e,t),n.west(),vc(),ou(e,{right:1}),"layout-w")}function vu(){return[fu,du,mu,gu,yc,bc,hu,pu]}function bu(){return[du,fu,gu,mu,yc,bc,hu,pu]}function yu(){return[mu,gu,fu,du,bc,yc]}function wu(){return[gu,mu,du,fu,bc,yc]}function xu(){return[fu,du,mu,gu,yc,bc]}function Cu(){return[du,fu,gu,mu,yc,bc]}function Su(e,t,n){return qi((function(r,o){n(r,e,t)}))}function ku(e,t,n,r,o,i){var a=Ne(e);e=nt(t,[Ze("config",Ne(e))]);return wc(a,e,t,n,r,o,i)}function Ou(e,t,n){var o,i,a,u,c,s;return o=function(o){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var u=[o].concat(i);return o.config({name:r(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(u,1);return t.apply(void 0,[o,e.config,e.state].concat(n))}))},i=n,u=(a=t).toString(),c=u.indexOf(")")+1,a=u.indexOf("("),s=u.substring(a+1,c-1).split(/,\s*/),o.toFunctionAnnotation=function(){return{name:i,parameters:va(s.slice(0,1).concat(s.slice(3)))}},o}function Tu(e){return{key:e,value:void 0}}function _u(e){return e=je("Creating behaviour: "+e.name,Cc,e),ku(e.fields,e.name,e.active,e.apis,e.extra,e.state)}function Eu(e){return e.dom.focus()}function Du(e){return void 0===e&&(e=Oo.fromDom(document)),W.from(e.dom.activeElement).map(Oo.fromDom)}function Au(e){return Du(ta(e)).filter((function(t){return e.dom.contains(t.dom)}))}function zu(e,n){var r=ta(n),o=Du(r).bind((function(e){function t(t){return pt(e,t)}var r,o;return t(n)?W.some(n):(r=t,(o=function(e){for(var t=0;t<e.childNodes.length;t++){var n=Oo.fromDom(e.childNodes[t]);if(r(n))return W.some(n);if(n=o(e.childNodes[t]),n.isSome())return n}return W.none()})(n.dom))}));e=e(n);return o.each((function(e){Du(r).filter((function(t){return pt(t,e)})).fold((function(){Eu(e)}),t)})),e}function Ru(e,t,n,r,o){return{position:e,left:t,top:n,right:r,bottom:o}}function Mu(e,t){function n(e){return e+"px"}Wn(e,{position:W.some(t.position),left:t.left.map(n),top:t.top.map(n),right:t.right.map(n),bottom:t.bottom.map(n)})}function Nu(e,t,n,r,o,i){var a=t.x-n,u=t.y-r,c=o-(a+t.width),s=i-(u+t.height),l=W.some(a),f=W.some(u),d=W.some(c),m=W.some(s),g=W.none();return n=t.direction,r=function(){return Ru(e,l,f,g,g)},o=function(){return Ru(e,g,f,d,g)},i=function(){return Ru(e,l,g,g,m)},a=function(){return Ru(e,g,g,d,m)},u=function(){return Ru(e,l,f,g,g)},c=function(){return Ru(e,l,g,g,m)},s=function(){return Ru(e,l,f,g,g)},t=function(){return Ru(e,g,f,d,g)},n.fold(r,o,i,a,u,c,s,t)}function Bu(e,t){var n=i(vr,t),r=e.fold(n,n,(function(){var e=mr();return vr(t).translate(-e.left,-e.top)}));e=lr(t),n=ar(t);return br(r.left,r.top,e,n)}function Pu(e,t,n,r){return r<(t=e+t)?n:t<n?r:t}function Hu(e,t,n){return Math.min(Math.max(e,t),n)}function Lu(e,t,n,o){var i,a=e.x,u=e.y,c=(v=e.bubble.offset).left,s=v.top,l=iu(o,e.boundsRestriction,v),f=l.y,d=l.bottom,m=l.x,g=l.right,h=(i=a+c,h=y=u+s,b=t,p=n,v=(o=l).x,u=o.y,s=o.width,a=o.height,c=u<=h,n=(t=v<=i)&&c,l=i+b<=v+s&&h+p<=u+a,v=Math.abs(Math.min(b,t?v+s-i:v-(i+b))),u=Math.abs(Math.min(p,c?u+a-h:u-(h+p))),b=Math.max(o.x,o.right-b),p=Math.max(o.y,o.bottom-p),b={originInBounds:n,sizeInBounds:l,limitX:Hu(i,o.x,b),limitY:Hu(h,o.y,p),deltaW:v,deltaH:u}).originInBounds,p=(o=b.sizeInBounds,b.limitX),v=b.limitY,b=(u=b.deltaW,b.deltaH),y=(f=r(v+b-f),d=r(d-v),d=e.direction.fold(d,d,f,f,d,f,d,d),m=r(p+u-m),g=r(g-p),{x:p,y:v,width:u,height:b,maxHeight:d,maxWidth:e.direction.fold(g,m,g,m,g,g,g,m),direction:e.direction,classes:{on:e.bubble.classesOn,off:e.bubble.classesOff},label:e.label,candidateYforTest:y});return h&&o?Ac.fit(y):Ac.nofit(y,u,b)}function Iu(e,t,n,r,a){function u(e,o,i,u){return e=e(t,n,r),Lu(e,c,s,a).fold(Ac.fit,(function(e,t,n){return u<n||i<t?Ac.nofit(e,t,n):Ac.nofit(o,i,u)}))}var c=n.width,s=n.height;return D(e,(function(e,t){return t=i(u,t),e.fold(Ac.fit,t)}),Ac.nofit({x:t.x,y:t.y,width:n.width,height:n.height,maxHeight:n.height,maxWidth:n.width,direction:lc(),classes:{on:[],off:[]},label:"none",candidateYforTest:t.y},-1,-1)).fold(o,o)}function Fu(e,t,n,r){return Xn(t,"max-height"),Xn(t,"max-width"),t={width:lr(t=t),height:ar(t)},Iu(r.preference,e,t,n,r.bounds)}function Vu(e,t,n){var r;Mu(e,(n=n.origin,r=t,n.fold((function(){return Ru("absolute",W.some(r.x),W.some(r.y),W.none(),W.none())}),(function(e,t,n,o){return Nu("absolute",r,e,t,n,o)}),(function(e,t,n,o){return Nu("fixed",r,e,t,n,o)}))))}function ju(e,t){!function(e,t){t=Ra.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]),jn(e,"max-height",t+"px")}(e,Math.floor(t))}function Uu(e,t,n){return void 0===e[t]?n:e[t]}function Wu(e,n,r,o,i,a){var u,c=Uu(a,"maxHeightFunction",zc()),s=Uu(a,"maxWidthFunction",t);a=e.anchorBox,e=e.origin,s={bounds:(u=e,i.fold((function(){return u.fold(xr,xr,br)}),(function(e){return u.fold(e,e,(function(){var t=e(),n=_c(u,t.x,t.y);return br(n.left,n.top,t.width,t.height)}))}))),origin:e,preference:o,maxHeightFunction:c,maxWidthFunction:s};Mc(a,n,r,s)}function qu(e,t,n){function r(e){return ye(n,e).getOr([])}function o(e,t,n){var o=P(Nc,n);return{offset:Na(e,t),classesOn:M(n,r),classesOff:M(o,r)}}return{southeast:function(){return o(-e,t,["top","alignLeft"])},southwest:function(){return o(e,t,["top","alignRight"])},south:function(){return o(-e/2,t,["top","alignCentre"])},northeast:function(){return o(-e,-t,["bottom","alignLeft"])},northwest:function(){return o(e,-t,["bottom","alignRight"])},north:function(){return o(-e/2,-t,["bottom","alignCentre"])},east:function(){return o(e,-t/2,["valignCentre","left"])},west:function(){return o(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return o(-e,t,["top","alignRight"])},innerNortheast:function(){return o(e,t,["top","alignLeft"])},innerNorth:function(){return o(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return o(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return o(e,-t,["bottom","alignLeft"])},innerSouth:function(){return o(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return o(e,-t/2,["valignCentre","right"])},innerEast:function(){return o(-e,-t/2,["valignCentre","left"])}}}function $u(){return qu(0,0,{})}function Gu(e,t){return function(n){return"rtl"===Bc(n)?t:e}}(tf=Ka=Ka||{})[tf.STOP=0]="STOP",tf[tf.NORMAL=1]="NORMAL",tf[tf.LOGGING=2]="LOGGING";var Xu,Ku=st({}),Yu=["alloy/data/Fields","alloy/debugging/Debugging"],Ju=r({logEventCut:t,logEventStopped:t,logNoParent:t,logEventNoHandlers:t,logEventResponse:t,write:t}),Qu=r([qe("menu"),qe("selectedMenu")]),Zu=r([qe("item"),qe("selectedItem")]),ec=(r(Jr(Zu().concat(Qu()))),r(Jr(Zu()))),tc=Ke("initSize",[qe("numColumns"),qe("numRows")]),nc=function(){return Ke("markers",[qe("backgroundMenu")].concat(Qu()).concat(Zu()))},rc=function(e){return Ke("markers",O(e,qe))},oc=function(e){return eu(0,e,Ce(t))},ic=function(e){return eu(0,e,Ce(W.none))},ac=function(e){return eu(0,e,Ur())},uc=function(e){return eu(0,e,Ur())},cc=r(tc),sc=Hr([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),lc=sc.southeast,fc=sc.southwest,dc=sc.northeast,mc=sc.northwest,gc=sc.south,hc=sc.north,pc=sc.east,vc=sc.west,bc=function(e,t,n){return ru(au(e,t),cu(e,t),n.north(),hc(),ou(e,{bottom:2}),"layout-n")},yc=function(e,t,n){return ru(au(e,t),su(e),n.south(),gc(),ou(e,{top:3}),"layout-s")},wc=(g=Object.freeze({__proto__:null,events:function(e){return ji([Rt(yi(),(function(t,n){var r,o=e.channels,i=Mr(o),a=n;i=i,i=(r=a).universal?i:_(i,(function(e){return re(r.channels,e)}));oe(i,(function(e){var n=o[e],r=n.schema;r=je("channel["+e+"] data\nReceiver: "+mn(t.element),r,a.data);n.onReceive(t,r)}))}))])}}),q=[$e("channels",ao(se.value,Ne([ac("onReceive"),rt("schema",so())])))],function(e,t,n,o,a,u,c){function s(e){return we(e,n)?e[n]():W.none()}a=ge(a,(function(e,t){return Ou(n,e,t)})),u=ge(u,vn);var l=f(f(f({},u),a),{revoke:i(Tu,n),config:function(t){var r=je(n+"-config",e,t);return{key:n,value:{config:r,me:l,configAsRaw:xe((function(){return je(n+"-config",e,t)})),initialConfig:t,state:c}}},schema:r(t),exhibit:function(e,t){return s(e).bind((function(e){return ye(o,"exhibit").map((function(n){return n(t,e.config,e.state)}))})).getOr(xn({}))},name:r(n),handlers:function(e){return s(e).map((function(e){return ye(o,"events").getOr((function(){return{}}))(e.config,e.state)})).getOr({})}});return l}),xc=Oe,Cc=Ne([qe("fields"),qe("name"),rt("active",{}),rt("apis",{}),rt("state",ya),rt("extra",{})]),Sc=Ne([qe("branchKey"),qe("branches"),qe("name"),rt("active",{}),rt("apis",{}),rt("state",ya),rt("extra",{})]),kc=($=function(e){var t,n,r,o,i,a=je("Creating behaviour: "+e.name,Sc,e);return t=Ue(a.branchKey,a.branches),n=a.name,r=a.active,o=a.apis,i=a.extra,e=a.state,t=nt(n,[Ze("config",a=t)]),wc(a,t,n,r,o,i,e)},r(void 0)),Oc=_u({fields:q,name:"receiving",active:g}),Tc=Object.freeze({__proto__:null,exhibit:function(e,t){return xn({classes:[],styles:t.useFixed()?{}:{position:"relative"}})}}),_c=(Ir=Hr([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),function(e,t,n){var o=Na(t,n);return e.fold(r(o),r(o),(function(){var e=mr();return o.translate(-e.left,-e.top)}))}),Ec=(Ir.none,Ir.relative),Dc=Ir.fixed,Ac=Hr([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),zc=r((function(e,t){ju(e,t),Un(e,{"overflow-x":"hidden","overflow-y":"auto"})})),Rc=r((function(e,t){ju(e,t)})),Mc=function(e,t,n,r){n=Fu(e,t,n,r),Vu(t,n,r),function(e,t){t=t.classes,Ln(e,t.off),Hn(e,t.on)}(t,n),(0,r.maxHeightFunction)(t,n.maxHeight),(0,r.maxWidthFunction)(t,n.maxWidth)},Nc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Bc=function(e){return"rtl"===qn(e,"direction")?"rtl":"ltr"};function Pc(e){return Ua(e,(function(e){return Xi(e)&&cn(e,"data-alloy-vertical-dir")===Xu.BottomToTop}))}function Hc(e,t,n,r,o,i,a){var u=a.map(Pc).getOr(!1),c=t.layouts.map((function(t){return t.onLtr(e)}));a=t.layouts.map((function(t){return t.onRtl(e)})),n=u?t.layouts.bind((function(t){return t.onBottomLtr.map((function(t){return t(e)}))})).or(c).getOr(o):c.getOr(n),r=u?t.layouts.bind((function(t){return t.onBottomRtl.map((function(t){return t(e)}))})).or(a).getOr(i):a.getOr(r);return Gu(n,r)(e)}function Lc(e){return e.fold(o,(function(e,t,n){return e.translate(-t,-n)}))}function Ic(e){return e.fold(o,o)}function Fc(e){return D(e,(function(e,t){return e.translate(t.left,t.top)}),Na(0,0))}function Vc(e){return e=O(e,Ic),Fc(e)}function jc(e,t,n){var r=Ft(e.element);r=mr(r),n=function(e,t){return t=Ut(t.root).dom,W.from(t.frameElement).map(Oo.fromDom).filter((function(t){var n=Ft(t);t=Ft(e.element);return pt(n,t)})).map(cr)}(e,n).getOr(r);return Al(n,r.left,r.top)}function Uc(e,t,n,r){var o=e,i=t,a=n,u=r;return e<0&&(o=0,a=n+e),t<0&&(i=0,u=r+t),i=Dl(Na(o,i)),W.some({point:i,width:a,height:u})}function Wc(e,t,n,r,o){return e.map((function(e){var i,a=[t,e.point],u=(i=function(){return Vc(a)},u=function(){return Vc(a)},c=function(){return function(e){return e=O(e,Lc),Fc(e)}(a)},r.fold(i,u,c)),c={x:u.left,y:u.top,width:e.width,height:e.height};u=(n.showAbove?yu:xu)(),e=(n.showAbove?wu:Cu)(),e=Hc(o,n,u,e,u,e,W.none());return{anchorBox:c,bubble:n.bubble.getOr($u()),overrides:n.overrides,layouts:e,placer:W.none()}}))}function qc(e,t,n){var r,o;e=e.document.createRange();return r=e,t.fold((function(e){r.setStartBefore(e.dom)}),(function(e,t){r.setStart(e.dom,t)}),(function(e){r.setStartAfter(e.dom)})),o=e,n.fold((function(e){o.setEndBefore(e.dom)}),(function(e,t){o.setEnd(e.dom,t)}),(function(e){o.setEndAfter(e.dom)})),e}function $c(e,t,n,r,o){return(e=e.document.createRange()).setStart(t.dom,n),e.setEnd(r.dom,o),e}function Gc(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}function Xc(e,t,n){return t(Oo.fromDom(n.startContainer),n.startOffset,Oo.fromDom(n.endContainer),n.endOffset)}function Kc(e,t){var n,o;n=e,t=t.match({domRange:function(e){return{ltr:r(e),rtl:W.none}},relative:function(e,t){return{ltr:xe((function(){return qc(n,e,t)})),rtl:xe((function(){return W.some(qc(n,t,e))}))}},exact:function(e,t,r,o){return{ltr:xe((function(){return $c(n,e,t,r,o)})),rtl:xe((function(){return W.some($c(n,r,o,e,t))}))}}});return(o=(t=t).ltr()).collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return Bl.rtl(Oo.fromDom(e.endContainer),e.endOffset,Oo.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Xc(0,Bl.ltr,o)})):Xc(0,Bl.ltr,o)}function Yc(e){return Pl.getOption(e)}function Jc(e){return Yc(e).filter((function(e){return 0!==e.trim().length||-1<e.indexOf("")})).isSome()||re(Hl,It(e))}function Qc(e,t){return function(e,t){return t=void 0===t?document:t.dom,ht(t)?[]:O(t.querySelectorAll(e),Oo.fromDom)}(t,e)}function Zc(e,t,n,r){var o,i,a,u,c=(i=t,a=n,u=r,(c=Ft(o=e).dom.createRange()).setStart(o.dom,i),c.setEnd(a.dom,u),c);r=pt(e,n)&&t===r;return c.collapsed&&!r}function es(e){if(0<e.rangeCount){var t=e.getRangeAt(0);e=e.getRangeAt(e.rangeCount-1);return W.some(zl(Oo.fromDom(t.startContainer),t.startOffset,Oo.fromDom(e.endContainer),e.endOffset))}return W.none()}function ts(e){if(null===e.anchorNode||null===e.focusNode)return es(e);var t=Oo.fromDom(e.anchorNode),n=Oo.fromDom(e.focusNode);return Zc(t,e.anchorOffset,n,e.focusOffset)?W.some(zl(t,e.anchorOffset,n,e.focusOffset)):es(e)}function ns(e){return W.from(e.getSelection()).filter((function(e){return 0<e.rangeCount})).bind(ts)}function rs(e,t){var n;e=Kc(n=e,t).match({ltr:function(e,t,r,o){var i=n.document.createRange();return i.setStart(e.dom,t),i.setEnd(r.dom,o),i},rtl:function(e,t,r,o){var i=n.document.createRange();return i.setStart(r.dom,o),i.setEnd(e.dom,t),i}});return 0<(t=0<(e=(t=e).getClientRects()).length?e[0]:t.getBoundingClientRect()).width||0<t.height?W.some(t).map(Gc):W.none()}function os(e,t){return{element:e,offset:t}}function is(e,t){var n=$t(e);return 0===n.length?os(e,t):t<n.length?os(n[t],0):(t=n[n.length-1],n=Ki(t)?Pl.get(t).length:$t(t).length,os(t,n))}function as(e,t){return(Ki(e)?os:is)(e,t)}function us(e,t){return t.getSelection.getOrThunk((function(){return function(){return ns(e)}}))().map((function(e){var t=as(e.start,e.soffset);e=as(e.finish,e.foffset);return Nl.range(t.element,t.offset,e.element,e.offset)}))}function cs(e){return e.x+e.width}function ss(e,t){return e.x-t.width}function ls(e,t){return e.y-t.height+e.height}function fs(e,t,n){return ru(cs(e),e.y,n.southeast(),lc(),ou(e,{left:0,top:2}),"link-layout-se")}function ds(e,t,n){return ru(ss(e,t),e.y,n.southwest(),fc(),ou(e,{right:1,top:2}),"link-layout-sw")}function ms(e,t,n){return ru(cs(e),ls(e,t),n.northeast(),dc(),ou(e,{left:0,bottom:3}),"link-layout-ne")}function gs(e,t,n){return ru(ss(e,t),ls(e,t),n.northwest(),mc(),ou(e,{right:1,bottom:3}),"link-layout-nw")}function hs(){return[fs,ds,ms,gs]}function ps(){return[ds,fs,gs,ms]}function vs(e,t,n,r,o){t={anchorBox:n.anchorBox,origin:t},Wu(t,o.element,n.bubble,n.layouts,r,n.overrides)}function bs(e,t){oa(e.element,t.element)}function ys(e,t){var n,r=e.components();oe((n=e).components(),(function(e){return ia(e.element)})),tn(n.element),n.syncComponents(),r=P(r,t),oe(r,(function(t){Ul(t),e.getSystem().removeFromWorld(t)})),oe(t,(function(t){t.getSystem().isConnected()?bs(e,t):(e.getSystem().addToWorld(t),bs(e,t),Sa(e.element)&&Wl(t)),e.syncComponents()}))}function ws(e,t){ql(e,t,oa)}function xs(e){Ul(e),ia(e.element),e.getSystem().removeFromWorld(e)}function Cs(e){var t=Wt(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}));xs(e),t.each((function(e){e.syncComponents()}))}function Ss(e){var t=e.components();oe(t,xs),tn(e.element),e.syncComponents()}function ks(e,t){$l(e,t,oa)}function Os(e){var t=$t(e.element);oe(t,(function(t){e.getByDom(t).each(Ul)})),ia(e.element)}function Ts(e,t,n,r){return n.get().each((function(t){Ss(e)})),t=t.getAttachPoint(e),ws(t,e),r=e.getSystem().build(r),ws(e,r),n.set(r),r}function _s(e,t,n,r){return r=Ts(e,t,n,r),t.onOpen(e,r),r}function Es(e,t,n){n.get().each((function(r){Ss(e),Cs(e),t.onClose(e,r),n.clear()}))}function Ds(e,t,n){return n.isOpen()}function As(e){var t=je("Dismissal",Zl,e);return(e={})[Yl()]={schema:Ne([qe("target")]),onReceive:function(e,n){Kl.isOpen(e)&&(Kl.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold((function(){return Kl.close(e)}),(function(t){return Ot(e,t.event)})))}},e}function zs(e){var t=je("Reposition",ef,e);return(e={})[Jl()]={onReceive:function(e){Kl.isOpen(e)&&t.fireEventInstead.fold((function(){return t.doReposition(e)}),(function(t){return Ot(e,t.event)}))}},e}function Rs(e,t,n){t.store.manager.onLoad(e,t,n)}function Ms(e,t,n){t.store.manager.onUnload(e,t,n)}function Ns(e,t,n,r){var o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)}function Bs(e){return e.dump}function Ps(e,t){return f(f({},e.dump),xc(t))}function Hs(e){return Pr(e,"uiType")}function Ls(e,t,n,o){return Hs(n)&&n.uiType===af?(a=n,u=o,(i=e).exists((function(e){return e!==a.owner}))?uf.single(!0,r(a)):ye(u,a.name).fold((function(){throw new Error("Unknown placeholder component: "+a.name+"\nKnown: ["+Mr(u)+"]\nNamespace: "+i.getOr("none")+"\nSpec: "+JSON.stringify(a,null,2))}),(function(e){return e.replace()}))):uf.single(!1,r(n));var i,a,u}function Is(e,t,n,o){var i,a,u;o=ge(o,(function(e,t){return o=e,i=!1,{name:r(n=t),required:function(){return o.fold((function(e,t){return e}),(function(e,t){return e}))},used:function(){return i},replace:function(){if(i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,o}};var n,o,i})),i=e,a=t,u=o,n=M(n,(function(e){return cf(i,a,e,u)}));return me(o,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),n}function Fs(e){return e.fold(W.some,W.none,W.some,W.some)}function Vs(e){function t(e){return e.name}return e.fold(t,t,t,t)}function js(e,t,n,r){return Fr(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))}function Us(e,t){var n={};return oe(t,(function(t){Fs(t).each((function(t){var r=hf(e,t.pname);n[t.name]=function(n){var o=je("Part: "+t.name+" in "+e,Jr(t.schema),n);return f(f({},r),{config:n,validated:o})}}))})),n}function Ws(e,t,n){return{uiType:ff(),owner:e,name:t,config:n,validated:{}}}function qs(e){return M(e,(function(e){return e.fold(W.none,W.some,W.none,W.none).map((function(e){return Ke(e.name,e.schema.concat([nu(gf())]))})).toArray()}))}function $s(e){return O(e,Vs)}function Gs(e,t,n){return o=t,i={},a={},oe(n,(function(e){e.fold((function(e){i[e.pname]=sf(!0,(function(t,n,r){return e.factory.sketch(js(t,e,n,r))}))}),(function(e){var t=o.parts[e.name];a[e.name]=r(e.factory.sketch(js(o,e,t[gf()]),t))}),(function(e){i[e.pname]=sf(!1,(function(t,n,r){return e.factory.sketch(js(t,e,n,r))}))}),(function(e){i[e.pname]=lf(!0,(function(t,n,r){var o=t[e.name];return O(o,(function(n){return e.factory.sketch(Fr(e.defaults(t,n,r),n,e.overrides(t,n)))}))}))}))})),{internals:r(i),externals:r(a)};var o,i,a}function Xs(e,t,n){return Is(W.some(e),t,t.components,n)}function Ks(e,t,n){return n=t.partUids[n],e.getSystem().getByUid(n).toOptional()}function Ys(e,t,n){return Ks(e,t,n).getOrDie("Could not find part: "+n)}function Js(e,t,n){var o={},i=t.partUids,a=e.getSystem();return oe(n,(function(e){o[e]=r(a.getByUid(i[e]))})),o}function Qs(e,t){var n=e.getSystem();return ge(t.partUids,(function(e,t){return r(n.getByUid(e))}))}function Zs(e){return Mr(e.partUids)}function el(e,t,n){var o={},i=t.partUids,a=e.getSystem();return oe(n,(function(e){o[e]=r(a.getByUid(i[e]).getOrDie())})),o}function tl(e,t){return t=$s(t),Oe(O(t,(function(t){return{key:t,value:e+"-"+t}})))}function nl(e){return no("partUids","partUids",$r((function(t){return tl(t.uid,e)})),so())}function rl(e,t,n,r,o){return o=o,o=(0<(r=r).length?[Ke("parts",r)]:[]).concat([qe("uid"),rt("dom",{}),rt("components",[]),nu("originalSpec"),rt("debug.sketcher",{})]).concat(o),je(e+" [SpecSchema]",Ne(o.concat(t)),n)}function ol(e,t,n,r,o){var i=pf(o),a=qs(n);o=nl(n),o=rl(e,t,i,a,[o]),n=Gs(0,o,n);return r(o,Xs(e,o,n.internals()),i,n.externals())}function il(e){var t=je("Sketcher for "+e.name,vf,e),n=ge(t.apis,yn);e=ge(t.extraApis,vn);return f(f({name:t.name,configFields:t.configFields,sketch:function(e){return function(e,t,n,r){return r=pf(r),n(rl(e,t,r,[],[]),r)}(t.name,t.configFields,t.factory,e)}},n),e)}function al(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}function ul(e,t){return e?W.some(t):W.none()}function cl(e){return"input"===It(e)&&"radio"!==cn(e,"type")||"textarea"===It(e)}function sl(e,t,n,r){var o=Qc(e.element,"."+t.highlightClass);oe(o,(function(n){C(r,(function(e){return e.element===n}))||(Bn(n,t.highlightClass),e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n),Ot(n,Fi())})))}))}function ll(e,t,n,r){sl(e,t,0,[r]),wf(e,t,n,r)||(Mn(r.element,t.highlightClass),t.onHighlight(e,r),Ot(r,Ii()))}function fl(e,t,n,r){var o=Qc(e.element,"."+t.itemClass);return z(o,(function(e){return Pn(e,t.highlightClass)})).bind((function(t){return t=Pu(t,r,0,o.length-1),e.getSystem().getByDom(o[t]).toOptional()}))}function dl(e,t,n){var r=B(e.slice(0,t));t=B(e.slice(t+1));return A(r.concat(t),n)}function ml(e,t,n){return t=B(e.slice(0,t)),A(t,n)}function gl(e,t,n){var r=e.slice(0,t);t=e.slice(t+1);return A(t.concat(r),n)}function hl(e,t,n){return t=e.slice(t+1),A(t,n)}function pl(e){return function(t){return t=t.raw,re(e,t.which)}}function vl(e){return function(t){return N(e,(function(e){return e(t)}))}}function bl(e){return!0===e.raw.shiftKey}function yl(e){return!0===e.raw.ctrlKey}function wl(e,t){return{matches:e,classification:t}}function xl(e,t,n){t.exists((function(e){return n.exists((function(t){return pt(t,e)}))}))||Tt(e,Bi(),{prevFocus:t,newFocus:n})}function Cl(){function e(e){return Au(e.element)}return{get:e,set:function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element),n=e(t),xl(t,r,n)}}}function Sl(){function e(e){return Of.getHighlighted(e).map((function(e){return e.element}))}return{get:e,set:function(n,r){var o=e(n);n.getSystem().getByDom(r).fold(t,(function(e){Of.highlight(n,e)})),r=e(n),xl(n,o,r)}}}(lo=Xu=Xu||{}).TopToBottom="toptobottom",lo.BottomToTop="bottomtotop";var kl,Ol,Tl,_l,El="data-alloy-vertical-dir",Dl=(Ro=function(){return nt("layouts",[qe("onLtr"),qe("onRtl"),Qe("onBottomLtr"),Qe("onBottomRtl")])},Mo=[qe("hotspot"),Qe("bubble"),rt("overrides",{}),Ro(),tu("placement",(function(e,t,n){var r=t.hotspot;r=Bu(n,r.element),e=Hc(e.element,t,xu(),Cu(),yu(),wu(),W.some(t.hotspot.element));return W.some({anchorBox:r,bubble:t.bubble.getOr($u()),overrides:t.overrides,layouts:e,placer:W.none()})}))],No=[qe("x"),qe("y"),rt("height",0),rt("width",0),rt("bubble",$u()),rt("overrides",{}),Ro(),tu("placement",(function(e,t,n){return n=_c(n,t.x,t.y),n=br(n.left,n.top,t.width,t.height),e=Hc(e.element,t,vu(),bu(),vu(),bu(),W.none()),W.some({anchorBox:n,bubble:t.bubble,overrides:t.overrides,layouts:e,placer:W.none()})}))],Bo=Hr([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Bo.screen),Al=Bo.absolute,zl=(Ko=[qe("node"),qe("root"),Qe("bubble"),Ro(),rt("overrides",{}),rt("showAbove",!1),tu("placement",(function(e,t,n){var r=jc(e,0,t);return t.node.filter(Sa).bind((function(o){var i=o.dom.getBoundingClientRect();o=Uc(i.left,i.top,i.width,i.height),i=t.node.getOr(e.element);return Wc(o,r,t,n,i)}))}))],function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}}),Rl=(hi=Hr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),hi.before,hi.on,hi.after,function(e){return e.fold(o,o,o)}),Ml=Hr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Nl={domRange:Ml.domRange,relative:Ml.relative,exact:Ml.exact,exactFromRange:function(e){return Ml.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){return e=e.match({domRange:function(e){return Oo.fromDom(e.startContainer)},relative:function(e,t){return Rl(e)},exact:function(e,t,n,r){return e}}),Ut(e)},range:zl},Bl=Hr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Pl=(Bl.ltr,Bl.rtl,kl=Ki,Ol="text",{get:function(e){if(!kl(e))throw new Error("Can only get "+Ol+" value of a "+Ol+" node");return Tl(e).getOr("")},getOption:Tl=function(e){return kl(e)?W.from(e.dom.nodeValue):W.none()},set:function(e,t){if(!kl(e))throw new Error("Can only set raw "+Ol+" value of a "+Ol+" node");e.dom.nodeValue=t}}),Hl=["img","br"],Ll=function(e,t){var n=function(e){for(var r=$t(e),o=r.length-1;0<=o;o--){var i=r[o];if(t(i))return W.some(i);if(i=n(i),i.isSome())return i}return W.none()};return n(e)},Il=(gi=[Qe("getSelection"),qe("root"),Qe("bubble"),Ro(),rt("overrides",{}),rt("showAbove",!1),tu("placement",(function(e,t,n){var r=Ut(t.root).dom,o=jc(e,0,t),i=us(r,t).bind((function(e){return rs(r,Nl.exactFromRange(e)).orThunk((function(){var t=Oo.fromText("\ufeff");return Jt(e.start,t),rs(r,Nl.exact(t,0,t,1)).map((function(e){return ia(t),e}))})).bind((function(e){return Uc(e.left,e.top,e.width,e.height)}))}));e=us(r,t).bind((function(e){return Xi(e.start)?W.some(e.start):Qi(e.start)})).getOr(e.element);return Wc(i,o,t,n,e)}))],Gi=[qe("item"),Ro(),rt("overrides",{}),tu("placement",(function(e,t,n){return n=Bu(n,t.item.element),e=Hc(e.element,t,hs(),ps(),hs(),ps(),W.none()),W.some({anchorBox:n,bubble:$u(),overrides:t.overrides,layouts:e,placer:W.none()})}))],Ue("anchor",{selection:gi,node:Ko,hotspot:Mo,submenu:Gi,makeshift:No})),Fl=function(e,t,n,r,o,i){return i=i.map(yr),Vl(e,t,n,r,o,i)},Vl=function(e,t,n,o,i,a){var u=je("positioning anchor.info",Il,o);zu((function(){jn(i.element,"position","fixed");var n=$n(i.element,"visibility");jn(i.element,"visibility","hidden");var o,c=t.useFixed()?(o=document.documentElement,Dc(0,0,o.clientWidth,o.clientHeight)):(o=cr((s=e).element),s=s.element.dom.getBoundingClientRect(),Ec(o.left,o.top,s.width,s.height)),s=u.placement,l=a.map(r).or(t.getBounds);s(e,u,c).each((function(t){t.placer.getOr(vs)(e,c,t,l,i)})),n.fold((function(){Xn(i.element,"visibility")}),(function(e){jn(i.element,"visibility",e)})),$n(i.element,"left").isNone()&&$n(i.element,"top").isNone()&&$n(i.element,"right").isNone()&&$n(i.element,"bottom").isNone()&&$n(i.element,"position").is("fixed")&&Xn(i.element,"position")}),i.element)},jl=(Zi=Object.freeze({__proto__:null,position:function(e,t,n,r,o){Fl(e,t,n,r,o,W.none())},positionWithin:Fl,positionWithinBounds:Vl,getMode:function(e,t,n){return t.useFixed()?"fixed":"absolute"}}),aa=[rt("useFixed",c),Qe("getBounds")],_u({fields:aa,name:"positioning",active:Tc,apis:Zi})),Ul=function(e){Ot(e,Ri()),e=e.components(),oe(e,Ul)},Wl=function(e){var t=e.components();oe(t,Wl),Ot(e,zi())},ql=function(e,t,n){e.getSystem().addToWorld(t),n(e.element,t.element),Sa(e.element)&&Wl(t),e.syncComponents()},$l=function(e,t,n){n(e,t.element),e=$t(t.element),oe(e,(function(e){t.getByDom(e).each(Wl)}))},Gl=function(e,t,n){var r,o,i=t.getAttachPoint(e);jn(e.element,"position",jl.getMode(i)),r=e,e="visibility",o=t.cloakVisibilityAttr,t="hidden",$n(r.element,e).fold((function(){fn(r.element,o)}),(function(e){un(r.element,o,e)})),jn(r.element,e,t)},Xl=function(e,t,n){var r,o,i;r=e.element,C(["top","left","right","bottom"],(function(e){return $n(r,e).isSome()}))||Xn(e.element,"position"),o=e,i="visibility",t=t.cloakVisibilityAttr,sn(o.element,t).fold((function(){return Xn(o.element,i)}),(function(e){return jn(o.element,i,e)}))},Kl=(sa=Object.freeze({__proto__:null,cloak:Gl,decloak:Xl,open:_s,openWhileCloaked:function(e,t,n,r,o){Gl(e,t),_s(e,t,n,r),o(),Xl(e,t)},close:Es,isOpen:Ds,isPartOf:function(e,t,n,r){return Ds(0,0,n)&&n.get().exists((function(n){return t.isPartOf(e,n,r)}))},getState:function(e,t,n){return n.get()},setContent:function(e,t,n,r){return n.get().map((function(){return Ts(e,t,n,r)}))}}),la=Object.freeze({__proto__:null,events:function(e,t){return ji([Rt(ki(),(function(n,r){Es(n,e,t)}))])}}),za=[oc("onOpen"),oc("onClose"),qe("isPartOf"),qe("getAttachPoint"),rt("cloakVisibilityAttr","data-precloak-visibility")],_u({fields:za,name:"sandboxing",active:la,apis:sa,state:Object.freeze({__proto__:null,init:function(){var e=st(W.none()),t=r("not-implemented");return wa({readState:t,isOpen:function(){return e.get().isSome()},clear:function(){e.set(W.none())},set:function(t){e.set(W.some(t))},get:function(){return e.get()}})}})})),Yl=r("dismiss.popups"),Jl=r("reposition.popups"),Ql=r("mouse.released"),Zl=Ne([rt("isExtraPart",c),nt("fireEventInstead",[rt("event",Mi())])]),ef=Ne([nt("fireEventInstead",[rt("event",Ni())]),bo("doReposition")]),tf=Object.freeze({__proto__:null,onLoad:Rs,onUnload:Ms,setValue:function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},getValue:function(e,t,n){return t.store.manager.getValue(e,t,n)},getState:function(e,t,n){return n}}),nf=(tc=Object.freeze({__proto__:null,events:function(e,t){var n=e.resetOnDom?[Ui((function(n,r){Rs(n,e,t)})),Wi((function(n,r){Ms(n,e,t)}))]:[Su(e,t,Rs)];return ji(n)}}),sc=function(){var e=st(null);return wa({set:e.set,get:e.get,isNotSet:function(){return null===e.get()},clear:function(){e.set(null)},readState:function(){return{mode:"memory",value:e.get()}}})},q=function(){var e=st({}),t=st({});return wa({readState:function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},lookup:function(n){return ye(e.get(),n).orThunk((function(){return ye(t.get(),n)}))},update:function(n){var r=e.get(),o=t.get(),i={},a={};oe(n,(function(e){i[e.value]=e,ye(e,"meta").each((function(t){ye(t,"text").each((function(t){a[t]=e}))}))})),e.set(f(f({},r),i)),t.set(f(f({},o),a))},clear:function(){e.set({}),t.set({})}})},g=Object.freeze({__proto__:null,memory:sc,dataset:q,manual:function(){return wa({readState:t})},init:function(e){return e.store.manager.state(e)}}),Ir=[Qe("initialValue"),qe("getFallbackEntry"),qe("getDataKey"),qe("setValue"),tu("manager",{setValue:Ns,getValue:function(e,t,n){var r=t.store,o=r.getDataKey(e);return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(e){return e}))},onLoad:function(e,t,n){t.store.initialValue.each((function(r){Ns(e,t,n,r)}))},onUnload:function(e,t,n){n.clear()},state:q})],lo=[qe("getValue"),rt("setValue",t),Qe("initialValue"),tu("manager",{setValue:function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},getValue:function(e,t,n){return t.store.getValue(e)},onLoad:function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))},onUnload:t,state:ya.init})],Bo=[Qe("initialValue"),tu("manager",{setValue:function(e,t,n,r){n.set(r),t.onSetValue(e,r)},getValue:function(e,t,n){return n.get()},onLoad:function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))},onUnload:function(e,t,n){n.clear()},state:sc})],hi=[ot("store",{mode:"memory"},Ue("mode",{memory:Bo,manual:lo,dataset:Ir})),oc("onSetValue"),rt("resetOnDom",!1)],_u({fields:hi,name:"representing",active:tc,apis:tf,extra:{setValueFrom:function(e,t){t=nf.getValue(t),nf.setValue(e,t)}},state:g})),rf=(gi=function(e,t){return ut(e,{},O(t,(function(t){return n=t.name(),r="Cannot configure "+t.name()+" for "+e,no(n,n,Wr(),Me((function(e){return Er("The field: "+n+" is forbidden. "+r)})));var n,r})).concat([ct("dump",o)]))},gi),of=Ps,af="placeholder",uf=Hr([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),cf=function(e,t,n,r){return Ls(e,0,n,r).fold((function(o,i){var a=Hs(n)?i(t,n.config,n.validated):i(t);i=ye(a,"components").getOr([]),i=M(i,(function(n){return cf(e,t,n,r)}));return[f(f({},a),{components:i})]}),(function(e,r){if(Hs(n)){var i=r(t,n.config,n.validated);return n.validated.preprocess.getOr(o)(i)}return r(t)}))},sf=uf.single,lf=uf.multiple,ff=r(af),df=(Ko=Hr([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Mo=rt("factory",{sketch:o}),Gi=rt("schema",[]),No=qe("name"),aa=no("pname","pname",qr((function(e){return"<alloy."+gn(e.name)+">"})),so()),Tc=to("schema",(function(){return[Qe("preprocess")]})),Zi=rt("defaults",r({})),za=rt("overrides",r({})),la=Jr([Mo,Gi,No,aa,Zi,za]),sa=Jr([Mo,Gi,No,Zi,za]),q=Jr([Mo,Gi,No,aa,Zi,za]),sc=Jr([Mo,Tc,No,qe("unit"),aa,Zi,za]),Bo=function(e,t){return function(n){return n=je("Converting part type",t,n),e(n)}},Bo(Ko.required,la)),mf=(lo=Bo(Ko.external,sa),Bo(Ko.optional,q)),gf=(Ir=Bo(Ko.group,sc),r("entirety")),hf=(hi=Object.freeze({__proto__:null,required:df,external:lo,optional:mf,group:Ir,asNamedPart:Fs,name:Vs,asCommon:function(e){return e.fold(o,o,o,o)},original:gf}),function(e,t){return{uiType:ff(),owner:e,name:t}}),pf=(tc=Object.freeze({__proto__:null,generate:Us,generateOne:Ws,schemas:qs,names:$s,substitutes:Gs,components:Xs,defaultUids:tl,defaultUidsSchema:nl,getAllParts:Qs,getAllPartNames:Zs,getPart:Ks,getPartOrDie:Ys,getParts:Js,getPartsOrDie:el}),function(e){return Pr(e,"uid")?e:f(f({},e),{uid:ga("uid")})}),vf=Ne([qe("name"),qe("factory"),qe("configFields"),rt("apis",{}),rt("extraApis",{})]),bf=Ne([qe("name"),qe("factory"),qe("configFields"),qe("partFields"),rt("apis",{}),rt("extraApis",{})]),yf=(tf=function(e){var t=je("Sketcher for "+e.name,bf,e),n=Us(t.name,t.partFields),r=ge(t.apis,yn);e=ge(t.extraApis,vn);return f(f({name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:function(e){return ol(t.name,t.configFields,t.partFields,t.factory,e)},parts:n},r),e)},g=Object.freeze({__proto__:null,getCurrent:function(e,t,n){return t.find(e)}}),Gi=[qe("find")],_u({fields:Gi,name:"composing",apis:g})),wf=function(e,t,n,r){return Pn(r.element,t.highlightClass)},xf=function(e,t,n,r){return t=Qc(e.element,"."+t.itemClass),W.from(t[r]).fold((function(){return se.error(new Error("No element found with index "+r))}),e.getSystem().getByDom)},Cf=function(e,t,n){return qa(e.element,"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},Sf=function(e,t,n){return t=Qc(e.element,"."+t.itemClass),(0<t.length?W.some(t[t.length-1]):W.none()).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},kf=function(e,t,n){return t=Qc(e.element,"."+t.itemClass),al(O(t,(function(t){return e.getSystem().getByDom(t).toOptional()})))},Of=(Mo=Object.freeze({__proto__:null,dehighlightAll:function(e,t,n){return sl(e,t,0,[])},dehighlight:function(e,t,n,r){wf(e,t,n,r)&&(Bn(r.element,t.highlightClass),t.onDehighlight(e,r),Ot(r,Fi()))},highlight:ll,highlightFirst:function(e,t,n){Cf(e,t).each((function(r){ll(e,t,n,r)}))},highlightLast:function(e,t,n){Sf(e,t).each((function(r){ll(e,t,n,r)}))},highlightAt:function(e,t,n,r){xf(e,t,n,r).fold((function(e){throw e}),(function(r){ll(e,t,n,r)}))},highlightBy:function(e,t,n,r){var o=kf(e,t);A(o,r).each((function(r){ll(e,t,n,r)}))},isHighlighted:wf,getHighlighted:function(e,t,n){return qa(e.element,"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},getFirst:Cf,getLast:Sf,getPrevious:function(e,t,n){return fl(e,t,0,-1)},getNext:function(e,t,n){return fl(e,t,0,1)},getCandidates:kf}),Tc=[qe("highlightClass"),qe("itemClass"),oc("onHighlight"),oc("onDehighlight")],_u({fields:Tc,name:"highlighting",apis:Mo})),Tf=[8],_f=[9],Ef=[13],Df=[27],Af=[32],zf=[37],Rf=[38],Mf=[39],Nf=[40],Bf=a(bl);function Pf(e,t,n,r,o){function i(e,t,n,r,o){var i;n=n(e,t,r,o);return i=t.event,A(n,(function(e){return e.matches(i)})).map((function(e){return e.classification})).bind((function(n){return n(e,t,r,o)}))}var a={schema:function(){return e.concat([rt("focusManager",Cl()),ot("focusInside","onFocus",Ie((function(e){return re(["onFocus","onEnterOrSpace","onApi"],e)?se.value(e):se.error("Invalid value for focusInside")}))),tu("handler",a),tu("state",t),tu("sendFocusIn",o)])},processKey:i,toEvents:function(e,t){var a=e.focusInside!==_l.OnFocusMode?W.none():o(e).map((function(n){return Rt(pi(),(function(r,o){n(r,e,t),o.stop()}))})),u=[Rt(ui(),(function(r,a){i(r,a,n,e,t).fold((function(){var n,i,u;n=r,i=a,u=pl(Af.concat(Ef))(i.event),e.focusInside===_l.OnEnterOrSpaceMode&&u&&Ct(n,i)&&o(e).each((function(r){r(n,e,t),i.stop()}))}),(function(e){a.stop()}))})),Rt(ci(),(function(n,o){i(n,o,r,e,t).each((function(e){o.stop()}))}))];return ji(a.toArray().concat(u))}};return a}function Hf(e,t){return W.some(!0)}function Lf(e,t,n){return n.execute(e,t,e.element)}function If(e){return function(t,n,r,o){var i=e(t.element);return Id(i,t,n,r,o)}}function Ff(e,t){return t=Gu(e,t),If(t)}function Vf(e,t){return e=Gu(t,e),If(e)}function jf(e){return!((e=e.dom).offsetWidth<=0&&e.offsetHeight<=0)}function Uf(e,t,n){var r;n=Qc(e,n),n=_(n,jf);return z(r=n,(function(e){return pt(e,t)})).map((function(e){return{index:e,candidates:r}}))}function Wf(e,t){return z(e,(function(e){return pt(t,e)}))}function qf(e,t,n,r){return r(Math.floor(t/n),t%n).bind((function(t){return t=t.row*n+t.column,0<=t&&t<e.length?W.some(e[t]):W.none()}))}function $f(e,t,n,r,o){return qf(e,t,r,(function(t,i){var a=t===n-1?e.length-t*r:r;a=Pu(i,o,0,a-1);return W.some({row:t,column:a})}))}function Gf(e,t,n,r,o){return qf(e,t,r,(function(t,i){var a=Pu(t,o,0,n-1);t=a===n-1?e.length-a*r:r,t=Hu(i,0,t-1);return W.some({row:a,column:t})}))}function Xf(e,t,n){qa(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))}function Kf(e,t,n,r){var o=function(e,t,n){var i=Pu(t,r,0,n.length-1);return i===e?W.none():(t=n[i],"button"===It(t)&&"disabled"===cn(t,"disabled")?o(e,i,n):W.from(n[i]))};return Uf(e,n,t).bind((function(e){var t=e.index;e=e.candidates;return o(t,t,e)}))}function Yf(e,t,n){return(r=n).focusManager.get(e).bind((function(e){return $a(e,r.selector)})).bind((function(r){return n.execute(e,t,r)}));var r}function Jf(e,t,n){t.getInitial(e).orThunk((function(){return qa(e.element,t.selector)})).each((function(n){t.focusManager.set(e,n)}))}function Qf(e,t,n){return Kf(e,n.selector,t,-1)}function Zf(e,t,n){return Kf(e,n.selector,t,1)}function ed(e){return function(t,n,r,o){return e(t,n,r,o).bind((function(){return r.executeOnMove?Yf(t,n,r):W.some(!0)}))}}function td(e,t,n){return n.onEscape(e,t)}function nd(e,t,n){return W.from(e[t]).bind((function(e){return W.from(e[n]).map((function(e){return{rowIndex:t,columnIndex:n,cell:e}}))}))}function rd(e,t,n,r){var o=e[t].length;o=Pu(n,r,0,o-1);return nd(e,t,o)}function od(e,t,n,r){return n=Pu(n,r,0,e.length-1),r=e[n].length,r=Hu(t,0,r-1),nd(e,n,r)}function id(e,t,n,r){var o=e[t].length;o=Hu(n+r,0,o-1);return nd(e,t,o)}function ad(e,t,n,r){return n=Hu(n+r,0,e.length-1),r=e[n].length,r=Hu(t,0,r-1),nd(e,n,r)}function ud(e,t,n){t.previousSelector(e).orThunk((function(){var n=t.selectors;return qa(e.element,n.cell)})).each((function(n){t.focusManager.set(e,n)}))}function cd(e,t,n){qa(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))}function sd(e,t,n){return Kf(e,n.selector,t,-1)}function ld(e,t,n){return Kf(e,n.selector,t,1)}function fd(e,t,n,r){r=e.getSystem().build(r),ql(e,r,n)}function dd(e,t,n,r){e=jd(e),A(e,(function(e){return pt(r.element,e.element)})).each(Cs)}function md(e,t,n,r,o){var i=jd(e);return W.from(i[r]).map((function(t){return dd(e,0,0,t),o.each((function(t){fd(e,0,(function(e,t){var n,o;o=t,Gt(n=e,r).fold((function(){oa(n,o)}),(function(e){Jt(e,o)}))}),t)})),t}))}function gd(e,t){return{key:e,value:{config:{},me:function(e,t){return t=ji(t),_u({fields:[qe("enabled")],name:e,active:{events:r(t)}})}(e,t),configAsRaw:r({}),initialConfig:{},state:ya}}}function hd(e,t){t.ignore||(Eu(e.element),t.onFocus(e))}function pd(e,t,n){(t=t.aria).update(e,t,n.get())}function vd(e,t,n){t.toggleClass.each((function(t){(n.get()?Mn:Bn)(e.element,t)}))}function bd(e,t,n){qd(e,t,n,!n.get())}function yd(e,t,n){n.set(!0),vd(e,t,n),pd(e,t,n)}function wd(e,t,n){n.set(!1),vd(e,t,n),pd(e,t,n)}function xd(e,t,n){qd(e,t,n,t.selected)}function Cd(){function e(e,t){t.stop(),_t(e)}return[Rt(fi(),e),Rt(Ci(),e),Ht(Yo()),Ht(ei())]}function Sd(e){return ji(R([e.map((function(e){return $i((function(t,n){e(t),n.stop()}))})).toArray(),Cd()]))}function kd(e){(Au(e.element).isNone()||Wd.isFocused(e))&&(Wd.isFocused(e)||Wd.focus(e),Tt(e,Xd,{item:e}))}function Od(e){Tt(e,Kd,{item:e})}function Td(e,t){var n={};me(e,(function(e,t){oe(e,(function(e){n[e]=t}))}));var r=t,o=Br(t,(function(e,t){return{k:e,v:t}})),i=ge(o,(function(e,t){return[t].concat(rm(n,r,o,t))}));return ge(n,(function(e){return ye(i,e).getOr([e])}))}function _d(e,t,n,r,o){function i(){return e.lazySink(t)}function a(e){return 2===e.length?u:{}}var u="horizontal"===r.type?{layouts:{onLtr:xu,onRtl:Cu}}:{};return um.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return Kl.close(t),e.onEscape.map((function(e){return e(t)})),W.some(!0)},onExecute:function(){return W.some(!0)},onOpenMenu:function(e,t){jl.positionWithinBounds(i().getOrDie(),n,t,o())},onOpenSubmenu:function(e,t,n,r){var o=i().getOrDie();jl.position(o,f({anchor:"submenu",item:t},a(r)),n)},onRepositionMenu:function(e,t,r){var u=i().getOrDie();jl.positionWithinBounds(u,n,t,o()),oe(r,(function(e){var t=a(e.triggeringPath);jl.position(u,f({anchor:"submenu",item:e.triggeringItem},t),e.triggeredMenu)}))}})}function Ed(e,t){return e.x+e.width/2-t.width/2}function Dd(e,t){return e.x+e.width-t.width}function Ad(e,t){return e.y+e.height-t.height}function zd(e,t,n){return ru(Dd(e,t),Ad(e,t),n.innerSoutheast(),mc(),ou(e,{right:0,bottom:3}),"layout-inner-se")}function Rd(e,t,n){return ru(e.x,Ad(e,t),n.innerSouthwest(),dc(),ou(e,{left:1,bottom:3}),"layout-inner-sw")}function Md(e,t,n){return ru(Dd(e,t),e.y,n.innerNortheast(),fc(),ou(e,{right:0,top:2}),"layout-inner-ne")}function Nd(e,t,n){return ru(e.x,e.y,n.innerNorthwest(),lc(),ou(e,{left:1,top:2}),"layout-inner-nw")}function Bd(e){var t=void 0!==e.uid&&we(e,"uid")?e.uid:ga("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOptional()},asSpec:function(){return f(f({},e),{uid:t})}}}function Pd(e){return W.from(e()["temporary-placeholder"]).getOr("!not found!")}function Hd(e,t){return W.from(t()[e.toLowerCase()]).getOrThunk((function(){return Pd(t)}))}(No=_l=_l||{}).OnFocusMode="onFocus",No.OnEnterOrSpaceMode="onEnterOrSpace",No.OnApiMode="onApi";aa=function(e){function t(e,t){return e=e.visibilitySelector.bind((function(e){return $a(t,e)})).getOr(t),0<ir(e)}function n(e,n,r){(function(e,n){return e=Qc(e.element,n.selector),e=_(e,(function(e){return t(n,e)})),W.from(e[n.firstTabstop])})(e,n).each((function(t){n.focusManager.set(e,t)}))}function o(e,n,r,o,i){return i(n,r,(function(e){return t(n=o,e=e)&&n.useTabstopAt(e);var n})).fold((function(){return o.cyclic?W.some(!0):W.none()}),(function(t){return o.focusManager.set(e,t),W.some(!0)}))}function a(e,t,n,r){var a,u=Qc(e.element,n.selector);return(a=n).focusManager.get(e).bind((function(e){return $a(e,a.selector)})).bind((function(t){return z(u,i(pt,t)).bind((function(t){return o(e,u,t,n,r)}))}))}var u=[Qe("onEscape"),Qe("onEnter"),rt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),rt("firstTabstop",0),rt("useTabstopAt",s),Qe("visibilitySelector")].concat([e]),c=r([wl(vl([bl,pl(_f)]),(function(e,t,n){var r=n.cyclic?dl:ml;return a(e,0,n,r)})),wl(pl(_f),(function(e,t,n){var r=n.cyclic?gl:hl;return a(e,0,n,r)})),wl(pl(Df),(function(e,t,n){return n.onEscape.bind((function(n){return n(e,t)}))})),wl(vl([Bf,pl(Ef)]),(function(e,t,n){return n.onEnter.bind((function(n){return n(e,t)}))}))]);e=r([]);return Pf(u,ya.init,c,e,(function(){return W.some(n)}))},Zi=aa(ct("cyclic",c)),za=aa(ct("cyclic",s)),la=function(e,t,n){return cl(n)&&pl(Af)(t.event)?W.none():(Et(e,n,wi()),W.some(!0))},sa=[rt("execute",la),rt("useSpace",!1),rt("useEnter",!0),rt("useControlEnter",!1),rt("useDown",!1)],q=Pf(sa,ya.init,(function(e,t,n,r){var o=n.useSpace&&!cl(e.element)?Af:[],i=n.useEnter?Ef:[];e=n.useDown?Nf:[],e=o.concat(i).concat(e);return[wl(pl(e),Lf)].concat(n.useControlEnter?[wl(vl([yl,pl(Ef)]),Lf)]:[])}),(function(e,t,n,r){return n.useSpace&&!cl(e.element)?[wl(pl(Af),Hf)]:[]}),(function(){return W.none()})),Bo=function(){var e=st(W.none());return wa({readState:function(){return e.get().map((function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(t,n){e.set(W.some({numRows:t,numColumns:n}))},getNumRows:function(){return e.get().map((function(e){return e.numRows}))},getNumColumns:function(){return e.get().map((function(e){return e.numColumns}))}})},Ko=Object.freeze({__proto__:null,flatgrid:Bo,init:function(e){return e.state(e)}}),sc=function(e){return function(t,n,r,o){return Id(e,t,n,r,o)}};var Ld,Id=function(e,t,n,r,o){return r.focusManager.get(t).bind((function(n){return e(t.element,n,r,o)})).map((function(e){return r.focusManager.set(t,e),!0}))},Fd=(Gi=sc,g=sc,sc),Vd=(Tc=[qe("selector"),rt("execute",la),ic("onEscape"),rt("captureTab",!1),cc()],Mo=function(e){return function(t,n,r,o){return Uf(t,n,r.selector).bind((function(t){return e(t.candidates,t.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},No=function(e,t,n){return n.captureTab?W.some(!0):W.none()},aa=Mo((function(e,t,n,r){return $f(e,t,n,r,-1)})),sa=Mo((function(e,t,n,r){return $f(e,t,n,r,1)})),sc=Mo((function(e,t,n,r){return Gf(e,t,n,r,-1)})),Mo=Mo((function(e,t,n,r){return Gf(e,t,n,r,1)})),aa=r([wl(pl(zf),Ff(aa,sa)),wl(pl(Mf),Vf(aa,sa)),wl(pl(Rf),Gi(sc)),wl(pl(Nf),g(Mo)),wl(vl([bl,pl(_f)]),No),wl(vl([Bf,pl(_f)]),No),wl(pl(Df),(function(e,t,n){return n.onEscape(e,t)})),wl(pl(Af.concat(Ef)),(function(e,t,n,r){return(o=n).focusManager.get(e).bind((function(e){return $a(e,o.selector)})).bind((function(r){return n.execute(e,t,r)}));var o}))]),sa=r([wl(pl(Af),Hf)]),sc=Pf(Tc,Bo,aa,sa,(function(){return W.some(Xf)})),Mo=[qe("selector"),rt("getInitial",W.none),rt("execute",la),ic("onEscape"),rt("executeOnMove",!1),rt("allowVertical",!0)],No=r([wl(pl(Af),Hf)]),Tc=Pf(Mo,ya.init,(function(e,t,n,r){var o=zf.concat(n.allowVertical?Rf:[]);n=Mf.concat(n.allowVertical?Nf:[]);return[wl(pl(o),ed(Ff(Qf,Zf))),wl(pl(n),ed(Vf(Qf,Zf))),wl(pl(Ef),Yf),wl(pl(Af),Yf),wl(pl(Df),td)]}),No,(function(){return W.some(Jf)})),Bo=[Ke("selectors",[qe("row"),qe("cell")]),rt("cycles",!0),rt("previousSelector",W.none),rt("execute",la)],aa=function(e,t){return function(n,r,o){var i=o.cycles?e:t;return $a(r,o.selectors.row).bind((function(e){var t=Qc(e,o.selectors.cell);return Wf(t,r).bind((function(t){var r=Qc(n,o.selectors.row);return Wf(r,e).bind((function(e){var n,a=(n=o,O(r,(function(e){return Qc(e,n.selectors.cell)})));return i(a,e,t).map((function(e){return e.cell}))}))}))}))}},sa=aa((function(e,t,n){return rd(e,t,n,-1)}),(function(e,t,n){return id(e,t,n,-1)})),Mo=aa((function(e,t,n){return rd(e,t,n,1)}),(function(e,t,n){return id(e,t,n,1)})),No=aa((function(e,t,n){return od(e,n,t,-1)}),(function(e,t,n){return ad(e,n,t,-1)})),aa=aa((function(e,t,n){return od(e,n,t,1)}),(function(e,t,n){return ad(e,n,t,1)})),g=r([wl(pl(zf),Ff(sa,Mo)),wl(pl(Mf),Vf(sa,Mo)),wl(pl(Rf),Gi(No)),wl(pl(Nf),g(aa)),wl(pl(Af.concat(Ef)),(function(e,t,n){return Au(e.element).bind((function(r){return n.execute(e,t,r)}))}))]),aa=r([wl(pl(Af),Hf)]),Bo=Pf(Bo,ya.init,g,aa,(function(){return W.some(ud)})),g=[qe("selector"),rt("execute",la),rt("moveOnTab",!1)],aa=function(e,t,n){return n.focusManager.get(e).bind((function(r){return n.execute(e,t,r)}))},la=r([wl(pl(Rf),Fd(sd)),wl(pl(Nf),Fd(ld)),wl(vl([bl,pl(_f)]),(function(e,t,n,r){return n.moveOnTab?Fd(sd)(e,t,n,r):W.none()})),wl(vl([Bf,pl(_f)]),(function(e,t,n,r){return n.moveOnTab?Fd(ld)(e,t,n,r):W.none()})),wl(pl(Ef),aa),wl(pl(Af),aa)]),aa=r([wl(pl(Af),Hf)]),g=Pf(g,ya.init,la,aa,(function(){return W.some(cd)})),la=[ic("onSpace"),ic("onEnter"),ic("onShiftEnter"),ic("onLeft"),ic("onRight"),ic("onTab"),ic("onShiftTab"),ic("onUp"),ic("onDown"),ic("onEscape"),rt("stopSpaceKeyup",!1),Qe("focusIn")],aa=Pf(la,ya.init,(function(e,t,n){return[wl(pl(Af),n.onSpace),wl(vl([Bf,pl(Ef)]),n.onEnter),wl(vl([bl,pl(Ef)]),n.onShiftEnter),wl(vl([bl,pl(_f)]),n.onShiftTab),wl(vl([Bf,pl(_f)]),n.onTab),wl(pl(Rf),n.onUp),wl(pl(Nf),n.onDown),wl(pl(zf),n.onLeft),wl(pl(Mf),n.onRight),wl(pl(Af),n.onSpace),wl(pl(Df),n.onEscape)]}),(function(e,t,n){return n.stopSpaceKeyup?[wl(pl(Af),Hf)]:[]}),(function(e){return e.focusIn})),la=Zi.schema(),Zi=za.schema(),za=Tc.schema(),Tc=sc.schema(),sc=Bo.schema(),Bo=q.schema(),q=g.schema(),g=aa.schema(),$({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:la,cyclic:Zi,flow:za,flatgrid:Tc,matrix:sc,execution:Bo,menu:q,special:g}),name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element,e.element)}),(function(r){r(e,t,n)}))},setGridSize:function(e,t,n,r,o){we(n,"setGridSize")&&n.setGridSize(r,o)}},state:Ko})),jd=function(e,t){return e.components()},Ud=_u({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(e,t,n,r){fd(e,0,oa,r)},prepend:function(e,t,n,r){fd(e,0,Zt,r)},remove:dd,replaceAt:md,replaceBy:function(e,t,n,r,o){var i=jd(e);return z(i,r).bind((function(t){return md(e,0,0,t,o)}))},set:function(e,t,n,r){zu((function(){var t=O(r,e.getSystem().build);ys(e,t)}),e.element)},contents:jd})}),Wd=(aa=Object.freeze({__proto__:null,focus:hd,blur:function(e,t){t.ignore||e.element.dom.blur()},isFocused:function(e){return t=e.element,e=ta(t).dom,t.dom===e.activeElement;var t}}),la=Object.freeze({__proto__:null,exhibit:function(e,t){return t=t.ignore?{}:{attributes:{tabindex:"-1"}},xn(t)},events:function(e){return ji([Rt(pi(),(function(t,n){hd(t,e),n.stop()}))].concat(e.stopMousedown?[Rt(ei(),(function(e,t){t.event.prevent()}))]:[]))}}),Zi=[oc("onFocus"),rt("stopMousedown",!1),rt("ignore",!1)],_u({fields:Zi,name:"focusing",active:la,apis:aa})),qd=function(e,t,n,r){(r?yd:wd)(e,t,n)},$d=(za=Object.freeze({__proto__:null,onLoad:xd,toggle:bd,isOn:function(e,t,n){return n.get()},on:yd,off:wd,set:qd}),Tc=Object.freeze({__proto__:null,exhibit:function(){return xn({})},events:function(e,t){var n,r,o,i=(n=e,r=t,o=bd,$i((function(e){o(e,n,r)})));t=Su(e,t,xd);return ji(R([e.toggleOnExecute?[i]:[],[t]]))}}),function(e,t,n){un(e.element,"aria-expanded",n)}),Gd=(sc=[rt("selected",!1),Qe("toggleClass"),rt("toggleOnExecute",!0),ot("aria",{mode:"none"},Ue("mode",{pressed:[rt("syncWithExpanded",!1),tu("update",(function(e,t,n){un(e.element,"aria-pressed",n),t.syncWithExpanded&&$d(e,t,n)}))],checked:[tu("update",(function(e,t,n){un(e.element,"aria-checked",n)}))],expanded:[tu("update",$d)],selected:[tu("update",(function(e,t,n){un(e.element,"aria-selected",n)}))],none:[tu("update",t)]}))],_u({fields:sc,name:"toggling",active:Tc,apis:za,state:(Ld=!1,{init:function(){var e=st(Ld);return{get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(Ld)},readState:function(){return e.get()}}}})})),Xd="alloy.item-hover",Kd="alloy.item-focus",Yd=r(Xd),Jd=r(Kd),Qd=(Bo=[qe("data"),qe("components"),qe("dom"),rt("hasSubmenu",!1),Qe("toggling"),rf("itemBehaviours",[Gd,Wd,Vd,nf]),rt("ignoreFocus",!1),rt("domModification",{}),tu("builder",(function(e){return{dom:e.dom,domModification:f(f({},e.domModification),{attributes:f(f(f({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:of(e.itemBehaviours,[e.toggling.fold(Gd.revoke,(function(e){return Gd.config(f({aria:{mode:"checked"}},e))})),Wd.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){Od(e)}}),Vd.config({mode:"execution"}),nf.config({store:{mode:"memory",initialValue:e.data}}),gd("item-type-events",m(Cd(),[Rt(oi(),kd),Rt(xi(),Wd.focus)]))]),components:e.components,eventOrder:e.eventOrder}})),rt("eventOrder",{})],q=[qe("dom"),qe("components"),tu("builder",(function(e){return{dom:e.dom,components:e.components,events:ji([(e=xi(),Rt(e,(function(e,t){t.stop()})))])}}))],r("item-widget")),Zd=r([df({name:"widget",overrides:function(e){return{behaviours:xc([nf.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:t}})])}}})]),em=(g=[qe("uid"),qe("data"),qe("components"),qe("dom"),rt("autofocus",!1),rt("ignoreFocus",!1),rf("widgetBehaviours",[nf,Wd,Vd]),rt("domModification",{}),nl(Zd()),tu("builder",(function(e){function t(t){return Ks(t,e,"widget").map((function(e){return Vd.focusIn(e),e}))}var n=Gs(Qd(),e,Zd()),r=Xs(Qd(),e,n.internals());n=function(t,n){return cl(n.event.target)||e.autofocus&&n.setSource(t.element),W.none()};return{dom:e.dom,components:r,domModification:e.domModification,events:ji([$i((function(e,n){t(e).each((function(e){n.stop()}))})),Rt(oi(),kd),Rt(xi(),(function(n,r){e.autofocus?t(n):Wd.focus(n)}))]),behaviours:of(e.widgetBehaviours,[nf.config({store:{mode:"memory",initialValue:e.data}}),Wd.config({ignore:e.ignoreFocus,onFocus:function(e){Od(e)}}),Vd.config({mode:"special",focusIn:e.autofocus?function(e){t(e)}:kc(),onLeft:n,onRight:n,onEscape:function(t,n){return Wd.isFocused(t)||e.autofocus?(e.autofocus&&n.setSource(t.element),W.none()):(Wd.focus(t),W.some(!0))}})])}}))],Ue("type",{widget:g,item:Bo,separator:q})),tm=(Ko=r([Ir({factory:{sketch:function(e){return e=je("menu.spec item",em,e),e.builder(e)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:f(f({},t),{uid:ga("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),Zi=r([qe("value"),qe("items"),qe("dom"),qe("components"),rt("eventOrder",{}),gi("menuBehaviours",[Of,nf,yf,Vd]),ot("movement",{mode:"menu",moveOnTab:!0},Ue("mode",{grid:[cc(),tu("config",(function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}}))],matrix:[tu("config",(function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}})),qe("rowSelector")],menu:[rt("moveOnTab",!0),tu("config",(function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}}))]})),$e("markers",ec()),rt("fakeFocus",!1),rt("focusManager",Cl()),oc("onHighlight")]),r("alloy.menu-focus")),nm=tf({name:"Menu",configFields:Zi(),partFields:Ko(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Ps(e.menuBehaviours,[Of.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),nf.config({store:{mode:"memory",initialValue:e.value}}),yf.config({find:W.some}),Vd.config(e.movement.config(e,e.movement))]),events:ji([Rt(Jd(),(function(e,t){var n=t.event;e.getSystem().getByDom(n.target).each((function(n){Of.highlight(e,n),t.stop(),Tt(e,tm(),{menu:e,item:n})}))})),Rt(Yd(),(function(e,t){t=t.event.item,Of.highlight(e,t)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}}}),rm=function(e,t,n,r){return ye(n,r).bind((function(r){return ye(e,r).bind((function(r){var o=rm(e,t,n,r);return W.some([r].concat(o))}))})).getOr([])},om=function(e){return"prepared"===e.type?W.some(e.menu):W.none()},im={init:function(){function e(e,n,r){return a(e).bind((function(o){return i=e,ve(t.get(),(function(e,t){return e===i})).bind((function(e){return n(e).map((function(e){return{triggeredMenu:o,triggeringItem:e,triggeringPath:r}}))}));var i}))}var t=st({}),n=st({}),r=st({}),o=st(W.none()),i=st({}),a=function(e){return u(e).bind(om)},u=function(e){return ye(n.get(),e)},c=function(e){return ye(t.get(),e)};return{setMenuBuilt:function(e,t){var r;n.set(f(f({},n.get()),((r={})[e]={type:"prepared",menu:t},r)))},setContents:function(e,a,u,c){o.set(W.some(e)),t.set(u),n.set(a),i.set(c),u=Td(c,u),r.set(u)},expand:function(e){return ye(t.get(),e).map((function(t){var n=ye(r.get(),e).getOr([]);return[t].concat(n)}))},refresh:function(e){return ye(r.get(),e)},collapse:function(e){return ye(r.get(),e).bind((function(e){return 1<e.length?W.some(e.slice(1)):W.none()}))},lookupMenu:u,lookupItem:c,otherMenus:function(e){var t=i.get();return P(Mr(t),e)},getPrimary:function(){return o.get().bind(a)},getMenus:function(){return n.get()},clear:function(){t.set({}),n.set({}),r.set({}),o.set(W.none())},isClear:function(){return o.get().isNone()},getTriggeringPath:function(t,n){var i=_(c(t).toArray(),(function(e){return a(e).isSome()}));return ye(r.get(),t).bind((function(t){var r=B(i.concat(t));return function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.isSome())return W.none();t.push(r.getOrDie())}return W.some(t)}(M(r,(function(t,i){return e(t,n,r.slice(0,i+1)).fold((function(){return o.get().is(t)?[]:[W.none()]}),(function(e){return[W.some(e)]}))})))}))}}},extractPreparedMenu:om},am=r("collapse-item"),um=il({name:"TieredMenu",configFields:[uc("onExecute"),uc("onEscape"),ac("onOpenMenu"),ac("onOpenSubmenu"),oc("onRepositionMenu"),oc("onCollapseMenu"),rt("highlightImmediately",!0),Ke("data",[qe("primary"),qe("menus"),qe("expansions")]),rt("fakeFocus",!1),oc("onHighlight"),oc("onHover"),nc(),qe("dom"),rt("navigateOnHover",!0),rt("stayInDom",!1),gi("tmenuBehaviours",[Vd,Of,yf,Ud]),rt("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:function(e,n){function r(t){n=t,r=e.data.primary,o=e.data.menus,t=ge(o,(function(t,o){function i(){return nm.sketch(f(f({},t),{value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:(e.fakeFocus?Sl:Cl)()}))}return o===r?{type:"prepared",menu:n.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}));var n,r,o=h();return g.setContents(e.data.primary,t,e.data.expansions,o),g.getPrimary()}function o(e){return nf.getValue(e).value}function i(e,t){Of.highlight(e,t),Of.getHighlighted(t).orThunk((function(){return Of.getFirst(t)})).each((function(t){Et(e,t.element,xi())}))}function a(e,t){return al(O(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?W.some(e.menu):W.none()}))})))}function u(t,n,r){r=a(n,n.otherMenus(r)),oe(r,(function(n){Ln(n.element,[e.markers.backgroundMenu]),e.stayInDom||Ud.remove(t,n)}))}function c(t,n){var r;r=t,t=m.get().getOrThunk((function(){var t={},n=Qc(r.element,"."+e.markers.item);n=_(n,(function(e){return"true"===cn(e,"aria-haspopup")}));return oe(n,(function(e){r.getSystem().getByDom(e).each((function(e){var n=o(e);t[n]=e}))})),m.set(W.some(t)),t}));me(t,(function(e,t){t=re(n,t),un(e.element,"aria-expanded",t)}))}function l(t,n,r){return W.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return W.none();var c=o.menu;o=a(n,r.slice(1));return oe(o,(function(t){Mn(t.element,e.markers.backgroundMenu)})),Sa(c.element)||Ud.append(t,Aa(c)),Ln(c.element,[e.markers.backgroundMenu]),i(t,c),u(t,n,r),W.some(c)}))}))}var d,m=st(W.none()),g=im.init(),h=function(t){return ge(e.data.menus,(function(e,t){return M(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}))};function p(t,n,r){void 0===r&&(r=d.HighlightSubmenu);var i=o(n);return g.expand(i).bind((function(o){return c(t,o),W.from(o[0]).bind((function(i){return g.lookupMenu(i).bind((function(a){return a=function(e,t,n){return"notbuilt"!==n.type?n.menu:(n=e.getSystem().build(n.nbMenu()),g.setMenuBuilt(t,n),n)}(t,i,a),Sa(a.element)||Ud.append(t,Aa(a)),e.onOpenSubmenu(t,n,a,B(o)),r===d.HighlightSubmenu?(Of.highlightFirst(a),l(t,g,o)):(Of.dehighlightAll(a),W.some(n))}))}))}))}function v(t,n){var r=o(n);return g.collapse(r).bind((function(r){return c(t,r),l(t,g,r).map((function(r){return e.onCollapseMenu(t,n,r),r}))}))}function b(t){return function(n,r){return $a(r.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOptional().bind((function(e){return t(n,e).map(s)}))}))}}function y(e){return Of.getHighlighted(e).bind(Of.getHighlighted)}(x=d=d||{})[x.HighlightSubmenu=0]="HighlightSubmenu",x[x.HighlightParent=1]="HighlightParent";var w=ji([Rt(tm(),(function(e,t){var n=t.event.item;g.lookupItem(o(n)).each((function(){var n=t.event.menu;Of.highlight(e,n),n=o(t.event.item),g.refresh(n).each((function(t){return u(e,g,t)}))}))})),$i((function(n,r){r=r.event.target,n.getSystem().getByDom(r).each((function(r){0===o(r).indexOf("collapse-item")&&v(n,r),p(n,r,d.HighlightSubmenu).fold((function(){e.onExecute(n,r)}),t)}))})),Ui((function(t,n){r(t).each((function(n){Ud.append(t,Aa(n)),e.onOpenMenu(t,n),e.highlightImmediately&&i(t,n)}))}))].concat(e.navigateOnHover?[Rt(Yd(),(function(t,n){n=n.event.item,function(e,t){t=o(t),g.refresh(t).bind((function(t){return c(e,t),l(e,g,t)}))}(t,n),p(t,n,d.HighlightParent),e.onHover(t,n)}))]:[])),x={collapseMenu:function(e){y(e).each((function(t){v(e,t)}))},highlightPrimary:function(e){g.getPrimary().each((function(t){i(e,t)}))},repositionMenus:function(t){g.getPrimary().bind((function(e){return y(t).bind((function(e){var t=o(e),n=(e=be(g.getMenus()),al(O(e,im.extractPreparedMenu)));return g.getTriggeringPath(t,(function(e){return t=e,F(n,(function(e){return e.getSystem().isConnected()?(e=Of.getCandidates(e),A(e,(function(e){return o(e)===t}))):W.none()}));var t}))})).map((function(t){return{primary:e,triggeringPath:t}}))})).fold((function(){W.from(t.components()[0]).filter((function(e){return"menu"===cn(e.element,"role")})).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var r=n.primary;n=n.triggeringPath;e.onRepositionMenu(t,r,n)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Ps(e.tmenuBehaviours,[Vd.config({mode:"special",onRight:b((function(e,t){return cl(t.element)?W.none():p(e,t,d.HighlightSubmenu)})),onLeft:b((function(e,t){return cl(t.element)?W.none():v(e,t)})),onEscape:b((function(t,n){return v(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))})),focusIn:function(e,t){g.getPrimary().each((function(t){Et(e,t.element,xi())}))}}),Of.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),yf.config({find:function(e){return Of.getHighlighted(e)}}),Ud.config({})]),eventOrder:e.eventOrder,apis:x,events:w}},extraApis:{tieredData:function(e,t,n){return{primary:e,menus:t,expansions:n}},singleData:function(e,t){return{primary:e,menus:Gr(e,t),expansions:{}}},collapseItem:function(e){return{value:gn(am()),meta:{text:e}}}}}),cm=il({name:"InlineView",configFields:[qe("lazySink"),oc("onShow"),oc("onHide"),yo("onEscape"),gi("inlineBehaviours",[Kl,nf,Oc]),nt("fireDismissalEventInstead",[rt("event",Mi())]),nt("fireRepositionEventInstead",[rt("event",Ni())]),rt("getRelated",W.none),rt("isExtraPart",c),rt("eventOrder",W.none)],factory:function(e,t){function n(t){Kl.isOpen(t)&&nf.getValue(t).each((function(n){switch(n.mode){case"menu":Kl.getState(t).each((function(e){um.repositionMenus(e)}));break;case"position":var r=e.lazySink(t).getOrDie();jl.positionWithinBounds(r,n.anchor,t,n.getBounds())}}))}var r=function(e,t,n,r){o(e,t,n,(function(){return r.map(yr)}))},o=function(t,n,r,o){var i=e.lazySink(t).getOrDie();Kl.openWhileCloaked(t,r,(function(){return jl.positionWithinBounds(i,n,t,o())})),nf.setValue(t,W.some({mode:"position",anchor:n,getBounds:o}))},i=function(t,n,r,o){o=_d(e,t,n,r,o),Kl.open(t,o),nf.setValue(t,W.some({mode:"menu",menu:o}))},a={setContent:function(e,t){Kl.setContent(e,t)},showAt:function(e,t,n){r(e,t,n,W.none())},showWithin:r,showWithinBounds:o,showMenuAt:function(e,t,n){i(e,t,n,(function(){return W.none()}))},showMenuWithinBounds:i,hide:function(e){Kl.isOpen(e)&&(nf.setValue(e,W.none()),Kl.close(e))},getContent:function(e){return Kl.getState(e)},reposition:n,isOpen:Kl.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Ps(e.inlineBehaviours,[Kl.config({isPartOf:function(t,n,r){return Ya(n,r)||(o=r,e.getRelated(t).exists((function(e){return Ya(e,o)})));var o},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),nf.config({store:{mode:"memory",initialValue:W.none()}}),Oc.config({channels:f(f({},As(f({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),zs(f(f({},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{doReposition:n})))})]),eventOrder:e.eventOrder,apis:a}},apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showWithinBounds:function(e,t,n,r,o){e.showWithinBounds(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,o){e.showMenuWithinBounds(t,n,r,o)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),sm=function(e,t,n){return ru(Ed(e,t),e.y,n.innerNorth(),gc(),ou(e,{top:2}),"layout-inner-n")},lm=function(e,t,n){return ru(Ed(e,t),Ad(e,t),n.innerSouth(),hc(),ou(e,{bottom:3}),"layout-inner-s")},fm=tinymce.util.Tools.resolve("tinymce.util.Delay"),dm=il({name:"Button",factory:function(e){function t(t){return ye(e.dom,"attributes").bind((function(e){return ye(e,t)}))}var n=Sd(e.action),r=e.dom.tag;return{uid:e.uid,dom:e.dom,components:e.components,events:n,behaviours:of(e.buttonBehaviours,[Wd.config({}),Vd.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"!==r)return{role:t("role").getOr("button")};var e=t("type").getOr("button"),n=t("role").map((function(e){return{role:e}})).getOr({});return f({type:e},n)}()},eventOrder:e.eventOrder}},configFields:[rt("uid",void 0),qe("dom"),rt("components",[]),rf("buttonBehaviours",[Wd,Vd]),Qe("action"),Qe("role"),rt("eventOrder",{})]}),mm={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},gm=il({name:"Notification",factory:function(e){function t(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}}function n(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}}var r,o=Bd({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:xc([Ud.config({})])}),i=Bd({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[t(0)]},n(0)],behaviours:xc([Ud.config({})])}),a={updateProgress:function(e,r){e.getSystem().isConnected()&&i.getOpt(e).each((function(e){Ud.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[t(r)]},n(r)])}))},updateText:function(e,t){e.getSystem().isConnected()&&(e=o.get(e),Ud.set(e,[or(t)]))}},u=R([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return W.from(mm[e])})).toArray()]),c=Bd(dm.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:Hd("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}}));u=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:(r=e.iconProvider,F(u,(function(e){return W.from(r()[e.toLowerCase()])})).getOrThunk((function(){return Pd(r)})))}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[o.asSpec()],behaviours:xc([Ud.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]})).getOr(["tox-notification","tox-notification--in"])},behaviours:xc([Wd.config({}),gd("notification-events",[Rt(ii(),(function(e){c.getOpt(e).each(Wd.focus)}))])]),components:u.concat(e.progress?[i.asSpec()]:[]).concat(e.closeButton?[c.asSpec()]:[]),apis:a}},configFields:[Qe("level"),qe("progress"),qe("icon"),qe("onAction"),qe("text"),qe("iconProvider"),qe("translationProvider"),Co("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}});function hm(e,t,n){var r=t.backstage;return{open:function(e,o){function i(){o(),cm.hide(c)}var a=!e.closeButton&&e.timeout&&(0<e.timeout||e.timeout<0),u=Da(gm.sketch({text:e.text,level:re(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:W.from(e.icon),closeButton:!a,onAction:i,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),c=Da(cm.sketch(f({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(c),0<e.timeout&&fm.setTimeout((function(){i()}),e.timeout),{close:i,moveTo:function(e,t){cm.showAt(c,{anchor:"makeshift",x:e,y:t},Aa(u))},moveRel:function(e,n){var r;"banner"!==n?(r=function(e){switch(e){case"bc-bc":return lm;case"tc-tc":return sm;case"tc-bc":return bc;case"bc-tc":default:return yc}}(n),e={anchor:"node",root:ka(),node:W.some(Oo.fromDom(e)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}},cm.showAt(c,e,Aa(u))):cm.showAt(c,t.backstage.shared.anchors.banner(),Aa(u))},text:function(e){gm.updateText(u,e)},settings:e,getEl:function(){return u.element.dom},progressBar:{value:function(e){gm.updateProgress(u,e)}}}},close:function(e){e.close()},reposition:function(e){var t;oe(e,(function(e){return e.moveTo(0,0)})),0<(t=e).length&&(ie(t).each((function(e){return e.moveRel(null,"banner")})),oe(t,(function(e,n){0<n&&e.moveRel(t[n-1].getEl(),"bc-tc")})))},getArgs:function(e){return e.settings}}}function pm(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){e.apply(null,r),n=null}),t)}}}function vm(e,t,n,r,o){var i=Am(e,(function(t){return n=t,(t=e).isBlock(n)||re(["BR","IMG","HR","INPUT"],n.nodeName)||"false"===t.getContentEditable(n);var n}));return W.from(i.backwards(t,n,r,o))}function bm(e,t){return zm(Oo.fromDom(e.selection.getNode())).getOrThunk((function(){var n=Oo.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return oa(n,Oo.fromDom(t.extractContents())),t.insertNode(n.dom),Wt(n).each((function(e){return e.dom.normalize()})),Ll(n,Jc).map((function(t){var n;e.selection.setCursorLocation(t.dom,"img"===It(n=t)?1:Yc(n).fold((function(){return $t(n).length}),(function(e){return e.length})))})),n}))}function ym(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")}function wm(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)}function xm(e,t){return e.substring(t.length)}function Cm(e,t,n,r){if(void 0===r&&(r=0),!(o=t).collapsed||3!==o.startContainer.nodeType)return W.none();var o=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return vm(e,t.startContainer,t.startOffset,(function(e,t,r){return function(e,t,n){for(var r=t-1;0<=r;r--){var o=e.charAt(r);if(wm(o))return W.none();if(o===n)break}return W.some(r)}(r,t,n).getOr(t)}),o).bind((function(e){var o=t.cloneRange();return o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed?W.none():(e=ym(o),0!==e.lastIndexOf(n)||xm(e,n).length<r?W.none():W.some({text:xm(e,n),range:o,triggerChar:n}))}))}function Sm(e,t,n,r){return void 0===r&&(r=0),zm(Oo.fromDom(t.startContainer)).fold((function(){return Cm(e,t,n,r)}),(function(t){var r=e.createRng();return r.selectNode(t.dom),t=ym(r),W.some({range:r,text:xm(t,n),triggerChar:n})}))}function km(e,t){return{container:e,offset:t}}function Om(e){return function(t){return t=Bm(t.startContainer,t.startOffset),!vm(e,t.container,t.offset,(function(e,t){return 0===t?-1:t}),e.getRoot()).filter((function(e){return e=e.container.data.charAt(e.offset-1),!wm(e)})).isSome()}}function Tm(e,t){var n,r,o=t(),i=e.selection.getRng();return n=e.dom,r=i,F(o.triggerChars,(function(e){return Sm(n,r,e)})).bind((function(n){return Pm(e,t,n)}))}function _m(e){return Fe("toolbarbutton",Fm,e)}function Em(e){return Fe("ToggleButton",Vm,e)}function Dm(e){var t,n=e.ui.registry.getAll().popups,r=(e=ge(n,(function(e){return Fe("Autocompleter",Im,e).fold((function(e){throw new Error(uo(e))}),(function(e){return e}))})),n=(n=pe(e,(function(e){return e.ch})),t={},oe(n,(function(e){t[e]={}})),Mr(t)),be(e));return{dataset:e,triggerChars:n,lookupByChar:function(e){return _(r,(function(t){return t.ch===e}))}}}var Am=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),zm=function(e){return $a(e,"[data-mce-autocompleter]")},Rm=function(e,t){function n(e,t){Tt(e,ui(),{raw:t})}t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel),t.on("keydown",(function(t){function r(){return e.getView().bind(Of.getHighlighted)}8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(r().each(_t),t.preventDefault()):40===t.which?(r().fold((function(){e.getView().each(Of.highlightFirst)}),(function(e){n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||r().each((function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())})),t.on("NodeChange",(function(t){e.isActive()&&!e.isProcessingAction()&&zm(Oo.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))},Mm=tinymce.util.Tools.resolve("tinymce.util.Promise"),Nm=function(e){if(3===e.nodeType)return km(e,e.data.length);var t=e.childNodes;return 0<t.length?Nm(t[t.length-1]):km(e,t.length)},Bm=function(e,t){var n=e.childNodes;return 0<n.length&&t<n.length?Bm(n[t],0):0<n.length&&1===e.nodeType&&n.length===t?Nm(n[n.length-1]):km(e,t)},Pm=function(e,t,n,r){void 0===r&&(r={});t=t();var o=e.selection.getRng().startContainer.nodeValue;t=_(t.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return Om(e.dom)}))(n.range,o,n.text)}));return 0===t.length?W.none():(t=Mm.all(O(t,(function(e){return e.fetch(n.text,e.maxResults,r).then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}}))}))),W.some({lookupData:t,context:n}))},Hm=Jr([Ge("type"),tt("text")]),Lm=Jr([rt("type","autocompleteitem"),rt("active",!1),rt("disabled",!1),rt("meta",{}),Ge("value"),tt("text"),tt("icon")]),Im=Jr([Ge("type"),Ge("ch"),wo("minChars",1),rt("columns",1),wo("maxResults",10),yo("matches"),bo("fetch"),bo("onAction"),So("highlightOn",[],mo)]),Fm=(la=[Co("disabled",!1),tt("tooltip"),tt("icon"),tt("text"),at("onSetup",(function(){return t}))],Jr([Ge("type"),bo("onAction")].concat(la))),Vm=(aa=[Co("active",!1)].concat(la),Jr(aa.concat([Ge("type"),bo("onAction")]))),jm=(sc=[at("predicate",c),xo("scope","node",["node","editor"]),xo("position","selection",["node","selection","line"])],Tc=la.concat([rt("type","contextformbutton"),rt("primary",!1),bo("onAction"),ct("original",o)]),za=aa.concat([rt("type","contextformbutton"),rt("primary",!1),bo("onAction"),ct("original",o)]),g=la.concat([rt("type","contextformbutton")]),Bo=aa.concat([rt("type","contextformtogglebutton")]),q=Ue("type",{contextformbutton:Tc,contextformtogglebutton:za}),Jr([rt("type","contextform"),at("initValue",(function(){return""})),tt("label"),Je("commands",q),Ze("launch",Ue("type",{contextformbutton:g,contextformtogglebutton:Bo}))].concat(sc))),Um=Jr([rt("type","contexttoolbar"),Ge("items")].concat(sc));function Wm(e){return ye(Tg,e).getOr(Sg)}function qm(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:"color"===e?"tox-swatches":"tox-menu",tieredMenu:"tox-tiered-menu"}}function $m(e){var t=qm(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Wm(e)}}function Gm(e,t,n){var r=qm(n);return{dom:{tag:"div",classes:R([[r.tieredMenu]])},markers:$m(n)}}function Xm(e,t){return function(n){return n=k(n,t),O(n,(function(t){return{dom:e,components:t}}))}}function Km(e,t){var n=[],r=[];return oe(e,(function(e,o){t(e,o)?(0<r.length&&n.push(r),r=[],Pr(e.dom,"innerHtml")&&r.push(e)):r.push(e)})),0<r.length&&n.push(r),O(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))}function Ym(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[nm.parts.items({preprocess:function(n){return"auto"!==e&&1<e?Xm({tag:"div",classes:["tox-collection__group"]},e)(n):Km(n,(function(e,n){return"separator"===t[n].type}))}})]}}function Jm(e){return C(e,(function(e){return"icon"in e&&void 0!==e.icon}))}function Qm(e){return W.none()}function Zm(e,t,n,r,o){var i,a=(i=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[nm.parts.items({preprocess:function(e){return Km(e,(function(e,t){return"separator"===i[t].type}))}})]});return{value:e,dom:a.dom,components:a.components,items:n}}function eg(e,t,n,r,i){var a;return"color"===i?{value:e,dom:(a=r,a={dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[nm.parts.items({preprocess:"auto"!==a?Xm({tag:"div",classes:["tox-swatches__row"]},a):o})]}]}).dom,components:a.components,items:n}:"normal"===i&&"auto"===r?{value:e,dom:(a=Ym(r,n)).dom,components:a.components,items:n}:"normal"===i&&1===r?{value:e,dom:(a=Ym(1,n)).dom,components:a.components,items:n}:"normal"===i?{value:e,dom:(a=Ym(r,n)).dom,components:a.components,items:n}:"listpreview"!==i||"auto"===r?{value:e,dom:function(e,t,n){return n=qm(n),{tag:"div",classes:R([[n.menu,"tox-menu-"+t+"-column"],e?[n.hasIcons]:[]])}}(t,r,i),components:Mg,items:n}:{value:e,dom:(a={dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[nm.parts.items({preprocess:Xm({tag:"div",classes:["tox-collection__group"]},r)})]}).dom,components:a.components,items:n}}function tg(e,t,n){var r=Qc(e.element,"."+n);return 0<r.length?(n=z(r,(function(e){var n=e.dom.getBoundingClientRect().top;e=r[0].dom.getBoundingClientRect().top;return Math.abs(n-e)>t})).getOr(r.length),W.some({numColumns:n,numRows:Math.ceil(r.length/n)})):W.none()}function ng(e,t){return xc([gd(e,t)])}function rg(e,t,n){e.getSystem().broadcastOn([Wg],{})}function og(e,t,n){(t.disabled()?Jg:Qg)(e,t)}function ig(e,t){return!0===t.useNative&&re(Yg,It(e.element))}function ag(e){un(e.element,"disabled","disabled")}function ug(e){fn(e.element,"disabled")}function cg(e){un(e.element,"aria-disabled","true")}function sg(e){un(e.element,"aria-disabled","false")}function lg(e,t){return ig(e,t)?ln(e.element,"disabled"):"true"===cn(e.element,"aria-disabled")}function fg(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))}function dg(e){return e.getParam("width",Xg.DOM.getStyle(e.getElement(),"width"))}function mg(e){return W.from(e.getParam("min_width")).filter(Z)}function gg(e){return W.from(e.getParam("min_height")).filter(Z)}function hg(e){return W.from(e.getParam("max_width")).filter(Z)}function pg(e){return W.from(e.getParam("max_height")).filter(Z)}function vg(e){return!1!==e.getParam("menubar",!0,"boolean")}function bg(e){var t=!0===(r=e.getParam("toolbar",!0)),n=G(r),r=K(r)&&0<r.length;return!th(e)&&(r||n||t)}function yg(e){var t=S(9,(function(t){return e.getParam("toolbar"+(t+1),!1,"string")}));return 0<(t=_(t,(function(e){return"string"==typeof e}))).length?W.some(t):W.none()}(cc=Yv=Yv||{})[cc.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",cc[cc.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX";var wg,xg,Cg=Yv,Sg="tox-menu-nav__js",kg="tox-collection__item",Og="tox-swatch",Tg={normal:Sg,color:Og},_g="tox-collection__item--enabled",Eg="tox-collection__item-label",Dg="tox-collection__item-caret",Ag="tox-collection__item--active",zg="tox-collection__item-container",Rg="tox-collection__item-container--row",Mg=[nm.parts.items({})],Ng=(Zi=[Ge("type"),Ge("src"),tt("alt"),So("classes",[],mo)],Jr(Zi)),Bg=(Ko=[Ge("type"),Ge("text"),tt("name"),So("classes",["tox-collection__item-label"],mo)],Jr(Ko)),Pg=(Ni=io((function(){return co("type",{cardimage:Ng,cardtext:Bg,cardcontainer:Pg})})),Jr([Ge("type"),it("direction","horizontal"),it("align","left"),it("valign","middle"),Je("items",Ni)])),Hg=(aa=[Co("disabled",!1),tt("text"),tt("shortcut"),no("value","value",qr((function(){return gn("menuitem-value")})),so()),rt("meta",{})],Jr([Ge("type"),tt("label"),Je("items",Ni),at("onSetup",(function(){return t})),at("onAction",t)].concat(aa))),Lg=Jr([Ge("type"),Co("active",!1),tt("icon")].concat(aa)),Ig=Jr([Ge("type"),Xe("fancytype",["inserttable","colorswatch"]),at("onAction",t)]),Fg=Jr([Ge("type"),at("onSetup",(function(){return t})),at("onAction",t),tt("icon")].concat(aa)),Vg=Jr([Ge("type"),bo("getSubmenuItems"),at("onSetup",(function(){return t})),tt("icon")].concat(aa)),jg=Jr([Ge("type"),tt("icon"),Co("active",!1),at("onSetup",(function(){return t})),bo("onAction")].concat(aa)),Ug=function(e){return ng(gn("unnamed-events"),e)},Wg=gn("tooltip.exclusive"),qg=gn("tooltip.show"),$g=gn("tooltip.hide"),Gg=(Tc=Object.freeze({__proto__:null,hideAllExclusive:rg,setComponents:function(e,t,n,r){n.getTooltip().each((function(e){e.getSystem().isConnected()&&Ud.set(e,r)}))}}),za=Object.freeze({__proto__:null,events:function(e,t){function n(n){t.getTooltip().each((function(r){Cs(r),e.onHide(n,r),t.clearTooltip()})),t.clearTimer()}return ji(R([[Rt(qg,(function(n){t.resetTimer((function(){var r,o,i;r=n,t.isShowing()||(rg(r),o=e.lazySink(r).getOrDie(),i=r.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:ji("normal"===e.mode?[Rt(oi(),(function(e){Ot(r,qg)})),Rt(ni(),(function(e){Ot(r,$g)}))]:[]),behaviours:xc([Ud.config({})])}),t.setTooltip(i),ws(o,i),e.onShow(r,i),jl.position(o,e.anchor(r),i))}),e.delay)})),Rt($g,(function(r){t.resetTimer((function(){n(r)}),e.delay)})),Rt(yi(),(function(e,t){t.universal||re(t.channels,Wg)&&n(e)})),Wi((function(e){n(e)}))],"normal"===e.mode?[Rt(ii(),(function(e){Ot(e,qg)})),Rt(vi(),(function(e){Ot(e,$g)})),Rt(oi(),(function(e){Ot(e,qg)})),Rt(ni(),(function(e){Ot(e,$g)}))]:[Rt(Ii(),(function(e,t){Ot(e,qg)})),Rt(Fi(),(function(e){Ot(e,$g)}))]]))}}),q=[qe("lazySink"),qe("tooltipDom"),rt("exclusive",!0),rt("tooltipComponents",[]),rt("delay",300),xo("mode","normal",["normal","follow-highlight"]),rt("anchor",(function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:r([yc,bc,fu,mu,du,gu]),onRtl:r([yc,bc,fu,mu,du,gu])}}})),oc("onHide"),oc("onShow")],_u({fields:q,name:"tooltipping",active:za,state:Object.freeze({__proto__:null,init:function(){function e(){t.get().each((function(e){clearTimeout(e)}))}var t=st(W.none()),n=st(W.none()),o=r("not-implemented");return wa({getTooltip:function(){return n.get()},isShowing:function(){return n.get().isSome()},setTooltip:function(e){n.set(W.some(e))},clearTooltip:function(){n.set(W.none())},clearTimer:e,resetTimer:function(n,r){e(),t.set(W.some(setTimeout((function(){n()}),r)))},readState:o})}}),apis:Tc})),Xg=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Kg=tinymce.util.Tools.resolve("tinymce.util.I18n"),Yg=["input","button","textarea","select"],Jg=function(e,t,n){t.disableClass.each((function(t){Mn(e.element,t)})),(ig(e,t)?ag:cg)(e),t.onDisabled(e)},Qg=function(e,t,n){t.disableClass.each((function(t){Bn(e.element,t)})),(ig(e,t)?ug:sg)(e),t.onEnabled(e)},Zg=(g=Object.freeze({__proto__:null,enable:Qg,disable:Jg,isDisabled:lg,onLoad:og,set:function(e,t,n,r){(r?Jg:Qg)(e,t)}}),Bo=Object.freeze({__proto__:null,exhibit:function(e,t){return xn({classes:t.disabled()?t.disableClass.toArray():[]})},events:function(e,t){return ji([At(wi(),(function(t,n){return lg(t,e)})),Su(e,t,og)])}}),sc=[at("disabled",c),rt("useNative",!0),Qe("disableClass"),oc("onDisabled"),oc("onEnabled")],_u({fields:sc,name:"disabling",active:Bo,apis:g})),eh=tinymce.util.Tools.resolve("tinymce.EditorManager"),th=function(e){return yg(e).fold((function(){return 0<e.getParam("toolbar",[],"string[]").length}),s)};function nh(e){return e.getParam("toolbar_mode","","string")}function rh(e){return e.getParam("toolbar_location",xg.auto,"string")}function oh(e){return rh(e)===xg.bottom}function ih(e){var t=e.getParam("fixed_toolbar_container","","string");return 0<t.length&&e.inline?qa(ka(),t):W.none()}function ah(e){return e.inline&&ih(e).isSome()}function uh(e){return ih(e).getOrThunk((function(){return Kt(ta(Oo.fromDom(e.getElement())))}))}function ch(e){return e.inline&&!vg(e)&&!bg(e)&&!th(e)}function sh(e){return(e.getParam("toolbar_sticky",!1,"boolean")||e.inline)&&!ah(e)&&!ch(e)}function lh(e,t){var n=e.outerContainer.element;t&&(e.mothership.broadcastOn([Yl()],{target:n}),e.uiMothership.broadcastOn([Yl()],{target:n})),e.mothership.broadcastOn([Vh],{readonly:t}),e.uiMothership.broadcastOn([Vh],{readonly:t})}function fh(e,t){e.on("init",(function(){e.mode.isReadOnly()&&lh(t,!0)})),e.on("SwitchMode",(function(){return lh(t,e.mode.isReadOnly())})),e.getParam("readonly",!1,"boolean")&&e.setMode("readonly")}function dh(){var e;return Oc.config({channels:((e={})[Vh]={schema:jh,onReceive:function(e,t){Zg.set(e,t.readonly)}},e)})}function mh(e,t){var n=e.getApi(t);return function(e){e(n)}}function gh(e,t){return Ui((function(n){mh(e,n)((function(n){n=e.onSetup(n),Q(n)&&t.set(n)}))}))}function hh(e,t){return Wi((function(n){return mh(e,n)(t.get())}))}function ph(e){return M(e,(function(e){return e.toArray()}))}function vh(e,n,r,o){var i,a,u=st(t);return{type:"item",dom:n.dom,components:ph(n.optComponents),data:e.data,eventOrder:Gh,hasSubmenu:e.triggersSubmenu,itemBehaviours:xc([gd("item-events",[(i=e,a=r,$i((function(e,t){mh(i,e)(i.onAction),i.triggersSubmenu||a!==Cg.CLOSE_ON_EXECUTE||(e.getSystem().isConnected()&&Ot(e,ki()),t.stop())}))),gh(e,u),hh(e,u)]),Uh((function(){return e.disabled||o.isDisabled()})),dh(),Ud.config({})].concat(e.itemBehaviours))}}function bh(e){return{value:e.value,meta:f({text:e.text.getOr("")},e.meta)}}function yh(e){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:e}}}function wh(e){return{dom:{tag:"div",classes:[Eg]},components:[or(Kg.translate(e))]}}function xh(e,t){return{dom:{tag:"div",classes:t,innerHtml:e}}}function Ch(e,t){return{dom:{tag:"div",classes:[Eg]},components:[{dom:{tag:e.tag,styles:e.styles},components:[or(Kg.translate(t))]}]}}function Sh(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:(e=e,t=Xh.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},e=e.split("+"),e=O(e,(function(e){var n=e.toLowerCase().trim();return Pr(t,n)?t[n]:e})),Xh.mac?e.join(""):e.join("+"))}};var t}function kh(e){return{dom:{tag:"div",classes:["tox-collection__item-checkmark"],innerHtml:Hd("checkmark",e)}}}function Oh(e,t){return t=t.map((function(e){return{attributes:{title:Kg.translate(e)}}})).getOr({}),f({tag:"div",classes:[Sg,kg].concat(e?["tox-collection__item-icon-rtl"]:[])},t)}function Th(e,t,n,r){void 0===r&&(r=W.none());var o,a,u,c,s,l,d=Kg.isRtl()&&e.iconContent.exists((function(e){return re(Yh,e)})),g=e.iconContent.map((function(e){return Kg.isRtl()&&re(Kh,e)?e+"-rtl":e})).map((function(e){return n=e,o=t.icons,e=r,W.from(o()[n.toLowerCase()]).or(e).getOrThunk((function(){return Pd(o)}));var n,o})),h=W.from(e.meta).fold((function(){return wh}),(function(e){return Pr(e,"style")?i(Ch,e.style):wh}));return"color"===e.presets?(l=e.ariaLabel,u=e.value,c=t,{dom:(s=g.getOr(""),l={tag:"div",attributes:l.map((function(e){return{title:c.translate(e)}})).getOr({}),classes:["tox-swatch"]},f(f({},l),"custom"===u?{tag:"button",classes:m(l.classes,["tox-swatches__picker-btn"]),innerHtml:s}:"remove"===u?{classes:m(l.classes,["tox-swatch--remove"]),innerHtml:s}:{attributes:f(f({},l.attributes),{"data-mce-color":u}),styles:{"background-color":u}})),optComponents:[]}):(o=e,g=g,a=h,h=d,n=(d=n)?g.or(W.some("")).map(yh):W.none(),d=o.checkMark,g=o.htmlContent.fold((function(){return o.textContent.map(a)}),(function(e){return W.some(xh(e,[Eg]))})),{dom:Oh(h,o.ariaLabel),optComponents:[n,g,o.shortcutContent.map(Sh),d,o.caret]})}function _h(e,t){return ye(e,"tooltipWorker").map((function(e){return[Gg.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e,overrides:{maxHeightFunction:Rc}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){Gg.setComponents(t,[_a({element:Oo.fromDom(e)})])}))}})]})).getOr([])}function Eh(e,t){return e=Kg.translate(e),e=Xg.DOM.encode(e),0<t.length?(t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"),e.replace(t,(function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"}))):e}function Dh(e){return{value:e}}function Ah(e){return Zh.test(e)||ep.test(e)}function zh(e){return e={value:e.value.replace(Zh,(function(e,t,n,r){return t+t+n+n+r+r}))},null===(e=ep.exec(e.value))?["FFFFFF","FF","FF","FF"]:e}function Rh(e){return 1===(e=e.toString(16)).length?"0"+e:e}function Mh(e){return e=Rh(e.red)+Rh(e.green)+Rh(e.blue),Dh(e)}function Nh(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}}function Bh(e){var t=parseInt(e,10);return t.toString()===e&&0<=t&&t<=255}function Ph(e){var t,n,r,o=(e.hue||0)%360,i=e.saturation/100;e=e.value/100,i=np(0,tp(i,1)),e=np(0,tp(e,1));if(0===i)return t=n=r=rp(255*e),Nh(t,n,r,1);o/=60;var a=e*i,u=a*(1-Math.abs(o%2-1));e-=a;switch(Math.floor(o)){case 0:t=a,n=u,r=0;break;case 1:t=u,n=a,r=0;break;case 2:t=0,n=a,r=u;break;case 3:t=0,n=u,r=a;break;case 4:t=u,n=0,r=a;break;case 5:t=a,n=0,r=u;break;default:t=n=r=0}return t=rp(255*(t+e)),n=rp(255*(n+e)),r=rp(255*(r+e)),Nh(t,n,r,1)}function Hh(e){var t=zh(e),n=parseInt(t[1],16);e=parseInt(t[2],16),t=parseInt(t[3],16);return Nh(n,e,t,1)}function Lh(e,t,n,r){return e=parseInt(e,10),t=parseInt(t,10),n=parseInt(n,10),r=parseFloat(r),Nh(e,t,n,r)}function Ih(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"}function Fh(e,t){return e.fire("ResizeContent",t)}(cc=wg=wg||{}).default="wrap",cc.floating="floating",cc.sliding="sliding",cc.scrolling="scrolling",(Yv=xg=xg||{}).auto="auto",Yv.top="top",Yv.bottom="bottom";var Vh="silver.readonly",jh=Jr([$e("readonly",go)]),Uh=function(e){return Zg.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},Wh=function(e){return Zg.config({disabled:e})},qh=function(e){return Zg.config({disabled:e,disableClass:"tox-tbtn--disabled"})},$h=function(e){return Zg.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},Gh=((Zi={})[wi()]=["disabling","alloy.base.behaviour","toggling","item-events"],Zi),Xh=tinymce.util.Tools.resolve("tinymce.Env"),Kh=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],Yh=["list-bull-circle","list-bull-default","list-bull-square"],Jh=function(e,t){return O(e,(function(e){switch(e.type){case"cardcontainer":return o=Jh((r=e).items,t),i="vertical"===r.direction?"tox-collection__item-container--column":Rg,a="left"===r.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right",{dom:{tag:"div",classes:[zg,i,a,function(){switch(r.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}}()]},components:o};case"cardimage":return a=e.src,o=e.classes,n=e.alt,{dom:{tag:"img",classes:o,attributes:{src:a,alt:n.getOr("")}}};case"cardtext":return n=e.name.exists((function(e){return re(t.cardText.highlightOn,e)}))?W.from(t.cardText.matchText).getOr(""):"",xh(Eh(e.text,n),e.classes)}var n,r,o,i,a}))},Qh=Us(Qd(),Zd()),Zh=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ep=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,tp=Math.min,np=Math.max,rp=Math.round,op=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,ip=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,ap=Nh(255,0,0,1),up=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),cp="tinymce-custom-colors";function sp(e){var t=[],n=document.createElement("canvas");n.height=1,n.width=1;for(var r=n.getContext("2d"),o=function(e,t){return t/=255,("0"+Math.round(e*t+255*(1-t)).toString(16)).slice(-2).toUpperCase()},i=0;i<e.length;i+=2)t.push({text:e[i+1],value:function(e){if(/^[0-9A-Fa-f]{6}$/.test(e))return"#"+e.toUpperCase();r.clearRect(0,0,n.width,n.height),r.fillStyle="#FFFFFF",r.fillStyle=e,r.fillRect(0,0,1,1);var t=r.getImageData(0,0,1,1).data,i=t[0],a=t[1];e=t[2],t=t[3];return"#"+o(i,t)+o(a,t)+o(e,t)}(e[i]),type:"choiceitem"});return t}function lp(e){return!1!==e.getParam("custom_colors")}function fp(e){return void 0!==(e=e.getParam("color_map"))?sp(e):Tp}function dp(e){_p.add(e)}function mp(e){e.addCommand("mceApplyTextcolor",(function(t,n){var r,o,i;o=t,i=n,(r=e).undoManager.transact((function(){r.focus(),r.formatter.apply(o,{value:i}),r.nodeChanged()}))})),e.addCommand("mceRemoveTextcolor",(function(t){var n,r;r=t,(n=e).undoManager.transact((function(){n.focus(),n.formatter.remove(r,{value:null},null,!0),n.nodeChanged()}))}))}function gp(e){var t=(t=(t=fp(e)).length,Math.max(5,Math.ceil(Math.sqrt(t))));return e.getParam("color_cols",t,"number")}function hp(e,t,n,r){"custom"===n?Ep(e)((function(n){n.each((function(n){dp(n),e.execCommand("mceApplyTextcolor",t,n),r(n)}))}),"#000000"):"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))}function pp(e,t){return e.concat(O(_p.state(),(function(e){return{type:Op,text:e,value:e}})).concat((e={type:n="choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},t?[e,{type:n,text:"Custom color",icon:"color-picker",value:"custom"}]:[e])));var n}function vp(e,t){return function(n){n(pp(e,t))}}function bp(e,t,n){t="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",n=n,e.setIconFill(t,n),e.setIconStroke(t,n)}function yp(e,n,r,o,i){e.ui.registry.addSplitButton(n,{tooltip:o,presets:"color",icon:"forecolor"===n?"text-color":"highlight-bg-color",select:function(t){var n,o;return W.from((n=r,e.dom.getParents(e.selection.getStart(),(function(e){(e=e.style["forecolor"===n?"color":"background-color"])&&(o=o||e)})),o)).bind((function(e){return function(e){if("transparent"===e)return W.some(Nh(0,0,0,0));var t=op.exec(e);return null!==t?W.some(Lh(t[1],t[2],t[3],"1")):(e=ip.exec(e),null!==e?W.some(Lh(e[1],e[2],e[3],e[4])):W.none())}(e).map((function(e){return e=Mh(e).value,ft(t.toLowerCase(),e)}))})).getOr(!1)},columns:gp(e),fetch:vp(fp(e),lp(e)),onAction:function(n){null!==i.get()&&hp(e,r,i.get(),t)},onItemAction:function(t,o){hp(e,r,o,(function(t){i.set(t),t={name:n,color:t},e.fire("TextColorChange",t)}))},onSetup:function(t){function r(e){e.name===n&&bp(t,e.name,e.color)}return null!==i.get()&&bp(t,n,i.get()),e.on("TextColorChange",r),function(){e.off("TextColorChange",r)}}})}function wp(e,n,r,o){e.ui.registry.addNestedMenuItem(n,{text:o,icon:"forecolor"===n?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(n){hp(e,r,n.value,t)}}]}})}function xp(e,t,n,r,o,i,a,u){var c=Jm(t);u=Dp(t,n,r,"color"!==o?"normal":"color",i,a,u);return eg(e,c,u,r,o)}function Cp(e,t){var n=$m(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}}function Sp(e,t,n){function r(n){return Tt(n,zp,{row:e,col:t})}function o(e,t){t.stop(),r(e)}var i;return Da({dom:{tag:"div",attributes:((i={role:"button"})["aria-labelledby"]=n,i)},behaviours:xc([gd("insert-table-picker-cell",[Rt(oi(),Wd.focus),Rt(wi(),r),Rt(fi(),o),Rt(Ci(),o)]),Gd.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Wd.config({onFocus:function(n){return Tt(n,Ap,{row:e,col:t})}})])})}var kp,Op="choiceitem",Tp=[{type:Op,text:"Light Green",value:"#BFEDD2"},{type:Op,text:"Light Yellow",value:"#FBEEB8"},{type:Op,text:"Light Red",value:"#F8CAC6"},{type:Op,text:"Light Purple",value:"#ECCAFA"},{type:Op,text:"Light Blue",value:"#C2E0F4"},{type:Op,text:"Green",value:"#2DC26B"},{type:Op,text:"Yellow",value:"#F1C40F"},{type:Op,text:"Red",value:"#E03E2D"},{type:Op,text:"Purple",value:"#B96AD9"},{type:Op,text:"Blue",value:"#3598DB"},{type:Op,text:"Dark Turquoise",value:"#169179"},{type:Op,text:"Orange",value:"#E67E23"},{type:Op,text:"Dark Red",value:"#BA372A"},{type:Op,text:"Dark Purple",value:"#843FA1"},{type:Op,text:"Dark Blue",value:"#236FA1"},{type:Op,text:"Light Gray",value:"#ECF0F1"},{type:Op,text:"Medium Gray",value:"#CED4D9"},{type:Op,text:"Gray",value:"#95A5A6"},{type:Op,text:"Dark Gray",value:"#7E8C8D"},{type:Op,text:"Navy Blue",value:"#34495E"},{type:Op,text:"Black",value:"#000000"},{type:Op,text:"White",value:"#ffffff"}],_p=function(e){void 0===e&&(e=10);var t=up.getItem(cp),n=(t=G(t)?JSON.parse(t):[],e-(t=t).length<0?t.slice(0,e):t),r=function(e){n.splice(e,1)};return{add:function(t){(function(e,t){return t=x(e,t),-1===t?W.none():W.some(t)})(n,t).each(r),n.unshift(t),n.length>e&&n.pop(),up.setItem(cp,JSON.stringify(n))},state:function(){return n.slice(0)}}}(10),Ep=function(e){return function(n,r){var o,i=(o=n,function(e){var t=e.getData();o(W.from(t.colorpicker)),e.close()});e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{colorpicker:r},onAction:function(e,t){"hex-valid"===t.name&&(t.value?e.enable("ok"):e.disable("ok"))},onSubmit:i,onClose:t,onCancel:function(){n(W.none())}})}},Dp=function(e,n,r,o,i,a,u){return al(O(e,(function(c){return"choiceitem"===c.type?Fe("choicemenuitem",Lg,c).fold(Qm,(function(s){return W.some(function(e,n,r,o,i,a,u,c){return void 0===c&&(c=!0),c=Th({presets:r,textContent:n?e.text:W.none(),htmlContent:W.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:n?e.shortcut:W.none(),checkMark:n?W.some(kh(u.icons)):W.none(),caret:W.none(),value:e.value},u,c),Fr(vh({data:bh(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){Gd.set(e,t)},isActive:function(){return Gd.isOn(e)},isDisabled:function(){return Zg.isDisabled(e)},setDisabled:function(t){return Zg.set(e,t)}}},onAction:function(t){return o(e.value)},onSetup:function(e){return e.setActive(i),t},triggersSubmenu:!1,itemBehaviours:[]},c,a,u),{toggling:{toggleClass:_g,toggleOnExecute:!1,selected:e.active}})}(s,1===r,o,n,a(c.value),i,u,Jm(e)))})):W.none()})))},Ap=gn("cell-over"),zp=gn("cell-execute"),Rp={inserttable:function(e){var t=gn("size-label"),n=function(e,t,n){for(var r=[],o=0;o<t;o++){for(var i=[],a=0;a<n;a++)i.push(Sp(o,a,e));r.push(i)}return r}(t,10,10),r=Bd({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[or("0x0")],behaviours:xc([Ud.config({})])});return{type:"widget",data:{value:gn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Qh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:M(n,(function(e){return O(e,Aa)})).concat(r.asSpec()),behaviours:xc([gd("insert-table-picker",[Pt(Ap,(function(e,t,o){var i=o.event.row;o=o.event.col;!function(e,t,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)Gd.set(e[i][a],i<=t&&a<=n)}(n,i,o,10,10),Ud.set(r.get(e),[or(o+1+"x"+(i+1))])})),Pt(zp,(function(t,n,r){e.onAction({numRows:r.event.row+1,numColumns:r.event.col+1}),Ot(t,ki())}))]),Vd.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(e,t){var n=pp(t.colorinput.getColors(),t.colorinput.hasCustomColors()),r=t.colorinput.getColorCols();t=xp(gn("menu-value"),n,(function(t){e.onAction({value:t})}),r,"color",Cg.CLOSE_ON_EXECUTE,c,t.shared.providers),r=f(f({},t),{markers:$m("color"),movement:Cp(r,"color")});return{type:"widget",data:{value:gn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Qh.widget(nm.sketch(r))]}}},Mp=function(e,n,o,i,a,u,c,s){return void 0===s&&(s=!0),s=Th({presets:i,textContent:W.none(),htmlContent:o?e.text.map((function(e){return Eh(e,n)})):W.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:W.none(),checkMark:W.none(),caret:W.none(),value:e.value},c.providers,s,e.icon),vh({data:bh(e),disabled:e.disabled,getApi:r({}),onAction:function(t){return a(e.value,e.meta)},onSetup:r(t),triggersSubmenu:!1,itemBehaviours:_h(e.meta,c)},s,u,c.providers)},Np=function(e){return e=e.text.fold((function(){return{}}),(function(e){return{innerHtml:e}})),{type:"separator",dom:f({tag:"div",classes:[kg,"tox-collection__group-heading"]},e),components:[]}},Bp=function(e,t,n,r){return void 0===r&&(r=!0),r=Th({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:W.none(),ariaLabel:e.text,caret:W.none(),checkMark:W.none(),shortcutContent:e.shortcut},n,r),vh({data:bh(e),getApi:function(e){return{isDisabled:function(){return Zg.isDisabled(e)},setDisabled:function(t){return Zg.set(e,t)}}},disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n)},Pp=function(e,n,r,o,i){void 0===o&&(o=!0);var a=(i=void 0!==i&&i)?(i=r.icons,{dom:{tag:"div",classes:[Dg],innerHtml:Hd("chevron-down",i)}}):(a=r.icons,{dom:{tag:"div",classes:[Dg],innerHtml:Hd("chevron-right",a)}});o=Th({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:W.none(),ariaLabel:e.text,caret:W.some(a),checkMark:W.none(),shortcutContent:e.shortcut},r,o);return vh({data:bh(e),getApi:function(e){return{isDisabled:function(){return Zg.isDisabled(e)},setDisabled:function(t){return Zg.set(e,t)}}},disabled:e.disabled,onAction:t,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},o,n,r)},Hp=function(e,t,n,r){return void 0===r&&(r=!0),r=Th({iconContent:e.icon,textContent:e.text,htmlContent:W.none(),ariaLabel:e.text,checkMark:W.some(kh(n.icons)),caret:W.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r),Fr(vh({data:bh(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){Gd.set(e,t)},isActive:function(){return Gd.isOn(e)},isDisabled:function(){return Zg.isDisabled(e)},setDisabled:function(t){return Zg.set(e,t)}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n),{toggling:{toggleClass:_g,toggleOnExecute:!1,selected:e.active}})},Lp=function(e,t){return n=Rp,r=e.fancytype,(Object.prototype.hasOwnProperty.call(n,r)?W.some(n[r]):W.none()).map((function(n){return n(e,t)}));var n,r},Ip=function(e,t,n,r){var o={dom:Oh(!1,e.label),optComponents:[W.some({dom:{tag:"div",classes:[zg,Rg]},components:Jh(e.items,r)})]};return vh({data:bh(f({text:W.none()},e)),disabled:e.disabled,getApi:function(e){return{isDisabled:function(){return Zg.isDisabled(e)},setDisabled:function(t){Zg.set(e,t),oe(Qc(e.element,"*"),(function(n){e.getSystem().getByDom(n).each((function(e){e.hasConfigured(Zg)&&Zg.set(e,t)}))}))}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:W.from(r.itemBehaviours).getOr([])},o,t,n.providers)};function Fp(e,t,n,r,o){function i(e){return o?f(f({},e),{shortcut:W.none(),icon:e.text.isSome()?W.none():e.icon}):e}var a=n.shared.providers;switch(e.type){case"menuitem":return Fe("menuitem",Fg,e).fold(Qm,(function(e){return W.some(Bp(i(e),t,a,r))}));case"nestedmenuitem":return Fe("nestedmenuitem",Vg,e).fold(Qm,(function(e){return W.some(Pp(i(e),t,a,r,o))}));case"togglemenuitem":return Fe("togglemenuitem",jg,e).fold(Qm,(function(e){return W.some(Hp(i(e),t,a,r))}));case"separator":return Fe("separatormenuitem",Hm,e).fold(Qm,(function(e){return W.some(Np(e))}));case"fancymenuitem":return Fe("fancymenuitem",Ig,e).fold(Qm,(function(e){return Lp(i(e),n)}));default:return W.none()}}function Vp(e,t,n,r,o,i,a){var u=1===r,c=!u||Jm(e);return al(O(e,(function(e){switch(e.type){case"separator":return Fe("Autocompleter.Separator",Hm,e).fold(Qm,(function(e){return W.some(Np(e))}));case"cardmenuitem":return Fe("cardmenuitem",Hg,e).fold(Qm,(function(e){return W.some(Ip(f(f({},e),{onAction:function(t){e.onAction(t),n(e.value,e.meta)}}),o,i,{itemBehaviours:_h(e.meta,i),cardText:{matchText:t,highlightOn:a}}))}));case"autocompleteitem":default:return Fe("Autocompleter.Item",Lm,e).fold(Qm,(function(e){return W.some(Mp(e,t,u,"normal",n,o,i,c))}))}})))}function jp(e,t,n,r,o){var i=Jm(t);t=al(O(t,(function(e){function t(e){return Fp(e,n,r,(e=e,o?!e.hasOwnProperty("text"):i),o)}return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t(f(f({},e),{disabled:!0})):t(e)})));return(o?Zm:eg)(e,i,t,1,"normal")}function Up(e){return um.singleData(e.value,e)}function Wp(e,t,n){return dr(e,t,gv,n,!1)}function qp(e,t,n){return dr(e,t,gv,n,!0)}function $p(e,t,n){return $a(e,t,n).isSome()}function Gp(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},schedule:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n=setTimeout((function(){e.apply(null,r),n=null}),t)}}}function Xp(e){return void 0===(e=e.raw).touches||1!==e.touches.length?W.none():W.some(e.touches[0])}function Kp(e){var t=st(W.none()),n=st(!1),r=Gp((function(t){e.triggerEvent(Si(),t),n.set(!0)}),400),o=Oe([{key:Yo(),value:function(e){return Xp(e).each((function(o){r.cancel(),o={x:o.clientX,y:o.clientY,target:e.target},r.schedule(e),n.set(!1),t.set(W.some(o))})),W.none()}},{key:Jo(),value:function(e){return r.cancel(),Xp(e).each((function(e){t.get().each((function(n){var r,o;r=e,o=n,n=Math.abs(r.clientX-o.x),o=Math.abs(r.clientY-o.y),(5<n||5<o)&&t.set(W.none())}))})),W.none()}},{key:Qo(),value:function(o){return r.cancel(),t.get().filter((function(e){return pt(e.target,o.target)})).map((function(t){return n.get()?(o.prevent(),!1):e.triggerEvent(Ci(),o)}))}}]);return{fireIfReady:function(e,t){return ye(o,t).bind((function(t){return t(e)}))}}}function Yp(){return Xo().browser.isFirefox()}function Jp(e,t){var n,r=je("Getting GUI events settings",pv,t),o=Kp(r),i=O(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return Wp(e,t,(function(e){o.fireIfReady(e,t).each((function(t){t&&e.kill()})),r.triggerEvent(t,e)&&e.kill()}))})),a=st(W.none()),u=Wp(e,"paste",(function(e){o.fireIfReady(e,"paste").each((function(t){t&&e.kill()})),r.triggerEvent("paste",e)&&e.kill(),a.set(W.some(setTimeout((function(){r.triggerEvent(bi(),e)}),0)))})),c=Wp(e,"keydown",(function(e){var t;r.triggerEvent("keydown",e)?e.kill():!0!==r.stopBackspace||(t=e).raw.which!==Tf[0]||re(["input","textarea"],It(t.target))||$p(t.target,'[contenteditable="true"]')||e.prevent()})),s=(n=e,t=function(e){r.triggerEvent("focusin",e)&&e.kill()},Yp()?qp(n,"focus",t):Wp(n,"focusin",t)),l=st(W.none()),f=(n=e,t=function(e){r.triggerEvent("focusout",e)&&e.kill(),l.set(W.some(setTimeout((function(){r.triggerEvent(vi(),e)}),0)))},Yp()?qp(n,"blur",t):Wp(n,"focusout",t));return{unbind:function(){oe(i,(function(e){e.unbind()})),c.unbind(),s.unbind(),f.unbind(),u.unbind(),a.get().each(clearTimeout),l.get().each(clearTimeout)}}}function Qp(e,t){return t=ye(e,"target").getOr(t),st(t)}function Zp(e,t,n,r,o,i){e=e(t,r);var a,u,c=(a=st(!1),u=st(!1),{stop:function(){a.set(!0)},cut:function(){u.set(!0)},isStopped:a.get,isCut:u.get,event:n,setSource:o.set,getSource:o.get});return e.fold((function(){return i.logEventNoHandlers(t,r),vv.complete()}),(function(e){var n=e.descHandler;return Sn(n)(c),c.isStopped()?(i.logEventStopped(t,e.element,n.purpose),vv.stopped()):c.isCut()?(i.logEventCut(t,e.element,n.purpose),vv.complete()):Wt(e.element).fold((function(){return i.logNoParent(t,e.element,n.purpose),vv.complete()}),(function(r){return i.logEventResponse(t,e.element,n.purpose),vv.resume(r)}))}))}function ev(e,n,r){var o,i=(o=st(!1),{stop:function(){o.set(!0)},cut:t,isStopped:o.get,isCut:c,event:n,setSource:u("Cannot set source of a broadcasted event"),getSource:u("Cannot get source of a broadcasted event")});return oe(e,(function(e){e=e.descHandler,Sn(e)(i)})),i.isStopped()}function tv(){var e={};return{registerId:function(t,n,r){me(r,(function(r,o){var a=void 0!==e[o]?e[o]:{};a[n]={cHandler:i.apply(void 0,[(r=r).handler].concat(t)),purpose:r.purpose},e[o]=a}))},unregisterId:function(t){me(e,(function(e,n){e.hasOwnProperty(t)&&delete e[t]}))},filterByType:function(t){return ye(e,t).map((function(e){return pe(e,(function(e,t){return{id:t,descHandler:e}}))})).getOr([])},find:function(t,n,r){var o=ye(e,n);return xt(r,(function(e){return t=o,hn(n=e).fold((function(){return W.none()}),(function(e){return t.bind((function(t){return ye(t,e)})).map((function(e){return{element:n,descHandler:e}}))}));var t,n}),t)}}}function nv(){function e(e){var t=e.element;return hn(t).fold((function(){return function(e,t){return e=gn(fa+e),ma(t,e),e}("uid-",e.element)}),(function(e){return e}))}var t=tv(),n={},r=function(e){hn(e.element).each((function(e){delete n[e],t.unregisterId(e)}))};return{find:function(e,n,r){return t.find(e,n,r)},filter:function(e){return t.filterByType(e)},register:function(o){var i=e(o);we(n,i)&&function(e,t){var o=n[t];if(o!==e)throw new Error('The tagId "'+t+'" is already used by: '+mn(o.element)+"\nCannot use it for: "+mn(e.element)+"\nThe conflicting element is"+(Sa(o.element)?" ":" not ")+"already in the DOM");r(e)}(o,i),t.registerId([o],i,o.events),n[i]=o},unregister:r,getById:function(e){return ye(n,e)}}}function rv(e){function n(t){return Wt(e.element).fold(s,(function(e){return pt(t,e)}))}function o(e,t){return a.find(n,e,t)}function i(e){var t=a.filter(yi());oe(t,(function(t){t=t.descHandler,Sn(t)(e)}))}var a=nv(),u=Jp(e.element,{triggerEvent:function(e,t){return Za(e,t.target,(function(n){return yv(o,e,t,t.target,n)}))}}),c={debugInfo:r("real"),triggerEvent:function(e,t,n){Za(e,0,(function(r){return yv(o,e,n,t,r)}))},triggerFocus:function(e,n){hn(e).fold((function(){Eu(e)}),(function(r){Za(pi(),0,(function(r){var i,a,u,c,s;return i=o,a=pi(),s=r,r=Qp(u={originator:n,kill:t,prevent:t,target:e},c=e),Zp(i,a,u,c,r,s),!1}))}))},triggerEscape:function(e,t){c.triggerEvent("keydown",e.element,t.event)},getByUid:function(e){return v(e)},getByDom:function(e){return b(e)},build:Da,addToGui:function(e){d(e)},removeFromGui:function(e){m(e)},addToWorld:function(e){l(e)},removeFromWorld:function(e){f(e)},broadcast:function(e){g(e)},broadcastOn:function(e,t){h(e,t)},broadcastEvent:function(e,t){p(e,t)},isConnected:s},l=function(e){e.connect(c),Ki(e.element)||(a.register(e),oe(e.components(),l),c.triggerEvent(Ti(),e.element,{target:e.element}))},f=function(e){Ki(e.element)||(oe(e.components(),f),a.unregister(e)),e.disconnect()},d=function(t){ws(e,t)},m=function(e){Cs(e)},g=function(e){i({universal:!0,data:e})},h=function(e,t){i({universal:!1,channels:e,data:t})},p=function(e,t){return e=a.filter(e),ev(e,t)},v=function(e){return a.getById(e).fold((function(){return se.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),se.value)},b=function(e){return e=hn(e).getOr("not found"),v(e)};return l(e),{root:e,element:e.element,destroy:function(){u.unbind(),ia(e.element)},add:d,remove:m,getByUid:v,getByDom:b,addToWorld:l,removeFromWorld:f,broadcast:g,broadcastOn:h,broadcastEvent:p}}function ov(e,t,n,r){return r=kv(e,t,n,r),xv.sketch(r)}function iv(e,t){return xv.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})}function av(e,t){function n(e,t){return O(Qc(e.element,".tox-collection__item"),t)}var r,i=e.label.map((function(e){return iv(e,t)})),a=(r=function(e){return function(t,n){$a(n.event.target,"[data-collection-item-value]").each((function(r){e(t,n,r,cn(r,"data-collection-item-value"))}))}})((function(n,r,o,i){r.stop(),t.isDisabled()||Tt(n,Dv,{name:e.name,value:i})})),u=[Rt(oi(),r((function(e,t,n){Eu(n)}))),Rt(fi(),a),Rt(Ci(),a),Rt(ii(),r((function(e,t,n){qa(e.element,"."+Ag).each((function(e){Bn(e,Ag)})),Mn(n,Ag)}))),Rt(ai(),r((function(e){qa(e.element,"."+Ag).each((function(e){Bn(e,Ag)}))}))),$i(r((function(t,n,r,o){Tt(t,Dv,{name:e.name,value:o})})))];u=xv.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:o},behaviours:xc([Zg.config({disabled:t.isDisabled,onDisabled:function(e){n(e,(function(e){Mn(e,"tox-collection__item--state-disabled"),un(e,"aria-disabled",!0)}))},onEnabled:function(e){n(e,(function(e){Bn(e,"tox-collection__item--state-disabled"),fn(e,"aria-disabled")}))}}),dh(),Ud.config({}),nf.config({store:{mode:"memory",initialValue:[]},onSetValue:function(n,r){!function(n,r){r=O(r,(function(n){var r=Kg.translate(n.text),o=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",i='<div class="tox-collection__item-icon">'+n.icon+"</div>",a={_:" "," - ":" ","-":" "};r=r.replace(/\_| \- |\-/g,(function(e){return a[e]}));return'<div class="tox-collection__item'+(t.isDisabled()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+Sv.encodeAllRaw(n.value)+'" title="'+r+'" aria-label="'+r+'">'+i+o+"</div>"})),r="auto"!==e.columns&&1<e.columns?k(r,e.columns):[r],r=O(r,(function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"})),on(n.element,r.join(""))}(n,r),"auto"===e.columns&&tg(n,5,"tox-collection__item").each((function(e){var t=e.numRows;e=e.numColumns;Vd.setGridSize(n,t,e)})),Ot(n,Nv)}}),Cv.config({}),Vd.config((a=e.columns,r="normal",1===a?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===a?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===r?".tox-swatches__row":".tox-collection__group",cell:"color"===r?"."+Og:"."+kg}})),gd("collection-events",u)]),eventOrder:((u={})[wi()]=["disabling","alloy.base.behaviour","collection-events"],u)});return ov(i,u,["tox-form__group--collection"],[])}function uv(e){return xc([Wd.config({onFocus:e.selectOnFocus?function(e){var t=e.element;e=Yn(t);t.dom.setSelectionRange(0,e.length)}:t})])}function cv(e){return{tag:e.tag,attributes:f({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}}(Ko=kp=kp||{})[Ko.ContentFocus=0]="ContentFocus",Ko[Ko.UiFocus=1]="UiFocus";var sv,lv,fv,dv,mv=function(e,t){function n(){return i.get().isSome()}function r(){n()&&cm.hide(u)}function o(t,n,r,o){t.matchLength=n.text.length;var i,a,c=F(r,(function(e){return W.from(e.columns)})).getOr(1);cm.showAt(u,{anchor:"node",root:Oo.fromDom(e.getBody()),node:W.from(t.element)},nm.sketch((i=eg("autocompleter-value",!0,o,c,"normal"),n=c,r=kp.ContentFocus,t="normal",o=(r===kp.ContentFocus?Sl:Cl)(),c=Cp(n,t),a=$m(t),{dom:i.dom,components:i.components,items:i.items,value:i.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:c,fakeFocus:r===kp.ContentFocus,focusManager:o,menuBehaviours:Ug("auto"!==n?[]:[Ui((function(e,t){tg(e,4,a.item).each((function(t){var n=t.numColumns;t=t.numRows;Vd.setGridSize(e,t,n)}))}))])}))),cm.getContent(u).each(Of.highlightFirst)}var i=st(W.none()),a=st(!1),u=Da(cm.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:xc([gd("dismissAutocompleter",[Rt(Mi(),(function(){return c()}))])]),lazySink:t.getSink})),c=function(){var t;n()&&(t=i.get().map((function(e){return e.element})),zm(t.getOr(Oo.fromDom(e.selection.getNode()))).each(nn),r(),i.set(W.none()),a.set(!1))},s=xe((function(){return Dm(e)})),l=function(u){var f;f=u,i.get().map((function(t){return Sm(e.dom,e.selection.getRng(),t.triggerChar).bind((function(t){return Pm(e,s,t,f)}))})).getOrThunk((function(){return Tm(e,s)})).fold(c,(function(u){var s,f;s=u.context,n()||(f=bm(e,s.range),i.set(W.some({triggerChar:s.triggerChar,element:f,matchLength:s.text.length})),a.set(!1)),u.lookupData.then((function(n){i.get().map((function(i){var s,f,d,m=u.context;i.triggerChar===m.triggerChar&&(s=m.triggerChar,d=F(f=n,(function(e){return W.from(e.columns)})).getOr(1),0<(f=M(f,(function(n){var o=n.items;return Vp(o,n.matchText,(function(t,o){var i=e.selection.getRng();Sm(e.dom,i,s).fold((function(){}),(function(e){var i=e.range;e={hide:function(){c()},reload:function(e){r(),l(e)}};a.set(!0),n.onAction(e,i,t,o),a.set(!1)}))}),d,Cg.BUBBLE_TO_SANDBOX,t,n.highlightOn)}))).length?o(i,m,n,f):(10<=m.text.length-i.matchLength?c:r)())}))}))}))},f={onKeypress:pm((function(e){27!==e.which&&l()}),50),cancelIfNecessary:c,isMenuOpen:function(){return cm.isOpen(u)},isActive:n,isProcessingAction:a.get,getView:function(){return cm.getContent(u)}};!1===e.hasPlugin("rtc")&&Rm(f,e)},gv=s,hv=fr,pv=Ne([bo("triggerEvent"),rt("stopBackspace",!0)]),vv=Hr([{stopped:[]},{resume:["element"]},{complete:[]}]),bv=function(e,t,n,r,o,i){return Zp(e,t,n,r,o,i).fold(s,(function(r){return bv(e,t,n,r,o,i)}),c)},yv=function(e,t,n,r,o){var i=Qp(n,r);return bv(e,t,n,r,i,o)},wv=il({name:"Container",factory:function(e){var t=e.dom,n=t.attributes;t=d(t,["attributes"]);return{uid:e.uid,dom:f({tag:"div",attributes:f({role:"presentation"},n)},t),components:e.components,behaviours:Bs(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[rt("components",[]),gi("containerBehaviours",[]),rt("events",{}),rt("domModification",{}),rt("eventOrder",{})]}),xv=(Ni=r([rt("prefix","form-field"),gi("fieldBehaviours",[yf,nf])]),q=r([mf({schema:[qe("dom")],name:"label"}),mf({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[qe("text")],name:"aria-descriptor"}),df({factory:{sketch:function(e){var t=ke(e,["factory"]);return e.factory.sketch(t)}},schema:[qe("factory")],name:"field"})]),tf({name:"FormField",configFields:Ni(),partFields:q(),factory:function(e,t,n,r){var o=Ps(e.fieldBehaviours,[yf.config({find:function(t){return Ks(t,e,"field")}}),nf.config({store:{mode:"manual",getValue:function(e){return yf.getCurrent(e).bind(nf.getValue)},setValue:function(e,t){yf.getCurrent(e).each((function(e){nf.setValue(e,t)}))}}})]),i=ji([Ui((function(t,n){var r=Js(t,e,["label","field","aria-descriptor"]);r.field().each((function(t){var n=gn(e.prefix);r.label().each((function(e){un(e.element,"for",n),un(t.element,"id",n)})),r["aria-descriptor"]().each((function(n){var r=gn(e.prefix);un(n.element,"id",r),un(t.element,"aria-describedby",r)}))}))}))]);return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:{getField:function(t){return Ks(t,e,"field")},getLabel:function(t){return Ks(t,e,"label")}}}},apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}})),Cv=(za=Object.freeze({__proto__:null,exhibit:function(e,t){return xn({attributes:Oe([{key:t.tabAttr,value:"true"}])})}}),Tc=[rt("tabAttr","data-alloy-tabstop")],_u({fields:Tc,name:"tabstopping",active:za})),Sv=tinymce.util.Tools.resolve("tinymce.html.Entities"),kv=function(e,t,n,r){return{dom:Ov(n),components:e.toArray().concat([t]),fieldBehaviours:xc(r)}},Ov=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},Tv=gn("form-component-change"),_v=gn("form-close"),Ev=gn("form-cancel"),Dv=gn("form-action"),Av=gn("form-submit"),zv=gn("form-block"),Rv=gn("form-unblock"),Mv=gn("form-tabchange"),Nv=gn("form-resize"),Bv=(sc=r([Qe("data"),rt("inputAttributes",{}),rt("inputStyles",{}),rt("tag","input"),rt("inputClasses",[]),oc("onSetValue"),rt("styles",{}),rt("eventOrder",{}),gi("inputBehaviours",[nf,Wd]),rt("selectOnFocus",!0)]),il({name:"Input",configFields:sc(),factory:function(e,t){return{uid:e.uid,dom:cv(e),components:[],behaviours:f(f({},uv(n=e)),Ps(n.inputBehaviours,[nf.config({store:f(f({mode:"manual"},n.data.map((function(e){return{initialValue:e}})).getOr({})),{getValue:function(e){return Yn(e.element)},setValue:function(e,t){Yn(e.element)!==t&&Jn(e.element,t)}}),onSetValue:n.onSetValue})])),eventOrder:e.eventOrder};var n}}));Bo={},g={exports:Bo};function Pv(e){setTimeout((function(){throw e}),0)}function Hv(e){return e=It(e),re(Kv,e)}function Lv(e,t){var n=t.getRoot(e).getOr(e.element);Bn(n,t.invalidClass),t.notify.each((function(t){Hv(e.element)&&un(e.element,"aria-invalid",!1),t.getContainer(e).each((function(e){on(e,t.validHtml)})),t.onValid(e)}))}function Iv(e,t,n,r){var o=t.getRoot(e).getOr(e.element);Mn(o,t.invalidClass),t.notify.each((function(t){Hv(e.element)&&un(e.element,"aria-invalid",!0),t.getContainer(e).each((function(e){on(e,r)})),t.onInvalid(e,r)}))}function Fv(e,t,n){return t.validator.fold((function(){return Xv(se.value(!0))}),(function(t){return t.validate(e)}))}function Vv(e,t,n){return t.notify.each((function(t){t.onValidate(e)})),Fv(e,t).map((function(n){return e.getSystem().isConnected()?n.fold((function(n){return Iv(e,t,0,n),se.error(n)}),(function(n){return Lv(e,t),se.value(n)})):se.error("No longer in system")}))}lv=Bo,fv=g,dv=sv=void 0,function(t){"object"==typeof lv&&void 0!==fv?fv.exports=t():"function"==typeof sv&&sv.amd?sv([],t):("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).EphoxContactWrapper=t()}((function(){return function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var c="function"==typeof dv&&dv;if(!u&&c)return c(a,!0);if(i)return i(a,!0);throw(c=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",c}c=n[a]={exports:{}},t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof dv&&dv,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r,o;t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var c,s=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&m())}function m(){if(!l){var e=u(d);l=!0;for(var t=s.length;t;){for(c=s,s=[];++f<t;)c&&c[f].run();f=-1,t=s.length}c=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function h(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new g(e,t)),1!==s.length||l||u(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){function n(){}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn((function(){var n,r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){try{n=r(e._value)}catch(n){return void a(t.promise,n)}i(t.promise,n)}else(1===e._state?i:a)(t.promise,e._value)}))):e._deferreds.push(t)}function i(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void s((o=n,i=t,function(){o.apply(i,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){a(e,t)}var o,i}function a(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&r._immediateFn((function(){e._handled||r._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function s(e,t){var n=!1;try{e((function(e){n||(n=!0,i(t,e))}),(function(e){n||(n=!0,a(t,e))}))}catch(e){if(n)return;n=!0,a(t,e)}}var l,f;l=this,f=setTimeout,r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new c(e,t,r)),r},r.all=function(e){var t=Array.prototype.slice.call(e);return new r((function(e,n){if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)!function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(a){n(a)}}(o,t[o])}))},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r((function(t){t(e)}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},r._immediateFn="function"==typeof e?function(t){e(t)}:function(e){f(e,0)},r._unhandledRejectionFn=function(e){},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=r:l.Promise||(l.Promise=r)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;function s(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new s(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new s(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[t]=!0,o((function(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill");e="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:e.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}));var jv,Uv=g.exports.boltExport,Wv=function(e){var t=W.none(),n=[],r=function(e){o()?a(e):n.push(e)},o=function(){return t.isSome()},i=function(e){oe(e,a)},a=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};return e((function(e){o()||(t=W.some(e),i(n),n=[])})),{get:r,map:function(e){return Wv((function(t){r((function(n){t(e(n))}))}))},isReady:o}},qv={nu:Wv,pure:function(e){return Wv((function(t){t(e)}))}},$v=function(e){function t(t){e().then(t,Pv)}return{map:function(t){return $v((function(){return e().then(t)}))},bind:function(t){return $v((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return $v((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return qv.nu(t)},toCached:function(){var t=null;return $v((function(){return t=null===t?e():t}))},toPromise:e,get:t}},Gv=function(e){return $v((function(){return new Uv(e)}))},Xv=function(e){return $v((function(){return Uv.resolve(e)}))},Kv=["input","textarea"],Yv=(cc=Object.freeze({__proto__:null,markValid:Lv,markInvalid:Iv,query:Fv,run:Vv,isInvalid:function(e,t){return e=t.getRoot(e).getOr(e.element),Pn(e,t.invalidClass)}}),Object.freeze({__proto__:null,events:function(e,n){return e.validator.map((function(n){return ji([Rt(n.onEvent,(function(t){Vv(t,e).get(o)}))].concat(n.validateOnLoad?[Ui((function(n){Vv(n,e).get(t)}))]:[]))})).getOr({})}})),Jv=(Zi=[qe("invalidClass"),rt("getRoot",W.none),nt("notify",[rt("aria","alert"),rt("getContainer",W.none),rt("validHtml",""),oc("onValid"),oc("onInvalid"),oc("onValidate")]),nt("validator",[qe("validate"),rt("onEvent","input"),rt("validateOnLoad",!0)])],_u({fields:Zi,name:"invalidating",active:Yv,apis:cc,extra:{validation:function(e){return function(t){return t=nf.getValue(t),Xv(e(t))}}}})),Qv=(Ko=Object.freeze({__proto__:null,getCoupled:function(e,t,n,r){return n.getOrCreate(e,t,r)}}),Ni=[$e("others",ao(se.value,so()))],_u({fields:Ni,name:"coupling",apis:Ko,state:Object.freeze({__proto__:null,init:function(){var e={},t=r({});return wa({readState:t,getOrCreate:function(t,n,r){var o=Mr(n.others);if(o)return ye(e,r).getOrThunk((function(){var o=ye(n.others,r).getOrDie("No information found for coupled component: "+r)(t);o=t.getSystem().build(o);return e[r]=o}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}})}})})),Zv=r("sink");q=r(mf({name:Zv(),overrides:r({dom:{tag:"div"},behaviours:xc([jl.config({useFixed:s})]),events:ji([Ht(ui()),Ht(ei()),Ht(fi())])})}));function eb(e,t){var n=e.getHotspot(t).getOr(t),r=e.getAnchorOverrides();return e.layouts.fold((function(){return{anchor:"hotspot",hotspot:n,overrides:r}}),(function(e){return{anchor:"hotspot",hotspot:n,overrides:r,layouts:e}}))}function tb(e,t,n,r,o,i,a){var u,c,s,l,d,m,g=eb(e,n);return(u=g,c=n,s=r,l=o,d=a,t=t=t,t=(0,(e=e).fetch)(c).map(t),m=_y(c,e),t.map((function(e){return e.bind((function(e){return W.from(um.sketch(f(f({},l.menu()),{uid:ga(""),data:e,highlightImmediately:d===jv.HighlightFirst,onOpenMenu:function(e,t){var n=m().getOrDie();jl.position(n,u,t),Kl.decloak(s)},onOpenSubmenu:function(e,t,n){var r=m().getOrDie();jl.position(r,{anchor:"submenu",item:t},n),Kl.decloak(s)},onRepositionMenu:function(e,t,n){var r=m().getOrDie();jl.position(r,u,t),oe(n,(function(e){jl.position(r,{anchor:"submenu",item:e.triggeringItem},e.triggeredMenu)}))},onEscape:function(){return Wd.focus(c),Kl.close(s),W.some(!0)}})))}))}))).map((function(e){return e.fold((function(){Kl.isOpen(r)&&Kl.close(r)}),(function(e){Kl.cloak(r),Kl.open(r,e),i(r)})),r}))}function nb(e,t,n,r,o,i,a){return Kl.close(r),Xv(r)}function rb(e,t,n,r,o,i){var a=Qv.getCoupled(n,"sandbox");return(Kl.isOpen(a)?nb:tb)(e,t,n,a,r,o,i)}function ob(e,t,n){t=yf.getCurrent(t).getOr(t),e=sr(e.element),n?jn(t.element,"min-width",e+"px"):(t=t.element,Pa.set(t,e))}function ib(e){Kl.getState(e).each((function(e){um.repositionMenus(e)}))}function ab(e,t,n){var r=Ga(),o=_y(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:of(e.sandboxBehaviours,[nf.config({store:{mode:"memory",initialValue:t}}),Kl.config({onOpen:function(o,i){var a=eb(e,t);r.link(t.element),e.matchWidth&&ob(a.hotspot,i,e.useMinWidth),e.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},onClose:function(e,o){r.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},isPartOf:function(e,n,r){return Ya(n,r)||Ya(t,r)},getAttachPoint:function(){return o().getOrDie()}}),yf.config({find:function(e){return Kl.getState(e).bind((function(e){return yf.getCurrent(e)}))}}),Oc.config({channels:f(f({},As({isExtraPart:c})),zs({doReposition:ib}))})])}}function ub(e){e=Qv.getCoupled(e,"sandbox"),ib(e)}function cb(e,n,r){function o(e,t){Tt(e,zy,{value:t})}var i,a,u=xv.parts.field({factory:Bv,inputClasses:["tox-textfield"],onSetValue:function(e){return Jv.run(e).get(t)},inputBehaviours:xc([Zg.config({disabled:n.providers.isDisabled}),dh(),Cv.config({}),Jv.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return Wt(e.element)},notify:{onValid:function(e){var t=nf.getValue(e);Tt(e,Ay,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=nf.getValue(e);return 0===t.length?Xv(se.value(!0)):(e=Oo.fromTag("span"),jn(e,"background-color",t),e=$n(e,"background-color").fold((function(){return se.error("blah")}),(function(e){return se.value(t)})),Xv(e))}}})]),selectOnFocus:!1}),s=e.label.map((function(e){return iv(e,n.providers)})),l=Bd((i={dom:{tag:"span",attributes:{"aria-label":n.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[du,fu,yc]},onLtr:function(){return[fu,du,yc]}},components:[],fetch:vp(r.getColors(),r.hasCustomColors()),columns:r.getColorCols(),presets:"color",onItemAction:function(e,t){l.getOpt(e).each((function(e){"custom"===t?r.colorPicker((function(t){t.fold((function(){return Ot(e,Ry)}),(function(t){o(e,t),dp(t)}))}),"#ffffff"):o(e,"remove"===t?"":t)}))}},a=n,Ey.sketch({dom:i.dom,components:i.components,toggleClass:"mce-active",dropdownBehaviours:xc([Wh(a.providers.isDisabled),dh(),Dy.config({}),Cv.config({})]),layouts:i.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:a.getSink,fetch:function(e){return Gv((function(e){return i.fetch(e)})).map((function(t){return W.from(Up(Fr(xp(gn("menu-value"),t,(function(t){i.onItemAction(e,t)}),i.columns,i.presets,Cg.CLOSE_ON_EXECUTE,c,a.providers),{movement:Cp(i.columns,i.presets)})))}))},parts:{menu:Gm(0,0,i.presets)}})));return xv.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:s.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[u,l.asSpec()]}]),fieldBehaviours:xc([gd("form-field-events",[Rt(Ay,(function(t,n){l.getOpt(t).each((function(e){jn(e.element,"background-color",n.event.color)})),Tt(t,Tv,{name:e.name})})),Rt(zy,(function(e,t){xv.getField(e).each((function(n){nf.setValue(n,t.event.value),yf.getCurrent(e).each(Wd.focus)}))})),Rt(Ry,(function(e,t){xv.getField(e).each((function(t){yf.getCurrent(e).each(Wd.focus)}))}))])])})}function sb(e,t,n){return{hue:e,saturation:t,value:n}}function lb(e){return-1===(e=e.event.raw).type.indexOf("touch")?void 0!==e.clientX?W.some(e).map((function(e){return Na(e.clientX,e.clientY)})):W.none():void 0!==e.touches&&1===e.touches.length?W.some(e.touches[0]).map((function(e){return Na(e.clientX,e.clientY)})):W.none()}function fb(e){return e.model.minX}function db(e){return e.model.minY}function mb(e){return e.model.minX-1}function gb(e){return e.model.minY-1}function hb(e){return e.model.maxX}function pb(e){return e.model.maxY}function vb(e){return e.model.maxX+1}function bb(e){return e.model.maxY+1}function yb(e,t,n){return t(e)-n(e)}function wb(e){return yb(e,hb,fb)}function xb(e){return yb(e,pb,db)}function Cb(e){return wb(e)/2}function Sb(e){return xb(e)/2}function kb(e){return e.stepSize}function Ob(e){return e.snapToGrid}function Tb(e){return e.snapStart}function _b(e){return e.rounded}function Eb(e,t){return void 0!==e[t+"-edge"]}function Db(e){return Eb(e,"left")}function Ab(e){return Eb(e,"right")}function zb(e){return Eb(e,"top")}function Rb(e){return Eb(e,"bottom")}function Mb(e){return e.model.value.get()}function Nb(e,t){return{x:e,y:t}}function Bb(e,t){Tt(e,Py(),{value:t})}function Pb(e,t,n,r){return e<t?e:n<e?n:e===t?t-1:Math.max(t,e-r)}function Hb(e,t,n,r){return n<e?e:e<t?t:e===n?n+1:Math.min(n,e+r)}function Lb(e,t,n){return Math.max(t,Math.min(n,e))}function Ib(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.step,a=e.snap,u=e.snapStart,c=e.rounded,s=e.hasMinEdge,l=e.hasMaxEdge,f=e.minBound,d=e.maxBound;e=e.screenRange,s=s?t-1:t,l=l?n+1:n;if(o<f)return s;if(d<o)return l;var m,g,h,p;f=f,f=Math.min(d,Math.max(o,f))-f,l=Lb(f/e*r+t,s,l);return a&&t<=l&&l<=n?(m=l,g=t,h=n,p=i,u.fold((function(){var e=Math.round((m-g)/p)*p;return Lb(g+e,g-1,h+1)}),(function(e){var t=Math.round((m-e)%p/p),n=Math.floor((m-e)/p),r=Math.floor((h-e)/p);t=Math.min(r,n+t);return Math.max(e,e+t*p)}))):c?Math.round(l):l}function Fb(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,u=e.maxBound,c=e.maxOffset,s=e.centerMinEdge;e=e.centerMaxEdge;return o<t?i?0:s:n<o?a?u:e:(o-t)/r*c}function Vb(e){return e.element.dom.getBoundingClientRect()}function jb(e){return Vb(e)[Hy]}function Ub(e){return Vb(e).right}function Wb(e){return Vb(e).top}function qb(e){return Vb(e).bottom}function $b(e){return Vb(e).width}function Gb(e){return Vb(e).height}function Xb(e,t){return e=Vb(e),t=Vb(t),(e[Hy]+e.right)/2-t[Hy]}function Kb(e,t){return e=Vb(e),t=Vb(t),(e.top+e.bottom)/2-t.top}function Yb(e,t){Tt(e,Py(),{value:t})}function Jb(e,t,n){return e={min:fb(t),max:hb(t),range:wb(t),value:n,step:kb(t),snap:Ob(t),snapStart:Tb(t),rounded:_b(t),hasMinEdge:Db(t),hasMaxEdge:Ab(t),minBound:jb(e),maxBound:Ub(e),screenRange:$b(e)},Ib(e)}function Qb(e,t,n,r,o,i){var a,u;u=i,i=n,n=r,r=o,o=$b(a=t),n=n.bind((function(e){return W.some(Xb(e,a))})).getOr(0),r=r.bind((function(e){return W.some(Xb(e,a))})).getOr(o),r={min:fb(u),max:hb(u),range:wb(u),value:i,hasMinEdge:Db(u),hasMaxEdge:Ab(u),minBound:jb(a),minOffset:0,maxBound:Ub(a),maxOffset:o,centerMinEdge:n,centerMaxEdge:r},r=Fb(r);return jb(t)-jb(e)+r}function Zb(e,t){Tt(e,Py(),{value:t})}function ey(e,t,n){return e={min:db(t),max:pb(t),range:xb(t),value:n,step:kb(t),snap:Ob(t),snapStart:Tb(t),rounded:_b(t),hasMinEdge:zb(t),hasMaxEdge:Rb(t),minBound:Wb(e),maxBound:qb(e),screenRange:Gb(e)},Ib(e)}function ty(e,t,n,r,o,i){var a,u;u=i,i=n,n=r,r=o,o=Gb(a=t),n=n.bind((function(e){return W.some(Kb(e,a))})).getOr(0),r=r.bind((function(e){return W.some(Kb(e,a))})).getOr(o),r={min:db(u),max:pb(u),range:xb(u),value:i,hasMinEdge:zb(u),hasMaxEdge:Rb(u),minBound:Wb(a),minOffset:0,maxBound:qb(a),maxOffset:o,centerMinEdge:n,centerMaxEdge:r},r=Fb(r);return Wb(t)-Wb(e)+r}function ny(e,t){Tt(e,Py(),{value:t})}function ry(e,t){return{x:e,y:t}}function oy(e){return"<alloy.field."+e+">"}function iy(e,n,r,o){function i(r,o,i,a,u){var c,s,l=e(qy+"range");r=[xv.parts.label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":a}}}),xv.parts.field({data:u,factory:Bv,inputAttributes:f({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[n("textfield")],inputBehaviours:xc([(c=o,s=r,Jv.config({invalidClass:n("invalid"),notify:{onValidate:function(e){Tt(e,Wy,{type:c})},onValid:function(e){Tt(e,jy,{type:c,value:nf.getValue(e)})},onInvalid:function(e){Tt(e,Uy,{type:c,value:nf.getValue(e)})}},validator:{validate:function(t){return t=nf.getValue(t),t=s(t)?se.value(!0):se.error(e("aria.input.invalid")),Xv(t)},validateOnLoad:!1}})),Cv.config({})]),onSetValue:function(e){Jv.isInvalid(e)&&Jv.run(e).get(t)}})],l="hex"!==o?[xv.parts["aria-descriptor"]({text:l})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:r.concat(l)}}function a(e,t){var n=t.red,r=t.green;t=t.blue;nf.setValue(e,{red:n,green:r,blue:t})}function u(e,t){c.getOpt(e).each((function(e){jn(e.element,"background-color","#"+t.value)}))}var c=Bd({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}});return il({factory:function(){function t(e){return g[e].get()}function s(e,t){g[e].set(t)}function l(e,t){"hex"!==(t=t.event).type?s(t.type,W.none()):o(e)}function f(e,n,r){r=parseInt(r,10),s(n,W.some(r)),t("red").bind((function(e){return t("green").bind((function(n){return t("blue").map((function(t){return Nh(e,n,t,1)}))}))})).each((function(t){var n,r;n=e,r=Mh(t),Vy.getField(n,"hex").each((function(e){Wd.isFocused(e)||nf.setValue(n,{hex:r.value})})),t=r;u(e,t)}))}function d(e,t){"hex"===(t=t.event).type?function(e,t){r(e);var n=Dh(t);s("hex",W.some(t)),t=Hh(n),a(e,t),h(t),Tt(e,My,{hex:n}),u(e,n)}(e,t.value):f(e,t.type,t.value)}function m(t){return{label:e(qy+t+".label"),description:e(qy+t+".description")}}var g={red:st(W.some(255)),green:st(W.some(255)),blue:st(W.some(255)),hex:st(W.some("ffffff"))},h=function(e){var t=e.red,n=e.green;e=e.blue;s("red",W.some(t)),s("green",W.some(n)),s("blue",W.some(e))},p=m("red"),v=m("green"),b=m("blue"),y=m("hex");return Fr(Vy.sketch((function(t){return{dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[t.field("red",xv.sketch(i(Bh,"red",p.label,p.description,255))),t.field("green",xv.sketch(i(Bh,"green",v.label,v.description,255))),t.field("blue",xv.sketch(i(Bh,"blue",b.label,b.description,255))),t.field("hex",xv.sketch(i(Ah,"hex",y.label,y.description,"ffffff"))),c.asSpec()],formBehaviours:xc([Jv.config({invalidClass:n("form-invalid")}),gd("rgb-form-events",[Rt(jy,d),Rt(Uy,l),Rt(Wy,l)])])}})),{apis:{updateHex:function(e,t){nf.setValue(e,{hex:t.value}),function(e,t){t=Hh(t),a(e,t),h(t)}(e,t),u(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})}function ay(e,t){function n(e,t){var n=e.width,r=e.height;null!==(e=e.getContext("2d"))&&(e.fillStyle=t,e.fillRect(0,0,n,r),(t=e.createLinearGradient(0,0,n,0)).addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=t,e.fillRect(0,0,n,r),(t=e.createLinearGradient(0,0,0,r)).addColorStop(0,"rgba(0,0,0,0)"),t.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=t,e.fillRect(0,0,n,r))}var o=Ly.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),i=Ly.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}});return il({factory:function(e){var a=r({x:0,y:0}),u=xc([yf.config({find:W.some}),Wd.config({})]);return Ly.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:!1,components:[o,i],onChange:function(e,t,n){Tt(e,By,{value:n})},onInit:function(e,t,r,o){n(r.element.dom,Ih(ap))},sliderBehaviours:u})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(e,t,r){!function(e,t){e=e.components()[0].element.dom,n(e,Ih(t))}(t,r)}},extraApis:{}})}function uy(e,n){return il({name:"ColourPicker",configFields:[qe("dom"),rt("onValidHex",t),rt("onInvalidHex",t)],factory:function(t){function o(e,t){g.getOpt(e).each((function(e){var n=Hh(t);m.paletteRgba.set(n),d.setRgba(e,n)}))}function i(e,t){h.getOpt(e).each((function(e){f.updateHex(e,t)}))}function a(e,t,n){oe(n,(function(n){n(e,t)}))}var u,c,s,l,f=iy(e,n,t.onValidHex,t.onInvalidHex),d=ay(0,n),m={paletteRgba:st(ap)},g=Bd(d.sketch({})),h=Bd(f.sketch({}));return{uid:t.uid,dom:t.dom,components:[g.asSpec(),(s=n,l=Ly.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),t=Ly.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}}),Ly.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:r({y:0})},components:[l,t],sliderBehaviours:xc([Wd.config({})]),onChange:function(e,t,n){Tt(e,Ny,{value:n})}})),h.asSpec()],behaviours:xc([gd("colour-picker-events",[Rt(By,(c=[i],function(e,t){var n,r,o,i,u=t.event.value,s=m.paletteRgba.get(),l=(l=r=0,o=(n=s).red/255,i=n.green/255,t=n.blue/255,s=Math.min(o,Math.min(i,t)),n=Math.max(o,Math.max(i,t)),s===n?sb(0,0,100*(l=s)):(r=60*((r=o===s?3:t===s?1:5)-(o===s?i-t:t===s?o-i:t-o)/(n-s)),s=(n-s)/n,l=n,sb(Math.round(r),Math.round(100*s),Math.round(100*l))));u=sb(l.hue,u.x,100-u.y),u=Ph(u),u=Mh(u);a(e,u,c)})),Rt(Ny,(u=[o,i],function(e,t){t=function(e){return e=sb((100-e)/100*360,100,100),e=Ph(e),Mh(e)}(t.event.value.y),a(e,t,u)}))]),yf.config({find:function(e){return h.getOpt(e)}}),Vd.config({mode:"acyclic"})])}}})}function cy(e){return Ky[e]}function sy(e,t,n){return nf.config(Fr({store:{mode:"manual",getValue:t,setValue:n}},e.map((function(e){return{store:{initialValue:e}}})).getOr({})))}function ly(e,t,n){return sy(e,(function(e){return t(e.element)}),(function(e,t){return n(e.element,t)}))}function fy(e,t){function n(e,t){t.stop()}function r(e){return function(t,n){oe(e,(function(e){e(t,n)}))}}function o(e,t){Zg.isDisabled(e)||(t=t.event.raw,a(e,t.dataTransfer.files))}function i(e,t){t=t.event.raw.target,a(e,t.files)}var a=function(n,r){var o;nf.setValue(n,(r=r,o=Jy.explode(t.getSetting("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string")),_(ae(r),(function(e){return C(o,(function(t){return dt(e.name.toLowerCase(),"."+t.toLowerCase())}))})))),Tt(n,Tv,{name:e.name})},u=Bd({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:xc([gd("input-file-events",[Ht(fi()),Ht(Ci())])])}),c=e.label.map((function(e){return iv(e,t)})),s=xv.parts.field({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:xc([nw([]),$y(),Zg.config({}),Gd.config({toggleClass:"dragenter",toggleOnExecute:!1}),gd("dropzone-events",[Rt("dragenter",r([n,Gd.toggle])),Rt("dragleave",r([n,Gd.toggle])),Rt("dragover",n),Rt("drop",r([n,o])),Rt(li(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},dm.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(e){u.get(e).element.dom.click()},buttonBehaviours:xc([Cv.config({}),Wh(t.isDisabled),dh()])})]}]}}}});return ov(c,s,["tox-form__group--stretched"],[])}function dy(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:xc([Wd.config({ignore:!0}),Cv.config({})])}}function my(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[dy([rw]),e,dy([ow])],behaviours:xc([Xy(1)])}}function gy(e,t){Tt(e,ui(),{raw:{which:9,shiftKey:t}})}function hy(e,t){t=t.element,Pn(t,rw)?gy(e,!0):Pn(t,ow)&&gy(e,!1)}function py(e){return $p(e,["."+rw,"."+ow].join(","),c)}function vy(e,t){var n,r,o=iw&&e.sandboxed,i=f(f({},e.label.map((function(e){return{title:e}})).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),a=(n=o,r=st(""),{getValue:function(e){return r.get()},setValue:function(e,t){n?un(e.element,"srcdoc",t):(un(e.element,"src","javascript:''"),(e=e.element.dom.contentWindow.document).open(),e.write(t),e.close()),r.set(t)}});o=e.label.map((function(e){return iv(e,t)})),e=xv.parts.field({factory:{sketch:function(e){return my({uid:e.uid,dom:{tag:"iframe",attributes:i},behaviours:xc([Cv.config({}),Wd.config({}),ew(W.none(),a.getValue,a.setValue)])})}}});return ov(o,e,["tox-form__group--stretched"],[])}function by(e,t){return uw(document.createElement("canvas"),e,t)}function yy(e){var t=by(e.width,e.height);return aw(t).drawImage(e,0,0),t}function wy(e){return e.naturalWidth||e.width}function xy(e){return e.naturalHeight||e.height}(Tc=jv=jv||{})[Tc.HighlightFirst=0]="HighlightFirst",Tc[Tc.HighlightNone=1]="HighlightNone";var Cy,Sy,ky,Oy,Ty,_y=function(e,t){return e.getSystem().getByUid(t.uid+"-"+Zv()).map((function(e){return function(){return se.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return se.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))},Ey=(za=function(){return[rt("sandboxClasses",[]),rf("sandboxBehaviours",[yf,Oc,Kl,nf])]},Bo=r([qe("dom"),qe("fetch"),oc("onOpen"),ic("onExecute"),rt("getHotspot",W.some),rt("getAnchorOverrides",r({})),Ro(),gi("dropdownBehaviours",[Gd,Qv,Vd,Wd]),qe("toggleClass"),rt("eventOrder",{}),Qe("lazySink"),rt("matchWidth",!1),rt("useMinWidth",!1),Qe("role")].concat(za())),g=r([lo({schema:[nc()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),q()]),tf({name:"Dropdown",configFields:Bo(),partFields:g(),factory:function(e,n,r,o){function i(e){Kl.getState(e).each((function(e){um.highlightPrimary(e)}))}var a,u={expand:function(n){Gd.isOn(n)||rb(e,(function(e){return e}),n,o,t,jv.HighlightNone).get(t)},open:function(n){Gd.isOn(n)||rb(e,(function(e){return e}),n,o,t,jv.HighlightFirst).get(t)},isOpen:Gd.isOn,close:function(n){Gd.isOn(n)&&rb(e,(function(e){return e}),n,o,t,jv.HighlightFirst).get(t)},repositionMenus:function(e){Gd.isOn(e)&&ub(e)}},c=function(e,t){return _t(e),W.some(!0)};return{uid:e.uid,dom:e.dom,components:n,behaviours:Ps(e.dropdownBehaviours,[Gd.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Qv.config({others:{sandbox:function(t){return ab(e,t,{onOpen:function(){return Gd.on(t)},onClose:function(){return Gd.off(t)}})}}}),Vd.config({mode:"special",onSpace:c,onEnter:c,onDown:function(e,t){var n;return Ey.isOpen(e)?(n=Qv.getCoupled(e,"sandbox"),i(n)):Ey.open(e),W.some(!0)},onEscape:function(e,t){return Ey.isOpen(e)?(Ey.close(e),W.some(!0)):W.none()}}),Wd.config({})]),events:Sd(W.some((function(n){rb(e,(function(e){return e}),n,o,i,jv.HighlightFirst).get(t)}))),eventOrder:f(f({},e.eventOrder),((c={})[wi()]=["disabling","toggling","alloy.base.behaviour"],c)),apis:u,domModification:{attributes:f(f({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),"button"===e.dom.tag?{type:(a="type",ye(e.dom,"attributes").bind((function(e){return ye(e,a)})).getOr("button"))}:{})}}},apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}})),Dy=_u({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:function(){return ji([At(mi(),s)])},exhibit:function(){return xn({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}})}),Ay=gn("color-input-change"),zy=gn("color-swatch-change"),Ry=gn("color-picker-cancel"),My=gn("rgb-hex-update"),Ny=gn("slider-update"),By=gn("palette-update"),Py=(Zi=mf({schema:[qe("dom")],name:"label"}),Yv=function(e){return mf({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold((function(){return{}}),(function(e){return{events:ji([Mt(Yo(),(function(t,n,r){return e(t,r)}),[t]),Mt(ei(),(function(t,n,r){return e(t,r)}),[t]),Mt(ti(),(function(t,n,r){r.mouseIsDown.get()&&e(t,r)}),[t])])}}))}})},cc=Yv("top-left"),ao=Yv("top"),Ni=Yv("top-right"),Ko=Yv("right"),Tc=Yv("bottom-right"),Bo=Yv("bottom"),g=Yv("bottom-left"),Zi=[Zi,Yv("left"),Ko,ao,Bo,cc,Ni,g,Tc,df({name:"thumb",defaults:r({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:ji([Bt(Yo(),e,"spectrum"),Bt(Jo(),e,"spectrum"),Bt(Qo(),e,"spectrum"),Bt(ei(),e,"spectrum"),Bt(ti(),e,"spectrum"),Bt(ri(),e,"spectrum")])}}}),df({schema:[to("mouseIsDown",(function(){return st(!1)}))],name:"spectrum",overrides:function(e){function t(t,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(t,e,r)}))}var n=e.model.manager;return{behaviours:xc([Vd.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),Wd.config({})]),events:ji([Rt(Yo(),t),Rt(Jo(),t),Rt(ei(),t),Rt(ti(),(function(n,r){e.mouseIsDown.get()&&t(n,r)}))])}}})],r("slider.change.value")),Hy="left",Ly=(Yv=function(e){return function(t,n){return function(e,t,n){return n=(0<e?Hb:Pb)(Mb(n).x,fb(n),hb(n),kb(n)),Yb(t,{x:n}),W.some(n)}(e,t,n).map(s)}},Ko=Yv(-1),ao=Yv(1),Bo=W.none,cc=W.none,Ni={"top-left":W.none(),top:W.none(),"top-right":W.none(),right:W.some((function(e,t){Bb(e,{x:vb(t)})})),"bottom-right":W.none(),bottom:W.none(),"bottom-left":W.none(),left:W.some((function(e,t){Bb(e,{x:mb(t)})}))},g=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){return n=Jb(e,t,n),Yb(e,{x:n}),n},setToMin:function(e,t){t=fb(t),Yb(e,{x:t})},setToMax:function(e,t){t=hb(t),Yb(e,{x:t})},findValueOfOffset:Jb,getValueFromEvent:function(e){return lb(e).map((function(e){return e.left}))},findPositionOfValue:Qb,setPositionFromValue:function(e,t,n,r){var o=Mb(n);e=Qb(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n),n=sr(t.element)/2;jn(t.element,"left",e-n+"px")},onLeft:Ko,onRight:ao,onUp:Bo,onDown:cc,edgeActions:Ni}),Tc=function(e){return function(t,n){return function(e,t,n){return n=(0<e?Hb:Pb)(Mb(n).y,db(n),pb(n),kb(n)),Zb(t,{y:n}),W.some(n)}(e,t,n).map(s)}},Yv=W.none,Ko=W.none,ao=Tc(-1),Bo=Tc(1),cc={"top-left":W.none(),top:W.some((function(e,t){Bb(e,{y:gb(t)})})),"top-right":W.none(),right:W.none(),"bottom-right":W.none(),bottom:W.some((function(e,t){Bb(e,{y:bb(t)})})),"bottom-left":W.none(),left:W.none()},Ni=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){return n=ey(e,t,n),Zb(e,{y:n}),n},setToMin:function(e,t){t=db(t),Zb(e,{y:t})},setToMax:function(e,t){t=pb(t),Zb(e,{y:t})},findValueOfOffset:ey,getValueFromEvent:function(e){return lb(e).map((function(e){return e.top}))},findPositionOfValue:ty,setPositionFromValue:function(e,t,n,r){var o=Mb(n);e=ty(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n),n=ir(t.element)/2;jn(t.element,"top",e-n+"px")},onLeft:Yv,onRight:Ko,onUp:ao,onDown:Bo,edgeActions:cc}),Tc=function(e,t){return function(n,r){return i=n,a=r,n=0<(o=e)?Hb:Pb,o=(r=t)?Mb(a).x:n(Mb(a).x,fb(a),hb(a),kb(a)),a=r?n(Mb(a).y,db(a),pb(a),kb(a)):Mb(a).y,ny(i,ry(o,a)),W.some(o).map(s);var o,i,a}},Yv=lb,Ko=Tc(-1,!1),ao=Tc(1,!1),Bo=Tc(-1,!0),cc=Tc(1,!0),Tc={"top-left":W.some((function(e,t){Bb(e,Nb(mb(t),gb(t)))})),top:W.some((function(e,t){Bb(e,Nb(Cb(t),gb(t)))})),"top-right":W.some((function(e,t){Bb(e,Nb(vb(t),gb(t)))})),right:W.some((function(e,t){Bb(e,Nb(vb(t),Sb(t)))})),"bottom-right":W.some((function(e,t){Bb(e,Nb(vb(t),bb(t)))})),bottom:W.some((function(e,t){Bb(e,Nb(Cb(t),bb(t)))})),"bottom-left":W.some((function(e,t){Bb(e,Nb(mb(t),bb(t)))})),left:W.some((function(e,t){Bb(e,Nb(mb(t),Sb(t)))}))},cc=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var r=Jb(e,t,n.left);n=ey(e,t,n.top),n=ry(r,n);return ny(e,n),n},setToMin:function(e,t){var n=fb(t);t=db(t);ny(e,ry(n,t))},setToMax:function(e,t){var n=hb(t);t=pb(t);ny(e,ry(n,t))},getValueFromEvent:Yv,setPositionFromValue:function(e,t,n,r){var o=Mb(n),i=Qb(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n);r=ty(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n),e=sr(t.element)/2,n=ir(t.element)/2;jn(t.element,"left",i-e+"px"),jn(t.element,"top",r-n+"px")},onLeft:Ko,onRight:ao,onUp:Bo,onDown:cc,edgeActions:Tc}),tf({name:"Slider",configFields:[rt("stepSize",1),rt("onChange",t),rt("onChoose",t),rt("onInit",t),rt("onDragStart",t),rt("onDragEnd",t),rt("snapToGrid",!1),rt("rounded",!0),Qe("snapStart"),$e("model",Ue("mode",{x:[rt("minX",0),rt("maxX",100),to("value",(function(e){return st(e.mode.minX)})),qe("getInitialValue"),tu("manager",g)],y:[rt("minY",0),rt("maxY",100),to("value",(function(e){return st(e.mode.minY)})),qe("getInitialValue"),tu("manager",Ni)],xy:[rt("minX",0),rt("maxX",100),rt("minY",0),rt("maxY",100),to("value",(function(e){return st({x:e.mode.minX,y:e.mode.minY})})),qe("getInitialValue"),tu("manager",cc)]})),gi("sliderBehaviours",[Vd,nf]),to("mouseIsDown",(function(){return st(!1)}))],partFields:Zi,factory:function(e,t,n,r){function o(t){return Ys(t,e,"thumb")}function i(t){return Ys(t,e,"spectrum")}function a(t){return Ks(t,e,"left-edge")}function u(t){return Ks(t,e,"right-edge")}function c(t){return Ks(t,e,"top-edge")}function l(t){return Ks(t,e,"bottom-edge")}function f(t,n){v.setPositionFromValue(t,n,e,{getLeftEdge:a,getRightEdge:u,getTopEdge:c,getBottomEdge:l,getSpectrum:i})}function d(t,n){p.value.set(n);var r=o(t);return f(t,r),e.onChange(t,r,n),W.some(!0)}function m(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&Ks(t,e,"thumb").each((function(n){var r=p.value.get();e.onChoose(t,n,r)}))}function g(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,o(t))}function h(t,n){n.stop(),e.onDragEnd(t,o(t)),m(t)}var p=e.model,v=p.manager;return{uid:e.uid,dom:e.dom,components:t,behaviours:Ps(e.sliderBehaviours,[Vd.config({mode:"special",focusIn:function(t){return Ks(t,e,"spectrum").map(Vd.focusIn).map(s)}}),nf.config({store:{mode:"manual",getValue:function(e){return p.value.get()}}}),Oc.config({channels:((t={})[Ql()]={onReceive:m},t)})]),events:ji([Rt(Py(),(function(e,t){d(e,t.event.value)})),Ui((function(t,n){var r=p.getInitialValue();p.value.set(r);var a=o(t);f(t,a),r=i(t),e.onInit(t,a,r,p.value.get())})),Rt(Yo(),g),Rt(Qo(),h),Rt(ei(),g),Rt(ri(),h)]),apis:{resetToMin:function(t){v.setToMin(t,e)},resetToMax:function(t){v.setToMax(t,e)},changeValue:d,refresh:f},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}})),Iy=[gi("formBehaviours",[nf])],Fy=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:Ps(e.formBehaviours,[nf.config({store:{mode:"manual",getValue:function(t){return t=Qs(t,e),ge(t,(function(e,t){return e().bind((function(e){var n,r=yf.getCurrent(e);return r=r,n=new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+mn(e.element)),r.fold((function(){return se.error(n)}),se.value)})).map(nf.getValue)}))},setValue:function(t,n){me(n,(function(n,r){Ks(t,e,r).each((function(e){yf.getCurrent(e).each((function(e){nf.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return Ks(t,e,n).bind(yf.getCurrent)}}}},Vy={getField:yn((function(e,t,n){return e.getField(t,n)})),sketch:function(e){var t,n=(t=[],{field:function(e,n){return t.push(e),Ws("form",oy(e),n)},record:function(){return t}});e=e(n),n=n.record(),n=O(n,(function(e){return df({name:e,pname:oy(e)})}));return ol("form",Iy,n,Fy,e)}},jy=gn("valid-input"),Uy=gn("invalid-input"),Wy=gn("validating-input"),qy="colorcustom.rgb.",$y=function(){return yf.config({find:W.some})},Gy=function(e){return yf.config({find:e.getOpt})},Xy=function(e){return yf.config({find:function(t){return Gt(t.element,e).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}})},Ky={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},Yy=tinymce.util.Tools.resolve("tinymce.Resource"),Jy=tinymce.util.Tools.resolve("tinymce.util.Tools"),Qy=Jr([rt("preprocess",o),rt("postprocess",o)]),Zy=function(e,t){var n=je("RepresentingConfigs.memento processors",Qy,t);return nf.config({store:{mode:"manual",getValue:function(t){return t=e.get(t),t=nf.getValue(t),n.postprocess(t)},setValue:function(t,r){r=n.preprocess(r),t=e.get(t),nf.setValue(t,r)}}})},ew=sy,tw=function(e){return ly(e,rn,on)},nw=function(e){return nf.config({store:{mode:"memory",initialValue:e}})},rw=gn("alloy-fake-before-tabstop"),ow=gn("alloy-fake-after-tabstop"),iw=!(Xo().browser.isIE()||Xo().browser.isEdge()),aw=function(e){return e.getContext("2d")},uw=function(e,t,n){return e.width=t,e.height=n,e},cw=window.Promise||(Cy=window,Sy=sw.immediateFn||"function"==typeof Cy.setImmediate&&Cy.setImmediate||function(e){return setTimeout(e,1)},ky=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Oy=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ty=function(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(e){if(r)return;r=!0,n(e)}},sw.prototype.catch=function(e){return this.then(null,e)},sw.prototype.then=function(e,t){var n=this;return new sw((function(r,o){lw.call(n,new gw(e,t,r,o))}))},sw.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.prototype.slice.call(1===e.length&&Oy(e[0])?e[0]:e);return new sw((function(e,t){if(0===n.length)return e([]);for(var r=n.length,o=function(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),t)}n[i]=a,0==--r&&e(n)}catch(a){t(a)}},i=0;i<n.length;i++)o(i,n[i])}))},sw.resolve=function(e){return e&&"object"==typeof e&&e.constructor===sw?e:new sw((function(t){t(e)}))},sw.reject=function(e){return new sw((function(t,n){n(e)}))},sw.race=function(e){return new sw((function(t,n){for(var r=0,o=e;r<o.length;r++)o[r].then(t,n)}))},sw);function sw(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],Ty(e,ky(fw,this),ky(dw,this))}function lw(e){var t=this;null!==this._state?Sy((function(){var n,r=t._state?e.onFulfilled:e.onRejected;if(null!==r){try{n=r(t._value)}catch(n){return void e.reject(n)}e.resolve(n)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function fw(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void Ty(ky(t,e),ky(fw,this),ky(dw,this))}this._state=!0,this._value=e,mw.call(this)}catch(e){dw.call(this,e)}}function dw(e){this._state=!1,this._value=e,mw.call(this)}function mw(){for(var e=0,t=this._deferreds;e<t.length;e++){var n=t[e];lw.call(this,n)}this._deferreds=[]}function gw(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function hw(e){return new cw((function(t,n){(function(e){var t=e.split(",");e=/data:([^;]+)/.exec(t[0]);if(!e)return W.none();e=e[1],t=t[1];for(var n=atob(t),r=n.length,o=Math.ceil(r/1024),i=new Array(o),a=0;a<o;++a){for(var u=1024*a,c=Math.min(1024+u,r),s=new Array(c-u),l=u,f=0;l<c;++f,++l)s[f]=n[l].charCodeAt(0);i[a]=new Uint8Array(s)}return W.some(new Blob(i,{type:e}))})(e).fold((function(){n("uri is not base64: "+e)}),t)}))}function pw(e,t,n){return t=t||"image/png",Q(HTMLCanvasElement.prototype.toBlob)?new cw((function(r,o){e.toBlob((function(e){e?r(e):o()}),t,n)})):hw(e.toDataURL(t,n))}function vw(e){return t=e,new cw((function(e,n){function r(){i.removeEventListener("load",a),i.removeEventListener("error",u)}var o=URL.createObjectURL(t),i=new Image,a=function(){r(),e(i)},u=function(){r(),n("Unable to load data of type "+t.type+": "+o)};i.addEventListener("load",a),i.addEventListener("error",u),i.src=o,i.complete&&setTimeout(a,0)})).then((function(e){fx(e);var t=by(wy(e),xy(e));return aw(t).drawImage(e,0,0),t}));var t}function bw(e,t,n){function o(t,n){return e.then((function(e){return e.toDataURL(t||"image/png",n)}))}var i=t.type,a=r(i);i=r(n);return{getType:a,toBlob:function(){return cw.resolve(t)},toDataURL:i,toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(t,n){return e.then((function(e){return pw(e,t,n)}))},toAdjustedDataURL:o,toAdjustedBase64:function(e,t){return o(e,t).then((function(e){return e.split(",")[1]}))},toCanvas:function(){return e.then(yy)}}}function yw(e,t){return pw(e,t).then((function(t){return bw(cw.resolve(e),t,e.toDataURL())}))}function ww(e){return t=e,new cw((function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})).then((function(t){return bw(vw(e),e,t)}));var t}function xw(e,t,n){return e="string"==typeof e?parseFloat(e):e,n<e?e=n:e<t&&(e=t),e}function Cw(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function Sw(e,t){for(var n=[],r=new Array(25),o=0;o<5;o++){for(var i=0;i<5;i++)n[i]=t[i+5*o];for(i=0;i<5;i++){for(var a=0,u=0;u<5;u++)a+=e[i+5*u]*n[u];r[i+5*o]=a}}return r}function kw(e,t){return e.toCanvas().then((function(n){return mx(n,e.getType(),t)}))}function Ow(e){return hx(e)}function Tw(e){return bx(e)}function _w(e,t){return yx(e,t)}function Ew(e,t,n,r){return kw(e,(o=Cw(),n=n,r=r,e=xw(e=t,0,2),n=xw(n,0,2),r=xw(r,0,2),Sw(o,[e,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])));var o}function Dw(e,t){return px(e,t)}function Aw(e,t){return vx(e,t)}function zw(e,t){return r=t,(n=e).toCanvas().then((function(e){return Sx(e,n.getType(),r)}));var n,r}function Rw(e,t,n,r,o){return a=t,u=n,c=r,s=o,(i=e).toCanvas().then((function(e){return kx(e,i.getType(),a,u,c,s)}));var i,a,u,c,s}function Mw(e,t,n){return o=t,i=n,(r=e).toCanvas().then((function(e){return wx(e,o,i).then((function(e){return yw(e,r.getType())}))}));var r,o,i}function Nw(e,t){return r=t,(n=e).toCanvas().then((function(e){return Cx(e,n.getType(),r)}));var n,r}function Bw(e,t){return f({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)}function Pw(e,t){return Bw(Hd(e,t),{})}function Hw(e,t){return Bw(Hd(e,t),{behaviours:xc([Ud.config({})])})}function Lw(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:xc([Ud.config({})])}}function Iw(e,n,r){function o(e,t){return e=nf.getValue(e),Wd.focus(e),Tt(e,"keydown",{raw:t.event.raw}),Ey.close(e),W.some(!0)}var a=st(t),u=e.text.map((function(e){return Bd(Lw(e,n,r.providers))})),c=e.icon.map((function(e){return Bd(Hw(e,r.providers.icons))})),s=e.role.fold((function(){return{}}),(function(e){return{role:e}})),l=e.tooltip.fold((function(){return{}}),(function(e){return e=r.providers.translate(e),{title:e,"aria-label":e}}));return Bd(Ey.sketch(f(f(f({},e.uid?{uid:e.uid}:{}),s),{dom:{tag:"button",classes:[n,n+"--select"].concat(O(e.classes,(function(e){return n+"--"+e}))),attributes:f({},l)},components:ph([c.map((function(e){return e.asSpec()})),u.map((function(e){return e.asSpec()})),W.some({dom:{tag:"div",classes:[n+"__select-chevron"],innerHtml:Hd("chevron-down",r.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:xc(m(e.dropdownBehaviours,[Wh((function(){return e.disabled||r.providers.isDisabled()})),dh(),Dy.config({}),Ud.config({}),gd("dropdown-events",[gh(e,a),hh(e,a)]),gd("menubutton-update-display-text",[Rt(_x,(function(e,t){u.bind((function(t){return t.getOpt(e)})).each((function(e){Ud.set(e,[or(r.providers.translate(t.event.text))])}))})),Rt(Ex,(function(e,t){c.bind((function(t){return t.getOpt(e)})).each((function(e){Ud.set(e,[Hw(t.event.icon,r.providers.icons)])}))}))])])),eventOrder:Fr(Tx,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:xc([Vd.config({mode:"special",onLeft:o,onRight:o})]),lazySink:r.getSink,toggleClass:n+"--active",parts:{menu:Gm(0,e.columns,e.presets)},fetch:function(t){return Gv(i(e.fetch,t))}}))).asSpec()}function Fw(e){return"separator"===e.type}function Vw(e,t){return 0<(e=D(e,(function(e,n){return G(n)?""===n?e:"|"===n?0<e.length&&!Fw(e[e.length-1])?e.concat([Dx]):e:Pr(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])}),[])).length&&Fw(e[e.length-1])&&e.pop(),e}function jw(e,t){return Pr(e,"getSubmenuItems")?(r=t,t=(n=e).getSubmenuItems(),r=Ax(t,r),{item:n,menus:Fr(r.menus,Gr(n.value,r.items)),expansions:Fr(r.expansions,Gr(n.value,n.value))}):{item:e,menus:{},expansions:{}};var n,r}function Uw(e,t,n,r){var o=gn("primary-menu"),i=Ax(e,n.shared.providers.menuItems());return 0===i.items.length?W.none():(e=jp(o,i.items,t,n,r),r=ge(i.menus,(function(e,r){return jp(r,e,t,n,!1)})),e=Fr(r,Gr(o,e)),W.from(um.tieredData(o,e,i.expansions)))}function Ww(e){return{isDisabled:function(){return Zg.isDisabled(e)},setDisabled:function(t){return Zg.set(e,t)},setActive:function(t){var n=e.element;t?(Mn(n,"tox-tbtn--enabled"),un(n,"aria-pressed",!0)):(Bn(n,"tox-tbtn--enabled"),fn(n,"aria-pressed"))},isActive:function(){return Pn(e.element,"tox-tbtn--enabled")}}}function qw(e,t,n,r){return Iw({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t,r){e.fetch((function(e){r(Uw(e,Cg.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:Ww,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Cv.config({})]},t,n.shared)}function $w(e,t,n){return function(r){r(O(e,(function(e){var r,o,i=e.text.fold((function(){return{}}),(function(e){return{text:e}}));return f(f({type:e.type,active:!1},i),{onAction:function(e){var r=!e.isActive();e.setActive(r),o.storage.set(r),n.shared.getSink().each((function(e){t().getOpt(e).each((function(e){Eu(e.element),Tt(e,Dv,{name:o.name,value:o.storage.get()})}))}))},onSetup:(r=o=e,function(e){e.setActive(r.storage.get())})})})))}}function Gw(e,t,n,r,o,i){return void 0===n&&(n=[]),t=t.fold((function(){return{}}),(function(e){return{action:e}})),t=f({buttonBehaviours:xc([Wh((function(){return e.disabled||i.isDisabled()})),dh(),Cv.config({}),gd("button press",[zt("click"),zt("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},t),r=Fr(t,{dom:r}),Fr(r,{components:o})}function Xw(e,t,n,r){void 0===r&&(r=[]);var o={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({})},i=e.icon.map((function(e){return Pw(e,n.icons)}));i=ph([i]);return Gw(e,t,r,o,i,n)}function Kw(e,t,n,r){return void 0===r&&(r=[]),r=Xw(e,W.some(t),n,r),dm.sketch(r)}function Yw(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=n.translate(e.text),a=e.icon?e.icon.map((function(e){return Pw(e,n.icons)})):W.none(),u=a.isSome()?ph([a]):[],c=a.isSome()?{}:{innerHtml:i};o=m(e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],a.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],o),i=f(f({tag:"button",classes:o},c),{attributes:{title:i}});return Gw(e,t,r,i,u,n)}function Jw(e,t,n,r,o){return void 0===r&&(r=[]),void 0===o&&(o=[]),o=Yw(e,W.some(t),n,r,o),dm.sketch(o)}function Qw(e,t){return function(n){"custom"===t?Tt(n,Dv,{name:e,value:{}}):"submit"===t?Ot(n,Av):"cancel"===t&&Ot(n,Ev)}}function Zw(e,n,r){if("menu"===n){var o=e,i=(o=f(f({},e),{onSetup:function(n){return n.setDisabled(e.disabled),t},fetch:$w(o.items,(function(){return i}),r)}),Bd(qw(o,"tox-tbtn",r,W.none())));return i.asSpec()}if("custom"===(o=n)||"cancel"===o||"submit"===o)return o=Qw(e.name,n),n=f(f({},e),{borderless:!1}),Jw(n,o,r.shared.providers,[])}function ex(e,t){var n,r=Qw(e.name,"custom");return n=W.none(),t=xv.parts.field(f({factory:dm},Yw(e,W.some(r),t,[nw(""),$y()]))),ov(n,t,[],[])}function tx(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);return null===t?se.error(e):(e=parseFloat(t[1]),t=t[2],se.value({value:e,unit:t}))}function nx(e,t){function n(e){return Object.prototype.hasOwnProperty.call(r,e)}var r={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1};return e.unit===t?W.some(e.value):n(e.unit)&&n(t)?r[e.unit]===r[t]?W.some(e.value):W.some(e.value/r[e.unit]*r[t]):W.none()}function rx(e){return W.none()}function ox(e,t){var n=tx(e).toOptional();e=tx(t).toOptional();return t=e,e=function(e,t){return nx(e,t.unit).map((function(e){return t.value/e})).map((function(e){return n=e,r=t.unit,function(e){return nx(e,r).map((function(e){return{value:e*n,unit:r}}))};var n,r})).getOr(rx)},((n=n).isSome()&&t.isSome()?W.some(e(n.getOrDie(),t.getOrDie())):W.none()).getOr(rx)}function ix(e,t){function n(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}}function r(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}}var o=rx,i=gn("ratio-event"),a=zx.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:Hd("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:Hd("unlock",t.icons)}}],buttonBehaviours:xc([Zg.config({disabled:function(){return e.disabled||t.isDisabled()}}),dh(),Cv.config({})])}),u=function(n){return xv.parts.field({factory:Bv,inputClasses:["tox-textfield"],inputBehaviours:xc([Zg.config({disabled:function(){return e.disabled||t.isDisabled()}}),dh(),Cv.config({}),gd("size-input-events",[Rt(ii(),(function(e,t){Tt(e,i,{isField1:n})})),Rt(li(),(function(t,n){Tt(t,Tv,{name:e.name})}))])]),selectOnFocus:!1})},c=zx.parts.field1(n([xv.parts.label(r("Width")),u(!0)]));u=zx.parts.field2(n([xv.parts.label(r("Height")),u(!1)]));return zx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,u,n([r("&nbsp;"),a])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,n){tx(nf.getValue(e)).each((function(e){o(e).each((function(e){var n,r;nf.setValue(t,(r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},(e=-1!==(e=(n=e).value.toFixed((e=n.unit)in r?r[e]:1)).indexOf(".")?e.replace(/\.?0*$/,""):e)+n.unit))}))}))},coupledFieldBehaviours:xc([Zg.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){zx.getField1(e).bind(xv.getField).each(Zg.disable),zx.getField2(e).bind(xv.getField).each(Zg.disable),zx.getLock(e).each(Zg.disable)},onEnabled:function(e){zx.getField1(e).bind(xv.getField).each(Zg.enable),zx.getField2(e).bind(xv.getField).each(Zg.enable),zx.getLock(e).each(Zg.enable)}}),dh(),gd("size-input-events2",[Rt(i,(function(e,t){var n=t.event.isField1;t=n?zx.getField1(e):zx.getField2(e),e=n?zx.getField2(e):zx.getField1(e),t=t.map(nf.getValue).getOr(""),e=e.map(nf.getValue).getOr("");o=ox(t,e)}))])])})}function ax(e,n){function o(e,t,r,o){return Bd(Jw({name:e,text:e,disabled:r,primary:o,icon:W.none(),borderless:!1},t,n))}function i(e,t,r,o){return Bd(Kw({name:e,icon:W.some(e),tooltip:W.some(t),disabled:o,primary:!1,borderless:!1},r,n))}function a(e,t){e.map((function(e){e=e.get(t),e.hasConfigured(Zg)&&Zg.disable(e)}))}function u(e,t){e.map((function(e){e=e.get(t),e.hasConfigured(Zg)&&Zg.enable(e)}))}function c(e,t,n){Tt(e,t,n)}function s(e){return Ot(e,Mx.disable()),0}function l(e){return Ot(e,Mx.enable()),0}function f(e,t){s(e),c(e,Rx.transform(),{transform:t}),l(e)}function d(e){return function(){$.getOpt(e).each((function(e){Ud.set(e,[q])}))}}function m(e,t){s(e),c(e,Rx.transformApply(),{transform:t,swap:d(e)}),l(e)}function g(){return o("Back",(function(e){return c(e,Rx.back(),{swap:d(e)})}),!1,!1)}function h(){return o("Apply",(function(e){return c(e,Rx.apply(),{swap:d(e)})}),!0,!0)}function p(e,t){return function(n){return e(n,t)}}function v(e,t){t=t,s(e=e),c(e,Rx.tempTransform(),{transform:t}),l(e)}function b(e,t,o,i,a){var u=Ly.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(e)}}),c=Ly.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}});e=Ly.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Bd(Ly.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:o,maxX:a,getInitialValue:r({x:i})},components:[u,c,e],sliderBehaviours:xc([Wd.config({})]),onChoose:t}))}function y(e,t,n,r,o){return[g(),(i=t,b(e,(function(e,t,n){n=p(i,n.x/100),f(e,n)}),n,r,o)),h()];var i}var w={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},x=t,C=function(){return Bd({dom:{tag:"div",classes:["tox-spacer"]},behaviours:xc([Zg.config({})])})},S=[g(),C(),o("Apply",(function(t){m(t,(function(t){var n=e.getRect();return Rw(t,n.x,n.y,n.w,n.h)})),e.hideCrop()}),!1,!0)],k=wv.sketch({dom:w,components:S.map((function(e){return e.asSpec()})),containerBehaviours:xc([gd("image-tools-crop-buttons-events",[Rt(Mx.disable(),(function(e,t){a(S,e)})),Rt(Mx.enable(),(function(e,t){u(S,e)}))])])}),O=Bd(ix({name:"size",label:W.none(),constrain:!0,disabled:!1},n)),T=[g(),C(),O,C(),o("Apply",(function(e){O.getOpt(e).each((function(t){var n,r,o=nf.getValue(t);t=parseInt(o.width,10),o=parseInt(o.height,10),n=t,r=o,o=function(e){return Mw(e,n,r)};m(e,o)}))}),!1,!0)],_=wv.sketch({dom:w,components:T.map((function(e){return e.asSpec()})),containerBehaviours:xc([gd("image-tools-resize-buttons-events",[Rt(Mx.disable(),(function(e,t){a(T,e)})),Rt(Mx.enable(),(function(e,t){u(T,e)}))])])}),E=p(zw,"h"),D=p(zw,"v"),A=p(Nw,-90),z=p(Nw,90),R=[g(),C(),i("flip-horizontally","Flip horizontally",(function(e){v(e,E)}),!1),i("flip-vertically","Flip vertically",(function(e){v(e,D)}),!1),i("rotate-left","Rotate counterclockwise",(function(e){v(e,A)}),!1),i("rotate-right","Rotate clockwise",(function(e){v(e,z)}),!1),C(),h()],M=wv.sketch({dom:w,components:R.map((function(e){return e.asSpec()})),containerBehaviours:xc([gd("image-tools-fliprotate-buttons-events",[Rt(Mx.disable(),(function(e,t){a(R,e)})),Rt(Mx.enable(),(function(e,t){u(R,e)}))])])}),N=function(e,t,n,r,o){var i=y(e,t,n,r,o);return wv.sketch({dom:w,components:i.map((function(e){return e.asSpec()})),containerBehaviours:xc([gd("image-tools-filter-panel-buttons-events",[Rt(Mx.disable(),(function(e,t){a(i,e)})),Rt(Mx.enable(),(function(e,t){u(i,e)}))])])})},B=[g(),C(),h()],P=wv.sketch({dom:w,components:B.map((function(e){return e.asSpec()}))}),H=N("Brightness",Dw,-100,0,100),L=N("Contrast",Aw,-100,0,100),I=N("Gamma",_w,-100,0,100),F=(U=function(e){return b(e,(function(e,t,n){var r=F.getOpt(e),o=j.getOpt(e),i=V.getOpt(e);r.each((function(t){o.each((function(n){i.each((function(r){var o,i,a,u=nf.getValue(t).x/100,c=nf.getValue(r).x/100;r=nf.getValue(n).x/100,o=u,i=c,a=r,r=function(e){return Ew(e,o,i,a)};f(e,r)}))}))}))}),0,100,200)})("R"),V=U("G"),j=U("B"),U=(C=[g(),F,V,j,h()],B=wv.sketch({dom:w,components:C.map((function(e){return e.asSpec()}))}),N=function(e,t,n){return function(r){c(r,Rx.swap(),{transform:t,swap:function(){$.getOpt(r).each((function(t){Ud.set(t,[e]),n(t)}))}})}},W.some(Tw)),q=(C=W.some(Ow),x=[i("crop","Crop",N(k,W.none(),(function(t){e.showCrop()})),!1),i("resize","Resize",N(_,W.none(),(function(t){O.getOpt(t).each((function(t){var n=e.getMeasurements(),r=n.width;n=n.height;nf.setValue(t,{width:r,height:n})}))})),!1),i("orientation","Orientation",N(M,W.none(),x),!1),i("brightness","Brightness",N(H,W.none(),x),!1),i("sharpen","Sharpen",N(P,U,x),!1),i("contrast","Contrast",N(L,W.none(),x),!1),i("color-levels","Color levels",N(B,W.none(),x),!1),i("gamma","Gamma",N(I,W.none(),x),!1),i("invert","Invert",N(P,C,x),!1)],wv.sketch({dom:w,components:x.map((function(e){return e.asSpec()}))})),$=(x=wv.sketch({dom:{tag:"div"},components:[q],containerBehaviours:xc([Ud.config({})])}),Bd(x));return{memContainer:$,getApplyButton:function(e){return $.getOpt(e).map((function(e){return e=e.components()[0],e.components()[e.components().length-1]}))}}}function ux(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}var cx,sx,lx,fx=function(e){URL.revokeObjectURL(e.src)},dx=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],mx=function(e,t,n){var r=aw(e);n=function(e,t){for(var n,r,o,i,a=e.data,u=t[0],c=t[1],s=t[2],l=t[3],f=t[4],d=t[5],m=t[6],g=t[7],h=t[8],p=t[9],v=t[10],b=t[11],y=t[12],w=t[13],x=t[14],C=t[15],S=t[16],k=t[17],O=t[18],T=t[19],_=0;_<a.length;_+=4)n=a[_],r=a[_+1],o=a[_+2],i=a[_+3],a[_]=n*u+r*c+o*s+i*l+f,a[_+1]=n*d+r*m+o*g+i*h+p,a[_+2]=n*v+r*b+o*y+i*w+x,a[_+3]=n*C+r*S+o*k+i*O+T;return e}(r.getImageData(0,0,e.width,e.height),n);return r.putImageData(n,0,0),yw(e,t)},gx=function(e,t,n){var r=aw(e),o=function(e,t,n){for(var r=function(e,t,n){return n<e?e=n:e<t&&(e=t),e},o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=e.data,u=t.data,c=e.width,s=e.height,l=0;l<s;l++)for(var f=0;f<c;f++){for(var d=0,m=0,g=0,h=0;h<o;h++)for(var p=0;p<o;p++){var v=r(f+p-i,0,c-1),b=4*(r(l+h-i,0,s-1)*c+v);v=n[h*o+p];d+=a[b]*v,m+=a[1+b]*v,g+=a[2+b]*v}var y=4*(l*c+f);u[y]=r(d,0,255),u[1+y]=r(m,0,255),u[2+y]=r(g,0,255)}return t}(r.getImageData(0,0,e.width,e.height),o=r.getImageData(0,0,e.width,e.height),n);return r.putImageData(o,0,0),yw(e,t)},hx=(Tc=function(e){return function(t,n){return kw(t,e(Cw(),n))}},cx=[-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1],function(e){return kw(e,cx)}),px=Tc((function(e,t){return t=xw(255*t,-255,255),Sw(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])})),vx=Tc((function(e,t){var n;return t=xw(t,-1,1),n=(t*=100)<0?127+t/100*127:127*(n=0===(n=t%1)?dx[t]:dx[Math.floor(t)]*(1-n)+dx[Math.floor(t)+1]*n)+127,Sw(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])})),bx=(sx=[0,-1,0,-1,5,-1,0,-1,0],function(e){return n=sx,(t=e).toCanvas().then((function(e){return gx(e,t.getType(),n)}));var t,n}),yx=(lx=function(e,t){return 255*Math.pow(e/255,1-t)},function(e,t){return e.toCanvas().then((function(n){return function(e,t,n){for(var r=aw(e),o=new Array(256),i=0;i<o.length;i++)o[i]=lx(i,n);var a=function(e,t){for(var n=e.data,r=0;r<n.length;r+=4)n[r]=t[n[r]],n[r+1]=t[n[r+1]],n[r+2]=t[n[r+2]];return e}(r.getImageData(0,0,e.width,e.height),o);return r.putImageData(a,0,0),yw(e,t)}(n,e.getType(),t)}))}),wx=function(e,t,n){var r=wy(e),o=xy(e),i=t/r;r=n/o,o=!1;return(i<.5||2<i)&&(i=i<.5?.5:2,o=!0),(r<.5||2<r)&&(r=r<.5?.5:2,o=!0),r=xx(e,i,r),o?r.then((function(e){return wx(e,t,n)})):r},xx=function(e,t,n){return new cw((function(r){var o=wy(e),i=xy(e),a=Math.floor(o*t),u=Math.floor(i*n),c=by(a,u);aw(c).drawImage(e,0,0,o,i,0,0,a,u),r(c)}))},Cx=function(e,t,n){var r=by(e.width,e.height),o=aw(r),i=0,a=0;return 90!==(n=n<0?360+n:n)&&270!==n||uw(r,r.height,r.width),90!==n&&180!==n||(i=r.width),270!==n&&180!==n||(a=r.height),o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(e,0,0),yw(r,t)},Sx=function(e,t,n){var r=by(e.width,e.height),o=aw(r);return"v"===n?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0)),yw(r,t)},kx=function(e,t,n,r,o,i){return i=by(o,i),aw(i).drawImage(e,-n,-r),yw(i,t)},Ox=gn("toolbar.button.execute"),Tx=((g={})[wi()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],g),_x=gn("update-menu-text"),Ex=gn("update-menu-icon"),Dx={type:"separator"},Ax=function(e,t){return e=Vw(G(e)?e.split(" "):e,t),E(e,(function(e,n){return n=function(e){if(Fw(e))return e;var t=ye(e,"value").getOrThunk((function(){return gn("generated-menu-item")}));return Fr({value:t},e)}(n),n=jw(n,t),{menus:Fr(e.menus,n.menus),items:[n.item].concat(e.items),expansions:Fr(e.expansions,n.expansions)}}),{menus:{},expansions:{},items:[]})},zx=(Ni=r([rt("field1Name","field1"),rt("field2Name","field2"),ac("onLockedChange"),rc(["lockClass"]),rt("locked",!1),rf("coupledFieldBehaviours",[yf,nf])]),cc=function(e,t){return df({factory:xv,name:e,overrides:function(e){return{fieldBehaviours:xc([gd("coupled-input-behaviour",[Rt(si(),(function(n){Ks(n,e,t).bind(yf.getCurrent).each((function(t){Ks(n,e,"lock").each((function(r){Gd.isOn(r)&&e.onLockedChange(n,t,r)}))}))}))])])}}})},Zi=r([cc("field1","field2"),cc("field2","field1"),df({factory:dm,schema:[qe("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:xc([Gd.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),tf({name:"FormCoupledInputs",configFields:Ni(),partFields:Zi(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:of(e.coupledFieldBehaviours,[yf.config({find:W.some}),nf.config({store:{mode:"manual",getValue:function(t){var n=el(t,e,["field1","field2"]);t={};return t[e.field1Name]=nf.getValue(n.field1()),t[e.field2Name]=nf.getValue(n.field2()),t},setValue:function(t,n){t=el(t,e,["field1","field2"]),we(n,e.field1Name)&&nf.setValue(t.field1(),n[e.field1Name]),we(n,e.field2Name)&&nf.setValue(t.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return Ks(t,e,"field1")},getField2:function(t){return Ks(t,e,"field2")},getLock:function(t){return Ks(t,e,"lock")}}}},apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}})),Rx={undo:r(gn("undo")),redo:r(gn("redo")),zoom:r(gn("zoom")),back:r(gn("back")),apply:r(gn("apply")),swap:r(gn("swap")),transform:r(gn("transform")),tempTransform:r(gn("temp-transform")),transformApply:r(gn("transform-apply"))},Mx=(Tc=r("save-state"),g=r("disable"),cc=r("enable"),{formActionEvent:Dv,saveState:Tc,disable:g,enable:cc}),Nx=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Bx=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Px=tinymce.util.Tools.resolve("tinymce.util.Observable"),Hx=tinymce.util.Tools.resolve("tinymce.util.VK");function Lx(e,t){var n,r,o,i,a=t.document||document,u=a.getElementById(t.handle||e),c=function(e){if(ux(e),e.button!==r)return s(e);e.deltaX=e.screenX-o,e.deltaY=e.screenY-i,e.preventDefault(),t.drag(e)},s=function(e){ux(e),Bx(a).off("mousemove touchmove",c).off("mouseup touchend",s),n.remove(),t.stop&&t.stop(e)};return Bx(u).on("mousedown touchstart",(function(e){var l,f,d,m,g,h,p=(p=a,l=Math.max,f=p.documentElement,d=p.body,m=l(f.scrollWidth,d.scrollWidth),g=l(f.clientWidth,d.clientWidth),h=l(f.offsetWidth,d.offsetWidth),v=l(f.scrollHeight,d.scrollHeight),p=l(f.clientHeight,d.clientHeight),{width:m<h?g:m,height:v<l(f.offsetHeight,d.offsetHeight)?p:v});ux(e),e.preventDefault(),r=e.button;var v=u;o=e.screenX,i=e.screenY,v=window.getComputedStyle?window.getComputedStyle(v,null).getPropertyValue("cursor"):v.runtimeStyle.cursor,n=Bx("<div></div>").css({position:"absolute",top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1e-4,cursor:v}).appendTo(a.body),Bx(a).on("mousemove touchmove",c).on("mouseup touchend",s),t.start(e)})),{destroy:function(){Bx(u).off()}}}function Ix(e){function n(e,t){l.getOpt(e).each((function(e){var n=i.get(),r=sr(e.element),c=ir(e.element),s=t.dom.naturalWidth*n,l=t.dom.naturalHeight*n,f=Math.max(0,r/2-s/2),d=Math.max(0,c/2-l/2),m={left:f.toString()+"px",top:d.toString()+"px",width:s.toString()+"px",height:l.toString()+"px",position:"absolute"};Un(t,m),o.getOpt(e).each((function(e){Un(e.element,m)})),a.get().each((function(e){var t=u.get();e.setRect({x:t.x*n+f,y:t.y*n+d,w:t.w*n,h:t.h*n}),e.setClampRect({x:f,y:d,w:s,h:l}),e.setViewPortRect({x:0,y:0,w:r,h:c})}))}))}function r(e,t){var r,o=Oo.fromTag("img");return un(o,"src",t),r=o.dom,new Mm((function(e){var t=function(){r.removeEventListener("load",t),e(r)};r.complete?e(r):r.addEventListener("load",t)})).then((function(){return l.getOpt(e).map((function(e){var t=_a({element:o});Ud.replaceAt(e,1,W.some(t));var r=c.get(),a={x:0,y:0,w:o.dom.naturalWidth,h:o.dom.naturalHeight};c.set(a);var s;t=Nx.inflate(a,-20,-20);return u.set(t),r.w===a.w&&r.h===a.h||(s=o,l.getOpt(e).each((function(e){var t=sr(e.element),n=ir(e.element),r=s.dom.naturalWidth;e=s.dom.naturalHeight,e=Math.min(t/r,n/e);1<=e?i.set(1):i.set(e)}))),n(e,o),o}))}))}var o=Bd({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),i=st(1),a=st(W.none()),u=st({x:0,y:0,w:1,h:1}),c=st({x:0,y:0,w:1,h:1}),s=wv.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[o.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:xc([gd("image-panel-crop-events",[Ui((function(e){l.getOpt(e).each((function(e){e=e.element.dom,e=Ux({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},e,t),e.toggleVisibility(!1),e.on("updateRect",(function(e){var t=e.rect;e=i.get(),e={x:Math.round(t.x/e),y:Math.round(t.y/e),w:Math.round(t.w/e),h:Math.round(t.h/e)};u.set(e)})),a.set(W.some(e))}))}))])])}],containerBehaviours:xc([Ud.config({}),gd("image-panel-events",[Ui((function(t){r(t,e)}))])])}),l=Bd(s);return{memContainer:l,updateSrc:r,zoom:function(e,t){var r=i.get();r=0<t?Math.min(2,r+.1):Math.max(.1,r-.1);i.set(r),l.getOpt(e).each((function(e){var t=e.components()[1].element;n(e,t)}))},showCrop:function(){a.get().each((function(e){e.toggleVisibility(!0)}))},hideCrop:function(){a.get().each((function(e){e.toggleVisibility(!1)}))},getRect:function(){return u.get()},getMeasurements:function(){var e=c.get();return{width:e.w,height:e.h}}}}function Fx(e,t,n,r,o){return Kw({name:e,icon:W.some(t),disabled:n,tooltip:W.some(e),primary:!1,borderless:!1},r,o)}function Vx(e,t){t?Zg.enable(e):Zg.disable(e)}var jx=0,Ux=function(e,t,n,r,o){function i(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}}function a(t,r,o,a){var u=r.x,c=r.y,s=r.w;r=r.h;u+=o*t.deltaX,c+=a*t.deltaY,s+=o*t.deltaW,r+=a*t.deltaH,t=e=Nx.clamp({x:u,y:c,w:s=s<20?20:s,h:r=r<20?20:r},n,"move"===t.name),t=i(n,t=e),h.fire("updateRect",{rect:t}),g(t)}function u(t){m(e=t)}var c,s="tox-",l="tox-crid-"+jx++,f=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],d=["top","right","bottom","left"],m=function(e){function n(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),Bx("#"+l+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})}Jy.each(f,(function(t){Bx("#"+l+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})})),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)},g=function(e){var t;u((t=n,{x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}))};Bx('<div id="'+l+'" class="'+s+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),Jy.each(d,(function(e){Bx("#"+l,r).append('<div id="'+l+"-"+e+'"class="'+s+'croprect-block" style="display: none" data-mce-bogus="all">')})),Jy.each(f,(function(e){Bx("#"+l,r).append('<div id="'+l+"-"+e.name+'" class="'+s+"croprect-handle "+s+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')})),c=Jy.map(f,(function(t){var n;return Lx(l,{document:r.ownerDocument,handle:l+"-"+t.name,start:function(){n=e},drag:function(e){a(t,n,e.deltaX,e.deltaY)}})})),m(e),Bx(r).on("focusin focusout",(function(e){Bx(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")})),Bx(r).on("keydown",(function(t){var n;function r(e,t,r,o,i){e.stopPropagation(),e.preventDefault(),a(n,r,o,i)}switch(Jy.each(f,(function(e){if(t.target.id===l+"-"+e.name)return n=e,!1})),t.keyCode){case Hx.LEFT:r(t,0,e,-10,0);break;case Hx.RIGHT:r(t,0,e,10,0);break;case Hx.UP:r(t,0,e,0,-10);break;case Hx.DOWN:r(t,0,e,0,10);break;case Hx.ENTER:case Hx.SPACEBAR:t.preventDefault(),o()}}));var h=Jy.extend({toggleVisibility:function(e){var t=Jy.map(f,(function(e){return"#"+l+"-"+e.name})).concat(Jy.map(d,(function(e){return"#"+l+"-"+e}))).join(",");e?Bx(t,r).show():Bx(t,r).hide()},setClampRect:function(t){n=t,m(e)},setRect:u,getInnerRect:function(){return i(n,e)},setInnerRect:g,setViewPortRect:function(n){t=n,m(e)},destroy:function(){Jy.each(c,(function(e){e.destroy()})),c=[]}},Px);return h};function Wx(e){var n,r,o,i,a=st(e),u=st(W.none()),c=(r=-1,{data:n=[],add:function(e){var t=n.splice(++r);return n.push(e),{state:e,removed:t}},undo:function(){if(o())return n[--r]},redo:function(){if(i())return n[++r]},canUndo:o=function(){return 0<r},canRedo:i=function(){return-1!==r&&r<n.length-1}});function s(e){a.set(e)}function l(e){URL.revokeObjectURL(e.url)}function f(e){var t=d(e);return s(t),e=c.add(t).removed,Jy.each(e,l),t.url}c.add(e);var d=function(e){return{blob:e,url:URL.createObjectURL(e)}},m=function(){u.get().each(l),u.set(W.none())};return{getBlobState:function(){return a.get()},setBlobState:s,addBlobState:f,getTempState:function(){return u.get().fold((function(){return a.get()}),(function(e){return e}))},updateTempState:function(e){return e=d(e),m(),u.set(W.some(e)),e.url},addTempState:function(e){return e=d(e),u.set(W.some(e)),e.url},applyTempState:function(e){return u.get().fold(t,(function(t){f(t.blob),e()}))},destroyTempState:m,undo:function(){var e=c.undo();return s(e),e.url},redo:function(){var e=c.redo();return s(e),e.url},getHistoryStates:function(){return{undoEnabled:c.canUndo(),redoEnabled:c.canRedo()}}}}function qx(e,n){function r(e){var t=l.getHistoryStates();h.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),Tt(e,Mx.formActionEvent,{name:Mx.saveState(),value:t.undoEnabled})}function o(e){return e.toBlob()}function i(e){Tt(e,Mx.formActionEvent,{name:Mx.disable(),value:{}})}function a(e,t,n,a,u){return i(e),ww(t).then(n).then(o).then(a).then((function(t){return d(e,t).then((function(t){return r(e),u(),f(e),t}))})).catch((function(t){return f(e),t}))}function u(e,t,n){var r=l.getBlobState().blob;a(e,r,t,(function(e){return l.updateTempState(e)}),n)}var c,s,l=Wx(e.currentState),f=function(e){p.getApplyButton(e).each((function(e){Zg.enable(e)})),Tt(e,Mx.formActionEvent,{name:Mx.enable(),value:{}})},d=function(e,t){return i(e),g.updateSrc(e,t)},m=function(e){var t=l.getBlobState().url;return l.destroyTempState(),r(e),t},g=Ix(e.currentState.url),h=(c=Bd(Fx("Undo","undo",!0,(function(e){Tt(e,Rx.undo(),{direction:1})}),e=n)),s=Bd(Fx("Redo","redo",!0,(function(e){Tt(e,Rx.redo(),{direction:1})}),e)),{container:wv.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[c.asSpec(),s.asSpec(),Fx("Zoom in","zoom-in",!1,(function(e){Tt(e,Rx.zoom(),{direction:1})}),e),Fx("Zoom out","zoom-out",!1,(function(e){Tt(e,Rx.zoom(),{direction:-1})}),e)]}),updateButtonUndoStates:function(e,t,n){c.getOpt(e).each((function(e){Vx(e,t)})),s.getOpt(e).each((function(e){Vx(e,n)}))}}),p=ax(g,n);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[p.memContainer.asSpec(),g.memContainer.asSpec(),h.container],behaviours:xc([nf.config({store:{mode:"manual",getValue:function(){return l.getBlobState()}}}),gd("image-tools-events",[Rt(Rx.undo(),(function(e,t){var n=l.undo();d(e,n).then((function(t){f(e),r(e)}))})),Rt(Rx.redo(),(function(e,t){var n=l.redo();d(e,n).then((function(t){f(e),r(e)}))})),Rt(Rx.zoom(),(function(e,t){t=t.event.direction,g.zoom(e,t)})),Rt(Rx.back(),(function(e,t){var n;e=m(n=e),d(n,e).then((function(e){f(n)})),(0,t.event.swap)(),g.hideCrop()})),Rt(Rx.apply(),(function(e,t){l.applyTempState((function(){m(e),(0,t.event.swap)()}))})),Rt(Rx.transform(),(function(e,n){return u(e,n.event.transform,t)})),Rt(Rx.tempTransform(),(function(e,n){var r;r=e,e=n.event.transform,n=l.getTempState().blob,a(r,n,e,(function(e){return l.addTempState(e)}),t)})),Rt(Rx.transformApply(),(function(e,t){var n,r;n=e,r=t.event.transform,e=t.event.swap,t=l.getBlobState().blob,a(n,t,r,(function(e){return e=l.addBlobState(e),m(n),e}),e)})),Rt(Rx.swap(),(function(e,t){h.updateButtonUndoStates(e,!1,!1);var n=t.event.transform,r=t.event.swap;n.fold((function(){r()}),(function(t){u(e,t,r)}))}))]),$y()])}}function $x(e){return!Pr(e,"items")}function Gx(e,t){function n(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}}function r(e){return{dom:{tag:"tr"},components:O(e,n)}}var o;return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(o=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:O(o,(function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}}))}]}),(e=e.cells,{dom:{tag:"tbody"},components:O(e,r)})],behaviours:xc([Cv.config({}),Wd.config({})])}}function Xx(e,t){var n=e.label.map((function(e){return iv(e,t)})),o=[Zg.config({disabled:function(){return e.disabled||t.isDisabled()}}),dh(),Vd.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return Ot(e,Av),W.some(!0)}}),gd("textfield-change",[Rt(si(),(function(t,n){Tt(t,Tv,{name:e.name})})),Rt(bi(),(function(t,n){Tt(t,Tv,{name:e.name})}))]),Cv.config({})],i=e.validation.map((function(e){return Jv.config({getRoot:function(e){return Wt(e.element)},invalidClass:"tox-invalid",validator:{validate:function(t){var n=nf.getValue(t);t=e.validator(n);return Xv(!0===t?se.value(n):se.error(t))},validateOnLoad:e.validateOnLoad}})})).toArray(),a=e.placeholder.fold(r({}),(function(e){return{placeholder:t.translate(e)}})),u=e.inputMode.fold(r({}),(function(e){return{inputmode:e}}));u=f(f({},a),u),u=xv.parts.field({tag:!0===e.multiline?"textarea":"input",inputAttributes:u,inputClasses:[e.classname],inputBehaviours:xc(R([o,i])),selectOnFocus:!1,factory:Bv}),o=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),i=[Zg.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){xv.getField(e).each(Zg.disable)},onEnabled:function(e){xv.getField(e).each(Zg.enable)}}),dh()];return ov(n,u,o,i)}function Kx(e,t,n){n=nf.getValue(n),nf.setValue(t,n),FS(t)}function Yx(e,t){var n=e.element,r=Yn(n);e=n.dom;"number"!==cn(n,"type")&&t(e,r)}function Jx(e,t,n){if(e.selectsOver){var r=nf.getValue(t),o=e.getDisplayText(r);r=nf.getValue(n);return 0===e.getDisplayText(r).indexOf(o)?W.some((function(){var e;Kx(0,t,n),e=o.length,Yx(t,(function(t,n){return t.setSelectionRange(e,n.length)}))})):W.none()}return W.none()}function Qx(e){return US(Gv(e))}function Zx(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:t}}function eC(e,n){return{type:"menuitem",value:n,text:e,meta:{attach:void 0},onAction:t}}function tC(e,t){return n=e,t=_(t,(function(e){return e.type===n})),O(t,Zx);var n}function nC(e,t){var n=e.toLowerCase();return _(t,(function(e){var t=(void 0!==e.meta&&void 0!==e.meta.text?e.meta:e).text;return ft(t.toLowerCase(),n)||ft(e.value.toLowerCase(),n)}))}function rC(e,t,n){var r=void 0!==(t=nf.getValue(t)).meta.text?t.meta.text:t.value;return n.getLinkInformation().fold((function(){return[]}),(function(t){var o=nC(r,(o=n.getHistory(e),O(o,(function(e){return eC(e,e)}))));return"file"===e?(t=[o,nC(r,tC("header",t.targets)),nC(r,R([W.from(t.anchorTop).map((function(e){return eC("<top>",e)})).toArray(),tC("anchor",t.targets),W.from(t.anchorBottom).map((function(e){return eC("<bottom>",e)})).toArray()]))],D(t,(function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(qS,t)}),[])):o}))}function oC(e,n,r){function o(t){t=nf.getValue(t),r.addToHistory(t.value,e.filetype)}var i,a,u,c,s=n.shared.providers,l=xv.parts.field({factory:jS,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":$S,type:"url"},minChars:0,responseTime:0,fetch:function(t){return t=rC(e.filetype,t,r),t=Uw(t,Cg.BUBBLE_TO_SANDBOX,n,!1),Xv(t)},getHotspot:function(e){return v.getOpt(e)},onSetValue:function(e,n){e.hasConfigured(Jv)&&Jv.run(e).get(t)},typeaheadBehaviours:xc(R([r.getValidationHandler().map((function(t){return Jv.config({getRoot:function(e){return Wt(e.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){m.getOpt(e).each((function(e){un(e.element,"title",s.translate(t))}))}},validator:{validate:function(n){var r=nf.getValue(n);return WS((function(n){t({type:e.filetype,url:r.value},(function(e){var t;"invalid"===e.status?(t=se.error(e.message),n(t)):(e=se.value(e.message),n(e))}))}))},validateOnLoad:!1}})})).toArray(),[Zg.config({disabled:function(){return e.disabled||s.isDisabled()}}),Cv.config({}),gd("urlinput-events",R(["file"===e.filetype?[Rt(si(),(function(t){Tt(t,Tv,{name:e.name})}))]:[],[Rt(li(),(function(t){Tt(t,Tv,{name:e.name}),o(t)})),Rt(bi(),(function(t){Tt(t,Tv,{name:e.name}),o(t)}))]]))]])),eventOrder:((g={})[si()]=["streaming","urlinput-events","invalidating"],g),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:n.shared.getSink,parts:{menu:Gm(0,0,"normal")},onExecute:function(e,t,n){Tt(t,Av,{})},onItemExecute:function(t,n,r,i){o(t),Tt(t,Tv,{name:e.name})}}),d=e.label.map((function(e){return iv(e,s)})),m=Bd((i="invalid",a=W.some($S),void 0===c&&(c=i),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+i],innerHtml:Hd(u=void 0===(u="warning")?i:u,s.icons),attributes:f({title:s.translate(c),"aria-live":"polite"},a.fold((function(){return{}}),(function(e){return{id:e}})))}})),g=Bd({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[m.asSpec()]}),h=r.getUrlPicker(e.filetype),p=gn("browser.url.event"),v=Bd({dom:{tag:"div",classes:["tox-control-wrap"]},components:[l,g.asSpec()],behaviours:xc([Zg.config({disabled:function(){return e.disabled||s.isDisabled()}})])}),b=Bd(Jw({name:e.name,icon:W.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},(function(e){return Ot(e,p)}),s,[],["tox-browse-url"]));return xv.sketch({dom:Ov([]),components:d.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:R([[v.asSpec()],h.map((function(){return b.asSpec()})).toArray()])}]),fieldBehaviours:xc([Zg.config({disabled:function(){return e.disabled||s.isDisabled()},onDisabled:function(e){xv.getField(e).each(Zg.disable),b.getOpt(e).each(Zg.disable)},onEnabled:function(e){xv.getField(e).each(Zg.enable),b.getOpt(e).each(Zg.enable)}}),dh(),gd("url-input-events",[Rt(p,(function(t){yf.getCurrent(t).each((function(n){var r=nf.getValue(n),o=f({fieldname:e.name},r);h.each((function(r){r(o).get((function(r){nf.setValue(n,r),Tt(t,Tv,{name:e.name})}))}))}))}))])])})}function iC(e){return function(t,n,r){return ye(n,"name").fold((function(){return e(n,r)}),(function(o){return t.field(o,e(n,r))}))}}function aC(e,t,n){var r=Fr(n,{shared:{interpreter:function(t){return KS(e,t,r)}}});return KS(e,t,r)}function uC(e,t,n){var r=qu(-12,12,YS),o={maxHeightFunction:Rc()};return function(){return n()?{anchor:"node",root:Kt(e()),node:W.from(e()),bubble:r,layouts:{onRtl:function(){return[Nd]},onLtr:function(){return[Md]}},overrides:o}:{anchor:"hotspot",hotspot:t(),bubble:r,layouts:{onRtl:function(){return[fu]},onLtr:function(){return[du]}},overrides:o}}}function cC(e,t,n){return function(){return n()?{anchor:"node",root:Kt(e()),node:W.from(e()),layouts:{onRtl:function(){return[sm]},onLtr:function(){return[sm]}}}:{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[yc]},onLtr:function(){return[yc]}}}}}function sC(e,t,n){function r(){return Oo.fromDom(e.getBody())}function o(){return Oo.fromDom(e.getContentAreaContainer())}function i(){return s||!n()}var a,u,c,s=ah(e);return{inlineDialog:uC(o,t,i),banner:cC(o,t,i),cursor:(u=e,function(){return{anchor:"selection",root:c(),getSelection:function(){var e=u.selection.getRng();return W.some(Nl.range(Oo.fromDom(e.startContainer),e.startOffset,Oo.fromDom(e.endContainer),e.endOffset))}}}),node:(a=c=r,function(e){return{anchor:"node",root:a(),node:e}})}}function lC(e){return{colorPicker:function(e,t){Ep(o)(e,t)},hasCustomColors:function(){return lp(r)},getColors:function(){return fp(n)},getColorCols:(t=n=r=o=e,function(){return gp(t)})};var t,n,r,o}function fC(e,t){function n(t){oe(t,(function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))}var r=QS(t);return e.formatter?n(r.customFormats):e.on("init",(function(){n(r.customFormats)})),r.formats}function dC(e){return W.from(e.getParam("style_formats")).filter(K).map((function(t){return t=fC(e,t),e.getParam("style_formats_merge",!1,"boolean")?JS.concat(t):t})).getOr(JS)}function mC(e,t,n){return n={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)},Fr(e,n)}function gC(e,t,n,r){var o=function(t){return O(t,(function(t){var i,a=Mr(t);if(we(t,"items")){var u=o(t.items);return Fr(Fr(t,{type:"submenu"}),{getStyleItems:function(){return u}})}return we(t,"format")?mC(t,n,r):1===a.length&&re(a,"title")?Fr(t,{type:"separator"}):(a=G((i=t).name)?i.name:gn(i.title),t={type:"formatter",format:t="custom-"+a,isSelected:n(t),getStylePreview:r(t)},t=Fr(i,t),e.formatter.register(a,t),t)}))};return o(t)}function hC(e){function t(t){return function(){return e.formatter.match(t)}}function n(t){return function(){var n=e.formatter.get(t);return void 0!==n?W.some({tag:0<n.length&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):W.none()}}var r=function(e){var t=e.items;return void 0!==t&&0<t.length?M(t,r):[e.format]},o=st([]),i=st([]),a=st([]),u=st([]),c=st(!1);return e.on("PreInit",(function(a){var u=dC(e);u=gC(e,u,t,n);o.set(u),i.set(M(u,r))})),e.on("addStyleModifications",(function(o){var i=gC(e,o.items,t,n);a.set(i),c.set(o.replace),u.set(M(i,r))})),{getData:function(){var e=c.get()?[]:o.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=c.get()?[]:i.get(),t=u.get();return e.concat(t)}}}function pC(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}}function vC(e){return e.innerText||e.textContent}function bC(e){return(t=e)&&"A"===t.nodeName&&void 0!==(t.id||t.name)&&nk(e);var t}function yC(e){return e&&/^(H[1-6])$/.test(e.nodeName)}function wC(e){return yC(e)&&nk(e)}function xC(e){var t,n=e.id||gn("h");return pC("header",vC(e),"#"+n,yC(t=e)?parseInt(t.nodeName.substr(1),10):0,(function(){e.id=n}))}function CC(e){var n=e.id||e.name;e=vC(e);return pC("anchor",e||"#"+n,"#"+n,0,t)}function SC(e){var t;return t="h1,h2,h3,h4,h5,h6,a:not([href])",O(Qc(Oo.fromDom(e),t),(function(e){return e.dom}))}function kC(e){return 0<ZS(e.title).length}function OC(e){return G(e)&&/^https?/.test(e)}function TC(e){return X(e)&&ve(e,(function(e){return!(K(e=e)&&e.length<=5&&N(e,OC))})).isNone()}function _C(){var e,t=up.getItem(ok);if(null===t)return{};try{e=JSON.parse(t)}catch(e){if(e instanceof SyntaxError)return{};throw e}return TC(e)?e:{}}function EC(e){var t=_C();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]}function DC(e,t){var n,r;OC(e)&&(n=_C(),r=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],r=_(r,(function(t){return t!==e})),n[t]=[e].concat(r).slice(0,5),function(e){if(!TC(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));up.setItem(ok,JSON.stringify(e))}(n))}function AC(e){return!!e}function zC(e){return ge(Jy.makeMap(e,/[, ]/),AC)}function RC(e){return W.from(e.getParam("file_picker_callback")).filter(Q)}function MC(e,t){var n,r,o,i=(i=e,n=W.some(i.getParam("file_picker_types")).filter(AC),r=W.some(i.getParam("file_browser_callback_types")).filter(AC),o=n.or(r).map(zC),RC(i).fold(c,(function(e){return o.fold(s,(function(e){return 0<Mr(e).length&&e}))})));return Y(i)?i?RC(e):W.none():i[t]?RC(e):W.none()}function NC(e){return W.from(e).filter(G).getOrUndefined()}function BC(e){return{getHistory:EC,addToHistory:DC,getLinkInformation:function(){return!1===(t=e).getParam("typeahead_urls")?W.none():W.some({targets:rk(t.getBody()),anchorTop:NC(t.getParam("anchor_top","#top")),anchorBottom:NC(t.getParam("anchor_bottom","#bottom"))});var t},getValidationHandler:function(){return t=e,W.from(void 0===(t=(n=t).getParam("file_picker_validator_handler",void 0,"function"))?n.getParam("filepicker_validator_handler",void 0,"function"):t);var t,n},getUrlPicker:function(t){return MC(n=e,r=t).map((function(e){return function(t){return Gv((function(o){var i=f({filetype:r,fieldname:t.fieldname},W.from(t.meta).getOr({}));e.call(n,(function(e,t){if(!G(e))throw new Error("Expected value to be string");if(void 0!==t&&!X(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})}),t.value,i)}))}}));var n,r}}}function PC(e,t,n){var r,o,i=st(!1),a={isPositionedAtTop:function(){return"top"===r.get()},getDockingMode:(r=st(oh(t)?"bottom":"top")).get,setDockingMode:r.set},u={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:Kg.translate,isDisabled:function(){return t.mode.isReadOnly()||t.ui.isDisabled()},getSetting:t.getParam.bind(t)},interpreter:function(e){return KS(XS,e,u)},anchors:sC(t,n,a.isPositionedAtTop),header:a,getSink:function(){return se.value(e)}},urlinput:BC(t),styleselect:hC(t),colorinput:lC(t),dialog:{isDraggableModal:(o=t,function(){return o.getParam("draggable_modal",!1,"boolean")})},isContextMenuOpen:function(){return i.get()},setContextMenuState:function(e){return i.set(e)}};return u}function HC(e,t,n){return{within:e,extra:t,withinWidth:n}}function LC(e,t,n){var o,i=(o=function(e,t){var r=n(e);return W.some({element:e,start:t,finish:t+r,width:r})},D(e,(function(e,t){return o(t,e.len).fold(r(e),(function(t){return{len:t.finish,list:e.list.concat([t])}}))}),{len:0,list:[]}).list),a=_(i,(function(e){return e.finish<=t}));e=E(a,(function(e,t){return e+t.width}),0);return{within:a,extra:i.slice(a.length),withinWidth:e}}function IC(e){return O(e,(function(e){return e.element}))}function FC(e,t,n,r){var o=(a=function(e,t,n){return n=LC(t,e,n),0===n.extra.length?W.some(n):W.none()}(e,t,n).getOrThunk((function(){return LC(t,e-n(r),n)}))).within,i=a.extra,a=a.withinWidth;return 1===i.length&&i[0].width<=n(r)?function(e,t,n){return t=IC(e.concat(t)),HC(t,[],n)}(o,i,a):1<=i.length?function(e,t,n,r){return n=IC(e).concat([n]),HC(n,IC(t),r)}(o,i,r,a):(a=a,HC(IC(o),[],a))}function VC(e,t){t=O(t,(function(e){return Aa(e)})),uk.setGroups(e,t)}function jC(e,t,n){var r=Ys(e,t,"primary"),o=Qv.getCoupled(e,"overflowGroup");jn(r.element,"visibility","hidden");var i=t.builtGroups.get().concat([o]);e=F(i,(function(e){return Au(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}));n([]),VC(r,i),i=sr(r.element),0===(t=FC(i,t.builtGroups.get(),(function(e){return sr(e.element)}),o)).extra.length?(Ud.remove(r,o),n([])):(VC(r,t.within),n(t.extra)),Xn(r.element,"visibility"),Kn(r.element),e.each(Wd.focus)}function UC(e,t){e=Qv.getCoupled(e,"toolbarSandbox"),Kl.isOpen(e)?Kl.close(e):Kl.open(e,t.toolbar())}function WC(e,t,n,r){var o=n.getBounds.map((function(e){return e()}));n=n.lazySink(e).getOrDie();jl.positionWithinBounds(n,{anchor:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:ik()}},t,o)}function qC(e,t,n,r,o){uk.setGroups(t,o),WC(e,t,n,r),Gd.on(e)}function $C(e){return O(e,(function(e){return Aa(e)}))}function GC(e,t,n){jC(e,n,(function(r){n.overflowGroups.set(r),t.getOpt(e).each((function(e){ck.setGroups(e,$C(r))}))}))}function XC(e,t){return t.getAnimationRoot.fold((function(){return e.element}),(function(t){return t(e)}))}function KC(e){return e.dimension.property}function YC(e,t){return e.dimension.getDimension(t)}function JC(e,t){e=XC(e,t),Ln(e,[t.shrinkingClass,t.growingClass])}function QC(e,t){Bn(e.element,t.openClass),Mn(e.element,t.closedClass),jn(e.element,KC(t),"0px"),Kn(e.element)}function ZC(e,t){Bn(e.element,t.closedClass),Mn(e.element,t.openClass),Xn(e.element,KC(t))}function eS(e,t,n,r){n.setCollapsed(),jn(e.element,KC(t),YC(t,e.element)),Kn(e.element),JC(e,t),QC(e,t),t.onStartShrink(e),t.onShrunk(e)}function tS(e,t,n,r){r=r.getOrThunk((function(){return YC(t,e.element)})),n.setCollapsed(),jn(e.element,KC(t),r),Kn(e.element),r=XC(e,t),Bn(r,t.growingClass),Mn(r,t.shrinkingClass),QC(e,t),t.onStartShrink(e)}function nS(e,t,n){var r=YC(t,e.element);("0px"===r?eS:tS)(e,t,n,W.some(r))}function rS(e,t,n){var r=XC(e,t),o=Pn(r,t.shrinkingClass),i=YC(t,e.element);ZC(e,t);var a=YC(t,e.element);(o?function(){jn(e.element,KC(t),i),Kn(e.element)}:function(){QC(e,t)})(),Bn(r,t.shrinkingClass),Mn(r,t.growingClass),ZC(e,t),jn(e.element,KC(t),a),n.setExpanded(),t.onStartGrow(e)}function oS(e,t,n){return e=XC(e,t),!0===Pn(e,t.growingClass)}function iS(e,t,n){return e=XC(e,t),!0===Pn(e,t.shrinkingClass)}function aS(e,t){Ks(e,t,"overflow-button").bind((function(){return Ks(e,t,"overflow")})).each((function(n){dk(e,t),fk.toggleGrow(n)}))}function uS(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}));return{dom:f({tag:"div",classes:["tox-toolbar__group"]},t),components:[sk.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:xc([Cv.config({}),Wd.config({})])}}function cS(e){return sk.sketch(uS(e))}function sS(e,t){var n=Ui((function(t){var n=O(e.initGroups,cS);uk.setGroups(t,n)}));return xc([$h(e.providers.isDisabled),dh(),Vd.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),gd("toolbar-events",[n])])}function lS(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":uS({title:W.none(),items:[]}),"overflow-button":Xw({name:"more",icon:W.some("more-drawer"),disabled:!1,tooltip:W.some("More..."),primary:!1,borderless:!1},W.none(),e.providers)},splitToolbarBehaviours:sS(e,t)}}function fS(e){var t=lS(e),n=lk.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return lk.sketch(f(f({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element,n=wr(t),r=jt(t);t=wr(r),r=Math.max(r.dom.scrollHeight,t.height);return br(n.x+4,t.y,n.width-8,r)},parts:f(f({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))}function dS(e){var t=mk.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=mk.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}});e=lS(e);return mk.sketch(f(f({},e),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([gk()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([gk()],{type:"closed"})}}))}function mS(e){var t=e.cyclicKeying?"cyclic":"acyclic";return uk.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===wg.scrolling?["tox-toolbar--scrolling"]:[])},components:[uk.parts.groups({})],toolbarBehaviours:sS(e,t)})}function gS(e){return Fe("menubutton",pk,e)}function hS(e){return{isDisabled:function(){return Zg.isDisabled(e)},setDisabled:function(t){return Zg.set(e,t)}}}function pS(e){return{setActive:function(t){Gd.set(e,t)},isActive:function(){return Gd.isOn(e)},isDisabled:function(){return Zg.isDisabled(e)},setDisabled:function(t){return Zg.set(e,t)}}}function vS(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})}function bS(e,t,n,r,o,i){function a(e){return Kg.isRtl()&&re(xk,e)?e+"-rtl":e}var u=Kg.isRtl()&&e.exists((function(e){return re(Ck,e)}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(u?["tox-tbtn__icon-rtl"]:[]),attributes:vS(n,i)},components:ph([e.map((function(e){return Pw(a(e),i.icons)})),t.map((function(e){return Lw(e,"tox-tbtn",i)}))]),eventOrder:((n={})[ei()]=["focusing","alloy.base.behaviour","common-button-display-events"],n),buttonBehaviours:xc([$h(i.isDisabled),dh(),gd("common-button-display-events",[Rt(ei(),(function(e,t){t.event.prevent(),Ot(e,wk)}))])].concat(r.map((function(n){return bk.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return ph([e.icon.map((function(e){return Pw(a(e),i.icons)})),e.text.map((function(e){return Lw(e,"tox-tbtn",i)}))])}})})).toArray()).concat(o.getOr([])))}}function yS(e,n,r){var o,i=st(t),a=bS(e.icon,e.text,e.tooltip,W.none(),W.none(),r);return dm.sketch({dom:a.dom,components:a.components,eventOrder:Tx,buttonBehaviours:xc([gd("toolbar-button-events",[(o={onAction:e.onAction,getApi:n.getApi},$i((function(e,t){mh(o,e)((function(t){Tt(e,Ox,{buttonApi:t}),o.onAction(t)}))}))),gh(n,i),hh(n,i)]),$h((function(){return e.disabled||r.isDisabled()})),dh()].concat(n.toolbarButtonBehaviours))})}function wS(e,n){function r(e){return{isDisabled:function(){return Zg.isDisabled(e)},setDisabled:function(t){return Zg.set(e,t)},setIconFill:function(t,n){qa(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){un(e,"fill",n)}))},setIconStroke:function(t,n){qa(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){un(e,"stroke",n)}))},setActive:function(t){un(e.element,"aria-pressed",t),qa(e.element,"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return Gd.set(e,t)}))}))},isActive:function(){return qa(e.element,"span").exists((function(t){return e.getSystem().getByDom(t).exists(Gd.isOn)}))}}}var o,i,a,u=gn("channel-update-split-dropdown-display"),s=st(t),l={getApi:r,onSetup:e.onSetup};return yk.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:f({"aria-pressed":!1},vS(e.tooltip,n.providers))},onExecute:function(t){e.onAction(r(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:xc([qh(n.providers.isDisabled),dh(),gd("split-dropdown-events",[Rt(wk,Wd.focus),gh(l,s),hh(l,s)]),Dy.config({})]),eventOrder:((s={})[zi()]=["alloy.base.behaviour","split-dropdown-events"],s),toggleClass:"tox-tbtn--enabled",lazySink:n.getSink,fetch:(o=r,i=e,a=n.providers,function(e){return Gv((function(e){return i.fetch(e)})).map((function(t){return W.from(Up(Fr(xp(gn("menu-value"),t,(function(t){i.onItemAction(o(e),t)}),i.columns,i.presets,Cg.CLOSE_ON_EXECUTE,i.select.getOr(c),a),{movement:Cp(i.columns,i.presets),menuBehaviours:Ug("auto"!==i.columns?[]:[Ui((function(e,t){tg(e,4,Wm(i.presets)).each((function(t){var n=t.numRows;t=t.numColumns;Vd.setGridSize(e,n,t)}))}))])})))}))}),parts:{menu:Gm(0,e.columns,e.presets)},components:[yk.parts.button(bS(e.icon,e.text,W.none(),W.some(u),W.some([Gd.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),n.providers)),yk.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Hd("chevron-down",n.providers.icons)},buttonBehaviours:xc([qh(n.providers.isDisabled),dh()])}),yk.parts["aria-descriptor"]({text:n.providers.translate("To open the popup, press Shift+Enter")})]})}function xS(e,t){return Rt(Ox,(function(n,r){var o;n=e.get(n),o=n,n={hide:function(){return Ot(o,ki())},getValue:function(){return nf.getValue(o)}};t.onAction(n,r.event.buttonApi)}))}function CS(e,n,r){var o,i,a,u={backstage:{shared:{providers:r}}};return"contextformtogglebutton"===n.type?(o=e,a=u,(r=(i=n).original).primary,r=d(r,["primary"]),r=Ve(Em(f(f({},r),{type:"togglebutton",onAction:t}))),kk(r,a.backstage.shared.providers,[xS(o,i)])):(i=e,e=u,(n=(u=n).original).primary,n=d(n,["primary"]),n=Ve(_m(f(f({},n),{type:"button",onAction:t}))),Sk(n,e.backstage.shared.providers,[xS(i,u)]))}function SS(e,t){var n,r,o,i,u=e.label.fold((function(){return{}}),(function(e){return{"aria-label":e}})),c=(u=Bd(Bv.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:u,selectOnFocus:!0,inputBehaviours:xc([Vd.config({mode:"special",onEnter:function(e){return c.findPrimary(e).map((function(e){return _t(e),!0}))},onLeft:function(e,t){return t.cut(),W.none()},onRight:function(e,t){return t.cut(),W.none()}})])})),n=u,r=e.commands,o=t,i=O(r,(function(e){return Bd(CS(n,e,o))})),{asSpecs:function(){return O(i,(function(e){return e.asSpec()}))},findPrimary:function(e){return F(r,(function(t,n){return t.primary?W.from(i[n]).bind((function(t){return t.getOpt(e)})).filter(a(Zg.isDisabled)):W.none()}))}});return[{title:W.none(),items:[u.asSpec()]},{title:W.none(),items:c.asSpecs()}]}function kS(e,t){var n,r=pr(window),o=yr(Oo.fromDom(e.getContentAreaContainer())),i=vg(e)||bg(e)||th(e),a=(u=o,a=r,n=Math.max(a.x,u.x),u=u.right-n,a=a.width-(n-a.x),u={x:n,width:Math.min(u,a)}).x,u=u.width;return e.inline&&!i?br(a,r.y,u,r.height):(t=(r=function(e,t,n,r){var o=Oo.fromDom(e.getContainer()),i=qa(o,".tox-editor-header").getOr(o);i=yr(i),t=i.y>=t.bottom,t=r&&!t;return e.inline&&t?{y:Math.max(i.bottom,n.y),bottom:n.bottom}:e.inline&&!t?{y:n.y,bottom:Math.min(i.y,n.bottom)}:(o=yr(o),t?{y:Math.max(i.bottom,n.y),bottom:Math.min(o.bottom,n.bottom)}:{y:Math.max(o.y,n.y),bottom:Math.min(i.y,n.bottom)})}(e,o,r,t.header.isPositionedAtTop())).y,r=r.bottom,br(a,t,u,r-t))}function OS(e,t){return t=_(t,(function(t){return t.predicate(e.dom)})),{contextToolbars:(t=T(t,(function(e){return"contexttoolbar"===e.type}))).pass,contextForms:t.fail}}function TS(e){if(e.length<=1)return e;function t(t){return _(e,(function(e){return e.position===t}))}var n=function(t){return C(e,(function(e){return e.position===t}))},r=n("selection"),o=n("node");return r||o?o&&r?(n=t("node"),o=O(t("selection"),(function(e){return f(f({},e),{position:"node"})})),n.concat(o)):t(r?"selection":"node"):t("line")}function _S(e){return e.length<=1?e:t("selection").orThunk((function(){return t("node")})).orThunk((function(){return t("line")})).map((function(e){return e.position})).fold((function(){return[]}),(function(t){return _(e,(function(e){return e.position===t}))}));function t(t){return A(e,(function(e){return e.position===t}))}}function ES(e,t){function n(e){return pt(e,r)}var r=Oo.fromDom(t.getBody()),o=Oo.fromDom(t.selection.getNode());return n(t=o)||bt(r,t)?function(e,t,n){return t=OS(e,t),0<t.contextForms.length?W.some({elem:e,toolbars:[t.contextForms[0]]}):(n=OS(e,n),0<n.contextForms.length?W.some({elem:e,toolbars:[n.contextForms[0]]}):0<t.contextToolbars.length||0<n.contextToolbars.length?(n=TS(t.contextToolbars.concat(n.contextToolbars)),W.some({elem:e,toolbars:n})):W.none())}(o,e.inNodeScope,e.inEditorScope).orThunk((function(){return i=e,(t=n)(r=o)?W.none():wt(r,(function(e){var t=OS(e,i.inNodeScope),n=t.contextToolbars;t=t.contextForms,n=0<t.length?t:_S(n);return 0<n.length?W.some({elem:e,toolbars:n}):W.none()}),t);var t,r,i})):W.none()}function DS(e,t){function n(e,n){var r=Ve(Fe("ContextForm",jm,n));(o[e]=r).launch.map((function(o){u["form:"+e]=f(f({},n.launch),{type:"contextformtogglebutton"===o.type?"togglebutton":"button",onAction:function(){t(r)}})})),("editor"===r.scope?a:i).push(r),c[e]=r}function r(e,t){Fe("ContextToolbar",Um,t).each((function(n){("editor"===t.scope?a:i).push(n),c[e]=n}))}var o={},i=[],a=[],u={},c={},s=Mr(e);return oe(s,(function(t){var o=e[t];"contextform"===o.type?n(t,o):"contexttoolbar"===o.type&&r(t,o)})),{forms:o,inNodeScope:i,inEditorScope:a,lookupTable:c,formNavigators:u}}function AS(e,t,n){function r(e,r,o,a){var u=t.shared.providers.translate(e.title);return"separator"===e.type?W.some({type:"separator",text:u}):"submenu"!==e.type?W.some(f({type:"togglemenuitem",text:u,icon:e.icon,active:e.isSelected(a),disabled:o,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}})))):(o=M(e.getStyleItems(),(function(e){return i(e,r,a)})),0===r&&o.length<=0?W.none():W.some({type:"nestedmenuitem",text:u,disabled:o.length<=0,getSubmenuItems:function(){return M(e.getStyleItems(),(function(e){return i(e,r,a)}))}}))}function o(e){var t=n.getCurrentValue(),r=n.shouldHide?0:1;return M(e,(function(e){return i(e,r,t)}))}var i=function(e,t,o){var i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:r(e,t,!1,o).toArray():r(e,t,i,o).toArray()};return{validateItems:o,getFetch:function(e,t){return function(n,r){var i=t();i=o(i);r(Uw(i,Cg.CLOSE_ON_EXECUTE,e,!1))}}}}function zS(e,t,n){var r=n.dataset,o="basic"===r.type?function(){return O(r.data,(function(e){return mC(e,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:AS(0,t,n),getStyleItems:o}}function RS(e,n,r){var o=(i=zS(0,n,r)).items,i=i.getStyleItems;return Iw({text:r.icon.isSome()?W.none():W.some(""),icon:r.icon,tooltip:W.from(r.tooltip),role:W.none(),fetch:o.getFetch(n,i),onSetup:function(n){return r.setInitialValue.each((function(e){return e(n.getComponent())})),r.nodeChangeHandler.map((function(t){var r=t(n.getComponent());return e.on("NodeChange",r),function(){e.off("NodeChange",r)}})).getOr(t)},getApi:function(e){return{getComponent:function(){return e}}},columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",n.shared)}var MS,NS,BS="data-value",PS=function(e,t,n,r){return O(n,(function(n){return $x(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){nf.setValue(e,n.value),Tt(e,Tv,{name:t}),Wd.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return PS(e,t,n.items,r)}}}))},HS=function(e,t){return F(e,(function(e){return $x(e)?ul(e.value===t,e):HS(e.items,t)}))},LS=il({name:"HtmlSelect",configFields:[qe("options"),gi("selectBehaviours",[Wd,nf]),rt("selectClasses",[]),rt("selectAttributes",{}),Qe("data")],factory:function(e,t){var n=O(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}})),r=e.data.map((function(e){return Gr("initialValue",e)})).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Ps(e.selectBehaviours,[Wd.config({}),nf.config({store:f({mode:"manual",getValue:function(e){return Yn(e.element)},setValue:function(t,n){A(e.options,(function(e){return e.value===n})).isSome()&&Jn(t.element,n)}},r)})])}}}),IS=(Ni=Object.freeze({__proto__:null,events:function(e,t){var n=e.stream.streams.setup(e,t);return ji([Rt(e.event,n),Wi((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[Rt(e,(function(){return t.cancel()}))]})).getOr([])))}}),Zi=function(e){var t=st(null);return wa({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})},Tc=Object.freeze({__proto__:null,throttle:Zi,init:function(e){return e.stream.streams.state(e)}}),g=[$e("stream",Ue("mode",{throttle:[qe("delay"),rt("stopEvent",!0),tu("streams",{setup:function(e,t){var n=e.stream,r=pm(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},state:Zi})]})),rt("event","input"),Qe("cancelEvent"),ac("onStream")],_u({fields:g,name:"streaming",active:Ni,state:Tc})),FS=function(e){Yx(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))},VS=r("alloy.typeahead.itemexecute"),jS=(cc=r([Qe("lazySink"),qe("fetch"),rt("minChars",5),rt("responseTime",1e3),oc("onOpen"),rt("getHotspot",W.some),rt("getAnchorOverrides",r({})),rt("layouts",W.none()),rt("eventOrder",{}),ut("model",{},[rt("getDisplayText",(function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value})),rt("selectsOver",!0),rt("populateFromBrowse",!0)]),oc("onSetValue"),ic("onExecute"),oc("onItemExecute"),rt("inputClasses",[]),rt("inputAttributes",{}),rt("inputStyles",{}),rt("matchWidth",!0),rt("useMinWidth",!1),rt("dismissOnBlur",!0),rc(["openClass"]),Qe("initialData"),gi("typeaheadBehaviours",[Wd,nf,IS,Vd,Gd,Qv]),to("previewing",(function(){return st(!0)}))].concat(sc()).concat(za())),Zi=r([lo({schema:[nc()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each((function(r){Jx(e.model,r,n).fold((function(){return Of.dehighlight(t,n)}),(function(e){return e()}))})):t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&Kx(e.model,t,n)})),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOptional().map((function(e){return Tt(e,VS(),{item:n}),!0}))},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&Kx(e.model,t,n)}))}}}})]),tf({name:"Typeahead",configFields:cc(),partFields:Zi(),factory:function(e,n,r,o){function i(n,r,i){e.previewing.set(!1);var a=Qv.getCoupled(n,"sandbox");Kl.isOpen(a)?yf.getCurrent(a).each((function(e){Of.getHighlighted(e).fold((function(){i(e)}),(function(){Dt(a,e.element,"keydown",r)}))})):tb(e,u(n),n,a,o,(function(e){yf.getCurrent(e).each(i)}),jv.HighlightFirst).get(t)}var a=uv(e),u=function(e){return function(t){return t.map((function(t){var n=be(t.menus);n=M(n,(function(e){return _(e.items,(function(e){return"item"===e.type}))}));return nf.getState(e).update(O(n,(function(e){return e.data}))),t}))}},c=[Wd.config({}),nf.config({onSetValue:e.onSetValue,store:f({mode:"dataset",getDataKey:function(e){return Yn(e.element)},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){Jn(t.element,e.model.getDisplayText(n))}},e.initialData.map((function(e){return Gr("initialValue",e)})).getOr({}))}),IS.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(n,r){var i,a=Qv.getCoupled(n,"sandbox");Wd.isFocused(n)&&Yn(n.element).length>=e.minChars&&(i=yf.getCurrent(a).bind((function(e){return Of.getHighlighted(e).map(nf.getValue)})),e.previewing.set(!0),tb(e,u(n),n,a,o,(function(t){yf.getCurrent(a).each((function(t){i.fold((function(){e.model.selectsOver&&Of.highlightFirst(t)}),(function(e){Of.highlightBy(t,(function(t){return nf.getValue(t).value===e.value})),Of.getHighlighted(t).orThunk((function(){return Of.highlightFirst(t),W.none()}))}))}))}),jv.HighlightFirst).get(t))},cancelEvent:Oi()}),Vd.config({mode:"special",onDown:function(e,t){return i(e,t,Of.highlightFirst),W.some(!0)},onEscape:function(e){return e=Qv.getCoupled(e,"sandbox"),Kl.isOpen(e)?(Kl.close(e),W.some(!0)):W.none()},onUp:function(e,t){return i(e,t,Of.highlightLast),W.some(!0)},onEnter:function(t){var n=Qv.getCoupled(t,"sandbox"),r=Kl.isOpen(n);if(r&&!e.previewing.get())return yf.getCurrent(n).bind((function(e){return Of.getHighlighted(e)})).map((function(e){return Tt(t,VS(),{item:e}),!0}));var o=nf.getValue(t);return Ot(t,Oi()),e.onExecute(n,t,o),r&&Kl.close(n),W.some(!0)}}),Gd.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Qv.config({others:{sandbox:function(t){return ab(e,t,{onOpen:function(){return Gd.on(t)},onClose:function(){return Gd.off(t)}})}}}),gd("typeaheadevents",[$i((function(n){var r=t;rb(e,u(n),n,o,r,jv.HighlightFirst).get(t)})),Rt(VS(),(function(t,n){var r=Qv.getCoupled(t,"sandbox");Kx(e.model,t,n.event.item),Ot(t,Oi()),e.onItemExecute(t,r,n.event.item,nf.getValue(t)),Kl.close(r),FS(t)}))].concat(e.dismissOnBlur?[Rt(vi(),(function(e){e=Qv.getCoupled(e,"sandbox"),Au(e.element).isNone()&&Kl.close(e)}))]:[]))];return{uid:e.uid,dom:cv(Fr(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:f(f({},a),Ps(e.typeaheadBehaviours,c)),eventOrder:e.eventOrder}}})),US=function(e){return f(f({},e),{toCached:function(){return US(e.toCached())},bindFuture:function(t){return US(e.bind((function(e){return e.fold((function(e){return Xv(se.error(e))}),(function(e){return t(e)}))})))},bindResult:function(t){return US(e.map((function(e){return e.bind(t)})))},mapResult:function(t){return US(e.map((function(e){return e.map(t)})))},mapError:function(t){return US(e.map((function(e){return e.mapError(t)})))},foldResult:function(t,n){return e.map((function(e){return e.fold(t,n)}))},withTimeout:function(t,n){return US(Gv((function(r){var o=!1,i=setTimeout((function(){o=!0,r(se.error(n()))}),t);e.get((function(e){o||(clearTimeout(i),r(e))}))})))}})},WS=(g=function(e){return US(Xv(se.value(e)))},Qx),qS={type:"separator"},$S=gn("aria-invalid"),GS={bar:iC((function(e,t){return t=t.shared,{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:O(e.items,t.interpreter)}})),collection:iC((function(e,t){return av(e,t.shared.providers)})),alertbanner:iC((function(e,t){return n=e,t=t.shared.providers,wv.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+n.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[dm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Hd(n.icon,t.icons),attributes:{title:t.translate(n.iconTooltip)}},action:function(e){Tt(e,Dv,{name:"alert-banner",value:n.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(n.text)}}]});var n})),input:iC((function(e,t){return e=e,t=t.shared.providers,Xx({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:W.none(),maximized:e.maximized},t)})),textarea:iC((function(e,t){return e=e,t=t.shared.providers,Xx({name:e.name,multiline:!0,label:e.label,inputMode:W.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:W.none(),maximized:e.maximized},t)})),label:iC((function(e,t){return n=e,e=t.shared,t={dom:{tag:"label",innerHtml:e.providers.translate(n.label),classes:["tox-label"]}},e=O(n.items,e.interpreter),{dom:{tag:"div",classes:["tox-form__group"]},components:[t].concat(e),behaviours:xc([$y(),Ud.config({}),tw(W.none()),Vd.config({mode:"acyclic"})])};var n})),iframe:(MS=function(e,t){return vy(e,t.shared.providers)},function(e,t,n){return t=Fr(t,{source:"dynamic"}),iC(MS)(e,t,n)}),button:iC((function(e,t){return ex(e,t.shared.providers)})),checkbox:iC((function(e,t){return n=e,r=t.shared.providers,i=nf.config({store:{mode:"manual",getValue:function(e){return e.element.dom.checked},setValue:function(e,t){e.element.dom.checked=t}}}),e=function(e){return e.element.dom.click(),W.some(!0)},t=xv.parts.field({factory:{sketch:o},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:xc([$y(),Zg.config({disabled:function(){return n.disabled||r.isDisabled()}}),Cv.config({}),Wd.config({}),i,Vd.config({mode:"special",onEnter:e,onSpace:e,stopSpaceKeyup:!0}),gd("checkbox-events",[Rt(li(),(function(e,t){Tt(e,Tv,{name:n.name})}))])])}),i=xv.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(n.label)},behaviours:xc([Dy.config({})])}),e=Bd({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[(e=function(e){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:Hd("checked"===e?"selected":"unselected",r.icons)}}})("checked"),e("unchecked")]}),xv.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[t,e.asSpec(),i],fieldBehaviours:xc([Zg.config({disabled:function(){return n.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){xv.getField(e).each(Zg.disable)},onEnabled:function(e){xv.getField(e).each(Zg.enable)}}),dh()])});var n,r,i})),colorinput:iC((function(e,t){return cb(e,t.shared,t.colorinput)})),colorpicker:iC((function(e){var t=function(e){return"tox-"+e},n=(t=uy(cy,t),Bd(t.sketch({dom:{tag:"div",classes:["tox-color-picker-container"],attributes:{role:"presentation"}},onValidHex:function(e){Tt(e,Dv,{name:"hex-valid",value:!0})},onInvalidHex:function(e){Tt(e,Dv,{name:"hex-valid",value:!1})}})));return{dom:{tag:"div"},components:[n.asSpec()],behaviours:xc([nf.config({store:{mode:"manual",getValue:function(e){return e=n.get(e),yf.getCurrent(e).bind((function(e){return nf.getValue(e).hex})).map((function(e){return"#"+e})).getOr("")},setValue:function(e,t){var r=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t);e=n.get(e);yf.getCurrent(e).fold((function(){}),(function(e){nf.setValue(e,{hex:W.from(r[1]).getOr("")}),Vy.getField(e,"hex").each((function(e){Ot(e,si())}))}))}}}),$y()])}})),dropzone:iC((function(e,t){return fy(e,t.shared.providers)})),grid:iC((function(e,t){return t=t.shared,{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:O(e.items,t.interpreter)}})),listbox:iC((function(e,n){return o=e,a=(i=n).shared.providers,u=ie(o.items).filter($x),e=o.label.map((function(e){return iv(e,a)})),n={dom:{tag:"div",classes:["tox-listboxfield"]},components:[xv.parts.field({dom:{},factory:{sketch:function(e){return Iw({uid:e.uid,text:u.map((function(e){return e.text})),icon:W.none(),tooltip:o.label,role:W.none(),fetch:function(e,t){e=PS(e,o.name,o.items,nf.getValue(e)),t(Uw(e,Cg.CLOSE_ON_EXECUTE,i,!1))},onSetup:r(t),getApi:r({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Cv.config({}),nf.config({store:{mode:"manual",initialValue:u.map((function(e){return e.value})).getOr(""),getValue:function(e){return cn(e.element,BS)},setValue:function(e,t){HS(o.items,t).each((function(t){un(e.element,BS,t.value),Tt(e,_x,{text:t.text})}))}}})]},"tox-listbox",i.shared)}}})]},xv.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:R([e.toArray(),[n]]),fieldBehaviours:xc([Zg.config({disabled:r(o.disabled),onDisabled:function(e){xv.getField(e).each(Zg.disable)},onEnabled:function(e){xv.getField(e).each(Zg.enable)}})])});var o,i,a,u})),selectbox:iC((function(e,t){return n=e,r=t.shared.providers,o=O(n.items,(function(e){return{text:r.translate(e.text),value:e.value}})),e=n.label.map((function(e){return iv(e,r)})),t=xv.parts.field({dom:{},selectAttributes:{size:n.size},options:o,factory:LS,selectBehaviours:xc([Zg.config({disabled:function(){return n.disabled||r.isDisabled()}}),Cv.config({}),gd("selectbox-change",[Rt(li(),(function(e,t){Tt(e,Tv,{name:n.name})}))])])}),o=1<n.size?W.none():W.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:Hd("chevron-down",r.icons)}}),o={dom:{tag:"div",classes:["tox-selectfield"]},components:R([[t],o.toArray()])},xv.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:R([e.toArray(),[o]]),fieldBehaviours:xc([Zg.config({disabled:function(){return n.disabled||r.isDisabled()},onDisabled:function(e){xv.getField(e).each(Zg.disable)},onEnabled:function(e){xv.getField(e).each(Zg.enable)}}),dh()])});var n,r,o})),sizeinput:iC((function(e,t){return ix(e,t.shared.providers)})),urlinput:iC((function(e,t){return oC(e,t,t.urlinput)})),customeditor:iC((function(e){var t=st(W.none()),n=Bd({dom:{tag:e.tag}}),r=st(W.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:xc([gd("custom-editor-events",[Ui((function(o){n.getOpt(o).each((function(n){(Object.prototype.hasOwnProperty.call(e,"init")?e.init(n.element.dom):Yy.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element.dom,e.settings)}))).then((function(e){r.get().each((function(t){e.setValue(t)})),r.set(W.none()),t.set(W.some(e))}))}))}))]),nf.config({store:{mode:"manual",getValue:function(){return t.get().fold((function(){return r.get().getOr("")}),(function(e){return e.getValue()}))},setValue:function(e,n){t.get().fold((function(){r.set(W.some(n))}),(function(e){return e.setValue(n)}))}}}),$y()]),components:[n.asSpec()]}})),htmlpanel:iC((function(e){return"presentation"===e.presets?wv.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):wv.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:xc([Cv.config({}),Wd.config({})])})})),imagetools:iC((function(e,t){return qx(e,t.shared.providers)})),table:iC((function(e,t){return Gx(e,t.shared.providers)})),panel:iC((function(e,t){return{dom:{tag:"div",classes:e.classes},components:O(e.items,t.shared.interpreter)}}))},XS={field:function(e,t){return t}},KS=function(e,t,n){return ye(GS,t.type).fold((function(){return t}),(function(r){return r(e,t,n)}))},YS={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},JS=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],QS=function(e){return D(e,(function(e,t){if(Pr(t,"items")){var n=QS(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}return Pr(t,"inline")||Pr(t,"block")||Pr(t,"selector")?(n="custom-"+(G(t.name)?t.name:t.title.toLowerCase()),{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}):f(f({},e),{formats:e.formats.concat(t)})}),{customFormats:[],formats:[]})},ZS=Jy.trim,ek=(Ni=function(e){return function(t){if(y(n=t)&&1===n.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}var n;return!1}},Ni("true")),tk=Ni("false"),nk=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return ek(e)}return!1}(e)&&!tk(e)},rk=function(e){return e=SC(e),_(O(_(e,wC),xC).concat(O(_(e,bC),CC)),kC)},ok="tinymce-url-history",ik=r((function(e,t){!function(e,t){t=Pa.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]),jn(e,"max-width",t+"px")}(e,Math.floor(t))})),ak="contexttoolbar-hide",uk=(Tc=r([qe("dom"),rt("shell",!0),gi("toolbarBehaviours",[Ud])]),sc=r([mf({name:"groups",overrides:function(){return{behaviours:xc([Ud.config({})])}}})]),tf({name:"Toolbar",configFields:Tc(),partFields:sc(),factory:function(e,t,n,r){var o=function(t){return e.shell?W.some(t):Ks(t,e,"groups")};t=e.shell?{behaviours:[Ud.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:t.components,behaviours:Ps(e.toolbarBehaviours,t.behaviours),apis:{setGroups:function(e,t){o(e).fold((function(){throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){Ud.set(e,t)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}})),ck=(cc=r([gi("splitToolbarBehaviours",[Qv]),to("builtGroups",(function(){return st([])}))]),Zi=r([rc(["overflowToggledClass"]),yo("getOverflowBounds"),qe("lazySink"),to("overflowGroups",(function(){return st([])}))].concat(cc())),g=r([df({factory:uk,schema:Tc(),name:"primary"}),lo({schema:Tc(),name:"overflow"}),lo({name:"overflow-button"}),lo({name:"overflow-group"})]),Ni=r([rc(["toggledClass"]),qe("lazySink"),bo("fetch"),yo("getBounds"),nt("fireDismissalEventInstead",[rt("event",Mi())]),Ro()]),sc=r([lo({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:xc([Gd.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),lo({factory:uk,schema:Tc(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:xc([Vd.config({mode:"cyclic",onEscape:function(t){return Ks(t,e,"button").each(Wd.focus),W.none()}})])}}})]),tf({name:"FloatingToolbarButton",factory:function(e,t,n,r){return f(f({},dm.sketch(f(f({},r.button()),{action:function(e){UC(e,r)},buttonBehaviours:of({dump:r.button().buttonBehaviours},[Qv.config({others:{toolbarSandbox:function(t){return r=t,o=n,i=e,{dom:{tag:"div",attributes:{id:(a=Ga()).id}},behaviours:xc([Vd.config({mode:"special",onEscape:function(e){return Kl.close(e),W.some(!0)}}),Kl.config({onOpen:function(e,t){i.fetch().get((function(e){qC(r,t,i,o.layouts,e),a.link(r.element),Vd.focusIn(t)}))},onClose:function(){Gd.off(r),Wd.focus(r),a.unlink(r.element)},isPartOf:function(e,t,n){return Ya(t,n)||Ya(r,n)},getAttachPoint:function(){return i.lazySink(r).getOrDie()}}),Oc.config({channels:f(f({},As(f({isExtraPart:c},i.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),zs({doReposition:function(){Kl.getState(Qv.getCoupled(r,"toolbarSandbox")).each((function(e){WC(r,e,i,o.layouts)}))}}))})])};var r,o,i,a}}})])}))),{apis:{setGroups:function(t,r){Kl.getState(Qv.getCoupled(t,"toolbarSandbox")).each((function(o){qC(t,o,e,n.layouts,r)}))},reposition:function(t){Kl.getState(Qv.getCoupled(t,"toolbarSandbox")).each((function(r){WC(t,r,e,n.layouts)}))},toggle:function(e){UC(e,r)},getToolbar:function(e){return Kl.getState(Qv.getCoupled(e,"toolbarSandbox"))},isOpen:function(e){return Kl.isOpen(Qv.getCoupled(e,"toolbarSandbox"))}}})},configFields:Ni(),partFields:sc(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)},isOpen:function(e,t){return e.isOpen(t)}}})),sk=(Ni=r([qe("items"),rc(["itemSelector"]),gi("tgroupBehaviours",[Vd])]),sc=r([Ir({name:"items",unit:"item"})]),tf({name:"ToolbarGroup",configFields:Ni(),partFields:sc(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Ps(e.tgroupBehaviours,[Vd.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}})),lk=tf({name:"SplitFloatingToolbar",configFields:Zi(),partFields:g(),factory:function(e,t,n,r){var o=Bd(ck.sketch({fetch:function(){return Gv((function(t){t($C(e.overflowGroups.get()))}))},layouts:{onLtr:function(){return[du,fu]},onRtl:function(){return[fu,du]},onBottomLtr:function(){return[gu,mu]},onBottomRtl:function(){return[mu,gu]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Ps(e.splitToolbarBehaviours,[Qv.config({others:{overflowGroup:function(){return sk.sketch(f(f({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(O(n,t.getSystem().build)),GC(t,o,e)},refresh:function(t){return GC(t,o,e)},toggle:function(e){o.getOpt(e).each((function(e){ck.toggle(e)}))},isOpen:function(e){return o.getOpt(e).map(ck.isOpen).getOr(!1)},reposition:function(e){o.getOpt(e).each((function(e){ck.reposition(e)}))},getOverflow:function(e){return o.getOpt(e).bind(ck.getToolbar)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),fk=(sc=Object.freeze({__proto__:null,refresh:function(e,t,n){n.isExpanded()&&(Xn(e.element,KC(t)),n=YC(t,e.element),jn(e.element,KC(t),n))},grow:function(e,t,n){n.isExpanded()||rS(e,t,n)},shrink:function(e,t,n){n.isExpanded()&&nS(e,t,n)},immediateShrink:function(e,t,n){n.isExpanded()&&eS(e,t,n,W.none())},hasGrown:function(e,t,n){return n.isExpanded()},hasShrunk:function(e,t,n){return n.isCollapsed()},isGrowing:oS,isShrinking:iS,isTransitioning:function(e,t,n){return oS(e,t)||iS(e,t)},toggleGrow:function(e,t,n){(n.isExpanded()?nS:rS)(e,t,n)},disableTransitions:JC}),Zi=Object.freeze({__proto__:null,exhibit:function(e,t,n){var r=t.expanded;return xn(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Gr(t.dimension.property,"0px")})},events:function(e,t){return ji([Lt(di(),(function(n,r){r.event.raw.propertyName===e.dimension.property&&(JC(n,e),t.isExpanded()&&Xn(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}}),g=[qe("closedClass"),qe("openClass"),qe("shrinkingClass"),qe("growingClass"),Qe("getAnimationRoot"),oc("onShrunk"),oc("onStartShrink"),oc("onGrown"),oc("onStartGrow"),rt("expanded",!1),$e("dimension",Ue("property",{width:[tu("property","width"),tu("getDimension",(function(e){return sr(e)+"px"}))],height:[tu("property","height"),tu("getDimension",(function(e){return ir(e)+"px"}))]}))],_u({fields:g,name:"sliding",active:Zi,apis:sc,state:Object.freeze({__proto__:null,init:function(e){var t=st(e.expanded);return wa({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:i(t.set,!1),setExpanded:i(t.set,!0),readState:function(){return"expanded: "+t.get()}})}})})),dk=(cc=r([rc(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),oc("onOpened"),oc("onClosed")].concat(cc())),Tc=r([df({factory:uk,schema:Tc(),name:"primary"}),df({factory:uk,schema:Tc(),name:"overflow",overrides:function(e){return{toolbarBehaviours:xc([fk.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){Ks(t,e,"overflow-button").each((function(e){Gd.off(e),Wd.focus(e)})),e.onClosed(t)},onGrown:function(t){Vd.focusIn(t),e.onOpened(t)},onStartGrow:function(t){Ks(t,e,"overflow-button").each(Gd.on)}}),Vd.config({mode:"acyclic",onEscape:function(t){return Ks(t,e,"overflow-button").each(Wd.focus),W.some(!0)}})])}}}),lo({name:"overflow-button",overrides:function(e){return{buttonBehaviours:xc([Gd.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),lo({name:"overflow-group"})]),function(e,t){Ks(e,t,"overflow").each((function(n){jC(e,t,(function(e){e=O(e,(function(e){return Aa(e)})),uk.setGroups(n,e)})),Ks(e,t,"overflow-button").each((function(e){fk.hasGrown(n)&&Gd.on(e)})),fk.refresh(n)}))}),mk=tf({name:"SplitSlidingToolbar",configFields:cc(),partFields:Tc(),factory:function(e,t,n,r){var o="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:Ps(e.splitToolbarBehaviours,[Qv.config({others:{overflowGroup:function(e){return sk.sketch(f(f({},r["overflow-group"]()),{items:[dm.sketch(f(f({},r["overflow-button"]()),{action:function(t){Ot(e,o)}}))]}))}}}),gd("toolbar-toggle-events",[Rt(o,(function(t){aS(t,e)}))])]),apis:{setGroups:function(t,n){!function(t,n){t=O(n,t.getSystem().build),e.builtGroups.set(t)}(t,n),dk(t,e)},refresh:function(t){return dk(t,e)},toggle:function(t){return aS(t,e)},isOpen:function(t){return Ks(t,e,"overflow").map(fk.hasGrown).getOr(!1)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)}}}),gk=r(gn("toolbar-height-change")),hk=Jr([Ge("type"),$e("items",Qr([oo([Ge("name"),Je("items",mo)]),mo]))].concat(la)),pk=(Tc=[tt("text"),tt("tooltip"),tt("icon"),bo("fetch"),at("onSetup",(function(){return t}))],Jr(m([Ge("type")],Tc))),vk=Jr([Ge("type"),tt("tooltip"),tt("icon"),tt("text"),yo("select"),bo("fetch"),at("onSetup",(function(){return t})),xo("presets","normal",["normal","color","listpreview"]),rt("columns",1),bo("onAction"),bo("onItemAction")]),bk=(la=Object.freeze({__proto__:null,events:function(e,t){function n(n,r){e.updateState.each((function(e){e=e(n,r),t.set(e)})),e.renderComponents.each((function(e){e=e(r,t.get()),e=O(e,n.getSystem().build),ys(n,e)}))}return ji([Rt(yi(),(function(t,r){var o=r;o.universal||(r=e.channel,re(o.channels,r)&&n(t,o.data))})),Ui((function(t,r){e.initialData.each((function(e){n(t,e)}))}))])}}),Tc=Object.freeze({__proto__:null,getState:function(e,t,n){return n}}),yo=[qe("channel"),Qe("renderComponents"),Qe("updateState"),Qe("initialData")],_u({fields:yo,name:"reflecting",active:la,apis:Tc,state:Object.freeze({__proto__:null,init:function(){var e=st(W.none());return{readState:function(){return e.get().fold((function(){return"none"}),(function(e){return e}))},get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(W.none())}}}})})),yk=(Ro=r([qe("toggleClass"),qe("fetch"),ac("onExecute"),rt("getHotspot",W.some),rt("getAnchorOverrides",r({})),Ro(),ac("onItemExecute"),Qe("lazySink"),qe("dom"),oc("onOpen"),gi("splitDropdownBehaviours",[Qv,Vd,Wd]),rt("matchWidth",!1),rt("useMinWidth",!1),rt("eventOrder",{}),Qe("role")].concat(za())),ac=df({factory:dm,schema:[qe("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:xc([Wd.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(_t)},buttonBehaviours:xc([Gd.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),za=df({factory:dm,schema:[qe("dom")],name:"button",defaults:function(){return{buttonBehaviours:xc([Wd.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}}),za=r([ac,za,mf({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[qe("text")],name:"aria-descriptor"}),lo({schema:[nc()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(r){e.onItemExecute(r,t,n)}))}}}}),q()]),tf({name:"SplitDropdown",configFields:Ro(),partFields:za(),factory:function(e,n,r,o){function i(e){yf.getCurrent(e).each((function(e){Of.highlightFirst(e),Vd.focusIn(e)}))}function a(n){rb(e,(function(e){return e}),n,o,i,jv.HighlightFirst).get(t)}function u(t){return t=Ys(t,e,"button"),_t(t),W.some(!0)}var c=f(f({},ji([Ui((function(t,n){Ks(t,e,"aria-descriptor").each((function(e){var n=gn("aria");un(e.element,"id",n),un(t.element,"aria-describedby",n)}))}))])),Sd(W.some(a))),s={repositionMenus:function(e){Gd.isOn(e)&&ub(e)}};return{uid:e.uid,dom:e.dom,components:n,apis:s,eventOrder:f(f({},e.eventOrder),((s={})[wi()]=["disabling","toggling","alloy.base.behaviour"],s)),events:c,behaviours:Ps(e.splitDropdownBehaviours,[Qv.config({others:{sandbox:function(t){var n=Ys(t,e,"arrow");return ab(e,t,{onOpen:function(){Gd.on(n),Gd.on(t)},onClose:function(){Gd.off(n),Gd.off(t)}})}}}),Vd.config({mode:"special",onSpace:u,onEnter:u,onDown:function(e){return a(e),W.some(!0)}}),Wd.config({}),Gd.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}})),wk=gn("focus-button"),xk=["checklist","ordered-list"],Ck=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],Sk=function(e,t,n){return yS(e,{toolbarButtonBehaviours:[].concat(0<n.length?[gd("toolbarButtonWith",n)]:[]),getApi:hS,onSetup:e.onSetup},t)},kk=function(e,t,n){return Fr(yS(e,{toolbarButtonBehaviours:[Ud.config({}),Gd.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(0<n.length?[gd("toolbarToggleButtonWith",n)]:[]),getApi:pS,onSetup:e.onSetup},t))},Ok=SS,Tk=gn("forward-slide"),_k=gn("backward-slide"),Ek=gn("change-slide-event"),Dk="tox-pop--resizing";function Ak(e,t,n,r){return{type:"basic",data:(n=n=e.getParam(t,n,"string"),n=r===NS.SemiColon?n.replace(/;$/,"").split(";"):n.split(" "),O(n,(function(e){var t=e,n=e;e=e.split("=");return 1<e.length&&(t=e[0],n=e[1]),{title:t,format:n}})))}}function zk(e){function t(t){var n=A(HO,(function(t){return e.formatter.match(t.format)})).fold((function(){return"left"}),(function(e){return e.title.toLowerCase()}));Tt(t,Ex,{icon:"align-"+n})}var n=W.some((function(e){return function(){return t(e)}})),r=W.some(t),o={type:"basic",data:HO};return{tooltip:"Align",icon:W.some("align-left"),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:W.none,getPreviewFor:function(e){return function(){return W.none()}},onAction:function(t){return function(){return A(HO,(function(e){return e.format===t.format})).each((function(t){return e.execCommand(t.command)}))}},setInitialValue:r,nodeChangeHandler:n,dataset:o,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}}function Rk(e){return e=e.split(/\s*,\s*/),O(e,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))}function Mk(e){function t(){function t(e){return e?Rk(e)[0]:""}var n=e.queryCommandValue("FontName"),r=i.data,o=n?n.toLowerCase():"";return{matchOpt:A(r,(function(e){return e=e.format,e.toLowerCase()===o||t(e).toLowerCase()===t(o).toLowerCase()})).orThunk((function(){return 0===(e=o).indexOf("-apple-system")&&(t=Rk(e.toLowerCase()),N(LO,(function(e){return-1<t.indexOf(e.toLowerCase())})))?W.from({title:"System Font",format:o}):W.none();var e,t})),font:n}}function n(e){var n=t(),r=n.matchOpt,o=n.font;r=r.fold((function(){return o}),(function(e){return e.title}));Tt(e,_x,{text:r})}var r=W.some((function(e){return function(){return n(e)}})),o=W.some(n),i=Ak(e,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",NS.SemiColon);return{tooltip:"Fonts",icon:W.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getCurrentValue:function(){return t().matchOpt},getPreviewFor:function(e){return function(){return W.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontName",!1,t.format)}))}},setInitialValue:o,nodeChangeHandler:r,dataset:i,shouldHide:!1,isInvalid:c}}function Nk(e,t){return/[0-9.]+px$/.test(e)?function(e,t){return t=Math.pow(10,t),Math.round(e*t)/t}(72*parseInt(e,10)/96,t||0)+"pt":ye(FO,e).getOr(e)}function Bk(e){function t(){var t=W.none(),n=u.data,r=e.queryCommandValue("FontSize");if(r)for(var o=function(e){var o=Nk(r,e),i=ye(IO,o).getOr("");t=A(n,(function(e){return e.format===r||e.format===o||e.format===i}))},i=3;t.isNone()&&0<=i;i--)o(i);return{matchOpt:t,size:r}}function n(e){var n=t(),r=n.matchOpt,o=n.size;r=r.fold((function(){return o}),(function(e){return e.title}));Tt(e,_x,{text:r})}var o=r(W.none),i=W.some((function(e){return function(){return n(e)}})),a=W.some(n),u=Ak(e,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",NS.Space);return{tooltip:"Font sizes",icon:W.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getPreviewFor:o,getCurrentValue:function(){return t().matchOpt},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontSize",!1,t.format)}))}},setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:c}}function Pk(e,t){var n=t();t=O(n,(function(e){return e.format}));return W.from(e.formatter.closest(t)).bind((function(e){return A(n,(function(t){return t.format===e}))})).orThunk((function(){return ul(e.formatter.match("p"),{title:"Paragraph",format:"p"})}))}function Hk(e){function t(){return n.get().each(e)}var n=st(W.none());return{clear:function(){t(),n.set(W.none())},isSet:function(){return n.get().isSome()},set:function(e){t(),n.set(W.some(e))}}}function Lk(){return Hk((function(e){return e.destroy()}))}function Ik(){return Hk((function(e){return e.unbind()}))}function Fk(e,t){return function(n){function r(){n.setActive(e.formatter.match(t));var r=e.formatter.formatChanged(t,n.setActive);o.set(r)}var o=Ik();return e.initialized?r():e.on("init",r),o.clear}}function Vk(e){return function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))}}}function jk(e){function t(t){var n=Pk(e,(function(){return o.data})).fold((function(){return"Paragraph"}),(function(e){return e.title}));Tt(t,_x,{text:n})}var n=W.some((function(e){return function(){return t(e)}})),r=W.some(t),o=Ak(e,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",NS.SemiColon);return{tooltip:"Blocks",icon:W.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:W.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return W.some({tag:0<n.length&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},onAction:Vk(e),setInitialValue:r,nodeChangeHandler:n,dataset:o,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}}function Uk(e,t){function n(t){var n=function(e){var t=e.items;return void 0!==t&&0<t.length?M(t,n):[{title:e.title,format:e.format}]},r=M(dC(e),n),o=Pk(e,(function(){return r})).fold((function(){return"Paragraph"}),(function(e){return e.title}));Tt(t,_x,{text:o})}var r=W.some((function(e){return function(){return n(e)}})),o=W.some(n);return{tooltip:"Formats",icon:W.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:W.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return void 0!==n?W.some({tag:0<n.length&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):W.none()}},onAction:Vk(e),setInitialValue:o,nodeChangeHandler:r,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}}function Wk(e){var t,n=e.toolbar;e=e.buttons;return!1===n?[]:void 0===n||!0===n?(t=e,e=O(VO,(function(e){var n=_(e.items,(function(e){return Pr(t,e)||Pr(UO,e)}));return{name:e.name,items:n}})),_(e,(function(e){return 0<e.items.length}))):G(n)?function(e){return e=e.split("|"),O(e,(function(e){return{items:e.trim().split(" ")}}))}(n):w(n,(function(e){return Pr(e,"name")&&Pr(e,"items")}))?n:[]}function qk(e,t,n,r,o,i){return ye(t,n.toLowerCase()).orThunk((function(){return i.bind((function(e){return F(e,(function(e){return ye(t,e+n.toLowerCase())}))}))})).fold((function(){return ye(UO,n.toLowerCase()).map((function(t){return t(e,o)})).orThunk((function(){return W.none()}))}),(function(t){return"grouptoolbarbutton"!==t.type||r?(i=o,a=e,ye(jO,(n=t).type).fold((function(){return W.none()}),(function(e){return W.some(e(n,i,a))}))):W.none();var n,i,a}))}function $k(e,n,r,o){function i(){return kS(e,o.backstage.shared)}function a(){if(g()&&o.backstage.isContextMenuOpen())return 1;var t,n,r=(t=v.get().filter((function(e){return Sa(Oo.fromDom(e))})).map((function(e){return e.getBoundingClientRect()})).getOrThunk((function(){return e.selection.getRng().getBoundingClientRect()})),n=e.inline?mr().top:wr(Oo.fromDom(e.getBody())).y,{y:t.top+n,bottom:t.bottom+n}),a=i();return t=r.y,n=r.bottom,r=a.y,a=a.bottom,!(Math.max(t,r)<=Math.min(n,a))}function u(){p.set(W.none()),cm.hide(h)}function c(){cm.hide(h)}function s(){p.get().each((function(e){var t=h.element;Xn(t,"display"),a()?jn(t,"display","none"):jl.positionWithinBounds(r,e,h,W.some(i()))}))}function l(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:xc([Vd.config({mode:"acyclic"}),gd("pop-dialog-wrap-events",[Ui((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return Vd.focusIn(t)}))})),Wi((function(t){e.shortcuts.remove("ctrl+F9")}))])])}}var d,m,g=Xo().deviceType.isTouch,h=Da((d={sink:r,onEscape:function(){return e.focus(),W.some(!0)}},m=st([]),cm.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){m.set([]),cm.getContent(e).each((function(e){Xn(e.element,"visibility")})),Bn(e.element,Dk),Xn(e.element,"width")},inlineBehaviours:xc([gd("context-toolbar-events",[Lt(di(),(function(e,t){Bn(e.element,Dk),Xn(e.element,"width")})),Rt(Ek,(function(e,t){var n=e.element;Xn(n,"width");var r=sr(n);cm.setContent(e,t.event.contents),Mn(n,Dk);var o=sr(n);jn(n,"width",r+"px"),cm.getContent(e).each((function(e){t.event.focus.bind((function(e){return Eu(e),Au(n)})).orThunk((function(){return Vd.focusIn(e),Du(ta(n))}))})),fm.setTimeout((function(){jn(e.element,"width",o+"px")}),0)})),Rt(Tk,(function(e,t){cm.getContent(e).each((function(t){m.set(m.get().concat([{bar:t,focus:Du(ta(e.element))}]))})),Tt(e,Ek,{contents:t.event.forwardContents,focus:W.none()})})),Rt(_k,(function(e,t){I(m.get()).each((function(t){m.set(m.get().slice(0,m.get().length-1)),Tt(e,Ek,{contents:Aa(t.bar),focus:t.focus})}))}))]),Vd.config({mode:"special",onEscape:function(e){return I(m.get()).fold((function(){return d.onEscape()}),(function(t){return Ot(e,_k),W.some(!0)}))}})]),lazySink:function(){return se.value(d.sink)}}))),p=st(W.none()),v=st(W.none()),b=st(null),y=xe((function(){return DS(n,(function(e){e=w([e]),Tt(h,Tk,{forwardContents:l(e)})}))})),w=function(t){var n=e.ui.registry.getAll().buttons,r=y(),i=f(f({},n),r.formNavigators);r=nh(e)===wg.scrolling?wg.scrolling:wg.default,t=R(O(t,(function(t){return"contexttoolbar"===t.type?WO(e,{buttons:i,toolbar:t.items,allowToolbarGroups:!1},o,W.some(["form:"])):(n=o.backstage.shared.providers,Ok(t,n));var n})));return mS({type:r,uid:gn("context-toolbar"),initGroups:t,onEscape:W.none,cyclicKeying:!0,providers:o.backstage.shared.providers})};function x(e,t){return t="node"===e?o.backstage.shared.anchors.node(t):o.backstage.shared.anchors.cursor(),Fr(t,(t=e,e=g(),"line"===t?{bubble:qu(12,0,qO),layouts:{onLtr:function(){return[hu]},onRtl:function(){return[pu]}},overrides:$O}:{bubble:qu(0,12,qO),layouts:e?XO:GO,overrides:$O}))}function C(){var t;e.hasFocus()&&(t=y(),ES(t,e).fold(u,(function(e){k(e.toolbars,W.some(e.elem.dom))})))}function S(){T(),b.set(fm.setEditorTimeout(e,C,0))}e.on("contexttoolbar-show",(function(t){var n=y();ye(n.lookupTable,t.toolbarKey).each((function(n){k([n],t.target===e?W.none():W.some(t)),cm.getContent(h).each(Vd.focusIn)}))}));var k=function(e,t){var n,r;T(),g()&&o.backstage.isContextMenuOpen()||(n=w(e),r=t.map(Oo.fromDom),r=x(e[0].position,r),p.set(W.some(r)),v.set(t),t=h.element,Xn(t,"display"),cm.showWithinBounds(h,r,l(n),(function(){return W.some(i())})),a()&&jn(t,"display","none"))},T=function(){var e=b.get();null!==e&&(fm.clearTimeout(e),b.set(null))};e.on("init",(function(){e.on(ak,c),e.on("ScrollContent ScrollWindow longpress",s),e.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){S()})),e.on("focusout",(function(t){fm.setEditorTimeout(e,(function(){Au(r.element).isNone()&&Au(h.element).isNone()&&u()}),0)})),e.on("SwitchMode",(function(){e.mode.isReadOnly()&&u()})),e.on("AfterProgressState",(function(t){t.state?u():e.hasFocus()&&S()})),e.on("NodeChange",(function(e){Au(h.element).fold(S,t)}))}))}function Gk(e,t,n){function r(e,r){oe([t,n],(function(t){t.broadcastEvent(e,r)}))}function o(e,r){oe([t,n],(function(t){t.broadcastOn([e],r)}))}function i(e){return o(Yl(),{target:e.target})}function a(e){return o(Yl(),{target:Oo.fromDom(e.target)})}function u(e){0===e.button&&o(Ql(),{target:Oo.fromDom(e.target)})}function c(e){return r(Di(),hv(e))}function s(e){o(Jl(),{}),r(Ai(),hv(e))}function l(){return o(Jl(),{})}function f(t){t.state&&o(Yl(),{target:Oo.fromDom(e.getContainer())})}var d=Wp(Oo.fromDom(document),"touchstart",i),m=Wp(Oo.fromDom(document),"touchmove",(function(e){return r(_i(),e)})),g=Wp(Oo.fromDom(document),"touchend",(function(e){return r(Ei(),e)})),h=Wp(Oo.fromDom(document),"mousedown",i),p=Wp(Oo.fromDom(document),"mouseup",(function(e){0===e.raw.button&&o(Ql(),{target:e.target})}));e.on("PostRender",(function(){e.on("click",a),e.on("tap",a),e.on("mouseup",u),e.on("ScrollWindow",c),e.on("ResizeWindow",s),e.on("ResizeEditor",l),e.on("AfterProgressState",f)})),e.on("remove",(function(){e.off("click",a),e.off("tap",a),e.off("mouseup",u),e.off("ScrollWindow",c),e.off("ResizeWindow",s),e.off("ResizeEditor",l),e.off("AfterProgressState",f),h.unbind(),d.unbind(),m.unbind(),g.unbind(),p.unbind()})),e.on("detach",(function(){Os(t),Os(n),t.destroy(),n.destroy()}))}function Xk(e){return($n(e,"position").is("fixed")?W.none():qt(e)).orThunk((function(){var t=Oo.fromTag("span");return Wt(e).bind((function(e){return oa(e,t),e=qt(t),ia(t),e}))}))}function Kk(e){return Xk(e).map(cr).getOrThunk((function(){return Na(0,0)}))}function Yk(e,t){var n=e.element;Mn(n,t.transitionClass),Bn(n,t.fadeOutClass),Mn(n,t.fadeInClass),t.onShow(e)}function Jk(e,t){var n=e.element;Mn(n,t.transitionClass),Bn(n,t.fadeInClass),Mn(n,t.fadeOutClass),t.onHide(e)}function Qk(e,t,n){return N(e,(function(e){switch(e){case"bottom":return t.bottom<=n.bottom;case"top":return t.y>=n.y}}))}function Zk(e,t){return t.getInitialPosition().map((function(t){return br(t.bounds.x,t.bounds.y,sr(e),ir(e))}))}function eO(e,t,n){n.setInitialPosition(W.some({style:function(e){var t={},n=e.dom;if(In(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t}(e),position:qn(e,"position")||"static",bounds:t}))}function tO(e,t,n){return n.getInitialPosition().bind((function(r){switch(n.setInitialPosition(W.none()),r.position){case"static":return W.some(ZO.static());case"absolute":var o=Xk(e).map(yr).getOrThunk((function(){return yr(ka())}));return W.some(ZO.absolute(Ru("absolute",ye(r.style,"left").map((function(e){return t.x-o.x})),ye(r.style,"top").map((function(e){return t.y-o.y})),ye(r.style,"right").map((function(e){return o.right-t.right})),ye(r.style,"bottom").map((function(e){return o.bottom-t.bottom})))));default:return W.none()}}))}function nO(e,t,n){var r,o,i;e=e.element;return $n(e,"position").is("fixed")?(o=t,Zk(r=e,i=n).filter((function(e){return Qk(i.getModes(),e,o)})).bind((function(e){return tO(r,e,i)}))):function(e,t,n){var r=yr(e);if(Qk(n.getModes(),r,t))return W.none();eO(e,r,n);var o=xr();e=r.x-o.x,n=t.y-o.y,o=o.bottom-t.bottom,t=r.y<=t.y;return W.some(ZO.fixed(Ru("fixed",W.some(e),t?W.some(n):W.none(),W.none(),t?W.none():W.some(o))))}(e,t,n)}function rO(e,t){oe(["left","right","top","bottom","position"],(function(t){return Xn(e.element,t)})),t.onUndocked(e)}function oO(e,t,n){Mu(e.element,n),("fixed"===n.position?t.onDocked:t.onUndocked)(e)}function iO(e,t,n,r,o){void 0===o&&(o=!1),t.contextual.each((function(t){t.lazyContext(e).each((function(i){var a=(a=r,(i=i).y<a.bottom&&i.bottom>a.y);a!==n.isVisible()&&(n.setVisible(a),o&&!a?(Hn(e.element,[t.fadeOutClass]),t.onHide(e)):(a?Yk:Jk)(e,t))}))}))}function aO(e,n,r){var o,i,a=e.element;r.setDocked(!1),o=r,i=e.element,Zk(i,o).bind((function(e){return tO(i,e,o)})).each((function(r){r.fold((function(){return rO(e,n)}),(function(t){return oO(e,n,t)}),t)})),r.setVisible(!0),n.contextual.each((function(t){Ln(a,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),eT(e,n,r)}function uO(e,t,n){n.isDocked()&&aO(e,t,n)}function cO(e){var t=e.element;Wt(t).each((function(n){var r,o="padding-"+tT.getModes(e)[0];tT.isDocked(e)?(r=sr(n),jn(t,"width",r+"px"),jn(n,o,ar(r=t)+(parseInt(qn(r,"margin-top"),10)||0)+(parseInt(qn(r,"margin-bottom"),10)||0)+"px")):(Xn(t,"width"),Xn(n,o))}))}function sO(e,t){t?(Bn(e,nT.fadeOutClass),Hn(e,[nT.transitionClass,nT.fadeInClass])):(Bn(e,nT.fadeInClass),Hn(e,[nT.fadeOutClass,nT.transitionClass]))}function lO(e,t){e=Oo.fromDom(e.getContainer()),t?(Mn(e,rT),Bn(e,oT)):(Mn(e,oT),Bn(e,rT))}function fO(e,t){function n(e){i().each((function(t){return e(t.element)}))}function r(t){e.inline||cO(t),lO(e,tT.isDocked(t)),t.getSystem().broadcastOn([Jl()],{}),i().each((function(e){return e.getSystem().broadcastOn([Jl()],{})}))}var o=st(W.none()),i=t.getSink,a=e.inline?[]:[Oc.config({channels:((a={})[gk()]={onReceive:cO},a)})];return m([Wd.config({}),tT.config({contextual:f({lazyContext:function(t){var n=ar(t.element),r=e.inline?e.getContentAreaContainer():e.getContainer(),o=yr(Oo.fromDom(r)),i=o.height-n;n=o.y+(r="top",re(tT.getModes(t),r)?0:n);return W.some(br(o.x,n,o.width,i))},onShow:function(){n((function(e){return sO(e,!0)}))},onShown:function(e){n((function(e){return Ln(e,[nT.transitionClass,nT.fadeInClass])})),o.get().each((function(t){var n,r,i;n=e.element,i=Ft(r=t),Du(i).filter((function(e){return!pt(r,e)})).filter((function(e){return pt(e,Oo.fromDom(i.dom.body))||bt(n,e)})).each((function(){return Eu(r)})),o.set(W.none())}))},onHide:function(e){var t;o.set((e=e.element,t=i,Au(e).orThunk((function(){return t().toOptional().bind((function(e){return Au(e.element)}))})))),n((function(e){return sO(e,!1)}))},onHidden:function(){n((function(e){return Ln(e,[nT.transitionClass])}))}},nT),modes:[t.header.getDockingMode()],onDocked:r,onUndocked:r})],a)}function dO(e){return"<alloy.field."+e+">"}function mO(e){return{element:function(){return e.element.dom}}}function gO(e,n){var r=O(Mr(n),(function(e){var t=n[e];t=Ve(Fe("sidebar",fT,t));return{name:e,getApi:mO,onSetup:t.onSetup,onShow:t.onShow,onHide:t.onHide}}));return O(r,(function(n){var o=st(t);return e.slot(n.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Ug([gh(n,o),hh(n,o),Rt(Pi(),(function(e,t){var n=t.event;A(r,(function(e){return e.name===n.name})).each((function(t){(n.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))}function hO(e,t){yf.getCurrent(e).each((function(e){return Ud.set(e,[(n=t,lT.sketch((function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:gO(e,n),slotBehaviours:Ug([Ui((function(e){return lT.hideAllSlots(e)}))])}})))]);var n}))}function pO(e){return yf.getCurrent(e).bind((function(e){return fk.isGrowing(e)||fk.hasGrown(e)?yf.getCurrent(e).bind((function(e){return A(lT.getSlotNames(e),(function(t){return lT.isShowing(e,t)}))})):W.none()}))}function vO(e){var t=Oo.fromHtml(e),n=$t(t),r=function(e){return e=void 0!==e.dom.attributes?e.dom.attributes:[],D(e,(function(e,t){return"class"===t.name?e:f(f({},e),((e={})[t.name]=t.value,e))}),{})}(t);e=Array.prototype.slice.call(t.dom.classList,0),n=0===n.length?{}:{innerHtml:rn(t)};return f({tag:It(t),classes:e,attributes:r},n)}function bO(e,t,n){var r=e.element;!0===t?(Ud.set(e,[{dom:{tag:"div",attributes:{"aria-label":n.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:vO('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:xc([Vd.config({mode:"special",onTab:function(){return W.some(!0)},onShiftTab:function(){return W.some(!0)}}),Wd.config({})])}]),Xn(r,"display"),fn(r,"aria-hidden")):(Ud.set(e,[]),jn(r,"display","none"),un(r,"aria-hidden","true"))}function yO(e,t,n){function r(r){r!==o.get()&&(bO(t(),r,n.providers),o.set(r),e.fire("AfterProgressState",{state:r}))}var o=st(!1),i=st(W.none());e.on("ProgressState",(function(t){var n;i.get().each(fm.clearTimeout),Z(t.time)?(n=fm.setEditorTimeout(e,(function(){return r(t.state)}),t.time),i.set(W.some(n))):(r(t.state),i.set(W.none()))}))}function wO(e){return"string"==typeof e?e.split(" "):e}function xO(e,t){var n=f(f({},hT),t.menus),r=0<Mr(t.menus).length,o=void 0===t.menubar||!0===t.menubar?wO("file edit view insert format tools table help"):wO(!1===t.menubar?"":t.menubar);o=_(o,(function(e){return r&&t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||hT.hasOwnProperty(e)})),o=O(o,(function(r){var o,i,a;r=n[r];return o={title:r.title,items:wO(r.items)},i=t,a=e.getParam("removed_menuitems","").split(/[ ,]/),{text:o.title,getItems:function(){return M(o.items,(function(e){var t=e.toLowerCase();return 0===t.trim().length||C(a,(function(e){return e===t}))?[]:"separator"===t||"|"===t?[{type:"separator"}]:i.menuItems[t]?[i.menuItems[t]]:[]}))}}}));return _(o,(function(e){return 0<e.getItems().length&&C(e.getItems(),(function(e){return"separator"!==e.type}))}))}function CO(e){function t(){e._skinLoaded=!0,e.fire("SkinLoaded")}return function(){e.initialized?t():e.on("init",t)}}function SO(e,t){return function(){return n={message:t},e.fire("SkinLoadError",n);var n}}function kO(e,t,n){return new Mm((function(r,o){n.load(t,r,o),e.on("remove",(function(){return n.unload(t)}))}))}function OO(e,t){var n;return n=Oo.fromDom(e.getElement()),na(n).isSome()?kO(e,t+"/skin.shadowdom.min.css",Xg.DOM.styleSheetLoader):Mm.resolve()}function TO(e,t,n,r){var o=t.outerContainer,i=(t=n.toolbar,n.buttons);w(t,G)?(t=t.map((function(t){return t={toolbar:t,buttons:i,allowToolbarGroups:n.allowToolbarGroups},WO(e,t,{backstage:r},W.none())})),gT.setToolbars(o,t)):gT.setToolbar(o,WO(e,n,{backstage:r},W.none()))}function _O(e,t){function n(){var t=u.get();t.left===i.innerWidth&&t.top===i.innerHeight||(u.set(Na(i.innerWidth,i.innerHeight)),Fh(e))}function r(t){return e.fire("ScrollContent",t)}var o=e.dom,i=e.getWin(),a=e.getDoc().documentElement,u=st(Na(i.innerWidth,i.innerHeight)),c=st(Na(a.offsetWidth,a.offsetHeight));a=function(){var t=e.getDoc().documentElement,n=c.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(c.set(Na(t.offsetWidth,t.offsetHeight)),Fh(e))};o.bind(i,"resize",n),o.bind(i,"scroll",r);var s=qp(Oo.fromDom(e.getBody()),"load",a),l=t.uiMothership.element;e.on("hide",(function(){jn(l,"display","none")})),e.on("show",(function(){Xn(l,"display")})),e.on("NodeChange",a),e.on("remove",(function(){s.unbind(),o.unbind(i,"resize",n),o.unbind(i,"scroll",r),i=null}))}function EO(e){return/^[0-9\.]+(|px)$/i.test(""+e)?W.some(parseInt(""+e,10)):W.none()}function DO(e){return Z(e)?e+"px":e}function AO(e,t,n){return t=t.filter((function(t){return e<t})),n=n.filter((function(t){return t<e})),t.or(n).getOr(e)}function zO(e){var t,n,r,o;return(n=fg(t=e),r=gg(t),o=pg(t),EO(n).map((function(e){return AO(e,r,o)}))).getOr(fg(e))}function RO(e){var t=dg(e),n=mg(e),r=hg(e);return EO(t).map((function(e){return AO(e,n,r)}))}function MO(e,t,n,r,o){function i(){return y.get()&&!e.removed}function a(e){return b?e.fold((function(){return 0}),(function(e){return 1<e.components().length?ir(e.components()[1].element):0})):0}function u(){l.broadcastOn([Jl()],{})}function c(e){var n,r;void 0===e&&(e=!1),i()&&(m||(n=h.getOrThunk((function(){var e=EO(qn(ka(),"margin-left")).getOr(0);return sr(ka())-cr(t).left+e})),jn(o.get().element,"max-width",n+"px")),b&&gT.refreshToolbar(f),m||(r=gT.getToolbar(f),n=a(r),r=yr(t),n=v()?Math.max(r.y-ir(o.get().element)+n,0):r.bottom,Un(f.element,{position:"absolute",top:Math.round(n)+"px",left:Math.round(r.x)+"px"})),g&&(r=o.get(),e?tT.reset(r):tT.refresh(r)),u())}function s(n){var r,u;void 0===n&&(n=!0),!m&&g&&i()&&(r=p.getDockingMode(),(u=function(n){switch(rh(e)){case xg.auto:var r=gT.getToolbar(f),o=a(r),i=ir(n.element)-o;r=yr(t);return r.y>i?"top":(o=jt(t),o=Math.max(o.dom.scrollHeight,ir(o)),r.bottom<o-i||xr().bottom<r.bottom-i?"bottom":"top");case xg.bottom:return"bottom";case xg.top:default:return"top"}}(o.get()))!==r&&(function(e){var t=o.get();tT.setModes(t,[e]),p.setDockingMode(e),e=v()?Xu.TopToBottom:Xu.BottomToTop,un(t.element,El,e)}(u),n&&c(!0)))}var l=n.uiMothership,f=n.outerContainer,d=Xg.DOM,m=ah(e),g=sh(e),h=hg(e).or(RO(e)),p=r.shared.header,v=p.isPositionedAtTop,b=(r=nh(e))===wg.sliding||r===wg.floating,y=st(!1);return{isVisible:i,isPositionedAtTop:v,show:function(){y.set(!0),jn(f.element,"display","flex"),d.addClass(e.getBody(),"mce-edit-focus"),Xn(l.element,"display"),s(!1),c()},hide:function(){y.set(!1),n.outerContainer&&(jn(f.element,"display","none"),d.removeClass(e.getBody(),"mce-edit-focus")),jn(l.element,"display","none")},update:c,updateMode:s,repositionPopups:u}}function NO(e,t){return e=yr(e),{pos:t?e.y:e.bottom,bounds:e}}function BO(e,t,n,r){function o(r){var o=(u=NO(t,n.isPositionedAtTop())).pos,a=u.bounds,u=(c=i.get()).pos,c=c.bounds;c=a.height!==c.height||a.width!==c.width;i.set({pos:o,bounds:a}),c&&Fh(e,r),n.isVisible()&&(u!==o?n.update(!0):c&&(n.updateMode(),n.repositionPopups()))}var i=st(NO(t,n.isPositionedAtTop()));r||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(function(){return n.update(!0)})),e.on("NodeChange keydown",(function(e){fm.requestAnimationFrame((function(){return o(e)}))})),e.on("ScrollWindow",(function(){return n.updateMode()}));var a=Ik();a.set(qp(Oo.fromDom(e.getBody()),"load",o)),e.on("remove",(function(){a.clear()}))}function PO(e,t){var n,r,o,i,a,u,c,s;n=zS(0,u=t,zk(o=e)),o.ui.registry.addNestedMenuItem("align",{text:u.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}}),r=zS(0,i=t,Mk(o=e)),o.ui.registry.addNestedMenuItem("fontformats",{text:i.shared.providers.translate("Fonts"),getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}}),u=e,i=f({type:"advanced"},(o=t).styleselect),a=zS(0,o,Uk(u,i)),u.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return a.items.validateItems(a.getStyleItems())}}),c=zS(0,t,jk(u=e)),u.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return c.items.validateItems(c.getStyleItems())}}),s=zS(0,t,Bk(e=e)),e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})}(nc=NS=NS||{})[nc.SemiColon=0]="SemiColon",nc[nc.Space=1]="Space";var HO=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],LO=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],IO={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},FO={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},VO=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],jO=(q=function(e,t){return function(n,r,o){return n=e(n).mapError((function(e){return uo(e)})).getOrDie(),t(n,r,o)}},{button:q(_m,(function(e,t){return t=t.backstage.shared.providers,Sk(e,t,[])})),togglebutton:q(Em,(function(e,t){return t=t.backstage.shared.providers,kk(e,t,[])})),menubutton:q(gS,(function(e,t){return qw(e,"tox-tbtn",t.backstage,W.none())})),splitbutton:q((function(e){return Fe("SplitButton",vk,e)}),(function(e,t){return wS(e,t.backstage.shared)})),grouptoolbarbutton:q((function(e){return Fe("GroupToolbarButton",hk,e)}),(function(e,t,n){var r=n.ui.registry.getAll().buttons,o=((o={})[El]=t.backstage.shared.header.isPositionedAtTop()?Xu.TopToBottom:Xu.BottomToTop,o);if(nh(n)!==wg.floating)throw new Error("Toolbar groups are only supported when using floating toolbar mode");return function(e,t,n,r){return t=t.shared,ck.sketch({lazySink:t.getSink,fetch:function(){return Gv((function(t){t(O(n(e.items),cS))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:bS(e.icon,e.text,e.tooltip,W.none(),W.none(),t.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})}(e,t.backstage,(function(e){return WO(n,{buttons:r,toolbar:e,allowToolbarGroups:!1},t,W.none())}),o)})),styleSelectButton:function(e,t){return n=e,e=t.backstage,t=f({type:"advanced"},e.styleselect),RS(n,e,Uk(n,t));var n},fontsizeSelectButton:function(e,t){return t=t.backstage,RS(e,t,Bk(e))},fontSelectButton:function(e,t){return t=t.backstage,RS(e,t,Mk(e))},formatButton:function(e,t){return t=t.backstage,RS(e,t,jk(e))},alignMenuButton:function(e,t){return t=t.backstage,RS(e,t,zk(e))}}),UO={styleselect:jO.styleSelectButton,fontsizeselect:jO.fontsizeSelectButton,fontselect:jO.fontSelectButton,formatselect:jO.formatButton,align:jO.alignMenuButton},WO=function(e,t,n,r){var o=Wk(t);o=O(o,(function(o){var i=M(o.items,(function(o){return 0===o.trim().length?[]:qk(e,t.buttons,o,t.allowToolbarGroups,n,r).toArray()}));return{title:W.from(e.translate(o.name)),items:i}}));return _(o,(function(e){return 0<e.items.length}))},qO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},$O={maxHeightFunction:Rc(),maxWidthFunction:ik()},GO={onLtr:function(){return[bc,yc,mu,fu,gu,du,sm,lm,Md,zd,Nd,Rd]},onRtl:function(){return[bc,yc,gu,du,mu,fu,sm,lm,Nd,Rd,Md,zd]}},XO={onLtr:function(){return[yc,fu,du,mu,gu,bc,sm,lm,Md,zd,Nd,Rd]},onRtl:function(){return[yc,du,fu,gu,mu,bc,sm,lm,Nd,Rd,Md,zd]}},KO=tc,YO=(Ro=hi,za=r([rt("shell",!1),qe("makeItem"),rt("setupItem",t),rf("listBehaviours",[Ud])]),nc=mf({name:"items",overrides:function(){return{behaviours:xc([Ud.config({})])}}}),q=r([nc]),tf({name:r("CustomList")(),configFields:za(),partFields:q(),factory:function(e,t,n,r){t=e.shell?{behaviours:[Ud.config({})],components:[]}:{behaviours:[],components:t};var o=function(t){return e.shell?W.some(t):Ks(t,e,"items")};return{uid:e.uid,dom:e.dom,components:t.components,behaviours:Ps(e.listBehaviours,t.behaviours),apis:{setItems:function(t,n){o(t).fold((function(){throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=Ud.contents(r),i=n.length,a=i-o.length;a=0<a?S(a,(function(){return e.makeItem()})):[],i=o.slice(i);oe(i,(function(e){return Ud.remove(r,e)})),oe(a,(function(e){return Ud.append(r,e)})),a=Ud.contents(r),oe(a,(function(r,o){e.setupItem(t,r,n[o],o)}))}))}}}},apis:{setItems:function(e,t,n){e.setItems(t,n)}}})),JO=r([]),QO=Object.freeze({__proto__:null,setup:t,isDocked:c,getBehaviours:JO}),ZO=Hr([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),eT=function(e,t,n){var r,o,i,a,u;e.getSystem().isConnected()&&(r=e,i=n,a=(o=t).lazyViewport(r),(u=i.isDocked())&&iO(r,o,i,a),nO(r,a,i).each((function(e){i.setDocked(!u),e.fold((function(){return rO(r,o)}),(function(e){return oO(r,o,e)}),(function(e){iO(r,o,i,a,!0),oO(r,o,e)}))})))},tT=(tc=Object.freeze({__proto__:null,refresh:eT,reset:uO,isDocked:function(e,t,n){return n.isDocked()},getModes:function(e,t,n){return n.getModes()},setModes:function(e,t,n,r){return n.setModes(r)}}),hi=Object.freeze({__proto__:null,events:function(e,t){return ji([Lt(di(),(function(n,r){e.contextual.each((function(e){Pn(n.element,e.transitionClass)&&(Ln(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n)),r.stop()}))})),Rt(Di(),(function(n,r){eT(n,e,t)})),Rt(Ai(),(function(n,r){uO(n,e,t)}))])}}),nc=[nt("contextual",[Ge("fadeInClass"),Ge("fadeOutClass"),Ge("transitionClass"),bo("lazyContext"),oc("onShow"),oc("onShown"),oc("onHide"),oc("onHidden")]),at("lazyViewport",xr),So("modes",["top","bottom"],mo),oc("onDocked"),oc("onUndocked")],_u({fields:nc,name:"docking",active:hi,apis:tc,state:Object.freeze({__proto__:null,init:function(e){var t=st(!1),n=st(!0),r=st(W.none()),o=st(e.modes);return wa({isDocked:t.get,setDocked:t.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+o.get().join(",")}})}})})),nT={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},rT="tox-tinymce--toolbar-sticky-on",oT="tox-tinymce--toolbar-sticky-off",iT=Object.freeze({__proto__:null,setup:function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(function(){n().each(tT.reset)})),e.on("ResizeWindow ResizeEditor",(function(){n().each(cO)})),e.on("SkinLoaded",(function(){n().each((function(e){tT.isDocked(e)?tT.reset(e):tT.refresh(e)}))})),e.on("FullscreenStateChanged",(function(){n().each(tT.reset)}))),e.on("AfterScrollIntoView",(function(e){n().each((function(t){tT.refresh(t);var n,r,o,i,a,u,c,s,l,f=t.element;jf(f)&&(n=e,o=Ft(r=f),i=o.dom.defaultView.innerHeight,a=mr(o),u=Oo.fromDom(n.elm),c=wr(u),s=ir(u),l=c.y,t=l+s,f=cr(r),n=ir(r),u=f.top,c=u+n,r=Math.abs(u-a.top)<2,f=Math.abs(c-(a.top+i))<2,r&&l<c?gr(a.left,l-n,o):f&&u<t&&gr(a.left,l-i+s+n,o))}))})),e.on("PostRender",(function(){lO(e,!1)}))},isDocked:function(e){return e().map(tT.isDocked).getOr(!1)},getBehaviours:fO}),aT=il({factory:function(e,t){var n={focus:Vd.focusIn,setMenus:function(e,n){n=O(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}};n=gS(n).mapError((function(e){return uo(e)})).getOrDie();return qw(n,"tox-mbtn",t.backstage,W.some("menuitem"))})),Ud.set(e,n)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:xc([Ud.config({}),gd("menubar-events",[Ui((function(t){e.onSetup(t)})),Rt(oi(),(function(e,t){qa(e.element,".tox-mbtn--active").each((function(n){$a(t.event.target,".tox-mbtn").each((function(t){pt(n,t)||e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){Ey.expand(e),Ey.close(n),Wd.focus(e)}))}))}))}))})),Rt(Bi(),(function(e,t){t.event.prevFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(n){t.event.newFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(e){Ey.isOpen(n)&&(Ey.expand(e),Ey.close(n))}))}))}))]),Vd.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),W.some(!0)}}),Cv.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[qe("dom"),qe("uid"),qe("onEscape"),qe("backstage"),rt("onSetup",t)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),uT="container",cT=[gi("slotBehaviours",[])],sT=function(e,t){function n(t){return Zs(e)}function r(e,t){return"true"!==cn(e.element,"aria-hidden")}var o,i=function(t,n){return function(r,o){return Ks(r,e,o).map((function(e){return t(e,o)})).getOr(n)}},a=i(r,!1),u=i((function(e,t){var n;r(e)&&(n=e.element,jn(n,"display","none"),un(n,"aria-hidden","true"),Tt(e,Pi(),{name:t,visible:!1}))})),c=(o=u,function(e,t){oe(t,(function(t){return o(e,t)}))});i=i((function(e,t){var n;r(e)||(n=e.element,Xn(n,"display"),fn(n,"aria-hidden"),Tt(e,Pi(),{name:t,visible:!0}))}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Bs(e.slotBehaviours),apis:{getSlotNames:n,getSlot:function(t,n){return Ks(t,e,n)},isShowing:a,hideSlot:u,hideAllSlots:function(e){return c(e,n())},showSlot:i}}},lT=(za=ge({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},yn),f(f({},za),{sketch:function(e){var t,n=(t=[],{slot:function(e,n){return t.push(e),Ws(uT,dO(e),n)},record:function(){return t}});e=e(n),n=n.record(),n=O(n,(function(e){return df({name:e,pname:dO(e)})}));return ol(uT,cT,n,sT,e)}})),fT=Jr([tt("icon"),tt("tooltip"),at("onShow",t),at("onHide",t),at("onSetup",(function(){return t}))]),dT=gn("FixSizeEvent"),mT=gn("AutoSizeEvent"),gT=(q=Ro.optional({factory:aT,name:"menubar",schema:[qe("backstage")]}),So=Ro.optional({factory:{sketch:function(e){return YO.sketch({uid:e.uid,dom:e.dom,listBehaviours:xc([Vd.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return mS({type:e.type,uid:gn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return e.onEscape(),W.some(!0)}})},setupItem:function(e,t,n,r){uk.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[qe("dom"),qe("onEscape")]}),nc=Ro.optional({factory:{sketch:function(e){var t;return((t=e).type===wg.sliding?dS:t.type===wg.floating?fS:mS)({type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),W.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[qe("dom"),qe("onEscape"),qe("getSink")]}),hi=Ro.optional({factory:{sketch:function(e){var t=e.editor,n=e.sticky?fO:JO;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:xc(n(t,e.sharedBackstage))}}},name:"header",schema:[qe("dom")]}),tc=Ro.optional({name:"socket",schema:[qe("dom")]}),za=Ro.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:xc([Cv.config({}),Wd.config({}),fk.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){yf.getCurrent(e).each(lT.hideAllSlots),Ot(e,mT)},onGrown:function(e){Ot(e,mT)},onStartGrow:function(e){Tt(e,dT,{width:$n(e.element,"width").getOr("")})},onStartShrink:function(e){Tt(e,dT,{width:sr(e.element)+"px"})}}),Ud.config({}),yf.config({find:function(e){return e=Ud.contents(e),ie(e)}})])}],behaviours:xc([Xy(0),gd("sidebar-sliding-events",[Rt(dT,(function(e,t){jn(e.element,"width",t.event.width)})),Rt(mT,(function(e,t){Xn(e.element,"width")}))])])}}},name:"sidebar",schema:[qe("dom")]}),Ro=Ro.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:xc([Ud.config({})]),components:[]}}},name:"throbber",schema:[qe("dom")]}),tf({name:"OuterContainer",factory:function(e,t,n){return{uid:e.uid,dom:e.dom,components:t,apis:{getSocket:function(t){return KO.getPart(t,e,"socket")},setSidebar:function(t,n){KO.getPart(t,e,"sidebar").each((function(e){return hO(e,n)}))},toggleSidebar:function(t,n){KO.getPart(t,e,"sidebar").each((function(e){var t;t=n,yf.getCurrent(e).each((function(e){yf.getCurrent(e).each((function(n){fk.hasGrown(e)?lT.isShowing(n,t)?fk.shrink(e):(lT.hideAllSlots(n),lT.showSlot(n,t)):(lT.hideAllSlots(n),lT.showSlot(n,t),fk.grow(e))}))}))}))},whichSidebar:function(t){return KO.getPart(t,e,"sidebar").bind(pO).getOrNull()},getHeader:function(t){return KO.getPart(t,e,"header")},getToolbar:function(t){return KO.getPart(t,e,"toolbar")},setToolbar:function(t,n){KO.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){KO.getPart(t,e,"multiple-toolbar").each((function(e){YO.setItems(e,n)}))},refreshToolbar:function(t){KO.getPart(t,e,"toolbar").each((function(e){return e.getApis().refresh(e)}))},toggleToolbarDrawer:function(t){KO.getPart(t,e,"toolbar").each((function(e){var t,n;t=e.getApis().toggle,n=function(t){return t(e)},null!=t?W.some(n(t)):W.none()}))},isToolbarDrawerToggled:function(t){return KO.getPart(t,e,"toolbar").bind((function(e){return W.from(e.getApis().isOpen).map((function(t){return t(e)}))})).getOr(!1)},getThrobber:function(t){return KO.getPart(t,e,"throbber")},focusToolbar:function(t){KO.getPart(t,e,"toolbar").orThunk((function(){return KO.getPart(t,e,"multiple-toolbar")})).each((function(e){Vd.focusIn(e)}))},setMenubar:function(t,n){KO.getPart(t,e,"menubar").each((function(e){aT.setMenus(e,n)}))},focusMenubar:function(t){KO.getPart(t,e,"menubar").each((function(e){aT.focus(e)}))}},behaviours:e.behaviours}},configFields:[qe("dom"),qe("behaviours")],partFields:[hi,q,nc,So,tc,za,Ro],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){n=O(n,cS),e.setToolbar(t,n)},setToolbars:function(e,t,n){n=O(n,(function(e){return O(e,cS)})),e.setToolbars(t,n)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},toggleToolbarDrawer:function(e,t){e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:function(e,t){return e.isToolbarDrawerToggled(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}})),hT={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},pT=(q=function(e,t){var n,r,o=(r=(n=t).getParam("skin"),o=n.getParam("skin_url"),!1!==r&&(r=r||"oxide",o=o?n.documentBaseURI.toAbsolute(o):eh.baseURL+"/skins/ui/"+r),o);o&&t.contentCSS.push(o+(e?"/content.inline":"/content")+".min.css"),!1===t.getParam("skin")==0&&G(o)?Mm.all([kO(t,o+"/skin.min.css",t.ui.styleSheetLoader),OO(t,o)]).then(CO(t),SO(t,"Skin could not be loaded")):CO(t)()},i(q,!1)),vT=i(q,!0),bT=(nc=Xo(),nc.os.isiOS()&&nc.os.version.major<=12),yT=Object.freeze({__proto__:null,render:function(e,t,n,r,o){var i=st(0),a=t.outerContainer;pT(e);var u=Oo.fromDom(o.targetNode),c=Kt(ta(u));o=t.mothership,$l(u,o,Qt),ks(c,t.uiMothership),e.on("PostRender",(function(){TO(e,t,n,r),i.set(e.getWin().innerWidth),gT.setMenubar(a,xO(e,n)),gT.setSidebar(a,n.sidebar),_O(e,t)}));var s,l,f;c=gT.getSocket(a).getOrDie("Could not find expected socket element");bT&&(Un(c.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"}),s=function(){e.fire("ScrollContent")},l=20,f=null,d={cancel:function(){null!==f&&(clearTimeout(f),f=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null===f&&(f=setTimeout((function(){s.apply(null,e),f=null}),l))}},d=Wp(c.element,"scroll",d.throttle),e.on("remove",d.unbind)),fh(e,t),e.addCommand("ToggleSidebar",(function(t,n){gT.toggleSidebar(a,n),e.fire("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return gT.whichSidebar(a)}));var d=nh(e);return d!==wg.sliding&&d!==wg.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var n=e.getWin().innerWidth;n!==i.get()&&(gT.refreshToolbar(t.outerContainer),i.set(n))})),{iframeContainer:c.element.dom,editorContainer:a.element.dom,api:{enable:function(){lh(t,!1)},disable:function(){lh(t,!0)},isDisabled:function(){return Zg.isDisabled(a)}}}}}),wT=Object.freeze({__proto__:null,render:function(e,t,n,r,o){var i=t.mothership,a=t.uiMothership,u=t.outerContainer,c=st(null),s=Oo.fromDom(o.targetNode),l=MO(e,s,t,r,c),f=e.getParam("toolbar_persist",!1,"boolean");function d(){var o;c.get()?l.show():(c.set(gT.getHeader(u).getOrDie()),o=uh(e),ks(o,i),ks(o,a),TO(e,t,n,r),gT.setMenubar(u,xO(e,n)),l.show(),BO(e,s,l,f),e.nodeChanged())}return vT(e),e.on("show",d),e.on("hide",l.hide),f||(e.on("focus",d),e.on("blur",l.hide)),e.on("init",(function(){(e.hasFocus()||f)&&d()})),fh(e,t),{editorContainer:u.element.dom,api:{show:function(){l.show()},hide:function(){l.hide()},enable:function(){lh(t,!1)},disable:function(){lh(t,!0)},isDisabled:function(){return Zg.isDisabled(u)}}}}}),xT={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},CT=(tc=["Infinity",(So="[0-9]+")+"\\."+ST(So)+ST(tc="[eE][+-]?[0-9]+"),"\\."+So+ST(tc),So+ST(tc)].join("|"),new RegExp("^([+-]?(?:"+tc+"))(.*)$"));function ST(e){return"(?:"+e+")?"}function kT(e,t){return W.from(CT.exec(e)).bind((function(e){var n,r=Number(e[1]);e=e[2];return n=e,C(t,(function(e){return C(xT[e],(function(e){return n===e}))}))?W.some({value:r,unit:e}):W.none()}))}function OT(e){return kT(e,["fixed","relative","empty"]).map((function(e){return e.value+e.unit})).getOr(e)}function TT(e){function t(){var t=OT(e.queryCommandValue("LineHeight"));W.from(r.get(t)).fold((function(){return o.clear()}),(function(e){o.set({destroy:function(){e.setActive(!1)}}),e.setActive(!0)}))}var n=e.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" "),r=new Map,o=Lk();return e.on("nodeChange",t),O(n,(function(i,a){return{type:"togglemenuitem",text:i,onSetup:function(u){return r.set(OT(i),u),a+1===n.length&&t(),function(){0===a&&(e.off("nodeChange",t),o.clear())}},onAction:function(){return e.execCommand("LineHeight",!1,i)}}}))}function _T(e){var t,n;(t=e).ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return TT(t)}}),(n=e).ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(e){return e(TT(n))}})}function ET(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}}function DT(e){var t,n;!function(e){Jy.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:Fk(e,t.name),onAction:ET(e,t.name)})}));for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:Fk(e,n),onAction:ET(e,n)})}}(e),t=e,Jy.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)}})})),n=e,Jy.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){n.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return n.execCommand(e.action)},onSetup:Fk(n,e.name)})}))}function AT(e){var t;DT(e),t=e,Jy.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:function(){return t.execCommand(e.action)}})})),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:ET(t,"code")})}function zT(e,t,n){function r(){return!!t.undoManager&&t.undoManager[n]()}function o(){e.setDisabled(t.mode.isReadOnly()||!r())}return e.setDisabled(!r()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}}function RT(e){var t,n;(t=e).ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(e){return zT(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(e){return zT(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}}),(n=e).ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(e){return zT(e,n,"hasUndo")},onAction:function(){return n.execCommand("undo")}}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(e){return zT(e,n,"hasRedo")},onAction:function(){return n.execCommand("redo")}})}function MT(e,t){function n(t){e.setActive(t.hasVisual)}return e.setActive(t.hasVisual),t.on("VisualAid",n),function(){return t.off("VisualAid",n)}}function NT(e){var t,n;(t=e).ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}}),(n=e).ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(e){return MT(e,n)},onAction:function(){n.execCommand("mceToggleVisualAid")}})}function BT(e,t){var n;!function(e){Jy.each([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:Fk(e,t.name)})}));var t="alignnone",n="No alignment",r="JustifyNone",o="align-none";e.ui.registry.addButton(t,{tooltip:n,onAction:function(){return e.execCommand(r)},icon:o})}(e),AT(e),PO(e,t),RT(e),function(e){mp(e);var t=st(null),n=st(null);yp(e,"forecolor","forecolor","Text color",t),yp(e,"backcolor","hilitecolor","Background color",n),wp(e,"forecolor","forecolor","Text color"),wp(e,"backcolor","hilitecolor","Background color")}(e),NT(e),(n=e).ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(e){return function(e,t){function n(){e.setDisabled(!t.queryCommandState("outdent"))}return e.setDisabled(!t.queryCommandState("outdent")),t.on("NodeChange",n),function(){return t.off("NodeChange",n)}}(e,n)},onAction:function(){return n.execCommand("outdent")}}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return n.execCommand("indent")}}),_T(e)}function PT(e,t){return{anchor:"makeshift",x:e,y:t}}function HT(e){return"longpress"===e.type||0===e.type.indexOf("touch")}function LT(e,t){var n=Xg.DOM.getPos(e);return e=n.x,n=n.y,PT(t.x+e,t.y+n)}function IT(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?function(e){if(HT(e)){var t=e.touches[0];return PT(t.pageX,t.pageY)}return PT(e.pageX,e.pageY)}(t):LT(e.getContentAreaContainer(),function(e){if(HT(e)){var t=e.touches[0];return PT(t.clientX,t.clientY)}return PT(e.clientX,e.clientY)}(t)):__(e)}function FT(e){return{anchor:"node",node:W.some(Oo.fromDom(e.selection.getNode())),root:Oo.fromDom(e.getBody())}}function VT(e,t,n,r,o,i){n=n();var a=i?FT(e):IT(e,t);Uw(n,Cg.CLOSE_ON_EXECUTE,r,!1).map((function(e){t.preventDefault(),cm.showMenuAt(o,a,{menu:{markers:$m("normal")},data:e})}))}function jT(e){function t(){fm.setEditorTimeout(e,(function(){e.selection.setRng(n)}),10),i()}var n=e.selection.getRng();function r(e){e.preventDefault(),e.stopImmediatePropagation()}function o(){return i()}e.once("touchend",t),e.on("mousedown",r,!0),e.once("longpresscancel",o);var i=function(){e.off("touchend",t),e.off("longpresscancel",o),e.off("mousedown",r)}}function UT(e,t,n,r,o,i,a){var u,c=i?FT(e):(u=e,i=t,f({bubble:qu(0,12,D_),layouts:E_,overrides:{maxWidthFunction:ik(),maxHeightFunction:Rc()}},IT(u,i)));Uw(n,Cg.CLOSE_ON_EXECUTE,r,!0).map((function(n){t.preventDefault(),cm.showMenuWithinBounds(o,c,{menu:{markers:$m("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return W.some(kS(e,r.shared))})),e.fire(ak)}))}function WT(e,t,n,r,o,i){function a(){var a=n();UT(e,t,a,r,o,i,!(f||s||l&&d))}var u,c=Xo(),s=c.os.isiOS(),l=c.os.isOSX(),f=c.os.isAndroid(),d=c.deviceType.isTouch();!l&&!s||i?(f&&!i&&e.selection.setCursorLocation(t.target,0),a()):(u=function(){jT(e),a()},function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var r=t.touches[0];n=n.getRng();return rs(e.getWin(),Nl.domRange(n)).exists((function(e){return e.left<=r.clientX&&e.right>=r.clientX&&e.top<=r.clientY&&e.bottom>=r.clientY}))}(e,t)?u():(e.once("selectionchange",u),e.once("touchend",(function(){return e.off("selectionchange",u)}))))}function qT(e){return"string"==typeof e?e.split(/[ ,]/):e}function $T(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")}function GT(e){return t="contextmenu",n="link linkchecker image imagetools table spellchecker configurepermanentpen",r=(e=e).ui.registry.getAll().contextMenus,W.from(e.getParam(t)).map(qT).getOrThunk((function(){return _(qT(n),(function(e){return Pr(r,e)}))}));var t,n,r}function XT(e){return G(e)?"|"===e:"separator"===e.type}function KT(e,t){if(0===t.length)return e;var n=I(e).filter((function(e){return!XT(e)})).fold((function(){return[]}),(function(e){return[A_]}));return e.concat(n).concat(t).concat([A_])}function YT(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)}function JT(e,t){return YT(e,t)?e.selection.getStart(!0):t.target}function QT(e,t,n){function r(e){return cm.hide(a)}function o(t){var r;$T(e)&&t.preventDefault(),r=e,t.ctrlKey&&!$T(r)||!1===e.getParam("contextmenu")||(r=function(e,t){var n=e.getParam("contextmenu_avoid_overlap","","string");return!!YT(e,t)||!!n&&(t=JT(e,t),$p(Oo.fromDom(t),n))}(e,t),(i()?WT:VT)(e,t,(function(){var n=JT(e,t),r=e.ui.registry.getAll(),o=GT(e);return function(e,t,n){return t=D(t,(function(t,r){if(Pr(e,r)){var o=e[r].update(n);return G(o)?KT(t,o.split(" ")):0<o.length?(o=O(o,z_),KT(t,o)):t}return t.concat([r])}),[]),0<t.length&&XT(t[t.length-1])&&t.pop(),t}(r.contextMenus,o,n)}),n,a,r))}var i=Xo().deviceType.isTouch,a=Da(cm.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:xc([gd("dismissContextMenu",[Rt(Mi(),(function(t,n){Kl.close(t),e.focus()}))])])}));e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(i()?"":" ResizeWindow");e.on(t,r),e.on("longpress contextmenu",o)}))}function ZT(e){return function(t){return t.translate(-e.left,-e.top)}}function e_(e){return function(t){return t.translate(e.left,e.top)}}function t_(e){return function(t,n){return D(e,(function(e,t){return t(e)}),Na(t,n))}}function n_(e,t,n){return e.fold(t_([e_(n),ZT(t)]),t_([ZT(t)]),t_([]))}function r_(e,t,n){return e.fold(t_([e_(n)]),t_([]),t_([e_(t)]))}function o_(e,t,n){return e.fold(t_([]),t_([ZT(n)]),t_([e_(t),ZT(n)]))}function i_(e,t,n){return e=e.fold((function(e,t){return{position:W.some("absolute"),left:W.some(e+"px"),top:W.some(t+"px")}}),(function(e,t){return{position:W.some("absolute"),left:W.some(e-n.left+"px"),top:W.some(t-n.top+"px")}}),(function(e,t){return{position:W.some("fixed"),left:W.some(e+"px"),top:W.some(t+"px")}})),f({right:W.none(),bottom:W.none()},e)}function a_(e,t,n,r){function o(e,o){return function(i,a){var u=e(t,n,r);return o(i.getOr(u.left),a.getOr(u.top))}}return e.fold(o(o_,R_),o(r_,M_),o(n_,N_))}function u_(e,t){return t=cn(e,t),J(t)?NaN:parseInt(t,10)}function c_(e,t,n,r){return o=t,e=(t=e).element,t=u_(e,o.leftAttr),o=u_(e,o.topAttr),(isNaN(t)||isNaN(o)?W.none():W.some(Na(t,o))).fold((function(){return n}),(function(e){return N_(e.left+r.left,e.top+r.top)}));var o}function s_(e,t,n,r,o,i){n=c_(e,t,n,r),r=(t.mustSnap?B_:P_)(e,t,n,o,i);var a=n_(n,o,i);return function(e,t,n){e=e.element,un(e,t.leftAttr,n.left+"px"),un(e,t.topAttr,n.top+"px")}(e,t,a),r.fold((function(){return{coord:N_(a.left,a.top),extra:W.none()}}),(function(e){return{coord:e.output,extra:e.extra}}))}function l_(e,t){!function(e,t){e=e.element,fn(e,t.leftAttr),fn(e,t.topAttr)}(e,t)}function f_(e,t,n,r){return F(e,(function(e){var o=e.sensor;return function(e,t,n,r,o,i){return e=r_(e,o,i),i=r_(t,o,i),Math.abs(e.left-i.left)<=n&&Math.abs(e.top-i.top)<=r}(t,o,e.range.left,e.range.top,n,r)?W.some({output:a_(e.output,t,n,r),extra:e.extra}):W.none()}))}function d_(e,t){var n;e.getSystem().addToGui(t),Wt((n=t).element).filter(Xi).each((function(e){$n(e,"z-index").each((function(t){un(e,H_,t)})),jn(e,"z-index",qn(n.element,"z-index"))}))}function m_(e){Wt(e.element).filter(Xi).each((function(e){sn(e,H_).fold((function(){return Xn(e,"z-index")}),(function(t){return jn(e,"z-index",t)})),fn(e,H_)})),e.getSystem().removeFromGui(e)}function g_(e,t,n){return e.getSystem().build(wv.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))}function h_(e){return t=$n(e,"left"),n=$n(e,"top"),r=$n(e,"position"),o=function(e,t,n){return("fixed"===n?N_:R_)(parseInt(e,10),parseInt(t,10))},(t.isSome()&&n.isSome()&&r.isSome()?W.some(o(t.getOrDie(),n.getOrDie(),r.getOrDie())):W.none()).getOrThunk((function(){var t=cr(e);return M_(t.left,t.top)}));var t,n,r,o}function p_(e,t,n,r,o,i,a){var u,c,s,l,f,d=t.fold((function(){var e,t,a=(e=i.left,t=i.top,n.fold((function(n,r){return R_(n+e,r+t)}),(function(n,r){return M_(n+e,r+t)}),(function(n,r){return N_(n+e,r+t)})));a=n_(a,r,o);return N_(a.left,a.top)}),(function(t){var a=s_(e,t,n,i,r,o);return a.extra.each((function(n){t.onSensor(e,n)})),a.coord}));return u=d,c=r,s=o,t=(l=a).bounds,d=r_(u,c,s),a=Hu(d.left,t.x,t.x+t.width-l.width),l=Hu(d.top,t.y,t.y+t.height-l.height),f=M_(a,l),u.fold((function(){var e=o_(f,c,s);return R_(e.left,e.top)}),(function(){return f}),(function(){var e=n_(f,c,s);return N_(e.left,e.top)}))}function v_(e,t){return{bounds:e.getBounds(),height:ar(t.element),width:lr(t.element)}}function b_(e,t,n,r,o){o=n.update(r,o);var i=n.getStartData().getOrThunk((function(){return v_(t,e)}));o.each((function(n){var r,o,a,u,c,s,l;r=e,a=i,u=n,l=(o=t).getTarget(r.element),o.repositionTarget&&(s=Ft(r.element),c=mr(s),n=Kk(l),s=h_(l),a=p_(r,o.snaps,s,c,n,u,a),n=i_(a,0,n),Wn(l,n)),o.onDrag(r,l,u)}))}function y_(e,t,n,r){t.each(m_),n.snaps.each((function(t){l_(e,t)})),t=n.getTarget(e.element),r.reset(),n.onDrop(e,t)}function w_(e,t,n){return[Rt(ei(),(function(r,o){var i,a,u;0===o.event.raw.button&&(o.stop(),o={drop:o=function(){return y_(r,W.some(a),e,t)},delayDrop:(i=Gp(o,200)).schedule,forceDrop:o,move:function(n){i.cancel(),b_(r,e,t,L_,n)}},a=g_(r,e.blockerClass,(u=o,ji([Rt(ei(),u.forceDrop),Rt(ri(),u.drop),Rt(ti(),(function(e,t){u.move(t.event)})),Rt(ni(),u.delayDrop)]))),n(r),d_(r,a))}))]}function x_(e,n,r){var o=st(W.none());return[Rt(Yo(),(function(i,a){a.stop();a=function(){y_(i,o.get(),e,n),o.set(W.none())};var u,c=g_(i,e.blockerClass,(u={drop:a,delayDrop:t,forceDrop:a,move:function(t){b_(i,e,n,I_,t)}},ji([Rt(Yo(),u.forceDrop),Rt(Qo(),u.drop),Rt(Zo(),u.drop),Rt(Jo(),(function(e,t){u.move(t.event)}))])));o.set(W.some(c)),r(i),d_(i,c)})),Rt(Jo(),(function(t,r){r.stop(),b_(t,e,n,I_,r.event)})),Rt(Qo(),(function(t,r){r.stop(),y_(t,o.get(),e,n),o.set(W.none())})),Rt(Zo(),(function(t){y_(t,o.get(),e,n),o.set(W.none())}))]}function C_(e,t,n,r,o,i){return e.fold((function(){return F_.snap({sensor:M_(n-20,r-20),range:Na(o,i),output:M_(W.some(n),W.some(r)),extra:{td:t}})}),(function(e){var o=n-20,i=r-20;e=e.element.dom.getBoundingClientRect();return F_.snap({sensor:M_(o,i),range:Na(40,40),output:M_(W.some(n-e.width/2),W.some(r-e.height/2)),extra:{td:t}})}))}function S_(e,t,n){return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,r){var o,i=r.td;r=t.get(),o=i,r.exists((function(e){return pt(e,o)}))||(t.set(W.some(i)),n(i))},mustSnap:!0}}function k_(e){return Bd(dm.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:xc([F_.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Dy.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))}function O_(e,t){function n(e){var n=wr(e);return C_(g.getOpt(t),e,n.x,n.y,n.width,n.height)}function r(e){var n=wr(e);return C_(h.getOpt(t),e,n.right,n.bottom,n.width,n.height)}function o(t,n,r,o){r=r(n),F_.snapTo(t,r),function(t,n,r,o){var i=n.dom.getBoundingClientRect();Xn(t.element,"display"),n=Ut(Oo.fromDom(e.getBody())).dom.innerHeight,r=r(i),n=o(i,n),(r||n)&&jn(t.element,"display","none")}(t,n,(function(e){return e[o]<0}),(function(e,t){return e[o]>t}))}function i(e){return o(p,e,n,"top")}function a(e){return o(v,e,r,"bottom")}var u=st([]),c=st([]),s=st(!1),l=st(W.none()),f=st(W.none()),d=S_((function(){return O(u.get(),n)}),l,(function(t){f.get().each((function(n){e.fire("TableSelectorChange",{start:t,finish:n})}))})),m=S_((function(){return O(c.get(),r)}),f,(function(t){l.get().each((function(n){e.fire("TableSelectorChange",{start:n,finish:t})}))})),g=k_(d),h=k_(m),p=Da(g.asSpec()),v=Da(h.asSpec());Xo().deviceType.isTouch()&&(e.on("TableSelectionChange",(function(e){s.get()||(ws(t,p),ws(t,v),s.set(!0)),l.set(W.some(e.start)),f.set(W.some(e.finish)),e.otherCells.each((function(t){u.set(t.upOrLeftCells),c.set(t.downOrRightCells),i(e.start),a(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(function(){l.get().each(i),f.get().each(a)})),e.on("TableSelectionClear",(function(){s.get()&&(Cs(p),Cs(v),s.set(!1)),l.set(W.none()),f.set(W.none())})))}var T_,__=function(e){return{anchor:"selection",root:Oo.fromDom(e.selection.getNode())}},E_={onLtr:function(){return[yc,fu,du,mu,gu,bc,sm,lm,Md,zd,Nd,Rd]},onRtl:function(){return[yc,du,fu,gu,mu,bc,sm,lm,Nd,Rd,Md,zd]}},D_={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},A_={type:"separator"},z_=function(e){if(G(e))return e;switch(e.type){case"separator":return A_;case"submenu":return{type:"nestedmenuitem",text:e.text,icon:e.icon,getSubmenuItems:function(){var t=e.getSubmenuItems();return G(t)?t:O(t,z_)}};default:return{type:"menuitem",text:e.text,icon:e.icon,onAction:(t=e.onAction,function(){return t()})}}var t},R_=(za=Hr([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),za.offset),M_=za.absolute,N_=za.fixed,B_=function(e,t,n,r,o){var i=t.getSnapPoints(e);return f_(i,n,r,o).orThunk((function(){return D(i,(function(e,t){var i=t.sensor,a=function(e,t,n,r){return e=r_(e,n,r),n=r_(t,n,r),r=Math.abs(e.left-n.left),n=Math.abs(e.top-n.top),Na(r,n)}(n,i,(t.range.left,t.range.top,r),o);return e.deltas.fold((function(){return{deltas:W.some(a),snap:W.some(t)}}),(function(n){return(a.left+a.top)/2<=(n.left+n.top)/2?{deltas:W.some(a),snap:W.some(t)}:e}))}),{deltas:W.none(),snap:W.none()}).snap.map((function(e){return{output:a_(e.output,n,r,o),extra:e.extra}}))}))},P_=function(e,t,n,r,o){return e=t.getSnapPoints(e),f_(e,n,r,o)},H_=(Ro=Object.freeze({__proto__:null,snapTo:function(e,t,n,r){var o=t.getTarget(e.element);t.repositionTarget&&(t=Ft(e.element),e=mr(t),t=Kk(o),r={coord:a_((r=r).output,r.output,e,t),extra:r.extra},t=i_(r.coord,0,t),Wn(o,t))}}),"data-initial-z-index"),L_=(q=nt("snaps",[qe("getSnapPoints"),oc("onSensor"),qe("leftAttr"),qe("topAttr"),rt("lazyViewport",xr),rt("mustSnap",!1)]),nc=[rt("useFixed",c),qe("blockerClass"),rt("getTarget",o),rt("onDrag",t),rt("repositionTarget",!0),rt("onDrop",t),at("getBounds",xr),q],So=function(e){return function(t,n){function r(e){n.setStartData(v_(t,e))}return ji(m([Rt(Di(),(function(e){n.getStartData().each((function(){return r(e)}))}))],e(t,n,r)))}},Object.freeze({__proto__:null,getData:function(e){return W.from(Na(e.x,e.y))},getDelta:function(e,t){return Na(t.left-e.left,t.top-e.top)}})),I_=(tc=m(nc,[tu("dragger",{handlers:So(w_)})]),Object.freeze({__proto__:null,getData:function(e){return e=e.raw.touches,1===e.length?function(e){return e=e[0],W.some(Na(e.clientX,e.clientY))}(e):W.none()},getDelta:function(e,t){return Na(t.left-e.left,t.top-e.top)}})),F_=(Hr=m(nc,[tu("dragger",{handlers:So(x_)})]),za=m(nc,[tu("dragger",{handlers:So((function(e,t,n){return m(w_(e,t,n),x_(e,t,n))}))})]),$({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:tc,touch:Hr,mouseOrTouch:za}),name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:W.from(e.extra)}}},state:Object.freeze({__proto__:null,init:function(){var e=W.none(),t=W.none(),n=r({});return wa({readState:n,reset:function(){e=W.none(),t=W.none()},update:function(t,n){return t.getData(n).bind((function(n){return r=t,o=n,n=e.map((function(e){return r.getDelta(e,o)})),e=W.some(o),n;var r,o}))},getStartData:function(){return t},setStartData:function(e){t=W.some(e)}})}}),apis:Ro}));function V_(e,t,n){var r,o,i,a,u=Oo.fromDom(e.getContainer());r=e,o=t,i=n,a=ir(u),t=sr(u),(n={}).height=AO(a+o.top,gg(r),pg(r)),i===T_.Both&&(n.width=AO(t+o.left,mg(r),hg(r))),n=n;me(n,(function(e,t){return jn(u,t,DO(e)),0})),e.fire("ResizeEditor")}function j_(e,t,n){return t.delimiter||(t.delimiter=""),{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:xc([Vd.config({mode:"flow",selector:"div[role=button]"}),Zg.config({disabled:n.isDisabled}),dh(),Cv.config({}),Ud.config({}),gd("elementPathEvents",[Ui((function(r,o){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return Vd.focusIn(r)})),e.on("NodeChange",(function(o){var i;o=function(t){for(var n=[],r=t.length;0<r--;){var o=t[r];if(1===o.nodeType&&!function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}(o)){var i=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n}(o.parents);0<o.length?Ud.set(r,(o=O((o=o)||[],(function(t,r){return dm.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:xc([Wh(n.isDisabled),dh()])})})),i={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}},D(o.slice(1),(function(e,t){return e.push(i),e.push(t),e}),[o[0]]))):Ud.set(r,[])}))}))])]),components:[]}}function U_(e,t){function n(e,n,r){return Ud.set(e,[or(t.translate(["{0} "+r,n[r]]))])}var r;return dm.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:xc([Wh(t.isDisabled),dh(),Cv.config({}),Ud.config({}),nf.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),gd("wordcount-events",[$i((function(e){var t=nf.getValue(e),r="words"===t.mode?"characters":"words";nf.setValue(e,{mode:r,count:t.count}),n(e,t.count,r)})),Ui((function(t){e.on("wordCountUpdate",(function(e){var r=nf.getValue(t).mode;nf.setValue(t,{mode:r,count:e.wordCount}),n(t,e.wordCount,r)}))}))])]),eventOrder:((r={})[wi()]=["disabling","alloy.base.behaviour","wordcount-events"],r)})}function W_(e,t){var n,r,o,i;return{dom:{tag:"div",classes:["tox-statusbar"]},components:(i=function(){var n,r=[];return e.getParam("elementpath",!0,"boolean")&&r.push(j_(e,{},t)),e.hasPlugin("wordcount")&&r.push(U_(e,t)),e.getParam("branding",!0,"boolean")&&r.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(n=Kg.translate(["Powered by {0}","Tiny"]))+'">'+n+"</a>"}}),0<r.length?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]}(),r=!(n=e).hasPlugin("autoresize"),(r=!1===(r=n.getParam("resize",r))?T_.None:"both"===r?T_.Both:T_.Vertical)!==T_.None&&i.push((o=r,{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-hidden":"true"},innerHtml:Hd("resize-handle",t.icons)},behaviours:xc([F_.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,n,r){V_(e,r,o)},blockerClass:"tox-blocker"})])})),i)}}function q_(e){function n(){return s.bind(gT.getHeader)}function r(){jn(A.element,"width",document.body.clientWidth+"px")}function o(){return se.value(v)}function i(){return s.bind((function(e){return gT.getThrobber(e)})).getOrDie("Could not find throbber element")}var a=e.inline,u=a?wT:yT,c=sh(e)?iT:QO,s=W.none(),l=(k=Xo()).browser.isIE()?["tox-platform-ie"]:[],d=k.deviceType.isTouch()?["tox-platform-touch"]:[],m=oh(e),g=uh(e),h=Kg.isRtl()?{attributes:{dir:"rtl"}}:{},p={attributes:((O={})[El]=m?Xu.BottomToTop:Xu.TopToBottom,O)},v=Da((T=pt(ka(),g)&&"grid"===qn(g,"display"),S={dom:f({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(l).concat(d)},h),behaviours:xc([jl.config({useFixed:function(){return c.isDocked(n)}})])},_={dom:{styles:{width:document.body.clientWidth+"px"}},events:ji([Rt(Ai(),r)])},Fr(S,T?_:{}))),b=Bd({dom:{tag:"div",classes:["tox-anchorbar"]}}),y=PC(v,e,(function(){return s.bind((function(e){return b.getOpt(e)})).getOrDie("Could not find a anchor bar element")})),w=gT.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:y,onEscape:function(){e.focus()}}),x=nh(e),C=gT.parts.toolbar(f({dom:{tag:"div",classes:["tox-toolbar"]},getSink:o,providers:y.shared.providers,onEscape:function(){e.focus()},type:x,lazyToolbar:function(){return s.bind((function(e){return gT.getToolbar(e)})).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return n().getOrDie("Could not find header element")}},p)),S=(g=gT.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:y.shared.providers,onEscape:function(){e.focus()},type:x}),h=gT.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),gT.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})),k=gT.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:y}),O=e.getParam("statusbar",!0,"boolean")&&!a?W.some(W_(e,y.shared.providers)):W.none(),T=(h={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[h,S]},th(e)),_=bg(e),E=(S=vg(e),w=gT.parts.header({dom:f({tag:"div",classes:["tox-editor-header"]},p),components:R([S?[w]:[],T?[g]:_?[C]:[],ah(e)?[]:[b.asSpec()]]),sticky:sh(e),editor:e,sharedBackstage:y.shared}),w=R([m?[]:[w],a?[]:[h],m?[w]:[]]),w=R([[{dom:{tag:"div",classes:["tox-editor-container"]},components:w}],a?[]:O.toArray(),[k]]),O=ch(e),k=f(f({role:"application"},Kg.isRtl()?{dir:"rtl"}:{}),O?{"aria-hidden":"true"}:{}),Da(gT.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(m?["tox-tinymce--toolbar-bottom"]:[]).concat(d).concat(l),styles:f({visibility:"hidden"},O?{opacity:"0",border:"0"}:{}),attributes:k},components:w,behaviours:xc([dh(),Zg.config({disableClass:"tox-tinymce--disabled"}),Vd.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])})));s=W.some(E);e.shortcuts.add("alt+F9","focus menubar",(function(){gT.focusMenubar(E)})),e.shortcuts.add("alt+F10","focus toolbar",(function(){gT.focusToolbar(E)})),e.addCommand("ToggleToolbarDrawer",(function(){gT.toggleToolbarDrawer(E)})),e.addQueryStateHandler("ToggleToolbarDrawer",(function(){return gT.isToolbarDrawerToggled(E)}));var D=rv(E),A=rv(v);function z(){var t=DO(zO(e)),n=DO(RO(n=e).getOr(dg(n)));return e.inline||(Gn("div","width",n)&&jn(E.element,"width",n),Gn("div","height",t)?jn(E.element,"height",t):jn(E.element,"height","200px")),t}return Gk(e,D,A),{mothership:D,uiMothership:A,backstage:y,renderUI:function(){var t,r;c.setup(e,y.shared,n),BT(e,y),QT(e,o,y),r=(t=e).ui.registry.getAll().sidebars,oe(Mr(r),(function(e){function n(){return W.from(t.queryCommandValue("ToggleSidebar")).is(e)}var o=r[e];t.ui.registry.addToggleButton(e,{icon:o.icon,tooltip:o.tooltip,onAction:function(r){t.execCommand("ToggleSidebar",!1,e),r.setActive(n())},onSetup:function(e){function r(){return e.setActive(n())}return t.on("ToggleSidebar",r),function(){t.off("ToggleSidebar",r)}}})})),yO(e,i,y.shared),ge(e.getParam("toolbar_groups",{},"object"),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var a=e.ui.registry.getAll(),s=a.buttons,l=a.menuItems,d=a.contextToolbars,m=a.sidebars;a=yg(e),s={menuItems:l,menus:function(e){return e=e.getParam("menu"),e?ge(e,(function(e){return f(f({},e),{items:e.items})})):{}}(e),menubar:e.getParam("menubar"),toolbar:a.getOrThunk((function(){return e.getParam("toolbar",!0)})),allowToolbarGroups:x===wg.floating,buttons:s,sidebar:m};return $k(e,d,v,{backstage:y}),O_(e,v),m=e.getElement(),d=z(),u.render(e,{mothership:D,uiMothership:A,outerContainer:E},s,y,{targetNode:m,height:d})},getUi:function(){return{channels:{broadcastAll:A.broadcast,broadcastOn:A.broadcastOn,register:t}}}}}function $_(e){return[Ge("type"),$e("columns",fo),e]}function G_(e){return no("items","items",Ur(),Be(Ie((function(t){return Fe("Checking item of "+e,oD,t).fold((function(e){return se.error(uo(e))}),(function(e){return se.value(e)}))}))))}function X_(e){return G(e.type)&&G(e.name)}function K_(e){return e=_(sD(e),X_),e=M(e,(function(e){return W.from(lD[e.type]).fold((function(){return[]}),(function(t){return[$e(e.name,t)]}))})),Jr(e)}function Y_(e){return{internalDialog:Ve(Fe("dialog",aD,e)),dataValidator:K_(e),initialData:e.initialData}}function J_(e){var t=[],n={};return me(e,(function(e,r){e.fold((function(){t.push(r)}),(function(e){n[r]=e}))})),0<t.length?se.error(t):se.value(n)}function Q_(e,t){jn(e,"height",t+"px"),Xo().browser.isIE()?Xn(e,"flex-basis"):jn(e,"flex-basis",t+"px")}function Z_(e,t,n){Wa(e,'[role="dialog"]').each((function(e){qa(e,'[role="tablist"]').each((function(r){n.get().map((function(n){return jn(t,"height","0"),jn(t,"flex-basis","0"),Math.min(n,(i=t,a=r,u=jt(o=e).dom,n=Wa(o,".tox-dialog-wrap").getOr(o),n="fixed"===qn(n,"position")?Math.max(u.clientHeight,window.innerHeight):Math.max(u.offsetHeight,u.scrollHeight),u=ir(i),i=i.dom.offsetLeft>=a.dom.offsetLeft+sr(a)?Math.max(ir(a),u):u,a=parseInt(qn(o,"margin-top"),10)||0,u=parseInt(qn(o,"margin-bottom"),10)||0,n-(ir(o)+a+u-i)));var o,i,a,u})).each((function(e){Q_(t,e)}))}))}))}function eE(e){return qa(e,'[role="tabpanel"]')}function tE(e){var t;return{smartTabHeight:(t=st(W.none()),{extraEvents:[Ui((function(n){var r=n.element;eE(r).each((function(o){var i;jn(o,"visibility","hidden"),n.getSystem().getByDom(o).toOptional().each((function(n){var r,i,a;i=o,a=n,n=O(r=e,(function(e,t){return Ud.set(a,r[t].view()),t=i.dom.getBoundingClientRect(),Ud.set(a,[]),t.height})),n=ie(H(n,(function(e,t){return t<e?-1:e<t?1:0})));t.set(n)})),Z_(r,o,t),Xn(o,"visibility"),i=n,ie(e).each((function(e){return mD.showTab(i,e.value)})),fm.requestAnimationFrame((function(){Z_(r,o,t)}))}))})),Rt(Ai(),(function(e){var n=e.element;eE(n).each((function(e){Z_(n,e,t)}))})),Rt(Nv,(function(e,n){var r=e.element;eE(r).each((function(e){var n=Du(ta(e));jn(e,"visibility","hidden");var o=$n(e,"height").map((function(e){return parseInt(e,10)}));Xn(e,"height"),Xn(e,"flex-basis");var i=e.dom.getBoundingClientRect().height;o.forall((function(e){return e<i}))?(t.set(W.from(i)),Z_(r,e,t)):o.each((function(t){Q_(e,t)})),Xn(e,"visibility"),n.each(Eu)}))}))],selectFirst:!1}),naiveTabHeight:{extraEvents:[],selectFirst:!0}}}function nE(e,t){function n(e){var t=nf.getValue(e);e=J_(t).getOr({}),t=o.get(),e=Fr(t,e);o.set(e)}function r(e){var t=o.get();nf.setValue(e,t)}var o=st({}),i=st(null),u=O(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[Vy.sketch((function(o){return{dom:{tag:"div",classes:["tox-form"]},components:O(e.items,(function(e){return aC(o,e,t)})),formBehaviours:xc([Vd.config({mode:"acyclic",useTabstopAt:a(py)}),gd("TabView.form.events",[Ui(r),Wi(n)]),Oc.config({channels:Oe([{key:gD,value:{onReceive:n}},{key:hD,value:{onReceive:r}}])})])}}))]}}}));e=tE(u).smartTabHeight;return mD.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){t=nf.getValue(t),Tt(e,Mv,{name:t,oldName:i.get()}),i.set(t)},tabs:u,components:[mD.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[dD.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:xc([Cv.config({})])}),mD.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:e.selectFirst,tabSectionBehaviours:xc([gd("tabpanel",e.extraEvents),Vd.config({mode:"acyclic"}),yf.config({find:function(e){return ie(mD.getViewItems(e))}}),nf.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn([gD],{}),o.get()},setValue:function(e,t){o.set(t),e.getSystem().broadcastOn([hD],{})}}})])})}function rE(e,t,n,r){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:f(f({},t.map((function(e){return{id:e}})).getOr({})),r?{"aria-live":"polite"}:{})},components:[],behaviours:xc([Xy(0),bk.config({channel:bD,updateState:function(e,t){return W.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},renderComponents:function(e){return"tabpanel"!==e.body.type?[(t=e.body,r=n,{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[(o=Bd(Vy.sketch((function(e){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:O(t.items,(function(t){return aC(e,t,r)}))}})))).asSpec()]}],behaviours:xc([Vd.config({mode:"acyclic",useTabstopAt:a(py)}),Gy(o),Zy(o,{postprocess:function(e){return J_(e).fold((function(e){return{}}),(function(e){return e}))}})])})]:[nE(e.body,n)];var t,r,o},initialData:e})])}}function oE(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}}function iE(e,t){return PE.parts.close(dm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:xc([Cv.config({})])}))}function aE(){return PE.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})}function uE(e,t){return PE.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:vO("<p>"+t.translate(e)+"</p>")}]}]})}function cE(e){return PE.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})}function sE(e,t){return[wv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),wv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]}function lE(e){var t="tox-dialog",n=t+"-wrap",r=n+"__backdrop",o=t+"__disable-scroll";return PE.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),W.some(!0)},useTabstopAt:function(e){return!py(e)},dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:f({position:"relative"},e.extraStyles)},components:m([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:vO('<div class="'+n+'"></div>'),components:[{dom:{tag:"div",classes:xD?[r,r+"--opaque"]:[r]}}]}},dragBlockClass:n,modalBehaviours:xc(m([Wd.config({}),gd("dialog-events",e.dialogEvents.concat([Lt(ii(),(function(e,t){Vd.focusIn(e)}))])),gd("scroll-lock",[Ui((function(){Mn(ka(),o)})),Wi((function(){Bn(ka(),o)}))])],e.extraBehaviours)),eventOrder:f(((n={})[wi()]=["dialog-events"],n[zi()]=["scroll-lock","dialog-events","alloy.base.behaviour"],n[Ri()]=["alloy.base.behaviour","dialog-events","scroll-lock"],n),e.eventOrder)})}function fE(e){return dm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:Hd("close",e.icons)}}],action:function(e){Ot(e,Ev)}})}function dE(e,t,n){function r(e){return[or(n.translate(e.title))]}return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:f({},t.map((function(e){return{id:e}})).getOr({}))},components:r(e),behaviours:xc([bk.config({channel:vD,renderComponents:r})])}}function mE(){return{dom:vO('<div class="tox-dialog__draghandle"></div>')}}function gE(e,t){return n={title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},r=t.shared.providers,e=PE.parts.title(dE(n,W.none(),r)),t=PE.parts.draghandle(mE()),r=PE.parts.close(fE(r)),r=[e].concat(n.draggable?[t]:[]).concat([r]),wv.sketch({dom:vO('<div class="tox-dialog__header"></div>'),components:r});var n,r}function hE(e,t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:vO('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}function pE(e,t,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){PE.setBusy(e(),(function(e,r){return hE(n.message,r,t)}))},onUnblock:function(){PE.setIdle(e())}}}function vE(e,t,n,r){return Da(lE(f(f({},e),{lazySink:r.shared.getSink,extraBehaviours:m([bk.config({channel:pD,updateState:function(e,t){return W.some(t)},initialData:t}),nw({})],e.extraBehaviours),onEscape:function(e){Ot(e,Ev)},dialogEvents:n,eventOrder:((n={})[yi()]=[bk.name(),Oc.name()],n[zi()]=["scroll-lock",bk.name(),"messages","dialog-events","alloy.base.behaviour"],n[Ri()]=["alloy.base.behaviour","dialog-events","messages",bk.name(),"scroll-lock"],n)})))}function bE(e){return O(e,(function(e){return"menu"===e.type?(n=O((t=e).items,(function(e){var t=st(!1);return f(f({},e),{storage:t})})),f(f({},t),{items:n})):e;var t,n}))}function yE(e){return D(e,(function(e,t){return"menu"!==t.type?e:D(t.items,(function(e,t){return e[t.name]=t.storage,e}),e)}),{})}function wE(e,t){return[Pt(ii(),hy),e(_v,(function(e,n){t.onClose(),n.onClose()})),e(Ev,(function(e,t,n,r){t.onCancel(e),Ot(r,_v)})),Rt(Rv,(function(e,n){return t.onUnblock()})),Rt(zv,(function(e,n){return t.onBlock(n.event)}))]}function xE(e,t){var n=t.map((function(e){return e.footerButtons})).getOr([]);t=T(n,(function(e){return"start"===e.align}));return[(n=function(e,t){return wv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:O(t,(function(e){return e.memento.asSpec()}))})})("start",t.pass),n("end",t.fail)]}function CE(e,t){return{dom:vO('<div class="tox-dialog__footer"></div>'),components:[],behaviours:xc([bk.config({channel:yD,initialData:e,updateState:function(e,n){var r=O(n.buttons,(function(e){var n=Bd(Zw(e,e.type,t));return{name:e.name,align:e.align,memento:n}}));return W.some({lookupByName:function(e,t){return n=e,o=t,A(r,(function(e){return e.name===o})).bind((function(e){return e.memento.getOpt(n)}));var n,o},footerButtons:r})},renderComponents:xE})])}}function SE(e,t){return PE.parts.footer(CE(e,t))}function kE(e,t){if(e.getRoot().getSystem().isConnected()){var n=yf.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return Vy.getField(n,t).fold((function(){var r=e.getFooter();return bk.getState(r).get().bind((function(e){return e.lookupByName(n,t)}))}),(function(e){return W.some(e)}))}return W.none()}function OE(e,t,n){function r(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)}var o={getData:function(){var t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t;t=nf.getValue(r),r=ge(n,(function(e){return e.get()}));return f(f({},t),r)},setData:function(t){r((function(r){var i=o.getData(),a=f(f({},i),t),u=function(e,t){return e=e.getRoot(),bk.getState(e).get().map((function(e){return Ve(Fe("data",e.dataValidator,t))})).getOr(t)}(e,a);i=e.getFormWrapper();nf.setValue(i,u),me(n,(function(e,t){Pr(a,t)&&e.set(a[t])}))}))},disable:function(t){kE(e,t).each(Zg.disable)},enable:function(t){kE(e,t).each(Zg.enable)},focus:function(t){kE(e,t).each(Wd.focus)},block:function(e){if(!G(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(t){Tt(t,zv,{message:e})}))},unblock:function(){r((function(e){Ot(e,Rv)}))},showTab:function(t){r((function(n){var r=e.getBody();bk.getState(r).get().exists((function(e){return e.isTabPanel()}))&&yf.getCurrent(r).each((function(e){mD.showTab(e,t)}))}))},redial:function(e){r((function(n){var r=t(e);n.getSystem().broadcastOn([pD],r),n.getSystem().broadcastOn([vD],r.internalDialog),n.getSystem().broadcastOn([bD],r.internalDialog),n.getSystem().broadcastOn([yD],r.internalDialog),o.setData(r.initialData)}))},close:function(){r((function(e){Ot(e,_v)}))}};return o}function TE(e,t,n){var r=gE(e.internalDialog.title,n),o=function(e,t){return t=rE(e,W.none(),t,!1),PE.parts.body(t)}({body:e.internalDialog.body},n),i=bE(e.internalDialog.buttons),a=yE(i),u=SE({buttons:i},n),c=SD((function(){return l}),pE((function(){return s}),n.shared.providers,t),n.shared.getSink),s=(i=function(e){switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}}(e.internalDialog.size),i={header:r,body:o,footer:W.some(u),extraClasses:i,extraBehaviours:[],extraStyles:{}},vE(i,e,c,n)),l=OE({getRoot:function(){return s},getBody:function(){return PE.getBody(s)},getFooter:function(){return PE.getFooter(s)},getFormWrapper:function(){var e=PE.getBody(s);return yf.getCurrent(e).getOr(e)}},t.redial,a);return{dialog:s,instanceApi:l}}function _E(e,t,n,r){var o=gn("dialog-label"),i=gn("dialog-content"),a=Bd((a={title:e.internalDialog.title,draggable:!0},c=o,s=n.shared.providers,wv.sketch({dom:vO('<div class="tox-dialog__header"></div>'),components:[dE(a,W.some(c),s),mE(),fE(s)],containerBehaviours:xc([F_.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return $a(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),u=Bd((c={body:e.internalDialog.body},s=n,r=r,rE(c,W.some(i),s,r))),c=bE(e.internalDialog.buttons),s=yE(c),l=Bd(kD({buttons:c},n)),f=(r=SD((function(){return d}),{onBlock:function(e){BE.block(f,(function(t,r){return hE(e.message,r,n.shared.providers)}))},onUnblock:function(){BE.unblock(f)},onClose:function(){return t.closeWindow()}},n.shared.getSink),Da({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:((c={role:"dialog"})["aria-labelledby"]=o,c["aria-describedby"]=""+i,c)},eventOrder:((c={})[yi()]=[bk.name(),Oc.name()],c[wi()]=["execute-on-form"],c[zi()]=["reflecting","execute-on-form"],c),behaviours:xc([Vd.config({mode:"cyclic",onEscape:function(e){return Ot(e,_v),W.some(!0)},useTabstopAt:function(e){return!py(e)&&("button"!==It(e)||"disabled"!==cn(e,"disabled"))}}),bk.config({channel:pD,updateState:function(e,t){return W.some(t)},initialData:e}),Wd.config({}),gd("execute-on-form",r.concat([Lt(ii(),(function(e,t){Vd.focusIn(e)}))])),BE.config({getRoot:function(){return W.some(f)}}),Ud.config({}),nw({})]),components:[a.asSpec(),u.asSpec(),l.asSpec()]})),d=OE({getRoot:function(){return f},getFooter:function(){return l.get(f)},getBody:function(){return u.get(f)},getFormWrapper:function(){var e=u.get(f);return yf.getCurrent(e).getOr(e)}},t.redial,s);return{dialog:f,instanceApi:d}}function EE(e){function t(t){e.getSystem().isConnected()&&t(e)}return{block:function(e){if(!G(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((function(t){Tt(t,zv,{message:e})}))},unblock:function(){t((function(e){Ot(e,Rv)}))},close:function(){t((function(e){Ot(e,_v)}))},sendMessage:function(e){t((function(t){t.getSystem().broadcastOn([wD],e)}))}}}function DE(e){return X(e)&&-1!==TD.indexOf(e.mceAction)}function AE(e,t,n,r){var o=gE(e.title,r),i=function(e){return e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[my({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:xc([Cv.config({}),Wd.config({})])})]}],behaviours:xc([Vd.config({mode:"acyclic",useTabstopAt:a(py)})])},PE.parts.body(e)}(e),u=e.buttons.bind((function(e){return 0===e.length?W.none():W.some(SE({buttons:e},r))})),c=CD((function(){return p}),pE((function(){return h}),r.shared.providers,t)),s=f(f({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}}))),l=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],d=new OD(e.url,{base_uri:new OD(window.location.href)}),m=d.protocol+"://"+d.host+(d.port?":"+d.port:""),g=st(W.none()),h=(t=[gd("messages",[Ui((function(){var t=Wp(Oo.fromDom(window),"message",(function(t){var r;d.isSameOrigin(new OD(t.raw.origin))&&(r=t.raw.data,DE(r)?function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var r=!!Y(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}}(n,p,r):!DE(t=r)&&X(t)&&Pr(t,"mceAction")&&e.onMessage(p,r))}));g.set(W.some(t))})),Wi((function(){g.get().each((function(e){return e.unbind()}))}))]),Oc.config({channels:((t={})[wD]={onReceive:function(e,t){qa(e.element,"iframe").each((function(e){e.dom.contentWindow.postMessage(t,m)}))}},t)})],vE({header:o,body:i,footer:u,extraClasses:l,extraBehaviours:t,extraStyles:s},e,c,r)),p=EE(h);return{dialog:h,instanceApi:p}}function zE(e){var t=e.backstage.shared;return{open:function(n,r){function o(e){PE.hide(s),r(e)}var i=Bd(Zw({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:W.none()},"submit",e.backstage)),a=Zw({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:W.none()},"cancel",e.backstage),u=aE(),c=iE((function(){return o(!1)}),t.providers),s=Da(lE({lazySink:function(){return t.getSink()},header:oE(u,c),body:uE(n,t.providers),footer:W.some(cE(sE([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt(Ev,(function(){return o(!1)})),Rt(Av,(function(){return o(!0)}))],eventOrder:{}}));PE.show(s),i=i.get(s),Wd.focus(i)}}}function RE(e){var t,n,r=e.backstage,o=e.editor,i=sh(o),a=(n=(t=e).backstage.shared,{open:function(e,r){function o(){PE.hide(c),r()}var i=Bd(Zw({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:W.none()},"cancel",t.backstage)),a=aE(),u=iE(o,n.providers),c=Da(lE({lazySink:function(){return n.getSink()},header:oE(a,u),body:uE(e,n.providers),footer:W.some(cE(sE([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt(Ev,o)],eventOrder:{}}));PE.show(c),i=i.get(c),Wd.focus(i)}}),u=zE(e),c=function(e,t){return fD.openUrl((function(e){var n=AE(e,{closeWindow:function(){PE.hide(n.dialog),t(n.instanceApi)}},o,r);return PE.show(n.dialog),n.instanceApi}),e)},s=function(e,t){return fD.open((function(e,n,o){n=n;var i=TE({dataValidator:o,initialData:n,internalDialog:e},{redial:fD.redial,closeWindow:function(){PE.hide(i.dialog),t(i.instanceApi)}},r);return PE.show(i.dialog),i.instanceApi.setData(n),i.instanceApi}),e)},l=function(e,t,n,a){return fD.open((function(e,u,c){function s(){return h.on((function(e){cm.reposition(e),tT.refresh(e)}))}var l,d,g=Ve(Fe("data",c,u)),h=(l=st(W.none()),{clear:function(){return l.set(W.none())},set:function(e){return l.set(W.some(e))},isSet:function(){return l.get().isSome()},on:function(e){return l.get().each(e)}}),p=(u=r.shared.header.isPositionedAtTop(),_E({dataValidator:c,initialData:g,internalDialog:e},{redial:fD.redial,closeWindow:function(){h.on(cm.hide),o.off("ResizeEditor",s),h.clear(),n(p.instanceApi)}},r,a));e=Da(cm.sketch(f(f({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},u?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:xc(m([gd("window-manager-inline-events",[Rt(Mi(),(function(e,t){Ot(p.dialog,Ev)}))])],(d=o,e=u,i&&e?[]:[tT.config({contextual:{lazyContext:function(){return W.some(yr(Oo.fromDom(d.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]))),isExtraPart:function(e,t){return $p(t=t,".tox-alert-dialog")||$p(t,".tox-confirm-dialog")}})));return h.set(e),cm.showWithin(e,t,Aa(p.dialog),W.some(ka())),i&&u||(tT.refresh(e),o.on("ResizeEditor",s)),p.instanceApi.setData(g),Vd.focusIn(p.dialog),p.instanceApi}),e)};return{open:function(e,t,n){return void 0!==t&&"toolbar"===t.inline?l(e,r.shared.anchors.inlineDialog(),n,t.ariaAttrs):void 0!==t&&"cursor"===t.inline?l(e,r.shared.anchors.cursor(),n,t.ariaAttrs):s(e,n)},openUrl:function(e,t){return c(e,t)},alert:function(e,t){a.open(e,(function(){t()}))},close:function(e){e.close()},confirm:function(e,t){u.open(e,(function(e){t(e)}))}}}(q=T_=T_||{})[q.None=0]="None",q[q.Both=1]="Both",q[q.Vertical=2]="Vertical";nc=r([qe("lazySink"),Qe("dragBlockClass"),at("getBounds",xr),rt("useTabstopAt",s),rt("eventOrder",{}),gi("modalBehaviours",[Vd]),ic("onExecute"),uc("onEscape")]),So={sketch:o},$=r([mf({name:"draghandle",overrides:function(e,t){return{behaviours:xc([F_.config({mode:"mouse",getTarget:function(e){return Wa(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),df({schema:[qe("dom")],name:"title"}),df({factory:So,schema:[qe("dom")],name:"close"}),df({factory:So,schema:[qe("dom")],name:"body"}),mf({factory:So,schema:[qe("dom")],name:"footer"}),lo({factory:{sketch:function(e,t){return f(f({},e),{dom:t.dom,components:t.components})}},schema:[rt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),rt("components",[])],name:"blocker"})]),tc=Object.freeze({__proto__:null,block:function(e,t,n,r){un(e.element,"aria-busy",!0);var o=t.getRoot(e).getOr(e),i=xc([Vd.config({mode:"special",onTab:function(){return W.some(!0)},onShiftTab:function(){return W.some(!0)}}),Wd.config({})]),a=(i=r(o,i),o.getSystem().build(i));Ud.append(o,Aa(a)),a.hasConfigured(Vd)&&Vd.focusIn(a),n.isBlocked()||t.onBlock(e),n.blockWith((function(){return Ud.remove(o,a)}))},unblock:function(e,t,n){fn(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()}}),Hr=[at("getRoot",W.none),oc("onBlock"),oc("onUnblock")];var ME,NE,BE=_u({fields:Hr,name:"blocking",apis:tc,state:Object.freeze({__proto__:null,init:function(){var e=Lk();return wa({readState:e.isSet,blockWith:function(t){e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),PE=tf({name:"ModalDialog",configFields:nc(),partFields:$(),factory:function(e,t,n,r){var i=st(W.none()),a=gn("modal-events"),u=f(f({},e.eventOrder),((u={})[zi()]=[a].concat(e.eventOrder["alloy.system.attached"]||[]),u));return{uid:e.uid,dom:e.dom,components:t,apis:{show:function(t){i.set(W.some(t));var n=e.lazySink(t).getOrDie(),o=r.blocker();o=n.getSystem().build(f(f({},o),{components:o.components.concat([Aa(t)]),behaviours:xc([Wd.config({}),gd("dialog-blocker-events",[Lt(ii(),(function(){Vd.focusIn(t)}))])])}));ws(n,o),Vd.focusIn(t)},hide:function(e){i.set(W.none()),Wt(e.element).each((function(t){e.getSystem().getByDom(t).each((function(e){Cs(e)}))}))},getBody:function(t){return Ys(t,e,"body")},getFooter:function(t){return Ys(t,e,"footer")},setIdle:function(e){BE.unblock(e)},setBusy:function(e,t){BE.block(e,t)}},eventOrder:u,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ps(e.modalBehaviours,[Ud.config({}),Vd.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),BE.config({getRoot:i.get}),gd(a,[Ui((function(t){var n,r,i,a;n=t.element,r=Ys(t,e,"title").element,i=sn(n,"id").fold((function(){var e=gn("dialog-label");return un(r,"id",e),e}),o),un(n,"aria-labelledby",i),i=t.element,a=Ys(t,e,"body").element,t=W.from(cn(i,"id")).fold((function(){var e=gn("dialog-describe");return un(a,"id",e),e}),o),un(i,"aria-describedby",t)}))])])}},apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),HE=(za=Jr([Ge("type"),Ge("name")].concat(aa)),Ro=go,q=[no("name","name",qr((function(){return gn("button-name")})),mo),tt("icon"),xo("align","end",["start","end"]),Co("primary",!1),Co("disabled",!1)],ic=m(q,[Ge("text")]),uc=m([Xe("type",["submit","cancel","custom"])],ic),So=m([Xe("type",["menu"]),tt("text"),tt("tooltip"),tt("icon"),Je("items",za)],q),lo=Ue("type",{submit:uc,cancel:uc,custom:uc,menu:So}),Hr=[Ge("type"),Ge("text"),Xe("level",["info","warn","error","success"]),Ge("icon"),rt("url","")],Jr(Hr)),LE=(tc=[Ge("type"),Ge("text"),Co("disabled",!1),Co("primary",!1),no("name","name",qr((function(){return gn("button-name")})),mo),tt("icon"),Co("borderless",!1)],Jr(tc)),IE=(nc=[Ge("type"),Ge("name"),Ge("label"),Co("disabled",!1)],Jr(nc)),FE=($=go,aa=[Ge("type"),Ge("name")],za=aa.concat([tt("label")]),q=za.concat([rt("columns","auto")]),Jr(q)),VE=(uc=oo([Ge("value"),Ge("text"),Ge("icon")]),Jr(za)),jE=(So=mo,Jr(za)),UE=(Hr=mo,aa.concat([it("tag","textarea"),Ge("scriptId"),Ge("scriptUrl"),ot("settings",void 0,vo)])),WE=aa.concat([it("tag","textarea"),bo("init")]),qE=Ie((function(e){return Fe("customeditor.old",Ne(WE),e).orThunk((function(){return Fe("customeditor.new",Ne(UE),e)}))})),$E=(tc=mo,Jr(za)),GE=(nc=Be(ro),q=[Ge("type"),Ge("html"),xo("presets","presentation",["presentation","document"])],Jr(q)),XE=(oo=za.concat([Co("sandboxed",!0)]),Jr(oo)),KE=(aa=mo,bo=za.concat([$e("currentState",Jr([qe("blob"),Ge("url")]))]),Jr(bo)),YE=(q=za.concat([tt("inputMode"),tt("placeholder"),Co("maximized",!1),Co("disabled",!1)]),Jr(q)),JE=(oo=mo,bo=[Ge("text"),Ge("value")],q=[Ge("text"),Je("items",(ME=function(){return JE},NE=xe((function(){return ME()})),{extract:function(e,t,n){return NE().extract(e,t,n)},toString:function(){return NE().toString()}}))],Qr([Jr(bo),Jr(q)])),QE=(Qr=za.concat([Je("items",JE),Co("disabled",!1)]),Jr(Qr)),ZE=(bo=mo,q=za.concat([Ye("items",[Ge("text"),Ge("value")]),wo("size",1),Co("disabled",!1)]),Jr(q)),eD=(Qr=mo,wo=za.concat([Co("constrain",!0),Co("disabled",!1)]),Jr(wo)),tD=(q=Jr([Ge("width"),Ge("height")]),wo=[Ge("type"),Je("header",mo),Je("cells",Be(mo))],Jr(wo)),nD=(Co=za.concat([tt("placeholder"),Co("maximized",!1),Co("disabled",!1)]),Jr(Co)),rD=(Co=mo,xo=za.concat([xo("filetype","file",["image","media","file"]),rt("disabled",!1)]),Jr(xo)),oD=(xo=Jr([Ge("value"),rt("meta",{})]),io((function(){return co("type",{alertbanner:HE,bar:Jr((e=G_("bar"),[Ge("type"),e])),button:LE,checkbox:IE,colorinput:VE,colorpicker:jE,dropzone:$E,grid:Jr($_(G_("grid"))),iframe:XE,input:YE,listbox:QE,selectbox:ZE,sizeinput:eD,textarea:nD,urlinput:rD,customeditor:qE,htmlpanel:GE,imagetools:KE,collection:FE,label:Jr((e=G_("label"),[Ge("type"),Ge("label"),e])),table:tD,panel:iD});var e}))),iD=(io=[Ge("type"),rt("classes",[]),Je("items",oD)],Jr(io)),aD=(qr=[no("name","name",qr((function(){return gn("tab-name")})),mo),Ge("title"),Je("items",oD)],qr=[Ge("type"),Ye("tabs",qr)],qr=Jr(qr),ic=ic,lo=lo,Jr([Ge("title"),$e("body",co("type",{panel:iD,tabpanel:qr})),it("size","normal"),Je("buttons",lo),rt("initialData",{}),at("onAction",t),at("onChange",t),at("onSubmit",t),at("onClose",t),at("onCancel",t),rt("onTabChange",t)])),uD=Jr(m([Xe("type",["cancel","custom"])],ic)),cD=Jr([Ge("title"),Ge("url"),et("height"),et("width"),Ze("buttons",Be(uD)),at("onAction",t),at("onCancel",t),at("onClose",t),at("onMessage",t)]),sD=function(e){return X(e)?[e].concat(M(be(e),sD)):K(e)?M(e,sD):[]},lD={checkbox:$,colorinput:So,colorpicker:Hr,dropzone:nc,input:oo,iframe:aa,sizeinput:q,selectbox:Qr,listbox:bo,size:q,textarea:Co,urlinput:xo,customeditor:tc,collection:uc,togglemenuitem:Ro},fD={open:function(e,t){return t=Y_(t),e(t.internalDialog,t.initialData,t.dataValidator)},openUrl:function(e,t){return e(Ve(Fe("dialog",cD,t)))},redial:Y_},dD=(Ro=il({name:"TabButton",configFields:[rt("uid",void 0),qe("value"),no("dom","dom",$r((function(){return{attributes:{role:"tab",id:gn("aria"),"aria-selected":"false"}}})),so()),Qe("action"),rt("domModification",{}),gi("tabButtonBehaviours",[Wd,Vd,nf]),qe("view")],factory:function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:Sd(e.action),behaviours:Ps(e.tabButtonBehaviours,[Wd.config({}),Vd.config({mode:"execution",useSpace:!0,useEnter:!0}),nf.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}}}),rc=r([qe("tabs"),qe("dom"),rt("clickToDismiss",!1),gi("tabbarBehaviours",[Of,Vd]),rc(["tabClass","selectedClass"])]),Ro=Ir({factory:Ro,name:"tabs",unit:"tab",overrides:function(e){function n(e,t){Of.dehighlight(e,t),Tt(e,Li(),{tabbar:e,button:t})}function r(e,t){Of.highlight(e,t),Tt(e,Hi(),{tabbar:e,button:t})}return{action:function(o){var i=o.getSystem().getByUid(e.uid).getOrDie(),a=Of.isHighlighted(i,o);(a&&e.clickToDismiss?n:a?t:r)(i,o)},domModification:{classes:[e.markers.tabClass]}}}}),Ro=r([Ro]),tf({name:"Tabbar",configFields:rc(),partFields:Ro(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ps(e.tabbarBehaviours,[Of.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){un(t.element,"aria-selected","true")},onDehighlight:function(e,t){un(t.element,"aria-selected","false")}}),Vd.config({mode:"flow",getInitial:function(e){return Of.getHighlighted(e).map((function(e){return e.element}))},selector:"."+e.markers.tabClass,executeOnMove:!0})])}}})),mD=(Ro=il({name:"Tabview",configFields:[gi("tabviewBehaviours",[Ud])],factory:function(e,t){return{uid:e.uid,dom:e.dom,behaviours:Ps(e.tabviewBehaviours,[Ud.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),oc=r([rt("selectFirst",!0),oc("onChangeTab"),oc("onDismissTab"),rt("tabs",[]),gi("tabSectionBehaviours",[])]),gi=df({factory:dD,schema:[qe("dom"),Ke("markers",[qe("tabClass"),qe("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),Ro=df({factory:Ro,name:"tabview"}),Ro=r([gi,Ro]),tf({name:"TabSection",configFields:oc(),partFields:Ro(),factory:function(e,t,n,r){function o(t,n){Ks(t,e,"tabbar").each((function(e){n(e).each(_t)}))}return{uid:e.uid,dom:e.dom,components:t,behaviours:Bs(e.tabSectionBehaviours),events:ji(R([e.selectFirst?[Ui((function(e,t){o(e,Of.getFirst)}))]:[],[Rt(Hi(),(function(t,n){var r,o;n=n.event.button;r=n,o=nf.getValue(r),Ks(r,e,"tabview").each((function(t){A(e.tabs,(function(e){return e.value===o})).each((function(n){n=n.view(),sn(r.element,"id").each((function(e){un(t.element,"aria-labelledby",e)})),Ud.set(t,n),e.onChangeTab(t,r,n)}))}))})),Rt(Li(),(function(t,n){n=n.event.button,e.onDismissTab(t,n)}))]])),apis:{getViewItems:function(t){return Ks(t,e,"tabview").map((function(e){return Ud.contents(e)})).getOr([])},showTab:function(e,t){o(e,(function(e){var n=Of.getCandidates(e);return A(n,(function(e){return nf.getValue(e)===t})).filter((function(t){return!Of.isHighlighted(e,t)}))}))}}}},apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}})),gD="send-data-to-section",hD="send-data-to-view",pD=gn("update-dialog"),vD=gn("update-title"),bD=gn("update-body"),yD=gn("update-footer"),wD=gn("body-send-message"),xD=Xh.deviceType.isTouch(),CD=function(e,t){function n(t,n){return Rt(t,(function(t,o){r(t,(function(r,i){n(e(),r,o.event,t)}))}))}var r=function(e,t){bk.getState(e).get().each((function(n){t(n,e)}))};return m(wE(n,t),[n(Dv,(function(e,t,n){t.onAction(e,{name:n.name})}))])},SD=function(e,t,n){function r(t,n){return Rt(t,(function(t,r){o(t,(function(o,i){n(e(),o,r.event,t)}))}))}var o=function(e,t){bk.getState(e).get().each((function(n){t(n.internalDialog,e)}))};return m(wE(r,t),[r(Av,(function(e,t){return t.onSubmit(e)})),r(Tv,(function(e,t,n){t.onChange(e,{name:n.name})})),r(Dv,(function(e,t,r,o){function i(){return Vd.focusIn(o)}function a(e){return ln(e,"disabled")||sn(e,"aria-disabled").exists((function(e){return"true"===e}))}var u=ta(o.element),c=Du(u);t.onAction(e,{name:r.name,value:r.value}),Du(u).fold(i,(function(e){a(e)||c.exists((function(t){return bt(e,t)&&a(t)}))?i():n().toOptional().filter((function(t){return!bt(t.element,e)})).each(i)}))})),r(Mv,(function(e,t,n){t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Wi((function(t){var n=e();nf.setValue(t,n.getData())}))])},kD=CE,OD=tinymce.util.Tools.resolve("tinymce.util.URI"),TD=["insertContent","setContent","execCommand","close","block","unblock"];l.add("silver",(function(e){var t=q_(e),n=t.uiMothership,o=t.backstage,i=t.renderUI;t=t.getUi;return mv(e,o.shared),e=RE({editor:e,backstage:o}),{renderUI:i,getWindowManagerImpl:r(e),getNotificationManagerImpl:function(){return hm(0,{backstage:o},n)},ui:t()}}))}()}).call(this,n("c8ba"))},"07d1":function(e,t,n){n("94ce")},1148:function(e,t,n){"use strict";var r=n("a691"),o=n("1d80");e.exports="".repeat||function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;0<i;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},2401:function(e,t){!function(){"use strict";function e(){}function t(e){return function(){return e}}function n(e){return function(t){return!e(t)}}var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=t(!1),i=t(!0),a=function(){return u},u={fold:function(e,t){return e()},is:o,isSome:o,isNone:i,getOr:l,getOrThunk:s,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:t(null),getOrUndefined:t(void 0),or:l,orThunk:s,map:a,each:e,bind:a,exists:o,forall:i,filter:a,equals:c,equals_:c,toArray:function(){return[]},toString:t("none()")};function c(e){return e.isNone()}function s(e){return e()}function l(e){return e}function f(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function d(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function m(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}function g(e,t,n){return d(e,(function(e){n=t(n,e)})),n}function h(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return S.some(i);if(n(i,r))break}return S.none()}function p(e,t){return h(e,t,o)}function v(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!_(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);R.apply(t,e[n])}return t}(f(e,t))}function b(e){return(e=z.call(e,0)).reverse(),e}function y(e,t){return 0<=t&&t<e.length?S.some(e[t]):S.none()}function w(e){return y(e,0)}function x(e){return y(e,e.length-1)}var C=function(e){function n(){return c}function r(t){return t(e)}var a=t(e),c={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:i,isNone:o,getOr:a,getOrThunk:a,getOrDie:a,getOrNull:a,getOrUndefined:a,or:n,orThunk:n,map:function(t){return C(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?c:u},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(o,(function(t){return n(e,t)}))}};return c},S={some:C,none:a,from:function(e){return null==e?u:C(e)}},k=function(e){return function(t){return t=typeof(n=t),(null===n?"null":"object"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t)===e;var n}},O=function(e){return function(t){return typeof t===e}},T=k("string"),_=k("array"),E=O("boolean"),D=O("function"),A=O("number"),z=Array.prototype.slice,R=Array.prototype.push,M=function(){return(M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function N(e,t){var n=String(t).toLowerCase();return p(e,(function(e){return e.search(n)}))}function B(e,t){return-1!==e.indexOf(t)}function P(e){return window.matchMedia(e).matches}function H(e,t){return e.dom===t.dom}function L(e,t){return n=e.dom,e=t.dom,t=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(n.compareDocumentPosition(e)&t);var n}function I(e,t){return(Et().browser.isIE()?L:function(e,t){return e=e.dom,t=t.dom,e!==t&&e.contains(t)})(e,t)}function F(e,t){for(var n=Bt(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}function V(t,n){var r,o,i,a,u={};return r=n,a=u,o=function(e,t){a[t]=e},i=e,F(t,(function(e,t){(r(e,t)?o:i)(e,t)})),u}function j(e){return e.dom.nodeName.toLowerCase()}function U(e,t){var n=e.dom;F(t,(function(e,t){!function(e,t,n){if(!(T(n)||E(n)||A(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(n,t,e)}))}function W(e){return g(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})}function q(e){return S.from(e.dom.parentNode).map(At.fromDom)}function $(e){return f(e.dom.childNodes,At.fromDom)}function G(e,t){return e=e.dom.childNodes,S.from(e[t]).map(At.fromDom)}function X(e){return G(e,0)}function K(e){return G(e,e.dom.childNodes.length-1)}function Y(e,t){q(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))}function J(e,t){e.dom.appendChild(t.dom)}function Q(e,t){d(t,(function(t){J(e,t)}))}function Z(e){null!==(e=e.dom).parentNode&&e.parentNode.removeChild(e)}function ee(e){return t=!0,At.fromDom(e.dom.cloneNode(t));var t}function te(e,t){var n=function(e,t){return t=At.fromTag(t),e=W(e),U(t,e),t}(e,t);return Y(e,n),t=$(e),Q(n,t),Z(e),n}function ne(e){return e&&3===e.nodeType}function re(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]}function oe(e,t){return e&&e.nodeName in t}function ie(e,t,n){var r=e.isEmpty(t);return!(n&&0<e.select("span[data-mce-type=bookmark]",t).length)&&r}function ae(e,t){return e.isChildOf(t,e.getRoot())}function ue(e,t){var n,r,o,i=e.dom,a=e.schema.getBlockElements(),u=i.createFragment(),c=function(e){return e=e.getParam("forced_root_block","p"),!1===e?"":!0===e?"p":e}(e);if(c&&((r=i.create(c)).tagName===c.toUpperCase()&&i.setAttribs(r,e.getParam("forced_root_block_attrs",{})),oe(t.firstChild,a)||u.appendChild(r)),t)for(;n=t.firstChild;){var s=n.nodeName;o||"SPAN"===s&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),oe(n,a)?(u.appendChild(n),r=null):c?(r||(r=i.create(c),u.appendChild(r)),r.appendChild(n)):u.appendChild(n)}return c?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):u.appendChild(i.create("br")),u}function ce(e,t,n){var r=qt.select('span[data-mce-type="bookmark"]',t),o=ue(e,n),i=qt.createRng();i.setStartAfter(n),i.setEndAfter(t);for(var a,u=(i=i.extractContents()).firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){qt.remove(u);break}e.dom.isEmpty(i)||qt.insertAfter(i,t),qt.insertAfter(o,t),ie(e.dom,n.parentNode)&&(a=n.parentNode,Ht.each(r,(function(e){a.parentNode.insertBefore(e,n.parentNode)})),qt.remove(a)),qt.remove(n),ie(e.dom,t)&&qt.remove(t)}function se(e){zt(e,"dt")&&te(e,"dd")}function le(e,t,n){d(n,"Indent"===t?se:function(t){return n=e,zt(r=t,"dd")?te(r,"dt"):zt(r,"dt")&&q(r).each((function(e){return ce(n,e.dom,r.dom)})),0;var n,r})}function fe(e,t){if(ne(e))return{container:e,offset:t};var n=Rt.getNode(e,t);return ne(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&ne(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&ne(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}}function de(e){var t=e.cloneRange(),n=fe(e.startContainer,e.startOffset);return t.setStart(n.container,n.offset),e=fe(e.endContainer,e.endOffset),t.setEnd(e.container,e.offset),t}function me(e,t){return t=t||e.selection.getStart(!0),e.dom.getParent(t,"OL,UL,DL",Gt(e,t))}function ge(e){var t,n=me(e),r=e.selection.getSelectedBlocks();return t=r,(e=n)&&1===t.length&&t[0]===e?Ht.grep(n.querySelectorAll("ol,ul,dl"),(function(e){return Lt(e)})):Ht.grep(r,(function(e){return Lt(e)&&n!==e}))}function he(e){var t=e.selection.getSelectedBlocks();return Ht.grep(function(e,t){return t=Ht.map(t,(function(t){var n=e.dom.getParent(t,"li,dd,dt",Gt(e,t));return n||t})),$t.unique(t)}(e,t),(function(e){return Vt(e)}))}function pe(e,t){return t=e.dom.getParents(t,"ol,ul",Gt(e,t)),x(t)}function ve(e){var t,n=(t=pe(n=e,n.selection.getStart()),n=m(n.selection.getSelectedBlocks(),It),t.toArray().concat(n));return Xt(e,n)}function be(e,t,n){return e.isSome()&&t.isSome()?S.some(n(e.getOrDie(),t.getOrDie())):S.none()}function ye(e,t,n){return e.fire("ListMutation",{action:t,element:n})}function we(e,t,n){if(!T(n))throw new Error("CSS value must be a string: "+n);var r;void 0!==(r=e).style&&D(r.style.getPropertyValue)&&e.style.setProperty(t,n)}function xe(e,t){J(e.item,t.list)}function Ce(e,t,n){for(var r=[],o=0;o<n;o++)r.push(function(e,t){return e={list:At.fromTag(t,e),item:At.fromTag("li",e)},J(e.list,e.item),e}(e,t.listType));return r}function Se(e,t){for(var n=0;n<e.length-1;n++)!function(e,t,n){e=e.dom,we(e,t,n)}(e[n].item,"list-style-type","none");x(e).each((function(e){U(e.list,t.listAttributes),U(e.item,t.itemAttributes),Q(e.item,t.content)}))}function ke(e,t,n){return t=t.slice(0,n.depth),x(t).each((function(t){var r,o=function(e,t,n){return e=At.fromTag("li",e),U(e,t),Q(e,n),e}(e,n.itemAttributes,n.content);r=o,J((o=t).list,r),o.item=r,r=n,j((t=t).list)!==r.listType&&(t.list=te(t.list,r.listType)),U(t.list,r.listAttributes)})),t}function Oe(e,t,n){return function(e){for(var t=1;t<e.length;t++)xe(e[t-1],e[t])}(e=Ce(e,n,n.depth-t.length)),Se(e,n),n=e,be(x(t),w(n),xe),t.concat(e)}function Te(e){return zt(e,"OL,UL")}function _e(e){return X(e).map(Te).getOr(!1)}function Ee(e){return 0<e.depth}function De(e){return e.isSelected}function Ae(e){var t=$(e);t=K(e).map(Te).getOr(!1)?t.slice(0,-1):t;return f(t,ee)}function ze(e,t){function n(e){return e.depth===o&&!e.dirty}function r(e){return e.depth<o}var o=e[t].depth;return h(b(e.slice(0,t)),n,r).orThunk((function(){return h(e.slice(t+1),n,r)}))}function Re(e){return d(e,(function(t,n){ze(e,n).fold((function(){t.dirty&&(t.listAttributes=V(t.listAttributes,(function(e,t){return"start"!==t})))}),(function(e){return n=e,(e=t).listType=n.listType,void(e.listAttributes=M({},n.listAttributes));var n}))})),e}function Me(e,t,n,r){return X(r).filter(Te).fold((function(){t.each((function(e){H(e.start,r)&&n.set(!0)}));var o,i,a,u=(o=r,i=e,a=n.get(),q(o).filter(Pt).map((function(e){return{depth:i,dirty:!1,isSelected:a,content:Ae(o),itemAttributes:W(o),listAttributes:W(e),listType:j(e)}})));t.each((function(e){H(e.end,r)&&n.set(!1)}));var c=K(r).filter(Te).map((function(r){return Kt(e,t,n,r)})).getOr([]);return u.toArray().concat(c)}),(function(r){return Kt(e,t,n,r)}))}function Ne(e,t){return t=Re(t),f(t,(function(t){var n,r;t=t.content,r=(n||document).createDocumentFragment(),d(t,(function(e){r.appendChild(e.dom)})),t=At.fromDom(r);return At.fromDom(ue(e,t.dom))}))}function Be(e,t){return t=Re(t),function(e,t){return t=g(t,(function(t,n){return(n.depth>t.length?Oe:ke)(e,t,n)}),[]),w(t).map((function(e){return e.list}))}(e.contentDocument,t).toArray()}function Pe(e,t){d(m(e,De),(function(e){return function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0}(t,e),0}))}function He(e,t,r){var o,i,a;t=t,o=function(e){return e=f(he(e),At.fromDom),be(p(e,n(_e)),p(b(e),n(_e)),(function(e,t){return{start:e,end:t}}))}(e),i=!1,a={get:function(){return i},set:function(e){i=e}},t=f(t,(function(e){return{sourceList:e,entries:Kt(0,o,a,e)}}));d(t,(function(t){Pe(t.entries,r);var n,o,i=(n=e,i=t.entries,v(function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],c=t(u);c!==n&&(r.push(o),o=[]),n=c,o.push(u)}return 0!==o.length&&r.push(o),r}(i,Ee),(function(e){return(w(e).map(Ee).getOr(!1)?Be:Ne)(n,e)})));d(i,(function(t){ye(e,"Indent"===r?"IndentList":"OutdentList",t.dom)})),o=t.sourceList,d(i,(function(e){Y(o,e)})),Z(t.sourceList)}))}function Le(e,t){var n,r=f(ve(e),At.fromDom),o=f(m(he(e),jt),At.fromDom),i=!1;return(r.length||o.length)&&(n=e.selection.getBookmark(),He(e,r,t),le(e,t,o),e.selection.moveToBookmark(n),e.selection.setRng(de(e.selection.getRng())),e.nodeChanged(),i=!0),i}function Ie(e){return Le(e,"Indent")}function Fe(e){return Le(e,"Outdent")}function Ve(e){return Le(e,"Flatten")}function je(e){function t(t){var r,o=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"];1===o.nodeType&&(r=Jt.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),t?o.insertBefore(r,o.childNodes[i]):Jt.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),n[t?"startContainer":"endContainer"]=o,n[t?"startOffset":"endOffset"]=i}var n={};return t(!0),e.collapsed||t(),n}function Ue(e){var t=function(t){var n,r=n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];r&&(1===r.nodeType&&(o=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(r),r=r.parentNode,Jt.remove(n),!r.hasChildNodes()&&Jt.isBlock(r)&&r.appendChild(Jt.create("br"))),e[t?"startContainer":"endContainer"]=r,e[t?"startOffset":"endOffset"]=o)};return t(!0),t(),(t=Jt.createRng()).setStart(e.startContainer,e.startOffset),e.endContainer&&t.setEnd(e.endContainer,e.endOffset),de(t)}function We(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}}function qe(e){return/\btox\-/.test(e.className)}function $e(e,t,n){function r(e){e=h(e.parents,Lt,Ut).filter((function(e){return e.nodeName===t&&!qe(e)})).isSome(),n(e)}var o=e.dom.getParents(e.selection.getNode());return r({parents:o}),e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}function Ge(e,t){Ht.each(t,(function(t,n){e.setAttribute(n,t)}))}function Xe(e,t,n){var r;!function(e,t,n){n=n["list-style-type"]||null,e.setStyle(t,"list-style-type",n)}(e,t,n),e=e,Ge(t=t,(r=n)["list-attributes"]),Ht.each(e.select("li",t),(function(e){Ge(e,r["list-item-attributes"])}))}function Ke(e,t,n,r){var o=t[n?"startContainer":"endContainer"];t=t[n?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(t,o.childNodes.length-1)]||o),!n&&Wt(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(re(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o}function Ye(e,t,n){void 0===n&&(n={});var r,o=e.selection.getRng(),i="LI",a=Gt(e,e.selection.getStart(!0)),u=e.dom;"false"!==u.getContentEditable(e.selection.getNode())&&("DL"===(t=t.toUpperCase())&&(i="DT"),r=je(o),a=function(e,t,n){for(var r,o=[],i=e.dom,a=Ke(e,t,!0,n),u=Ke(e,t,!1,n),c=[],s=a;s&&(c.push(s),s!==u);s=s.nextSibling);return Ht.each(c,(function(t){if(re(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||Wt(t))return Wt(t)&&i.remove(t),void(r=null);var a=t.nextSibling;Yt.isBookmarkNode(t)&&(Lt(a)||re(e,a)||!a&&t.parentNode===n)?r=null:(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t))})),o}(e,o,a),Ht.each(a,(function(r){var o,a,c,s=r.previousSibling,l=r.parentNode;Vt(l)||(s&&Lt(s)&&s.nodeName===t&&function(e,t,n){return t=e.getStyle(t,"list-style-type"),n=n?n["list-style-type"]:"",t===(null===n?"":n)}(u,s,n)?(o=s,r=u.rename(r,i),s.appendChild(r)):(o=u.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=u.rename(r,i)),a=u,c=r,r=["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],Ht.each(r,(function(e){var t;return a.setStyle(c,((t={})[e]="",t))})),Xe(u,o,n),Qt(e.dom,o))})),e.selection.setRng(Ue(r)))}function Je(e,t,n){return o=n,(r=t)&&o&&Lt(r)&&r.nodeName===o.nodeName&&(o=n,(e=e).getStyle(t,"list-style-type",!0)===e.getStyle(o,"list-style-type",!0))&&t.className===n.className;var r,o}function Qe(e,t,n,r,o){var i,a=Lt(t);a&&t.nodeName===r&&!Zt(o)?Ve(e):(Ye(e,r,o),i=je(e.selection.getRng(!0)),n=a?function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}([t],n):n,Ht.each(n,(function(t){var n,i,a,u;n=e,a=r,u=o,(i=t).nodeName!==a?(t=n.dom.rename(i,a),Xe(n.dom,t,u),ye(n,We(a),t)):(Xe(n.dom,i,u),ye(n,We(a),i))})),e.selection.setRng(Ue(i)))}function Ze(e,t,n){var r,o=me(e),i=ge(e);n=n||{},0<i.length?Qe(e,o,i,t,n):(r=t,i=n,(t=o)!==(n=e).getBody()&&(t?t.nodeName!==r||Zt(i)||qe(t)?(o=je(n.selection.getRng(!0)),Xe(n.dom,t,i),e=n.dom.rename(t,r),Qt(n.dom,e),n.selection.setRng(Ue(o)),Ye(n,r,i),ye(n,We(r),e)):Ve(n):(Ye(n,r,i),ye(n,We(r),t))))}function et(e,t){Ht.each(Ht.grep(e.select("ol,ul",t)),(function(t){var n,r,o;n=e,"LI"===(t=(r=t).parentNode).nodeName&&t.firstChild===r&&((o=t.previousSibling)&&"LI"===o.nodeName?(o.appendChild(r),ie(n,t)&&en.remove(t)):en.setStyle(t,"listStyleType","none")),Lt(t)&&(o=t.previousSibling)&&"LI"===o.nodeName&&o.appendChild(r)}))}function tt(e,t,n,r){var o=t.startContainer;t=t.startOffset;if(ne(o)&&(n?t<o.data.length:0<t))return o;var i=e.schema.getNonEmptyElements();1===o.nodeType&&(o=Rt.getNode(o,t));var a=new Mt(o,r);for(n&&(r=e.dom,Wt(e=o)&&r.isBlock(e.nextSibling)&&!Wt(e.previousSibling)&&a.next());o=a[n?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(i[o.nodeName])return o;if(ne(o)&&0<o.data.length)return o}}function nt(e,t){return 1===(t=t.childNodes).length&&!Lt(t[0])&&e.isBlock(t[0])}function rt(e,t,n){var r,o,i=nt(e,n)?n.firstChild:n;if(nt(o=e,n=t)&&o.remove(n.firstChild,!0),!ie(e,t,!0))for(;r=t.firstChild;)i.appendChild(r)}function ot(e,t,n){var r,o=t.parentNode;ae(e,t)&&ae(e,n)&&(Lt(n.lastChild)&&(r=n.lastChild),o===n.lastChild&&Wt(o.previousSibling)&&e.remove(o.previousSibling),(o=n.lastChild)&&Wt(o)&&t.hasChildNodes()&&e.remove(o),ie(e,n,!0)&&e.$(n).empty(),rt(e,t,n),r&&n.appendChild(r),n=I(At.fromDom(n),At.fromDom(t))?e.getParents(t,Lt,n):[],e.remove(t),d(n,(function(t){ie(e,t)&&t!==e.getRoot()&&e.remove(t)})))}function it(e,t,n,r){var o,i,a,u=e.dom;u.isEmpty(r)?(i=n,a=r,(o=e).dom.$(a).empty(),ot(o.dom,i,a),o.selection.setCursorLocation(a,0)):(t=je(t),ot(u,n,r),e.selection.setRng(Ue(t)))}function at(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=Gt(e,o),a=n.getParent(r.getStart(),"LI",i);if(a){if(o=a.parentNode,o===e.getBody()&&ie(n,o))return!0;var u=de(r.getRng()),c=n.getParent(tt(e,u,t,i),"LI",i);if(c&&c!==a)return e.undoManager.transact((function(){t?it(e,u,c,a):a.parentNode.firstChild===a?Fe(e):function(e,t,n,r){t=je(t),ot(e.dom,n,r),t=Ue(t),e.selection.setRng(t)}(e,u,a,c)})),!0;if(!c&&!t&&0===u.startOffset&&0===u.endOffset)return e.undoManager.transact((function(){Ve(e)})),!0}return!1}function ut(e,t){var n=e.dom,r=e.selection.getStart(),o=Gt(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){r=de(e.selection.getRng());var a=n.getParent(tt(e,r,t,o),"LI",o);if(a)return e.undoManager.transact((function(){!function(e,t,n){n=e.getParent(t.parentNode,e.isBlock,n),e.remove(t),n&&e.isEmpty(n)&&e.remove(n)}(n,i,o),Qt(n,a.parentNode),e.selection.select(a,!0),e.selection.collapse(t)})),!0}return!1}function ct(e,t){return e.selection.isCollapsed()?at(r=e,o=t)||ut(r,o):(o=(n=e).selection.getStart(),e=Gt(n,o),!!(n.dom.getParent(o,"LI,DT,DD",e)||0<he(n).length)&&(n.undoManager.transact((function(){n.execCommand("Delete"),et(n.dom,n.getBody())})),!0));var n,r,o}function st(e){var t=e.dom,n=me(e);Ft(n)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:t.getAttrib(n,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(n){var r=n.getData();e.undoManager.transact((function(){t.setAttrib(me(e),"start","1"===r.start?"":r.start)})),n.close()}})}function lt(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}}function ft(e){var t,n;e.getParam("lists_indent_on_tab",!0)&&(t=e).on("keydown",(function(e){e.keyCode!==Nt.TAB||Nt.metaKeyPressed(e)||t.undoManager.transact((function(){(e.shiftKey?Fe:Ie)(t)&&e.preventDefault()}))})),(n=e).on("keydown",(function(e){e.keyCode===Nt.BACKSPACE?ct(n,!1)&&e.preventDefault():e.keyCode===Nt.DELETE&&ct(n,!0)&&e.preventDefault()}))}function dt(e){function t(t){return function(){return e.execCommand(t)}}e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return $e(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return $e(e,"UL",t.setActive)}}))}var mt,gt,ht,pt,vt=function(){return bt(0,0)},bt=function(e,t){return{major:e,minor:t}},yt={nu:bt,detect:function(e,t){return t=String(t).toLowerCase(),0===e.length?vt():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);return n?(e=function(e){return Number(t.replace(n,"$"+e))},bt(e(1),e(2))):{major:0,minor:0}}(e,t)},unknown:vt},wt=function(e,t){return N(e,t).map((function(e){var n=yt.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},xt=function(e,t){return N(e,t).map((function(e){var n=yt.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},Ct=(a=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,k=function(e){return function(t){return B(t,e)}},O=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return B(e,"edge/")&&B(e,"chrome")&&B(e,"safari")&&B(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,a],search:function(e){return B(e,"chrome")&&!B(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return B(e,"msie")||B(e,"trident")}},{name:"Opera",versionRegexes:[a,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:k("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:k("firefox")},{name:"Safari",versionRegexes:[a,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(B(e,"safari")||B(e,"mobile/"))&&B(e,"applewebkit")}}],a=[{name:"Windows",search:k("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return B(e,"iphone")||B(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:k("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:k("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:k("linux"),versionRegexes:[]},{name:"Solaris",search:k("sunos"),versionRegexes:[]},{name:"FreeBSD",search:k("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:k("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],{browsers:t(O),oses:t(a)}),St=function(e){var t=e.current,n=e.version;e=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:e("Edge"),isChrome:e("Chrome"),isIE:e("IE"),isOpera:e("Opera"),isFirefox:e("Firefox"),isSafari:e("Safari")}},kt={unknown:function(){return St({current:void 0,version:yt.unknown()})},nu:St,edge:t("Edge"),chrome:t("Chrome"),ie:t("IE"),opera:t("Opera"),firefox:t("Firefox"),safari:t("Safari")},Ot=function(e){var t=e.current,n=e.version;e=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:e("Windows"),isiOS:e("iOS"),isAndroid:e("Android"),isOSX:e("OSX"),isLinux:e("Linux"),isSolaris:e("Solaris"),isFreeBSD:e("FreeBSD"),isChromeOS:e("ChromeOS")}},Tt={unknown:function(){return Ot({current:void 0,version:yt.unknown()})},nu:Ot,windows:t("Windows"),ios:t("iOS"),android:t("Android"),linux:t("Linux"),osx:t("OSX"),solaris:t("Solaris"),freebsd:t("FreeBSD"),chromeos:t("ChromeOS")},_t=function(e,n){var r,o,i=Ct.browsers(),a=Ct.oses(),u=wt(i,e).fold(kt.unknown,kt.nu),c=xt(a,e).fold(Tt.unknown,Tt.nu);return{browser:u,os:c,deviceType:(r=u,o=e,i=n,u=(a=c).isiOS()&&!0===/ipad/i.test(o),e=a.isiOS()&&!u,n=a.isiOS()||a.isAndroid(),c=n||i("(pointer:coarse)"),i=u||!e&&n&&i("(min-device-width:768px)"),n=e||n&&!i,o=r.isSafari()&&a.isiOS()&&!1===/safari/i.test(o),{isiPad:t(u),isiPhone:t(e),isTablet:t(i),isPhone:t(n),isTouch:t(c),isAndroid:a.isAndroid,isiOS:a.isiOS,isWebView:t(o),isDesktop:t(!n&&!i&&!o)})}},Et=(ht=!(mt=function(){return _t(navigator.userAgent,P)}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ht||(ht=!0,gt=mt.apply(null,e)),gt}),Dt=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},At={fromHtml:function(e,t){if(t=(t||document).createElement("div"),t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw new Error("HTML must have a single root node");return Dt(t.childNodes[0])},fromTag:function(e,t){return e=(t||document).createElement(e),Dt(e)},fromText:function(e,t){return e=(t||document).createTextNode(e),Dt(e)},fromDom:Dt,fromPoint:function(e,t,n){return S.from(e.dom.elementFromPoint(t,n)).map(Dt)}},zt=function(e,t){if(e=e.dom,1!==e.nodeType)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Rt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Mt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Nt=tinymce.util.Tools.resolve("tinymce.util.VK"),Bt=Object.keys,Pt=("undefined"!=typeof window||Function("return this;")(),pt=1,function(e){return e.dom.nodeType===pt}),Ht=(k=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tinymce.util.Tools.resolve("tinymce.util.Tools")),Lt=(O=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}},a=function(e){return function(t){return t&&e.test(t.nodeName)}},a(/^(OL|UL|DL)$/)),It=a(/^(OL|UL)$/),Ft=O("ol"),Vt=a(/^(LI|DT|DD)$/),jt=a(/^(DT|DD)$/),Ut=a(/^(TH|TD)$/),Wt=O("br"),qt=k.DOM,$t=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Gt=function(e,t){return t=e.dom.getParents(t,"TD,TH"),0<t.length?t[0]:e.getBody()},Xt=function(e,t){return t=f(t,(function(t){return pe(e,t).getOr(t)})),$t.unique(t)},Kt=function(e,t,n,r){return v($(r),(function(r){return(Te(r)?Kt:Me)(e+1,t,n,r)}))},Yt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Jt=k.DOM,Qt=function(e,t){var n,r=t.nextSibling;if(Je(e,t,r)){for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(r=t.previousSibling,Je(e,t,r)){for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}},Zt=function(e){return"list-style-type"in e},en=k.DOM;r.add("lists",(function(e){var t,n,r;return!1===e.hasPlugin("rtc",!0)&&(ft(e),(t=e).on("BeforeExecCommand",(function(e){e=e.command.toLowerCase(),"indent"===e?Ie(t):"outdent"===e&&Fe(t)})),t.addCommand("InsertUnorderedList",(function(e,n){Ze(t,"UL",n)})),t.addCommand("InsertOrderedList",(function(e,n){Ze(t,"OL",n)})),t.addCommand("InsertDefinitionList",(function(e,n){Ze(t,"DL",n)})),t.addCommand("RemoveList",(function(){Ve(t)})),t.addCommand("mceListProps",(function(){st(t)})),t.addQueryStateHandler("InsertUnorderedList",lt(t,"UL")),t.addQueryStateHandler("InsertOrderedList",lt(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",lt(t,"DL"))),dt(e),(n=e).ui.registry.addMenuItem("listprops",{text:"List properties...",icon:"ordered-list",onAction:function(){return st(n)},onSetup:function(e){return $e(n,"OL",(function(t){return e.setDisabled(!t)}))}}),n.ui.registry.addContextMenu("lists",{update:function(e){return e=me(n,e),Ft(e)?["listprops"]:[]}}),r=e,{backspaceDelete:function(e){ct(r,e)}}}))}()},3699:function(e,t){!function(){"use strict";function e(){}function t(e){return function(){return e}}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=t(!1),i=t(!0),a=function(){return u},u={fold:function(e,t){return e()},is:o,isSome:o,isNone:i,getOr:l,getOrThunk:s,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:t(null),getOrUndefined:t(void 0),or:l,orThunk:s,map:a,each:e,bind:a,exists:o,forall:i,filter:a,equals:c,equals_:c,toArray:function(){return[]},toString:t("none()")};function c(e){return e.isNone()}function s(e){return e()}function l(e){return e}function f(e){return!(null==e)}function d(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function m(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function g(e,t){for(var n=J(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}function h(t,n){var r,o,i,a,u={};return r=n,a=u,o=function(e,t){a[t]=e},i=e,g(t,(function(e,t){(r(e,t)?o:i)(e,t)})),u}function p(e,t){return Z(e,t)?$.from(e[t]):$.none()}function v(e){return e.getParam("media_scripts")}function b(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]}function y(e){return e.replace(/px$/,"")}function w(e,t){var n=m(!1),r={};return te({validate:!1,allow_conditional_comments:!0,start:function(t,o){if(!n.get())if(Z(o.map,"data-ephox-embed-iri"))n.set(!0),a=(a=(i=o).map.style)?ne.parseStyle(a):{},r={type:"ephox-embed-iri",source:i.map["data-ephox-embed-iri"],altsource:"",poster:"",width:p(a,"max-width").map(y).getOr(""),height:p(a,"max-height").map(y).getOr("")};else{if(r.source||"param"!==t||(r.source=o.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(r.type||(r.type=t),r=ee.extend(o.map,r)),"script"===t){if(a=b(e,o.map.src),!a)return;r={type:"script",source:o.map.src,width:String(a.width),height:String(a.height)}}"source"===t&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src),"img"!==t||r.poster||(r.poster=o.map.src)}var i,a}}).parse(t),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r}function x(e){return(e={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()])||""}function C(e){return/^[0-9.]+$/.test(e)?e+"px":e}function S(e,t){g(t,(function(t,n){var r=""+t;if(e.map[n])for(var o=e.length;o--;){var i=e[o];i.name===n&&(r?(e.map[n]=r,i.value=r):(delete e.map[n],e.splice(o,1)))}else r&&(e.push({name:n,value:r}),e.map[n]=r)}))}function k(e,t,n){var r,o=oe(),i=m(!1),a=0;return te({validate:!1,allow_conditional_comments:!0,comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,u,c){if(!i.get())if(Z(u.map,"data-ephox-embed-iri"))i.set(!0),s=t,(f=(f=(l=u).map.style)?ie.parseStyle(f):{})["max-width"]=C(s.width),f["max-height"]=C(s.height),S(l,{style:ie.serializeStyle(f)});else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&S(u,{width:t.width,height:t.height})}if(n)switch(e){case"video":S(u,{poster:t.poster,src:""}),t.altsource&&S(u,{src:""});break;case"iframe":S(u,{src:t.source});break;case"source":if(a<2&&(S(u,{src:t[ae[a]],type:t[ae[a]+"mime"]}),!t[ae[a]]))return;a++;break;case"img":if(!t.poster)return;r=!0}}var s,l,f;o.start(e,u,c)},end:function(e){if(!i.get()){if("video"===e&&n)for(var u,c=0;c<2;c++)t[ae[c]]&&((u=[]).map={},a<=c&&(S(u,{src:t[ae[c]],type:t[ae[c]+"mime"]}),o.start("source",u,!0)));var s;t.poster&&"object"===e&&n&&!r&&((s=[]).map={},S(s,{src:t.poster,width:t.width,height:t.height}),o.start("img",s,!0))}o.end(e)}},re({})).parse(e),o.getContent()}function O(e,t){for(var n=function(e){return e=e.match(/^(https?:\/\/|www\.)(.+)$/i),e&&1<e.length&&"www."!==e[1]?e[1]:"https://"}(t),r=e.regex.exec(t),o=n+e.url,i=0;i<r.length;i++)!function(e){o=o.replace("$"+e,(function(){return r[e]||""}))}(i);return o.replace(/\?$/,"")}function T(e,t){var n,r=ee.extend({},t);if(!r.source&&(ee.extend(r,w(v(e),r.embed)),!r.source))return"";if(r.altsource||(r.altsource=""),r.poster||(r.poster=""),r.source=e.convertURL(r.source,"source"),r.altsource=e.convertURL(r.altsource,"source"),r.sourcemime=x(r.source),r.altsourcemime=x(r.altsource),r.poster=e.convertURL(r.poster,"poster"),n=r.source,(u=0<(a=ue.filter((function(e){return e.regex.test(n)}))).length?ee.extend({},a[0],{url:O(a[0],n)}):null)&&(r.source=u.url,r.type=u.type,r.allowfullscreen=u.allowFullscreen,r.width=r.width||String(u.w),r.height=r.height||String(u.h)),r.embed)return k(r.embed,r,!0);(t=b(v(e),r.source))&&(r.type="script",r.width=String(t.width),r.height=String(t.height));var o,i,a=e.getParam("audio_template_callback"),u=e.getParam("video_template_callback");return r.width=r.width||"300",r.height=r.height||"150",ee.each(r,(function(t,n){r[n]=e.dom.encode(""+t)})),"iframe"===r.type?(i=r.allowfullscreen?' allowFullscreen="1"':"",'<iframe src="'+r.source+'" width="'+r.width+'" height="'+r.height+'"'+i+"></iframe>"):"application/x-shockwave-flash"===r.sourcemime?(i='<object data="'+(t=r).source+'" width="'+t.width+'" height="'+t.height+'" type="application/x-shockwave-flash">',t.poster&&(i+='<img src="'+t.poster+'" width="'+t.width+'" height="'+t.height+'" />'),i+="</object>"):-1!==r.sourcemime.indexOf("audio")?(o=r,(a=a)?a(o):'<audio controls="controls" src="'+o.source+'">'+(o.altsource?'\n<source src="'+o.altsource+'"'+(o.altsourcemime?' type="'+o.altsourcemime+'"':"")+" />\n":"")+"</audio>"):"script"===r.type?'<script src="'+r.source+'"><\/script>':(o=r,(u=u)?u(o):'<video width="'+o.width+'" height="'+o.height+'"'+(o.poster?' poster="'+o.poster+'"':"")+' controls="controls">\n<source src="'+o.source+'"'+(o.sourcemime?' type="'+o.sourcemime+'"':"")+" />\n"+(o.altsource?'<source src="'+o.altsource+'"'+(o.altsourcemime?' type="'+o.altsourcemime+'"':"")+" />\n":"")+"</video>")}function _(e,t,n){return new ce((function(r,o){function i(n){return n.html&&(se[e.source]=n),r({url:e.source,html:n.html||t(e)})}se[e.source]?i(se[e.source]):n({url:e.source},i,o)}))}function E(e){return function(t){return T(e,t)}}function D(e,t){var n,r,o=e.getParam("media_url_resolver");return o?_(t,E(e),o):(n=t,r=E(e),new ce((function(e){e({html:r(n),url:n.source})})))}function A(e,t,n){return function(r){function o(){return p(e,r)}function i(){return p(t,r)}function a(e){return p(e,"value").bind((function(e){return 0<e.length?$.some(e):$.none()}))}var u={};return u[r]=(r===n?o().bind((function(e){return X(e)?a(e).orThunk(i):i().orThunk((function(){return $.from(e)}))})):i().orThunk((function(){return o().bind((function(e){return X(e)?a(e):$.from(e)}))}))).getOr(""),u}}function z(e,t){var n,o,i=t?p(e,t).bind((function(e){return p(e,"meta")})).getOr({}):{};t=A(e,i,t);return r(r(r(r(r({},t("source")),t("altsource")),t("poster")),t("embed")),(n=i,o={},p(e,"dimensions").each((function(e){d(["width","height"],(function(t){p(n,t).orThunk((function(){return p(e,t)})).each((function(e){return o[t]=e}))}))})),o))}function R(e){var t=r(r({},e),{source:{value:p(e,"source").getOr("")},altsource:{value:p(e,"altsource").getOr("")},poster:{value:p(e,"poster").getOr("")}});return d(["width","height"],(function(n){p(e,n).each((function(e){var r=t.dimensions||{};r[n]=e,t.dimensions=r}))})),t}function M(e){return function(t){t=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.",e.notificationManager.open({type:"error",text:t})}}function N(e,t){return w(v(e),t)}function B(e,t){return function(n){var o,i;G(n.url)&&0<n.url.trim().length&&(i=n.html,o=N(t,i),i=r(r({},o),{source:n.url,embed:i}),e.setData(R(i)))}}function P(e,t){var n=e.dom.select("*[data-mce-object]");e.insertContent(t),function(e,t){for(var n=e.dom.select("*[data-mce-object]"),r=0;r<t.length;r++)for(var o=n.length-1;0<=o;o--)t[r]===n[o]&&n.splice(o,1);e.selection.select(n[0])}(e,n),e.nodeChanged()}function H(e,t,n){t.embed=k(t.embed,t),t.embed&&(e.source===t.source||(e=t.source,se.hasOwnProperty(e)))?P(n,t.embed):D(n,t).then((function(e){P(n,e.html)})).catch(M(n))}function L(e){var t=(a=(i=e).selection.getNode(),a=(o=a).getAttribute("data-mce-object")||o.getAttribute("data-ephox-embed-iri")?i.serializer.serialize(a,{selection:!0}):"",r({embed:a},w(v(i),a))),n=m(t),o=R(t),i={title:"General",name:"general",items:function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!K(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Y.apply(t,e[n])}return t}([[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],e.getParam("media_dimensions",!0)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[]])},a={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]};t=[];e.getParam("media_alt_source",!0)&&t.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),e.getParam("media_poster",!0)&&t.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"}),a=[i,a],0<t.length&&a.push({title:"Advanced",name:"advanced",items:t});var u=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:{type:"tabpanel",tabs:a},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var r=z(t.getData());H(n.get(),r,e),t.close()},onChange:function(t,o){switch(o.name){case"source":!function(t,n){n=z(n.getData(),"source"),t.source!==n.source&&(B(u,e)({url:n.source,html:""}),D(e,n).then(B(u,e)).catch(M(e)))}(n.get(),t);break;case"embed":c=z((a=t).getData()),c=N(e,c.embed),a.setData(R(c));break;case"dimensions":case"altsource":case"poster":i=t,a=o.name,c=z(i.getData(),a),a=T(e,c),i.setData(R(r(r({},c),{embed:a})))}var i,a,c;n.set(z(t.getData()))},initialData:o})}function I(e,t){if(!1===e.getParam("media_filter_html",!0))return t;var n,r=oe();return te({validate:!1,allow_conditional_comments:!1,comment:function(e){n||r.comment(e)},cdata:function(e){n||r.cdata(e)},text:function(e,t){n||r.text(e,t)},start:function(t,o,i){if(n=!0,"script"!==t&&"noscript"!==t&&"svg"!==t){for(var a=o.length-1;0<=a;a--){var u=o[a].name;0===u.indexOf("on")&&(delete o.map[u],o.splice(a,1)),"style"===u&&(o[a].value=e.dom.serializeStyle(e.dom.parseStyle(o[a].value),t))}r.start(t,o,i),n=!1}},end:function(e){n||r.end(e)}},re({})).parse(t),r.getContent()}function F(e,t,n,r){return void 0===r&&(r=null),e=e.attr(n),f(e)?e:Z(t,n)?null:r}function V(e,t,n){var r="img"===t.name||"video"===e.name,o="audio"===e.name?"30":"150";o=r?o:null;t.attr({width:F(e,n,"width",r?"300":null),height:F(e,n,"height",o)})}function j(e,t){var n=t.name,r=e.dom.parseStyle(t.attr("style")),o=h(r,(function(e,t){return"width"!==t&&"height"!==t})),i=new le("span",1);i.attr({contentEditable:"false",style:e.dom.serializeStyle(o),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),me(e,t,i);var a=new le(n,1);V(t,a,r),a.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===n?a.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0"}):(d(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(function(e){a.attr(e,t.attr(e))})),u=i.attr("data-mce-html"),f(u)&&function(e,t,n,r){for(var o=de({forced_root_block:!1,validate:!1},e.schema).parse(r,{context:t});o.firstChild;)n.append(o.firstChild)}(e,n,a,u));var u=new le("span",1);return u.attr("class","mce-shim"),i.append(a),i.append(u),i}function U(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri")||function(e){return e=e.attr("class"),e&&/\btiny-pageembed\b/.test(e)}(e))return 1}function W(e){return function(t){for(var n,r,o,i,a,u=t.length;u--;)(o=t[u]).parent&&(o.parent.attr("data-mce-object")||"script"===o.name&&!(n=b(v(e),o.attr("src")))||(n&&(n.width&&o.attr("width",n.width.toString()),n.height&&o.attr("height",n.height.toString())),function(e){return e=e.name,"iframe"===e||"video"===e||"audio"===e}(o)&&e.getParam("media_live_embeds",!0)&&fe.ceFalse?U(o)||o.replace(j(e,o)):U(o)||o.replace((r=e,a=i=void 0,i=(o=o).name,(a=new le("img",1)).shortEnded=!0,me(r,o,a),V(o,a,{}),a.attr({style:o.attr("style"),src:fe.transparentSrc,"data-mce-object":i,class:"mce-object mce-object-"+i}),a))))}}var q=function(e){function n(){return c}function r(t){return t(e)}var a=t(e),c={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:i,isNone:o,getOr:a,getOrThunk:a,getOrDie:a,getOrNull:a,getOrUndefined:a,or:n,orThunk:n,map:function(t){return q(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?c:u},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(o,(function(t){return n(e,t)}))}};return c},$={some:q,none:a,from:function(e){return null==e?u:q(e)}},G=(a=function(e){return function(t){return t=typeof(n=t),(null===n?"null":"object"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t)===e;var n}},a("string")),X=a("object"),K=a("array"),Y=Array.prototype.push,J=Object.keys,Q=Object.hasOwnProperty,Z=function(e,t){return Q.call(e,t)},ee=tinymce.util.Tools.resolve("tinymce.util.Tools"),te=(a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tinymce.util.Tools.resolve("tinymce.html.SaxParser")),ne=a.DOM,re=tinymce.util.Tools.resolve("tinymce.html.Schema"),oe=tinymce.util.Tools.resolve("tinymce.html.Writer"),ie=a.DOM,ae=["source","altsource"],ue=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],ce=tinymce.util.Tools.resolve("tinymce.util.Promise"),se={},le=tinymce.util.Tools.resolve("tinymce.html.Node"),fe=tinymce.util.Tools.resolve("tinymce.Env"),de=tinymce.util.Tools.resolve("tinymce.html.DomParser"),me=function(e,t,n){for(var r=t.attributes,o=r.length;o--;){var i=r[o].name,a=r[o].value;"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(a=e.convertURL(a,i)),n.attr("data-mce-p-"+i,a))}t=t.firstChild&&t.firstChild.value,t&&(n.attr("data-mce-html",escape(I(e,t))),n.firstChild=null)};n.add("media",(function(e){var t,n,r,o,i,a,u;return(t=e).addCommand("mceMedia",(function(){L(t)})),(n=e).ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){n.execCommand("mceMedia")},onSetup:(r=n,o=["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"],function(e){return r.selection.selectorChangedWithUnbind(o.join(","),e.setActive).unbind})}),n.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){n.execCommand("mceMedia")}}),e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})),(i=e).on("preInit",(function(){var e=i.schema.getSpecialElements();ee.each("video audio iframe object".split(" "),(function(t){e[t]=new RegExp("</"+t+"[^>]*>","gi")}));var t=i.schema.getBoolAttrs();ee.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){t[e]={}})),i.parser.addNodeFilter("iframe,video,audio,object,embed,script",W(i)),i.serializer.addAttributeFilter("data-mce-object",(function(e,t){for(var n,r,o,a,u,c,s=e.length;s--;)if((n=e[s]).parent){for(u=n.attr(t),r=new le(u,1),"audio"!==u&&"script"!==u&&((c=n.attr("class"))&&-1!==c.indexOf("mce-preview-object")?r.attr({width:n.firstChild.attr("width"),height:n.firstChild.attr("height")}):r.attr({width:n.attr("width"),height:n.attr("height")})),r.attr({style:n.attr("style")}),o=(a=n.attributes).length;o--;){var l=a[o].name;0===l.indexOf("data-mce-p-")&&r.attr(l.substr(11),a[o].value)}"script"===u&&r.attr("type","text/javascript"),(c=n.attr("data-mce-html"))&&((u=new le("#text",3)).raw=!0,u.value=I(i,unescape(c)),r.append(u)),n.replace(r)}}))})),i.on("SetContent",(function(){i.$("span.mce-preview-object").each((function(e,t){t=i.$(t),0===t.find("span.mce-shim").length&&t.append('<span class="mce-shim"></span>')}))})),(a=e).on("click keyup touchend",(function(){var e=a.selection.getNode();e&&a.dom.hasClass(e,"mce-preview-object")&&a.dom.getAttrib(e,"data-mce-selected")&&e.setAttribute("data-mce-selected","2")})),a.on("ObjectSelected",(function(e){"script"===e.target.getAttribute("data-mce-object")&&e.preventDefault()})),a.on("ObjectResized",(function(e){var t,n=e.target;n.getAttribute("data-mce-object")&&(t=n.getAttribute("data-mce-html"))&&(t=unescape(t),n.setAttribute("data-mce-html",escape(k(t,{width:String(e.width),height:String(e.height)}))))})),u=e,{showDialog:function(){L(u)}}}))}()},"3aea":function(e,t,n){n("3699")},"408a":function(e,t,n){var r=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},"4e44":function(e,t,n){},"4e65":function(e,t,n){"use strict";n("7adc")},"4ea8":function(e,t,n){n("cdd9")},"683d":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return g}));t=n("96cf");var r=n("1da1"),o=n("7424"),i=n("b775");function a(e,t,n){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(o.HELPCENTERGETPAGE,i.a.POST,{currentPage:t,pageSize:n,dynamicFilter:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return s.apply(this,arguments)}function s(){return(s=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(o.HELPCENTERADD,i.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(o.HELPCENTERGET,i.a.GET,{id:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(o.HELPCENTERUPDATE,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(o.HELPCENTERSOFTDELETE,i.a.DELETE,{id:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"7adc":function(e,t,n){},"84ec":function(e,t,n){n("2401")},9434:function(e,t,n){n("e8b0")},"94ce":function(e,t){!function(){"use strict";function e(){}function t(e){return function(){return e}}function n(e){return e}function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function o(e){return function(t){return!e(t)}}var i=t(!1),a=t(!0),u=function(){return c},c={fold:function(e,t){return e()},is:i,isSome:i,isNone:a,getOr:f,getOrThunk:l,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:t(null),getOrUndefined:t(void 0),or:f,orThunk:l,map:u,each:e,bind:u,exists:i,forall:a,filter:u,equals:s,equals_:s,toArray:function(){return[]},toString:t("none()")};function s(e){return e.isNone()}function l(e){return e()}function f(e){return e}function d(e){return!(null==e)}function m(e,t){return-1<q.call(e,t)}function g(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1}function h(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}function p(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function v(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function b(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}function y(e,t,n){return function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)}(e,(function(e){n=t(n,e)})),n}function w(e,t,n){return v(e,(function(e){n=t(n,e)})),n}function x(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return N.some(i);if(n(i,r))break}return N.none()}(e,t,i)}function C(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return N.some(n);return N.none()}function S(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!I(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);$.apply(t,e[n])}return t}function k(e,t){return S(p(e,t))}function O(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0}function T(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}function _(e){return[e]}function E(e,t){return 0<=t&&t<e.length?N.some(e[t]):N.none()}function D(e){return E(e,0)}function A(e){return E(e,e.length-1)}function z(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return N.none()}var R,M=function(e){function n(){return u}function r(t){return t(e)}var o=t(e),u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:a,isNone:i,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:n,orThunk:n,map:function(t){return M(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?u:c},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(i,(function(t){return n(e,t)}))}};return u},N={some:M,none:u,from:function(e){return null==e?c:M(e)}},B=function(e){return function(t){return t=typeof(n=t),(null===n?"null":"object"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t)===e;var n}},P=function(e){return function(t){return typeof t===e}},H=B("string"),L=B("object"),I=B("array"),F=P("boolean"),V=(R=void 0,function(e){return R===e}),j=P("function"),U=P("number"),W=Array.prototype.slice,q=Array.prototype.indexOf,$=Array.prototype.push,G=function(){return(G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function X(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function K(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}function Y(e,t){var n=String(t).toLowerCase();return x(e,(function(e){return e.search(n)}))}function J(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}function Q(e,t){return-1!==e.indexOf(t)}function Z(e,t){return J(e,t,0)}function ee(e,t){return J(e,t,e.length-t.length)}function te(e){return 0<e.length}function ne(e){return window.matchMedia(e).matches}function re(e,t){if(1!==(e=e.dom).nodeType)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}function oe(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount}function ie(e,t){return e.dom===t.dom}function ae(e,t){return n=e.dom,e=t.dom,t=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(n.compareDocumentPosition(e)&t);var n}function ue(e,t){return(Ze().browser.isIE()?ae:function(e,t){return e=e.dom,t=t.dom,e!==t&&e.contains(t)})(e,t)}function ce(e,t){for(var n=rt(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}function se(e,t){return it(e,(function(e,n){return{k:n,v:t(e,n)}}))}function le(t,n){var r,o,i,a,u={};return r=n,a=u,o=function(e,t){a[t]=e},i=e,ce(t,(function(e,t){(r(e,t)?o:i)(e,t)})),u}function fe(e,t){var n=[];return ce(e,(function(e,r){n.push(t(e,r))})),n}function de(e){return rt(e).length}function me(e,t){return at(e,t)?N.from(e[t]):N.none()}function ge(e,t){return at(e,t)&&void 0!==e[t]&&null!==e[t]}function he(e,t,n){return{element:e,rowspan:t,colspan:n}}function pe(e,t,n){return{element:e,cells:t,section:n}}function ve(e,t,n){return{element:e,isNew:t,isLocked:n}}function be(e,t){return{cells:e,section:t}}function ye(e){return e.dom.nodeName.toLowerCase()}function we(e){return e.dom.nodeType}function xe(e){return 8===we(e)||"#comment"===ye(e)}function Ce(e){return function(t){return st(t)&&ye(t)===e}}function Se(e){return tt.fromDom(e.dom.ownerDocument)}function ke(e){return ft(e)?e:Se(e)}function Oe(e){return N.from(e.dom.parentNode).map(tt.fromDom)}function Te(e,t){for(var n=j(t)?t:i,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var a=r.parentNode,u=tt.fromDom(a);if(o.push(u),!0===n(u))break;r=a}return o}function _e(e){return N.from(e.dom.previousSibling).map(tt.fromDom)}function Ee(e){return N.from(e.dom.nextSibling).map(tt.fromDom)}function De(e){return p(e.dom.childNodes,tt.fromDom)}function Ae(e,t){return e=e.dom.childNodes,N.from(e[t]).map(tt.fromDom)}function ze(e){var t=ht(e);return dt(e=t)&&d(e.dom.host)?N.some(t):N.none()}function Re(e){return tt.fromDom(e.dom.host)}function Me(e,t,n){return r=function(e){return re(e,t)},b(Te(e,n),r);var r}function Ne(e,t){return n=function(e){return re(e,t)},b(De(e),n);var n}function Be(e,t){return function(e,t){return t=void 0===t?document:t.dom,oe(t)?[]:p(t.querySelectorAll(e),tt.fromDom)}(t,e)}var Pe,He=function(){return Le(0,0)},Le=function(e,t){return{major:e,minor:t}},Ie={nu:Le,detect:function(e,t){return t=String(t).toLowerCase(),0===e.length?He():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);return n?(e=function(e){return Number(t.replace(n,"$"+e))},Le(e(1),e(2))):{major:0,minor:0}}(e,t)},unknown:He},Fe=function(e,t){return Y(e,t).map((function(e){var n=Ie.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},Ve=function(e,t){return Y(e,t).map((function(e){var n=Ie.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},je=(Pe=/^\s+|\s+$/g,function(e){return e.replace(Pe,"")}),Ue=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,We=function(e){return function(t){return Q(t,e)}},qe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Q(e,"edge/")&&Q(e,"chrome")&&Q(e,"safari")&&Q(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ue],search:function(e){return Q(e,"chrome")&&!Q(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Q(e,"msie")||Q(e,"trident")}},{name:"Opera",versionRegexes:[Ue,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:We("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:We("firefox")},{name:"Safari",versionRegexes:[Ue,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Q(e,"safari")||Q(e,"mobile/"))&&Q(e,"applewebkit")}}],$e=[{name:"Windows",search:We("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Q(e,"iphone")||Q(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:We("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:We("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:We("linux"),versionRegexes:[]},{name:"Solaris",search:We("sunos"),versionRegexes:[]},{name:"FreeBSD",search:We("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:We("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ge={browsers:t(qe),oses:t($e)},Xe=function(e){var t=e.current,n=e.version;e=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:e("Edge"),isChrome:e("Chrome"),isIE:e("IE"),isOpera:e("Opera"),isFirefox:e("Firefox"),isSafari:e("Safari")}},Ke={unknown:function(){return Xe({current:void 0,version:Ie.unknown()})},nu:Xe,edge:t("Edge"),chrome:t("Chrome"),ie:t("IE"),opera:t("Opera"),firefox:t("Firefox"),safari:t("Safari")},Ye=function(e){var t=e.current,n=e.version;e=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:e("Windows"),isiOS:e("iOS"),isAndroid:e("Android"),isOSX:e("OSX"),isLinux:e("Linux"),isSolaris:e("Solaris"),isFreeBSD:e("FreeBSD"),isChromeOS:e("ChromeOS")}},Je={unknown:function(){return Ye({current:void 0,version:Ie.unknown()})},nu:Ye,windows:t("Windows"),ios:t("iOS"),android:t("Android"),linux:t("Linux"),osx:t("OSX"),solaris:t("Solaris"),freebsd:t("FreeBSD"),chromeos:t("ChromeOS")},Qe=function(e,n){var r,o,i=Ge.browsers(),a=Ge.oses(),u=Fe(i,e).fold(Ke.unknown,Ke.nu),c=Ve(a,e).fold(Je.unknown,Je.nu);return{browser:u,os:c,deviceType:(r=u,o=e,i=n,u=(a=c).isiOS()&&!0===/ipad/i.test(o),e=a.isiOS()&&!u,n=a.isiOS()||a.isAndroid(),c=n||i("(pointer:coarse)"),i=u||!e&&n&&i("(min-device-width:768px)"),n=e||n&&!i,o=r.isSafari()&&a.isiOS()&&!1===/safari/i.test(o),{isiPad:t(u),isiPhone:t(e),isTablet:t(i),isPhone:t(n),isTouch:t(c),isAndroid:a.isAndroid,isiOS:a.isiOS,isWebView:t(o),isDesktop:t(!n&&!i&&!o)})}},Ze=K((function(){return Qe(navigator.userAgent,ne)})),et=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},tt={fromHtml:function(e,t){if(t=(t||document).createElement("div"),t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw new Error("HTML must have a single root node");return et(t.childNodes[0])},fromTag:function(e,t){return e=(t||document).createElement(e),et(e)},fromText:function(e,t){return e=(t||document).createTextNode(e),et(e)},fromDom:et,fromPoint:function(e,t,n){return N.from(e.dom.elementFromPoint(t,n)).map(et)}},nt=re,rt=Object.keys,ot=Object.hasOwnProperty,it=function(e,t){var n={};return ce(e,(function(e,r){r=t(e,r),n[r.k]=r.v})),n},at=function(e,t){return ot.call(e,t)},ut=["tfoot","thead","tbody","colgroup"],ct=("undefined"!=typeof window||Function("return this;")(),function(e){return function(t){return we(t)===e}}),st=ct(1),lt=ct(3),ft=ct(9),dt=ct(11),mt=j(Element.prototype.attachShadow)&&j(Node.prototype.getRootNode),gt=t(mt),ht=mt?function(e){return tt.fromDom(e.dom.getRootNode())}:ke,pt=function(e){return d(e.dom.shadowRoot)},vt=function(e){var t=lt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return ze(tt.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=vt,r=Re,function(e){return n(r(e))}))},bt=function(e){if(e=e.dom.body,null==e)throw new Error("Body is not available yet");return tt.fromDom(e)},yt=function(e,t){var n=[];return v(De(e),(function(e){n=(n=t(e)?n.concat([e]):n).concat(yt(e,t))})),n};function wt(e,t,n,r,o){return e(n,r)?N.some(n):j(o)&&o(n)?N.none():t(n,r,o)}function xt(e,t,n){for(var r=e.dom,o=j(n)?n:i;r.parentNode;){r=r.parentNode;var a=tt.fromDom(r);if(t(a))return N.some(a);if(o(a))break}return N.none()}function Ct(e,t,n){return xt(e,(function(e){return re(e,t)}),n)}function St(e,t){return n=function(e){return re(e,t)},x(e.dom.childNodes,(function(e){return n(tt.fromDom(e))})).map(tt.fromDom);var n}function kt(e,t){return function(e,t){return t=void 0===t?document:t.dom,oe(t)?N.none():N.from(t.querySelector(e)).map(tt.fromDom)}(t,e)}function Ot(e,t,n){return wt(re,Ct,e,t,n)}function Tt(e,t,n){if(!(H(n)||F(n)||U(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")}function _t(e,t,n){Tt(e.dom,t,n)}function Et(e,t){var n=e.dom;ce(t,(function(e,t){Tt(n,t,e)}))}function Dt(e,t){return null===(t=e.dom.getAttribute(t))?void 0:t}function At(e,t){return N.from(Dt(e,t))}function zt(e,t){e.dom.removeAttribute(t)}function Rt(e){return w(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})}function Mt(e){return void 0!==e.style&&j(e.style.getPropertyValue)}function Nt(e,t,n){if(!H(n))throw new Error("CSS value must be a string: "+n);Mt(e)&&e.style.setProperty(t,n)}function Bt(e,t,n){e=e.dom,Nt(e,t,n)}function Pt(e,t){var n=e.dom;ce(t,(function(e,t){Nt(n,t,e)}))}function Ht(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||vt(e)?r:Nn(n,t)}function Lt(e,t){return e=e.dom,t=Nn(e,t),N.from(t).filter((function(e){return 0<e.length}))}function It(e,t){var n=e.dom;t=t,Mt(n=n)&&n.style.removeProperty(t),At(e,"style").map(je).is("")&&zt(e,"style")}function Ft(e,t,n){return void 0===n&&(n=0),At(e,t).map((function(e){return parseInt(e,10)})).getOr(n)}function Vt(e,t){return Ft(e,t,1)}function jt(e){return 1<Vt(e,"colspan")}function Ut(e){return 1<Vt(e,"rowspan")}function Wt(e,t){return parseInt(Ht(e,t),10)}function qt(e,t){return Hn(e,t,a)}function $t(e,t){return function(e,t,n){return(n=void 0===n?i:n)(t)?N.none():m(e,ye(t))?N.some(t):Ct(t,e.join(","),(function(e){return re(e,"table")||n(e)}))}(["td","th"],e,t)}function Gt(e){return qt(e,"th,td")}function Xt(e){return re(e,"colgroup")?Ne(e,"col"):k(Ln(e),(function(e){return Ne(e,"col")}))}function Kt(e,t){return Ot(e,"table",t)}function Yt(e){return qt(e,"tr")}function Jt(e,t){return p(e,(function(e){if("colgroup"===ye(e)){var n=p(Xt(e),(function(e){var t=Ft(e,"span",1);return he(e,1,t)}));return pe(e,n,"colgroup")}return n=p(Gt(e),(function(e){var t=Ft(e,"rowspan",1),n=Ft(e,"colspan",1);return he(e,t,n)})),pe(e,n,t(e))}))}function Qt(e){return Oe(e).map((function(e){return e=ye(e),m(ut,e)?e:"tbody"})).getOr("tbody")}function Zt(e){var t=Yt(e);t=X(Ln(e),t);return Jt(t,Qt)}function en(e,t,n){var r=e.cells,o=r.slice(0,t);t=r.slice(t),t=o.concat(n).concat(t);return In(e,t)}function tn(e,t,n){return en(e,t,[n])}function nn(e,t,n){e.cells[t]=n}function rn(e,t){var n=e.cells;t=p(n,t);return be(t,e.section)}function on(e,t){return e.cells[t]}function an(e,t){return on(e,t).element}function un(e){return e.cells.length}function cn(e){return{rows:(e=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}}(e,(function(e){return"colgroup"===e.section}))).fail,cols:e.pass}}function sn(e){return At(e,Fn).bind((function(e){return N.from(e.match(/\d+/g))})).map((function(e){return T(e,a)}))}function ln(e){return e=w(cn(e).rows,(function(e,t){return v(t.cells,(function(t,n){t.isLocked&&(e[n]=!0)})),e}),{}),function(e,t){return e=W.call(e,0),e.sort(t),e}(fe(e,(function(e,t){return parseInt(t,10)})))}function fn(e){var t={},n=[],r={},o=D(e).map((function(e){return e.element})).bind(Kt).bind(sn).getOr({}),i=0,a=0,u=0;return v(e,(function(e){var c,s,l;"colgroup"===e.section?(s={},l=0,v(e.cells,(function(e){var t=e.colspan;h(t,(function(n){n=l+n,s[n]={element:e.element,colspan:t,column:n}})),l+=t})),r=s):(c=[],v(e.cells,(function(e){for(var n=0;void 0!==t[u+","+n];)n++;for(var r=ge(o,n.toString()),i={element:e.element,rowspan:e.rowspan,colspan:e.colspan,row:u,column:n,isLocked:r},s=0;s<e.colspan;s++)for(var l=0;l<e.rowspan;l++){var f=n+s;t[u+l+","+f]=i,a=Math.max(a,f+1)}c.push(i)})),i++,n.push(pe(e.element,c,e.section)),u++)})),{grid:{rows:i,columns:a},access:t,all:n,columns:r}}function dn(e,t){var n=t.column,r=t.column+t.colspan-1,o=t.row;t=t.row+t.rowspan-1;return n<=e.finishCol&&r>=e.startCol&&o<=e.finishRow&&t>=e.startRow}function mn(e,t){return t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow}function gn(e,t,n){t=jn.findItem(e,t,ie);var r=jn.findItem(e,n,ie);return t.bind((function(e){return r.map((function(t){return n=e,t=t,{startRow:Math.min(n.row,t.row),startCol:Math.min(n.column,t.column),finishRow:Math.max(n.row+n.rowspan-1,t.row+t.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,t.column+t.colspan-1)};var n}))}))}function hn(e,t,n){return gn(e,t,n).bind((function(t){return function(e,t){for(var n=!0,o=r(mn,t),i=t.startRow;i<=t.finishRow;i++)for(var a=t.startCol;a<=t.finishCol;a++)n=n&&jn.getAt(e,i,a).exists(o);return n?N.some(t):N.none()}(e,t)}))}function pn(e,t,n){return gn(e,t,n).map((function(t){return t=jn.filterItems(e,r(dn,t)),p(t,(function(e){return e.element}))}))}function vn(e,t){return jn.findItem(e,t,(function(e,t){return ue(t,e)})).map((function(e){return e.element}))}function bn(e,t,n){return Kt(e).bind((function(r){var o,i,a;r=Un(r);return o=r,i=t,a=n,jn.findItem(o,e,ie).bind((function(e){var t=0<i?e.row+e.rowspan-1:e.row;e=0<a?e.column+e.colspan-1:e.column;return jn.getAt(o,t+i,e+a).map((function(e){return e.element}))}))}))}function yn(e,t,n,r,o){var i=Un(e),a=(t=ie(e,n)?N.some(t):vn(i,t),ie(e,o)?N.some(r):vn(i,r));return t.bind((function(e){return a.bind((function(t){return pn(i,e,t)}))}))}function wn(e,t){Oe(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))}function xn(e,t){Ee(e).fold((function(){Oe(e).each((function(e){Wn(e,t)}))}),(function(e){wn(e,t)}))}function Cn(e,t){Ae(e,0).fold((function(){Wn(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))}function Sn(e,t){wn(e,t),Wn(t,e)}function kn(e,t){v(t,(function(n,r){r=0===r?e:t[r-1],xn(r,n)}))}function On(e,t){v(t,(function(t){Wn(e,t)}))}function Tn(e){e.dom.textContent="",v(De(e),(function(e){qn(e)}))}function _n(e){var t,n=De(e);0<n.length&&(t=e,v(n,(function(e){wn(t,e)}))),qn(e)}function En(e){return $n.get(e)}function Dn(e){return $n.getOption(e)}function An(e,t){return $n.set(e,t)}var zn,Rn,Mn,Nn=function(e,t){return Mt(e)?e.style.getPropertyValue(t):""},Bn=t(10),Pn=t(10),Hn=function(e,t,n){return k(De(e),(function(e){return re(e,t)?n(e)?[e]:[]:Hn(e,t,n)}))},Ln=function(e){return Kt(e).fold(t([]),(function(e){return Ne(e,"colgroup")}))},In=function(e,t){return be(t,e.section)},Fn="data-snooker-locked-cols",Vn=function(e,t){return e=k(e.all,(function(e){return e.cells})),b(e,t)},jn={fromTable:function(e){return e=Zt(e),fn(e)},generate:fn,getAt:function(e,t,n){return n=e.access[t+","+n],void 0!==n?N.some(n):N.none()},findItem:function(e,t,n){return e=Vn(e,(function(e){return n(t,e.element)})),0<e.length?N.some(e[0]):N.none()},filterItems:Vn,justCells:function(e){return k(e.all,(function(e){return e.cells}))},justColumns:function(e){return e=e.columns,fe(e,(function(e){return e}))},hasColumns:function(e){return 0<rt(e.columns).length},getColumnAt:function(e,t){return N.from(e.columns[t])}},Un=jn.fromTable,Wn=function(e,t){e.dom.appendChild(t.dom)},qn=function(e){e=e.dom,null!==e.parentNode&&e.parentNode.removeChild(e)},$n=(zn=lt,Rn="text",{get:function(e){if(!zn(e))throw new Error("Can only get "+Rn+" value of a "+Rn+" node");return Mn(e).getOr("")},getOption:Mn=function(e){return zn(e)?N.from(e.dom.nodeValue):N.none()},set:function(e,t){if(!zn(e))throw new Error("Can only set raw "+Rn+" value of a "+Rn+" node");e.dom.nodeValue=t}}),Gn=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Xn(){return{up:t({selector:Ct,closest:Ot,predicate:xt,all:Te}),down:t({selector:Be,predicate:yt}),styles:t({get:Ht,getRaw:Lt,set:Bt,remove:It}),attrs:t({get:Dt,set:_t,remove:zt,copyTo:function(e,t){e=Rt(e),Et(t,e)}}),insert:t({before:wn,after:xn,afterAll:kn,append:Wn,appendAll:On,prepend:Cn,wrap:Sn}),remove:t({unwrap:_n,remove:qn}),create:t({nu:tt.fromTag,clone:function(e){return tt.fromDom(e.dom.cloneNode(!1))},text:tt.fromText}),query:t({comparePosition:function(e,t){return e.dom.compareDocumentPosition(t.dom)},prevSibling:_e,nextSibling:Ee}),property:t({children:De,name:ye,parent:Oe,document:function(e){return ke(e).dom},isText:lt,isComment:xe,isElement:st,isSpecial:function(e){return e=ye(e),m(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],e)},getText:En,setText:An,isBoundary:function(e){return!!st(e)&&("body"===ye(e)||m(Gn,ye(e)))},isEmptyTag:function(e){return!!st(e)&&m(["br","img","hr","input"],ye(e))},isNonEditable:function(e){return st(e)&&"false"===Dt(e,"contenteditable")}}),eq:ie,is:nt}}function Kn(e,t){return zr(Mr,(function(t,n){return e(n)}),t)}function Yn(e){return Ct(e,"table")}function Jn(e,t,n){function r(e){return function(t){return void 0!==n&&n(t)||ie(t,e)}}return ie(e,t)?N.some({boxes:N.some([e]),start:e,finish:t}):Yn(e).bind((function(o){return Yn(t).bind((function(i){if(ie(o,i))return N.some({boxes:function(e,t,n){return e=Un(e),pn(e,t,n)}(o,e,t),start:e,finish:t});if(ue(o,i)){var a=0<(u=Me(t,"td,th",r(o))).length?u[u.length-1]:t;return N.some({boxes:yn(o,e,o,t,i),start:e,finish:a})}if(ue(i,o)){var u=0<(u=Me(e,"td,th",r(i))).length?u[u.length-1]:e;return N.some({boxes:yn(i,e,o,t,i),start:e,finish:u})}return Rr(Mr,e,t,c).shared.bind((function(a){return Ot(a,"table",n).bind((function(n){var a=Me(t,"td,th",r(n)),u=0<a.length?a[a.length-1]:t;a=Me(e,"td,th",r(n)),a=0<a.length?a[a.length-1]:e;return N.some({boxes:yn(n,e,o,t,i),start:a,finish:u})}))}));var c}))}))}function Qn(e,t){return 0<(t=Be(e,t)).length?N.some(t):N.none()}function Zn(e,t,n){return kt(e,t).bind((function(t){return kt(e,n).bind((function(e){return Kn(Yn,[t,e]).map((function(n){return{first:t,last:e,table:n}}))}))}))}function er(e,t,n,r,o){return i=o,x(e,(function(e){return re(e,i)})).bind((function(e){return bn(e,t,n).bind((function(e){return n=r,Ct(t=e,"table").bind((function(e){return kt(e,n).bind((function(e){return Jn(e,t).bind((function(e){return e.boxes.map((function(t){return{boxes:t,start:e.start,finish:e.finish}}))}))}))}));var t,n}))}));var i}function tr(e,t,n){return Zn(e,t,n).bind((function(t){function n(t){return ie(e,t)}var r="thead,tfoot,tbody,table",o=Ct(t.first,r,n),i=Ct(t.last,r,n);return o.bind((function(e){return i.bind((function(n){return ie(e,n)?function(e,t,n){return e=Un(e),hn(e,t,n)}(t.table,t.first,t.last):N.none()}))}))}))}function nr(e,t,n,r){return e.fold(t,n,r)}function rr(e,t){return tt.fromDom(e.dom.cloneNode(t))}function or(e){return rr(e,!1)}function ir(e){return rr(e,!0)}function ar(e,t){return t=function(e,t){return t=tt.fromTag(t),e=Rt(e),Et(t,e),t}(e,t),e=De(ir(e)),On(t,e),t}function ur(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}function cr(e,t){return e?N.some(t):N.none()}function sr(e){return Vr.get(e)}function lr(e){return Vr.getOuter(e)}function fr(e,t){void 0===t&&(t=a);var r=e.grid,o=h(r.columns,n),i=h(r.rows,n);return p(o,(function(n){return jr((function(){return k(i,(function(t){return jn.getAt(e,t,n).filter((function(e){return e.column===n})).toArray()}))}),(function(e){return 1===e.colspan&&t(e.element)}),(function(){return jn.getAt(e,0,n)}))}))}function dr(e){var r=e.grid,o=h(r.rows,n),i=h(r.columns,n);return p(o,(function(n){return jr((function(){return k(i,(function(r){return jn.getAt(e,n,r).filter((function(e){return e.row===n})).fold(t([]),(function(e){return[e]}))}))}),(function(e){return 1===e.rowspan}),(function(){return jn.getAt(e,n,0)}))}))}function mr(e,t){if(t<0||t>=e.length-1)return N.none();var n=e[t].fold((function(){var n=function(e){return e=W.call(e,0),e.reverse(),e}(e.slice(0,t));return z(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return N.some({value:e,delta:0})})),r=e[t+1].fold((function(){var n=e.slice(t+1);return z(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return N.some({value:e,delta:1})}));return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))}))}function gr(e,t){return function(n){return"rtl"===Ur(n)?t:e}}function hr(e){return Wr.get(e)}function pr(e){return Wr.getOuter(e)}function vr(e,t){return void 0!==e?e:void 0!==t?t:0}function br(e){var t=(i=e.dom.ownerDocument).body,n=i.defaultView,r=i.documentElement;if(t===e.dom)return $r(t.offsetLeft,t.offsetTop);var o=vr(null==n?void 0:n.pageYOffset,r.scrollTop),i=vr(null==n?void 0:n.pageXOffset,r.scrollLeft);n=vr(r.clientTop,t.clientTop),t=vr(r.clientLeft,t.clientLeft);return Gr(e).translate(i-t,o-n)}function yr(e,t){return{row:e,y:t}}function wr(e,t){return{col:e,x:t}}function xr(e){return br(e).left+lr(e)}function Cr(e){return br(e).left}function Sr(e,t){return wr(e,Cr(t))}function kr(e,t){return wr(e,xr(t))}function Or(e){return br(e).top}function Tr(e,t){return yr(e,Or(t))}function _r(e,t){return yr(e,Or(t)+pr(t))}function Er(e,t,n){if(0===n.length)return[];var r=p(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))})),o=n[n.length-1].map((function(e){return t(n.length-1,e)}));return r.concat([o])}var Dr=function(e,t,n,r){return n=t(e,n),y(r,(function(n,r){return r=t(e,r),Ar(e,n,r)}),n)},Ar=function(e,t,n){return t.bind((function(t){return n.filter(r(e.eq,t))}))},zr=function(e,t,n){return 0<n.length?Dr(e,t,n[0],n.slice(1)):N.none()},Rr=function(e,t,n,o){void 0===o&&(o=i);var a=[t].concat(e.up().all(t)),u=(t=[n].concat(e.up().all(n)),n=function(e){return C(e,o).fold((function(){return e}),(function(t){return e.slice(0,t+1)}))},a=n(a),n(t));t=x(a,(function(t){return g(u,r(e.eq,t))}));return{firstpath:a,secondpath:u,shared:t}},Mr=Xn(),Nr=Qn,Br=function(e){if(!I(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return v(e,(function(r,o){var i=rt(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!I(u))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+i);return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:function(e){var r=rt(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!O(t,(function(e){return m(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)},log:function(e){}}}})),n},Pr=Br([{none:[]},{multiple:["elements"]},{single:["element"]}]),Hr=Pr.none,Lr=Pr.multiple,Ir=Pr.single,Fr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Vr=(u=function(e,t){function n(n){var r=t(n);return r<=0||null===r?(n=Ht(n,e),parseFloat(n)||0):r}function r(e,t){return w(t,(function(t,n){return n=Ht(e,n),n=void 0===n?0:parseInt(n,10),isNaN(n)?t:t+n}),0)}return{set:function(t,n){if(!U(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);t=t.dom,Mt(t)&&(t.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){return n=r(e,n),n<t?t-n:0}}},u("width",(function(e){return e.dom.offsetWidth}))),jr=function(e,t,n){var r=e();return x(r,t).orThunk((function(){return N.from(r[0]).orThunk(n)})).map((function(e){return e.element}))},Ur=function(e){return"rtl"===Ht(e,"direction")?"rtl":"ltr"},Wr=u("height",(function(e){var t=e.dom;return vt(e)?t.getBoundingClientRect().height:t.offsetHeight})),qr=function(e,t){return{left:e,top:t,translate:function(n,r){return qr(e+n,t+r)}}},$r=qr,Gr=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?$r(n.offsetLeft,n.offsetTop):vt(e)?function(e){return e=e.getBoundingClientRect(),$r(e.left,e.top)}(t):$r(0,0)},Xr={delta:n,positions:function(e){return Er(Tr,_r,e)},edge:Or},Kr=gr({delta:n,edge:Cr,positions:function(e){return Er(Sr,kr,e)}},{delta:function(e){return-e},edge:xr,positions:function(e){return Er(kr,Sr,e)}}),Yr={delta:function(e,t){return Kr(t).delta(e,t)},positions:function(e,t){return Kr(t).positions(e,t)},edge:function(e){return Kr(e).edge(e)}},Jr={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Qr=(P=["Infinity",(B="[0-9]+")+"\\."+Zr(B)+Zr(P="[eE][+-]?[0-9]+"),"\\."+B+Zr(P),B+Zr(P)].join("|"),new RegExp("^([+-]?(?:"+P+"))(.*)$"));function Zr(e){return"(?:"+e+")?"}function eo(e,t){return N.from(Qr.exec(e)).bind((function(e){var n,r=Number(e[1]);e=e[2];return n=e,g(t,(function(e){return g(Jr[e],(function(e){return n===e}))}))?N.some({value:r,unit:e}):N.none()}))}function to(){var e=Ze().browser;return e.isIE()||e.isEdge()}function no(e,t,n){return function(e,t){return e=parseFloat(e),isNaN(e)?t:e}(Ht(e,t),n)}function ro(e){return to()?(n=(t=e).dom.getBoundingClientRect().height,"border-box"===Ht(t,"box-sizing")?n:n-no(t,"padding-top",0)-no(t,"padding-bottom",0)-(no(t,"border-top-width",0)+no(t,"border-bottom-width",0))):no(e,"height",hr(e));var t,n}function oo(e){return to()?(n=(t=e).dom.getBoundingClientRect().width,"border-box"===Ht(t,"box-sizing")?n:n-no(t,"padding-left",0)-no(t,"padding-right",0)-(no(t,"border-left-width",0)+no(t,"border-right-width",0))):no(e,"width",sr(e));var t,n}function io(e,t){var n=N.from(e.dom.offsetParent).map(tt.fromDom).getOr(bt(Se(e)));return t(e)/t(n)*100}function ao(e,t){Bt(e,"width",t+"px")}function uo(e,t){Bt(e,"width",t+"%")}function co(e,t){Bt(e,"height",t+"px")}function so(e,t,n,r){var o,i,a=parseInt(e,10);return ee(e,"%")&&"table"!==ye(t)?(o=a,i=n,n=r,t=Kt(r=t).map((function(e){return e=i(e),Math.floor(o/100*e)})).getOr(o),n(r,t),t):a}function lo(e){var t,n=Lt(t=e,"height").getOrThunk((function(){return ro(t)+"px"}));return n?so(n,e,hr,co):hr(e)}function fo(e){return Lt(e,"width").fold((function(){return N.from(Dt(e,"width"))}),(function(e){return N.some(e)}))}function mo(e,t){return e/t.pixelWidth()*100}function go(e,t){return fo(e).fold((function(){var n=sr(e);return mo(n,t)}),(function(n){return function(e,t,n){return t=_s.exec(t),null!==t?parseFloat(t[1]):(e=oo(e),mo(e,n))}(e,n,t)}))}function ho(e,t){return fo(e).fold((function(){return oo(e)}),(function(n){return function(e,t,n){var r=Es.exec(t);return null!==r?parseInt(r[1],10):(t=_s.exec(t),null===t?oo(e):parseFloat(t[1])/100*n.pixelWidth())}(e,n,t)}))}function po(e){return t="rowspan",lo(e=e)/Vt(e,t);var t}function vo(e,t,n){Bt(e,"width",t+n)}function bo(e){return io(e,sr)+"%"}function yo(e,t,n){return Lt(e,t).fold((function(){return n(e)+"px"}),(function(e){return e}))}function wo(e,t){return yo(e,"width",(function(e){return zs(e)?sr(e):ho(e,t)}))}function xo(e){return yo(e,"height",po)}function Co(e,t){return Lt(e,t).isSome()}function So(e,t,n,r,o,i){return e.filter(r).fold((function(){return i(mr(n,t))}),(function(e){return o(e)}))}function ko(e,t,r,i,a){var u=fr(e,(function(e){return Co(e,"width")})),c=(e=jn.hasColumns(e)?p(jn.justColumns(e),(function(e){return N.from(e.element)})):u,[N.some(Yr.edge(t))].concat(p(Yr.positions(u,t),(function(e){return e.map((function(e){return e.x}))})))),s=o(jt);return p(e,(function(e,t){return So(e,t,c,s,(function(e){if(!zs(o=e)||Co(o,"width"))return r(e,a);var o=(o=u[t],e=n,null!=o?e(o):N.none());return So(o,t,c,s,(function(e){return i(N.some(sr(e)))}),i)}),i)}))}function Oo(e){return e.map((function(e){return e+"px"})).getOr("")}function To(e,t,n){return ko(e,t,ho,(function(e){return e.getOrThunk(n.minCellWidth)}),n)}function _o(e,t,n,r,i){e=dr(e);var a=[N.some(n.edge(t))].concat(p(n.positions(e,t),(function(e){return e.map((function(e){return e.y}))})));return p(e,(function(e,t){return So(e,t,a,o(Ut),r,i)}))}function Eo(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function Do(n){function r(){return sr(n)}var o=t(0);return{width:r,pixelWidth:r,getWidths:function(e,t){return To(e,n,t)},getCellDelta:o,singleColumnWidth:t([0]),minCellWidth:o,setElementWidth:e,adjustTableWidth:e,isRelative:!0,label:"none"}}function Ao(e,t){var n=Eo(parseFloat(e)),r=Eo(sr(t));return{width:n.get,pixelWidth:r.get,getWidths:function(e,n){return ko(e,t,go,(function(e){return e.fold((function(){return r.minCellWidth()}),(function(e){return e/r.pixelWidth()*100}))}),r=n);var r},getCellDelta:function(e){return e/r.get()*100},singleColumnWidth:function(e,t){return[100-e]},minCellWidth:function(){return Bn()/r.get()*100},setElementWidth:uo,adjustTableWidth:function(e){var o=n.get();o+=e/100*o;uo(t,o),n.set(o),r.set(sr(t))},isRelative:!0,label:"percent"}}function zo(e,t){var r=Eo(e),o=r.get;return{width:o,pixelWidth:o,getWidths:function(e,n){return To(e,t,n)},getCellDelta:n,singleColumnWidth:function(e,t){return[Math.max(Bn(),e+t)-e]},minCellWidth:Bn,setElementWidth:ao,adjustTableWidth:function(e){e=o()+e,ao(t,e),r.set(e)},isRelative:!1,label:"pixel"}}function Ro(e,t,n,r){for(var o=t.grid.columns,i=t.grid.rows,a=0;a<i;a++)for(var u=!1,c=0;c<o;c++)a<n.minRow||a>n.maxRow||c<n.minCol||c>n.maxCol||(jn.getAt(t,a,c).filter(r).isNone()?function(e,t,n){e=e[n].element,n=tt.fromTag("td"),Wn(n,tt.fromTag("br")),(t?Wn:Cn)(e,n)}(e,u,a):u=!0)}function Mo(e,t){function n(e){return re(e.element,t)}var r,o,i,a,u,c,s,l=ir(e),f=Zt(l),d=Rs(e),m=jn.generate(f),g=(r=n,p=m.grid.columns,o=m.grid.rows,i=p,u=a=0,c=[],s=[],ce(m.access,(function(e){var t,n,l;c.push(e),r(e)&&(s.push(e),n=(t=e.row)+e.rowspan-1,e=(l=e.column)+e.colspan-1,t<o?o=t:a<n&&(a=n),l<i?i=l:u<e&&(u=e))})),{minRow:o,minCol:i,maxRow:a,maxCol:u,allCells:c,selectedCells:s}),h="th:not("+t+"),td:not("+t+")",p=Hn(l,"th,td",(function(e){return re(e,h)}));return v(p,qn),Ro(f,m,g,n),function(e,t,n,r){ce(n.columns,(function(e){(e.column<t.minCol||e.column>t.maxCol)&&qn(e.element)})),n=b(qt(e,"tr"),(function(e){return 0===e.dom.childElementCount})),v(n,qn),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||v(qt(e,"th,td"),(function(e){zt(e,"rowspan"),zt(e,"colspan")})),zt(e,Fn),zt(e,"data-snooker-col-series"),Rs(e).adjustTableWidth(r)}(l,g,m,function(e,t,n,r){return 0===r.minCol&&t.grid.columns===r.maxCol+1?0:(t=To(t,e,n),e=w(t,(function(e,t){return e+t}),0),e=w(t.slice(r.minCol,r.maxCol+1),(function(e,t){return e+t}),0)/e*n.pixelWidth()-n.pixelWidth(),n.getCellDelta(e))}(e,jn.fromTable(e),d,g)),l}function No(e){return"img"===ye(e)?1:Dn(e).fold((function(){return De(e).length}),(function(e){return e.length}))}function Bo(e){return Dn(e).filter((function(e){return 0!==e.trim().length||-1<e.indexOf("")})).isSome()||m(Bs,ye(e))}function Po(e){return t=Bo,(n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=tt.fromDom(e.childNodes[r]);if(t(o))return N.some(o);if(o=n(e.childNodes[r]),o.isSome())return o}return N.none()})(e.dom);var t,n}function Ho(e){return Ps(e,Bo)}function Lo(){var e=tt.fromTag("td");return Wn(e,tt.fromTag("br")),e}function Io(){return tt.fromTag("col")}function Fo(){return tt.fromTag("colgroup")}function Vo(e,t,n){var r=ar(e,t);return ce(n,(function(e,t){null===e?zt(r,t):_t(r,t,e)})),r}function jo(e){return e}function Uo(e){return function(){return tt.fromTag("tr",e.dom)}}function Wo(e,t,n){function r(e,t){!function(e,t){e=e.dom,t=t.dom,Mt(e)&&Mt(t)&&(t.style.cssText=e.style.cssText)}(e.element,t),It(t,"height"),1!==e.colspan&&It(t,"width")}return{col:function(t){var n=Se(t.element);n=tt.fromTag(ye(t.element),n.dom);return r(t,n),e(t.element,n),n},colgroup:Fo,row:Uo(t),cell:function(t){var o,i,a,u,c,s=Se(t.element),l=tt.fromTag(ye(t.element),s.dom);s=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),s=0<s.length?(o=t.element,i=l,a=s,Po(o).map((function(e){var t=a.join(",");t=Me(e,t,(function(e){return ie(e,o)}));return y(t,(function(e,t){return t=or(t),zt(t,"contenteditable"),Wn(e,t),t}),i)})).getOr(i)):l;return Wn(s,tt.fromTag("br")),r(t,l),u=t.element,c=l,ce(Hs,(function(e,t){return At(u,t).filter((function(t){return m(e,t)})).each((function(e){return _t(c,t,e)}))})),e(t.element,l),l},replace:Vo,gap:Lo}}function qo(e){return{col:Io,colgroup:Fo,row:Uo(e),cell:Lo,replace:jo,gap:Lo}}function $o(e){return p(e,tt.fromDom)}function Go(e){return e.nodeName.toLowerCase()}function Xo(e){return tt.fromDom(e.getBody())}function Ko(e){return e.getBoundingClientRect().width}function Yo(e){return e.getBoundingClientRect().height}function Jo(e){return function(t){return ie(t,Xo(e))}}function Qo(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e}function Zo(e){function t(e){return zt(e,"data-mce-style")}zt(e,"data-mce-style"),v(Gt(e),t),v(Xt(e),t)}function ei(e,t){return t=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width"),N.from(t).filter(te)}function ti(e){return/^(\d+(\.\d+)?)%$/.test(e)}function ni(e){return tt.fromDom(e.selection.getStart())}function ri(e){return nr(e.get(),t([]),n,_)}function oi(e){function t(e,t){return At(e,t).exists((function(e){return 1<parseInt(e,10)}))}return 0<(e=ri(e)).length&&O(e,(function(e){return t(e,"rowspan")||t(e,"colspan")}))?N.some(e):N.none()}function ii(e){return{element:e,mergable:N.none(),unmergable:N.none(),selection:[e]}}function ai(e,t,n){return{element:n,mergable:(r=t,o=Ls,nr(e.get(),N.none,(function(e){return e.length<=1?N.none():tr(r,o.firstSelectedSelector,o.lastSelectedSelector).map((function(t){return{bounds:t,cells:e}}))}),N.none)),unmergable:oi(e),selection:ri(e)};var r,o}function ui(t,n,r,o){t.on("BeforeGetContent",(function(r){function o(e){r.preventDefault(),Kt(e[0]).map((function(e){return e=Mo(e,"[data-mce-selected]"),Zo(e),[e]})).each((function(e){var n;r.content="text"===r.format?p(e,(function(e){return e.dom.innerText})).join(""):(n=t,p(e,(function(e){return n.selection.serializer.serialize(e.dom,{})})).join(""))}))}!0===r.selection&&nr(n.get(),e,o,e)})),t.on("BeforeSetContent",(function(e){!0===e.selection&&!0===e.paste&&N.from(t.dom.getParent(t.selection.getStart(),"th,td")).each((function(n){var i=tt.fromDom(n);Kt(i).each((function(n){var a,u,c=b(function(e,t){return t=(t||document).createElement("div"),t.innerHTML=e,De(tt.fromDom(t))}(e.content),(function(e){return"meta"!==ye(e)}));1===c.length&&(u=c[0],"table"===ye(u))&&(e.preventDefault(),a=tt.fromDom(t.getDoc()),a=qo(a),a={element:i,clipboard:c[0],generators:a},r.pasteCells(n,a).each((function(e){t.selection.setRng(e.rng),t.focus(),o.clear(n)})))}))}))}))}function ci(e,n,r,o,i){var a=e.slice(0);n=n,e=0===(e=e).length?Is.none():1===e.length?Is.only(0):0===n?Is.left(0,1):n===e.length-1?Is.right(n-1,n):0<n&&n<e.length-1?Is.middle(n-1,n,n+1):Is.none(),n=t(p(a,t(0)));return e.fold(n,(function(e){return o.singleColumnWidth(a[e],r)}),(function(e,t){return i.calcLeftEdgeDeltas(a,e,t,r,o.minCellWidth(),o.isRelative)}),(function(e,t,n){return i.calcMiddleDeltas(a,e,t,n,r,o.minCellWidth(),o.isRelative)}),(function(e,t){return i.calcRightEdgeDeltas(a,e,t,r,o.minCellWidth(),o.isRelative)}))}function si(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r}function li(e,t){return(jn.hasColumns(e)?function(e,t){return e=jn.justColumns(e),p(e,(function(e,n){return{element:e.element,width:t[n],colspan:e.colspan}}))}:function(e,t){return e=jn.justCells(e),p(e,(function(e){var n=si(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))})(e,t)}function fi(e,t,n){t=li(e,t),v(t,(function(e){n.setElementWidth(e.element,e.width)}))}function di(e,t,n,r,o){var i=jn.fromTable(e),a=(e=o.getCellDelta(t),o.getWidths(i,o));t=n===i.grid.columns-1,e=r.clampTableDelta(a,n,e,o.minCellWidth(),t),n=ci(a,n,e,o,r),n=p(n,(function(e,t){return e+a[t]}));fi(i,n,o),r.resizeTable(o.adjustTableWidth,e,t)}function mi(e,t,n,r){var o,i=jn.fromTable(e),a=_o(i,e,r,po,(function(e){return e.getOrThunk(Pn)}));r=p(a,(function(e,r){return n===r?Math.max(t+e,Pn()):e})),a=function(e,t){return e=jn.justCells(e),p(e,(function(e){var n=si(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))}(i,r),o=r,i=p(i.all,(function(e,t){return{element:e.element,height:o[t]}}));v(i,(function(e){co(e.element,e.height)})),v(a,(function(e){co(e.element,e.height)})),r=y(r,(function(e,t){return e+t}),0),co(e,r)}function gi(e){return p(e,t(0))}function hi(e,t,n,r,o){return o(e.slice(0,t)).concat(r).concat(o(e.slice(n)))}function pi(){function e(e,t,n,r){var o=(100+n)/100,i=Math.max(r,(e[t]+n)/o);return p(e,(function(e,n){return(n===t?i:e/o)-e}))}function t(t,n,r,o,i,a){return a?e(t,n,o,i):function(e,t,n,r,o){return o=Fs(e,t,r,o),hi(e,t,n+1,[o,0],gi)}(t,n,r,o,i)}return{resizeTable:function(e,t){return e(t)},clampTableDelta:Fs,calcLeftEdgeDeltas:t,calcMiddleDeltas:function(e,n,r,o,i,a,u){return t(e,r,o,i,a,u)},calcRightEdgeDeltas:function(t,n,r,o,i,a){return a?e(t,r,o,i):(i=Fs(t,r,o,i),gi(t.slice(0,r)).concat([i]))},calcRedestributedWidths:function(e,t,n,r){if(r){var o=(t+n)/t;t=p(e,(function(e){return e/o}));return{delta:100*o-100,newSizes:t}}return{delta:n,newSizes:e}}}}function vi(){function e(e,t,n,r,o){return o=Vs(e,0<=r?n:t,r,o),hi(e,t,n+1,[o,-o],gi)}return{resizeTable:function(e,t,n){n&&e(t)},clampTableDelta:function(e,t,n,r,o){return o?0<=n?n:(o=w(e,(function(e,t){return e+t-r}),0),Math.max(-o,n)):Fs(e,t,n,r)},calcLeftEdgeDeltas:e,calcMiddleDeltas:function(t,n,r,o,i,a){return e(t,r,o,i,a)},calcRightEdgeDeltas:function(e,n,r,o,i,a){return a?gi(e):(o/=e.length,p(e,t(o)))},calcRedestributedWidths:function(e,t,n,r){return{delta:0,newSizes:e}}}}function bi(e,t,n){var r=n.substring(0,n.length-e.length);e=parseFloat(r);return r===e.toString()?t(e):Ws.invalid(n)}function yi(e,t,n){return e.fold((function(){return t}),(function(e){return o=(r=e)/n,p(t,(function(e){return qs.from(e).fold((function(){return e}),(function(e){return e*o+"px"}),(function(e){return e/100*r+"px"}))}));var r,o}),(function(e){return r=n,p(t,(function(e){return qs.from(e).fold((function(){return e}),(function(e){return e/r*100+"%"}),(function(e){return e+"%"}))}));var r}))}function wi(e,n,r){return r=qs.from(r),n=O(e,(function(e){return"0px"===e}))?function(e,n){return e=e.fold((function(){return t("")}),(function(e){return t(e/n+"px")}),(function(){return t(100/n+"%")})),h(n,e)}(r,e.length):yi(r,e,n),$s(n)}function xi(e,r){return 0===e.length?r:y(e,(function(e,r){return qs.from(r).fold(t(0),n,n)+e}),0)}function Ci(e){return Gs(e).fold(t("px"),t("px"),t("%"))}function Si(e,t,n,r){var o=jn.fromTable(e),i=o.all,a=jn.justCells(o),u=jn.justColumns(o);t.each((function(t){var n,i,c,s,l=Ci(t),f=sr(e),d=ko(o,e,wo,Oo,r);f=wi(d,f,t);jn.hasColumns(o)?(c=f,s=l,v(u,(function(e,t){t=xi([c[t]],Bn()),Bt(e.element,"width",t+s)}))):(n=f,i=l,v(a,(function(e){var t=n.slice(e.column,e.colspan+e.column);t=xi(t,Bn());Bt(e.element,"width",t+i)}))),Bt(e,"width",t)})),n.each((function(t){var n,r,u=Ci(t),c=hr(e),s=_o(o,e,Xr,xo,Oo);c=wi(s,c,t);n=c,c=i,r=u,v(a,(function(e){var t=n.slice(e.row,e.rowspan+e.row);t=xi(t,Pn());Bt(e.element,"height",t+r)})),v(c,(function(e,t){Bt(e.element,"height",n[t])})),Bt(e,"height",t)}))}function ki(e){return jn.fromTable(e).grid}function Oi(e){var t=[];return{bind:function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:function(e){t=b(t,(function(t){return t!==e}))},trigger:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};v(e,(function(e,t){o[e]=n[t]})),v(t,(function(e){e(o)}))}}}function Ti(e){return{registry:se(e,(function(e){return{bind:e.bind,unbind:e.unbind}})),trigger:se(e,(function(e){return e.trigger}))}}function _i(e){return e.slice(0).sort()}function Ei(e,t){0<(t=b(t,(function(t){return!m(e,t)}))).length&&function(e){throw new Error("Unsupported keys for object: "+_i(e).join(", "))}(t)}function Di(){var e=N.none(),t=Ti({move:Oi(["info"])});return{onEvent:function(n,r){r.extract(n).each((function(n){var o,i;(o=r,i=n,n=e.map((function(e){return o.compare(e,i)})),e=N.some(i),n).each((function(e){t.trigger.move(e)}))}))},reset:function(){e=N.none()},events:t.registry}}function Ai(){var t,n=(t=Ti({move:Oi(["info"])}),{onEvent:e,reset:e,events:t.registry}),r=Di(),o=n;return{on:function(){o.reset(),o=r},off:function(){o.reset(),o=n},isOn:function(){return o===r},onEvent:function(e,t){o.onEvent(e,t)},events:r.events}}function zi(e,t,n){function r(){d.stop(),s.isOn()&&(s.off(),c.trigger.stop())}var o,i,a,u=!1,c=Ti({start:Oi([]),stop:Oi([])}),s=Ai(),l=(o=r,i=200,a=null,{cancel:function(){null!==a&&(clearTimeout(a),a=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null!==a&&clearTimeout(a),a=setTimeout((function(){o.apply(null,e),a=null}),i)}});function f(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u&&e.apply(null,t)}}s.events.move.bind((function(n){t.mutate(e,n.info)}));var d=t.sink(el({forceDrop:r,drop:f(r),move:f((function(e){l.cancel(),s.onEvent(e,t)})),delayDrop:f(l.throttle)}),n);return{element:d.element,go:function(e){d.start(e),s.on(),c.trigger.start()},on:function(){u=!0},off:function(){u=!1},destroy:function(){d.destroy()},events:c.registry}}function Ri(e){function t(){return e.stopPropagation()}function n(){return e.preventDefault()}var r,o,i=tt.fromDom(function(e){if(gt()&&d(e.target)){var t=tt.fromDom(e.target);if(st(t)&&pt(t)&&e.composed&&e.composedPath&&(t=e.composedPath(),t))return D(t)}return N.from(e.target)}(e).getOr(e.target)),a=(r=n,o=t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(o.apply(null,e))});return{target:i,x:e.clientX,y:e.clientY,stop:t,prevent:n,kill:a,raw:e}}function Mi(e,t,n,o,i){var a,u;a=n,u=o,o=function(e){a(e)&&u(Ri(e))};return e.dom.addEventListener(t,o,i),{unbind:r(tl,e,t,o,i)}}function Ni(e,t,n){return Mi(e,t,nl,n,!1)}function Bi(e,t){return void 0===(t=Dt(e,t))||""===t?[]:t.split(" ")}function Pi(e){return void 0!==e.dom.classList}function Hi(e,t){return function(e,t,n){return n=Bi(e,t).concat([n]),_t(e,t,n.join(" ")),!0}(e,"class",t)}function Li(e,t){Pi(e)?e.dom.classList.add(t):Hi(e,t)}function Ii(e,t){return Pi(e)&&e.dom.classList.contains(t)}function Fi(e){return"true"===Dt(e,"contenteditable")}function Vi(){var e,t=Ti({drag:Oi(["xDelta","yDelta","target"])}),n=N.none(),r={mutate:function(t,n){e.trigger.drag(t,n)},events:(e=Ti({drag:Oi(["xDelta","yDelta"])})).registry};return r.events.drag.bind((function(e){n.each((function(n){t.trigger.drag(e.xDelta,e.yDelta,n)}))})),{assign:function(e){n=N.some(e)},get:function(){return n},mutate:r.mutate,events:t.registry}}function ji(e){e=Be(e.parent(),"."+al),v(e,qn)}function Ui(e,t,n){var r=e.origin();v(t,(function(t){t.each((function(t){t=n(r,t),Li(t,al),Wn(e.parent(),t)}))}))}function Wi(e,t,n,r){Ui(e,t,(function(e,t){var o,i,a,u;o=t.col,i=t.x-e.left,a=n.top-e.top,u=7,t=r,e=tt.fromTag("div"),Pt(e,{position:"absolute",left:i-u/2+"px",top:a+"px",height:t+"px",width:u+"px"}),Et(e,{"data-column":o,role:"presentation"}),e=e;return Li(e,cl),e}))}function qi(e,t,n,r){Ui(e,t,(function(e,t){var o,i,a,u;o=t.row,i=n.left-e.left,a=t.y-e.top,u=r,t=7,e=tt.fromTag("div"),Pt(e,{position:"absolute",left:i+"px",top:a-t/2+"px",height:t+"px",width:u+"px"}),Et(e,{"data-row":o,role:"presentation"}),e=e;return Li(e,ul),e}))}function $i(e,t,n,r,o){var i,a=br(n),u=t.isResizable,c=0<(r=0<r.length?Xr.positions(r,n):[]).length?(i=u,k(e.all,(function(e,t){return i(e.element)?[t]:[]}))):[];r=b(r,(function(e,t){return g(c,(function(e){return t===e}))}));qi(t,r,a,lr(n));var s,l,f,d=0<(o=0<o.length?Yr.positions(o,n):[]).length?(l=u,f=[],h((s=e).grid.columns,(function(e){jn.getColumnAt(s,e).map((function(e){return e.element})).forall(l)&&f.push(e)})),b(f,(function(e){var t=jn.filterItems(s,(function(t){return t.column===e}));return O(t,(function(e){return l(e.element)}))}))):[];o=b(o,(function(e,t){return g(d,(function(e){return t===e}))}));Wi(t,o,a,pr(n))}function Gi(e,t){var n,r,o;ji(e),e.isResizable(t)&&(n=jn.fromTable(t),r=dr(n),o=fr(n),$i(n,e,t,r,o))}function Xi(e,t){e=Be(e.parent(),"."+al),v(e,t)}function Ki(e){Xi(e,(function(e){Bt(e,"display","none")}))}function Yi(e){Xi(e,(function(e){Bt(e,"display","block")}))}function Ji(e){function t(e,t){return N.from(Dt(e,t))}var n,o,i=Vi(),a=(o=void 0!==(n=void 0===(n={})?{}:n).mode?n.mode:il,zi(i,o,n)),u=N.none();function c(e,t){return Wt(e,t)-Ft(e,"data-initial-"+t,0)}function s(t,n){g.trigger.startAdjust(),i.assign(t),_t(t,"data-initial-"+n,Wt(t,n)),Li(t,sl),Bt(t,"opacity","0.2"),a.go(e.parent())}function l(t){return ie(t,e.view())}function f(e){return Ot(e,"table",l).filter((function(e){return Ot(e,"[contenteditable]",l).exists(Fi)}))}i.events.drag.bind((function(e){t(e.target,"data-row").each((function(t){var n=Wt(e.target,"top");Bt(e.target,"top",n+e.yDelta+"px")})),t(e.target,"data-column").each((function(t){var n=Wt(e.target,"left");Bt(e.target,"left",n+e.xDelta+"px")}))})),a.events.stop.bind((function(){i.get().each((function(n){u.each((function(r){t(n,"data-row").each((function(e){var t=c(n,"top");zt(n,"data-initial-top"),g.trigger.adjustHeight(r,t,parseInt(e,10))})),t(n,"data-column").each((function(e){var t=c(n,"left");zt(n,"data-initial-left"),g.trigger.adjustWidth(r,t,parseInt(e,10))})),Gi(e,r)}))}))}));var d=Ni(e.parent(),"mousedown",(function(e){var t;t=e.target,Ii(t,ul)&&s(e.target,"top"),t=e.target,Ii(t,cl)&&s(e.target,"left")})),m=Ni(e.view(),"mouseover",(function(t){f(t.target).fold((function(){vt(t.target)&&ji(e)}),(function(t){u=N.some(t),Gi(e,t)}))})),g=Ti({adjustHeight:Oi(["table","delta","row"]),adjustWidth:Oi(["table","delta","column"]),startAdjust:Oi([])});return{destroy:function(){d.unbind(),m.unbind(),a.destroy(),ji(e)},refresh:function(t){Gi(e,t)},on:a.on,off:a.off,hideBars:r(Ki,e),showBars:r(Yi,e),events:g.registry}}function Qi(e,t){return e.fire("newrow",{node:t})}function Zi(e,t){return e.fire("newcell",{node:t})}function ea(e,t,n){e.fire("TableModified",G(G({},n),{table:t}))}function ta(e){return e.getParam("table_sizing_mode","auto")}function na(e){return e.getParam("table_responsive_width")}function ra(e){return e.getParam("table_default_attributes",gl,"object")}function oa(e){return e.getParam("table_default_styles",function(e){if(pl(e)){var t=e.getBody().offsetWidth;return G(G({},ml),{width:t+"px"})}return vl(e)?le(ml,(function(e,t){return"width"!==t})):ml}(e),"object")}function ia(e){return e.getParam("table_cell_advtab",!0,"boolean")}function aa(e){return e.getParam("table_row_advtab",!0,"boolean")}function ua(e){return e.getParam("table_advtab",!0,"boolean")}function ca(e){return e.getParam("table_style_by_css",!1,"boolean")}function sa(e){return"relative"===ta(e)||!0===na(e)}function la(e){return e=e.getParam("table_header_type","section","string"),m(["section","cells","sectionCells","auto"],e)?e:"section"}function fa(e){var t=e.getParam("table_column_resizing",hl,"string");return x(["preservetable","resizetable"],(function(e){return e===t})).getOr(hl)}function da(e){return"preservetable"===fa(e)}function ma(e){return"resizetable"===fa(e)}function ga(e){return e=e.getParam("table_clone_elements"),H(e)?N.some(e.split(/[ ,]/)):Array.isArray(e)?N.some(e):N.none()}function ha(e,t){if(sa(e)){var n=ei(e,t.dom).filter(ti).getOrThunk((function(){return Js(t)}));return Ns(n,t)}return pl(e)?Ms(sr(t),t):Rs(t)}function pa(e){zt(e,"width")}function va(e,t){var n=sr(e)+"px";Si(e,N.some(n),N.none(),t),pa(e)}function ba(e,t){var n=ha(e,t);e=n,t=bo(n=t),Si(n,N.some(t),N.none(),e),pa(n)}function ya(e,t){e=ha(e,t),va(t,e)}function wa(){var e=tt.fromTag("div");return Pt(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Wn(bt(tt.fromDom(document)),e),e}function xa(e){return"false"!==Dt(e,"data-mce-resize")}function Ca(e){function t(e){return"TABLE"===e.nodeName}function n(){return s}function r(t){return ha(e,t)}function o(){return(da(e)?vi:pi)()}function i(t,n,i){var c,s,l=ee(n,"e");""===u&&ba(e,t),i!==a&&""!==u?(Bt(t,"width",u),c=o(),n=r(t),l=da(e)||l?ki(t).columns-1:0,di(t,i-a,l,c,n)):ti(u)&&(s=parseFloat(u.replace("%","")),Bt(t,"width",i*s/a+"%")),/^(\d+(\.\d+)?)px$/.test(u)&&(s=t,t=jn.fromTable(s),jn.hasColumns(t)||v(Gt(s),(function(e){var t=Ht(e,"width");Bt(e,"width",t),zt(e,"width")})))}var a,u,c=N.none(),s=N.none(),l=N.none();return e.on("init",(function(){var t,n=(t=xa,(n=e).inline?Us(Xo(n),wa(),t):js(tt.fromDom(n.getDoc()),t));l=N.some(n),function(e){return e=e.getParam("object_resizing",!0),H(e)?"table"===e:e}(e)&&e.getParam("table_resize_bars",!0,"boolean")&&(t=o(),(t=ll(n,t,r)).on(),t.events.startDrag.bind((function(t){c=N.some(e.selection.getRng())})),t.events.beforeResize.bind((function(t){var n,r,o,i=t.table.dom;n=e,o=Ko(r=i),i=Yo(i),t="bar-"+t.type,n.fire("ObjectResizeStart",{target:r,width:o,height:i,origin:t})})),t.events.afterResize.bind((function(t){var n,r,o=t.table,i=o.dom;Zo(o),c.each((function(t){e.selection.setRng(t),e.focus()})),n=e,o=Ko(r=i),i=Yo(i),t="bar-"+t.type,n.fire("ObjectResized",{target:r,width:o,height:i,origin:t}),e.undoManager.add()})),s=N.some(t))})),e.on("ObjectResizeStart",(function(n){var r,o=n.target;t(o)&&(r=tt.fromDom(o),v(e.dom.select(".mce-clonedresizable"),(function(t){e.dom.addClass(t,"mce-"+fa(e)+"-columns")})),!Ks(r)&&pl(e)?ya(e,r):!Xs(r)&&sa(e)&&ba(e,r),Ys(r)&&Z(n.origin,"bar-")&&ba(e,r),a=n.width,u=vl(e)?"":ei(e,o).getOr(""))})),e.on("ObjectResized",(function(n){var r,o=n.target;t(o)&&(r=tt.fromDom(o),o=n.origin,Z(o,"corner-")&&i(r,o,n.width),Zo(r),ea(e,r.dom,fl))})),e.on("SwitchMode",(function(){s.each((function(t){e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),{lazyResize:n,lazyWire:function(){return l.getOr(js(tt.fromDom(e.getBody()),xa))},destroy:function(){s.each((function(e){e.destroy()})),l.each((function(t){t=t,e.inline&&qn(t.parent())}))}}}function Sa(e,t){return{element:e,offset:t}}function ka(e,t){return(e.property().isText(t)?e.property().getText(t):e.property().children(t)).length}function Oa(e,t){1===Vt(e,"colspan")&&fo(e).bind((function(e){return eo(e,["fixed","relative","empty"])})).each((function(n){var r=n.value/2;vo(e,r,n.unit),vo(t,r,n.unit)}))}function Ta(e,t,n,r){n===r?zt(e,t):_t(e,t,n)}function _a(e,t,n){A(Ne(e,t)).fold((function(){return Cn(e,n)}),(function(e){return xn(e,n)}))}function Ea(e,t){function n(e){return p(e,(function(e){e.isNew&&a.push(e.element);var t=e.element;return Tn(t),v(e.cells,(function(e){e.isNew&&u.push(e.element),Ta(e.element,"colspan",e.colspan,1),Ta(e.element,"rowspan",e.rowspan,1),Wn(t,e.element)})),t}))}function r(e){return k(e,(function(e){return p(e.cells,(function(e){return Ta(e.element,"span",e.colspan,1),e.element}))}))}function o(t,o){var i,a,u=(u=St(i=e,a=o).getOrThunk((function(){var e=tt.fromTag(a,Se(i).dom);return"thead"===a?_a(i,"caption,colgroup",e):"colgroup"===a?_a(i,"caption",e):Wn(i,e),e})),Tn(u),u);t=("colgroup"===o?r:n)(t);On(u,t)}function i(t,n){0<t.length?o(t,n):St(e,n).each(qn)}var a=[],u=[],c=[],s=[],l=[],f=[];return v(t,(function(e){switch(e.section){case"thead":c.push(e);break;case"tbody":s.push(e);break;case"tfoot":l.push(e);break;case"colgroup":f.push(e)}})),i(f,"colgroup"),i(c,"thead"),i(s,"tbody"),i(l,"tfoot"),{newRows:a,newCells:u}}function Da(e,t){if(0===e.length)return 0;var n=e[0];return C(e,(function(e){return!t(n.element,e.element)})).fold((function(){return e.length}),(function(e){return e}))}function Aa(e,t,n,r){var o,i=e[t].cells.slice(n);i=Da(i,r),o=n,t=p(e,(function(e){return on(e,o)})).slice(t);return{colspan:i,rowspan:Da(t,r)}}function za(e,t){var n=p(e,(function(e){return p(e.cells,i)}));return p(e,(function(r,o){return{details:k(r.cells,(function(r,i){if(!1!==n[o][i])return[];var a=Aa(e,o,i,t);return function(e,t,r,o){for(var i=e;i<e+r;i++)for(var a=t;a<t+o;a++)n[i][a]=!0}(o,i,a.rowspan,a.colspan),[{element:r.element,rowspan:a.rowspan,colspan:a.colspan,isNew:r.isNew}]})),section:r.section}}))}function Ra(e,t,n){var r,o=[];jn.hasColumns(e)&&(r=p(jn.justColumns(e),(function(e){return ve(e.element,n,!1)})),o.push(be(r,"colgroup")));for(var i=0;i<e.grid.rows;i++){for(var a=[],u=0;u<e.grid.columns;u++){var c=jn.getAt(e,i,u).map((function(e){return ve(e.element,n,e.isLocked)})).getOrThunk((function(){return ve(t.gap(),!0,!1)}));a.push(c)}var s=be(a,e.all[i].section);o.push(s)}return o}function Ma(e,t){return p(e,(function(e){var n=(n=e.details,z(n,(function(e){return Oe(e.element).map((function(e){var t=Oe(e).isNone();return ve(e,t,!1)}))})).getOrThunk((function(){return ve(t.row(),!0,!1)})));return{element:n.element,cells:e.details,section:e.section,isNew:n.isNew}}))}function Na(e,t){return e=za(e,ie),Ma(e,t)}function Ba(e,t){return z(e.all,(function(e){return x(e.cells,(function(e){return ie(t,e.element)}))}))}function Pa(e,t,n){return t=p(t.selection,(function(t){return $t(t).bind((function(t){return Ba(e,t)})).filter(n)})),t=ur(t),cr(0<t.length,t)}function Ha(e,t){return $t(t.element).bind((function(t){return Ba(e,t)}))}function La(e,t){return Pa(e,t,a).map((function(e){return{cells:e,generators:t.generators,clipboard:t.clipboard}}))}function Ia(e,t){return Pa(e,t,a)}function Fa(e,t){return Pa(e,t,(function(e){return!e.isLocked}))}function Va(e,t){return O(t,(function(t){return Ba(e,t).exists((function(e){return!e.isLocked}))}))}function ja(e,t){return t.mergable.filter((function(t){return Va(e,t.cells)}))}function Ua(e,t){return t.unmergable.filter((function(t){return Va(e,t)}))}function Wa(e,t,n,r){for(var o=cn(e).rows,i=!0,a=0;a<o.length;a++)for(var u=0;u<un(o[0]);u++){var c=o[a],s=on(c,u),l=n(s.element,t);!0===l&&!1===i?nn(c,u,ve(r(),!0,s.isLocked)):!0===l&&(i=!1)}return e}function qa(e,t,n,r){var o,i,a=cn(e).rows;return 0<t&&t<a.length&&(o=a[t-1].cells,i=n,o=w(o,(function(e,t){return g(e,(function(e){return i(e.element,t.element)}))?e:e.concat([t])}),[]),v(o,(function(e){for(var o=N.none(),i=t;i<a.length;i++)for(var u=0;u<un(a[0]);u++)!function(t){var u=a[i],c=on(u,t);n(c.element,e.element)&&(o=o.isNone()?N.some(r()):o).each((function(e){nn(u,t,ve(e,!0,c.isLocked))}))}(u)}))),e}function $a(e,t){return{rowDelta:0,colDelta:un(e[0])-un(t[0])}}function Ga(e,t){return{rowDelta:e.length-t.length,colDelta:0}}function Xa(e,t,n,r){var o="colgroup"===t.section?n.col:n.cell;return h(e,(function(e){return ve(o(),!0,r(e))}))}function Ka(e,t,n,r){return e.concat(h(t,(function(){var t=e[e.length-1],o=Xa(t.cells.length,t,n,(function(e){return at(r,e.toString())}));return In(t,o)})))}function Ya(e,t,n,r){return p(e,(function(e){var o=Xa(t,e,n,i);return en(e,r,o)}))}function Ja(e,t,r){var o=t.colDelta<0?Ya:n,i=t.rowDelta<0?Ka:n,u=ln(e),c=un(e[0]);u=g(u,(function(e){return e===c-1})),e=o(e,Math.abs(t.colDelta),r,u?c-1:c),u=ln(e);return i(e,Math.abs(t.rowDelta),r,T(u,a))}function Qa(e,t,n,o,i,u){for(var c,s,l,f=e.row,d=e.column,m=f+n.length,g=d+un(n[0])+u.length,h=T(u,a),p=f;p<m;p++)for(var v,b,y=0,w=d;w<g;w++)h[w]?y++:(b=w,l=void 0,l=r(s=i,on((c=t)[v=p],b).element),s=c[v],1<c.length&&1<un(s)&&(0<b&&l(an(s,b-1))||b<s.cells.length-1&&l(an(s,b+1))||0<v&&l(an(c[v-1],b))||v<c.length-1&&l(an(c[v+1],b)))&&Wa(t,an(t[p],w),i,o.cell),b=(v=on(n[p-f],w-d-y)).element,b=o.replace(b),nn(t[p],w,ve(b,!0,v.isLocked)));return t}function Za(e,t,n){return b(n,(function(n){return n>=e.column&&n<=un(t[0])+e.column}))}function eu(e,t,n,r,o){var i,a,u,c=ln(t),s=(i=e,a=t,u=c,e=un(t[0]),a=h(e-i.column,(function(e){return e+i.column})),e=x(a,(function(e){return O(u,(function(t){return t!==e}))})).getOr(e-1),G(G({},i),{column:e})),l=Za(s,n,c);return function(e,t,n){if(e.row>=t.length||e.column>un(t[0]))return Ol.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);var r=t.slice(e.row);t=r[0].cells.slice(e.column),e=un(n[0]),n=n.length;return Ol.value({rowDelta:r.length-n,colDelta:t.length-e})}(s,t,n).map((function(e){var i=G(G({},e),{colDelta:e.colDelta-l.length});e=Ja(t,i,r),i=ln(e),i=Za(s,n,i);return Qa(s,e,n,r,o,i)}))}function tu(e,t,n,r,o){var i,a,u;c=t,i=e,a=o,u=r.cell,0<i&&i<c[0].cells.length&&v(c,(function(e){var t=e.cells[i-1],n=e.cells[i];a(n.element,t.element)&&nn(e,i,ve(u(),!0,n.isLocked))}));var c=Ga(n,t),s=Ja(n,c,r);c=Ga(t,s),r=Ja(t,c,r);return p(r,(function(t,n){return en(t,e,s[n].cells)}))}function nu(e,t,n,r,o){qa(t,e,o,r.cell);var i,u,c=ln(t),s=$a(t,n);o=G(G({},s),{colDelta:s.colDelta-c.length}),s=Ja(t,o,r),o=(c=cn(s)).cols,c=c.rows,s=ln(s),t=$a(n,t),t=G(G({},t),{colDelta:t.colDelta+s.length}),i=r,u=s,n=p(n,(function(e){return w(u,(function(t,n){var r=Xa(1,e,i,a)[0];return tn(t,n,r)}),e)})),r=Ja(n,t,r);return o.concat(c.slice(0,e)).concat(r).concat(c.slice(e,c.length))}function ru(e,t,n,r,o){var i=(u=cn(e)).rows,a=u.cols,u=(e=i.slice(0,t),i.slice(t));n=rn(i[n],(function(e,n){return 0<t&&t<i.length&&r(an(i[t-1],n),an(i[t],n))?on(i[t],n):ve(o(e.element,r),!0,e.isLocked)}));return a.concat(e).concat([n]).concat(u)}function ou(e,t,n,r,o){return p(e,(function(e){var i=0<t&&t<un(e)&&r(an(e,t-1),an(e,t));i=function(e,t,n,r,o,i,a){return"colgroup"!==n&&r?on(e,t):(o=on(e,o),ve(a(o.element,i),!0,!1))}(e,t,e.section,i,n,r,o);return tn(e,t,i)}))}function iu(e,t,n,r){return p(e,(function(e){return rn(e,(function(e){return o=e,g(t,(function(e){return n(o.element,e.element)}))?ve(r(e.element,n),!0,e.isLocked):e;var o}))}))}function au(e,t,n,r){return void 0!==an(e[t],n)&&0<t&&r(an(e[t-1],n),an(e[t],n))}function uu(e,t,n){return 0<t&&n(an(e,t-1),an(e,t))}function cu(e,t,n,r){var o=cn(e).rows;o=k(o,(function(r,o){return au(e,o,t,n)||uu(r,t,n)?[]:[on(r,t)]}));return iu(e,o,n,r)}function su(e,t,n,r){var o=cn(e).rows,i=o[t],a=k(i.cells,(function(e,r){return au(o,t,r,n)||uu(i,r,n)?[]:[e]}));return iu(e,a,n,r)}function lu(e){return w(e,(function(e,t){return g(e,(function(e){return e.column===t.column}))?e:e.concat([t])}),[]).sort((function(e,t){return e.column-t.column}))}function fu(e){return{element:e,colspan:Ft(e,"colspan",1),rowspan:Ft(e,"rowspan",1)}}function du(e){return At(e,"scope").map((function(e){return e.substr(0,3)}))}function mu(e){return function(e,t){return t=e.property().name(t),m(Tl,t)}(_l,e)}function gu(e){return function(e,t){return t=e.property().name(t),m(["ol","ul"],t)}(_l,e)}function hu(e){return e=e,m(["br","img","hr","input"],_l.property().name(e))}function pu(e){function t(e){return"br"===ye(e)}function n(e){return Ho(e).bind((function(n){var r=Ee(n).map((function(e){return!!mu(e)||!!hu(e)&&"img"!==ye(e)})).getOr(!1);return Oe(n).map((function(o){return!0===r||"li"===ye(i=o)||xt(i,gu).isSome()||t(n)||mu(o)&&!ie(e,o)?[]:[tt.fromTag("br")];var i}))})).getOr([])}var r=0===(r=k(e,(function(e){var r=De(e);return O(r,(function(e){return t(e)||lt(e)&&0===En(e).trim().length}))?[]:r.concat(n(e))}))).length?[tt.fromTag("br")]:r;Tn(e[0]),On(e[0],r)}function vu(e,t){return{grid:e,cursor:t}}function bu(e,t,n){var r=cn(e).rows;return El(r,t,n).orThunk((function(){return El(r,0,0)}))}function yu(e,t,n){var r=cn(e).rows;return vu(e,El(r,t,n))}function wu(e){return w(e,(function(e,t){return g(e,(function(e){return e.row===t.row}))?e:e.concat([t])}),[]).sort((function(e,t){return e.row-t.row}))}function xu(e,t,n){var r;r=n.section,e=Jt(e,(function(){return r})),e=jn.generate(e);return Ra(e,t,!0)}function Cu(e,t){return g(t,(function(e){return 0===e.column&&e.isLocked}))}function Su(e,t){return g(t,(function(t){return t.column+t.colspan>=e.grid.columns&&t.isLocked}))}function ku(e,t){var n=fr(e);t=lu(t);return w(t,(function(e,t){return e+n[t.column].map(lr).getOr(0)}),0)}function Ou(e,t){var n=jn.fromTable(e);return Ia(n,t).bind((function(e){var t=e[e.length-1],r=e[0].column,o=t.column+t.colspan;t=S(p(n.all,(function(e){return b(e.cells,(function(e){return e.column>=r&&e.column<o}))})));return Dl(t,(function(e){return"th"===ye(e.element)}))})).getOr("")}function Tu(e){return Go(e.parentNode)}function _u(e,t){var n="thead"===Tu(t);t=!g(t.cells,(function(e){return"th"!==Go(e)}));return n||t?N.some({thead:n,ths:t}):N.none()}function Eu(e,t){return"thead"===(n=_u(0,t).fold((function(){return Tu(t)}),(function(e){return"thead"})))?"header":"tfoot"===n?"footer":"body";var n}function Du(e,t,n){var r,o,i=e.getParent(t,"table"),a=t.parentNode,u=Go(a);n!==u&&((r=e.select(n,i)[0])||(r=e.create(n),o=i.firstChild,"thead"===n?A(Ne(tt.fromDom(i),"caption,colgroup")).fold((function(){return i.insertBefore(r,o)}),(function(t){return e.insertAfter(r,t.dom)})):i.appendChild(r)),"tbody"===n&&"thead"===u&&r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t),a.hasChildNodes()||e.remove(a))}function Au(e,t,n,r){var o=e.dom;n=function(e,t,n){return d(n)&&Go(t)!==n?(n=e.dom.rename(t,n),Zi(e,n),n):t}(e,t,n);return V(r)||o.setAttrib(n,"scope",r),n}function zu(e,t,n,r){return v(t,(function(t){return Au(e,t,n,r)})),0}function Ru(e,t,n){var r,o,i=e.dom;"header"===n?(r="auto"===(r=la(e))?(o=Kt(tt.fromDom(t.cells[0])).map(Yt).getOr([]),z(o,(function(e){return _u(0,e.dom)})).map((function(e){return e.thead&&e.ths?"sectionCells":e.thead?"section":"cells"})).getOr("section")):r,zu(e,t.cells,"section"===r?"td":"th","col"),Du(i,t,"cells"===r?"tbody":"thead")):(zu(e,t.cells,"td",null),Du(i,t,"footer"===n?"tfoot":"tbody"))}function Mu(e,t){return ql(e).map((function(e){return ri(t)})).getOr([])}function Nu(e,t){var n,r=(n=ql(e)).bind((function(e){return Kt(e)})).map(Yt);return e=r,r=function(e,n){return b(n,(function(n){return g($o(n.dom.cells),(function(n){return"1"===Dt(n,t)||ie(n,e)}))}))},((n=n).isSome()&&e.isSome()?N.some(r(n.getOrDie(),e.getOrDie())):N.none()).getOr([])}function Bu(t,n,r){function o(e){return"table"===ye(Xo(e))}function i(e,n,r,o,i){return function(a,u){Zo(a);var s=o(),l=tt.fromDom(t.getDoc()),f=Wo(r,l,c),d=ha(t,a);l=(ma(t)?pi:vi)();return n(a)?e(s,a,u,f,d,l).bind((function(e){return v(e.newRows,(function(e){Qi(t,e.dom)})),v(e.newCells,(function(e){Zi(t,e.dom)})),e.cursor.map((function(e){var n=xl(Cl,e);e=t.dom.createRng();return e.setStart(n.element.dom,n.offset),e.setEnd(n.element.dom,n.offset),{rng:e,effect:i}}))})):N.none()}}function u(e,t){return me(e,"type").filter((function(e){return m(t,e)}))}var c=ga(t),s=ma(t)?e:Oa,l=i(Bl,(function(e){return!1===o(t)||1<ki(e).rows}),e,n,dl),f=i(Nl,(function(e){return!1===o(t)||1<ki(e).columns}),e,n,dl),d=i(Al,a,e,n,dl),g=i(zl,a,e,n,dl),h=i(Rl,a,s,n,dl),b=i(Ml,a,s,n,dl),y=i(Ll,a,e,n,dl),w=i(Il,a,e,n,dl),x=i(Vl,a,e,n,dl),C=i(jl,a,e,n,dl),S=i(Ul,a,e,n,dl),k=i(Wl,a,e,n,dl);s=i(Fl,a,e,n,dl);return{deleteRow:l,deleteColumn:f,insertRowsBefore:d,insertRowsAfter:g,insertColumnsBefore:h,insertColumnsAfter:b,mergeCells:y,unmergeCells:w,pasteColsBefore:x,pasteColsAfter:C,pasteRowsBefore:S,pasteRowsAfter:k,pasteCells:s,setTableCellType:function(e,t){return u(t,["td","th"]).each((function(t){var n=p(Mu(ni(e),r),(function(e){return e.dom}));zu(e,n,t,null)}))},setTableRowType:function(e,t){return u(t,["header","body","footer"]).each((function(t){p(Nu(ni(e),Ls.selected),(function(n){return Ru(e,n.dom,t)}))}))},makeColumnsHeader:i(Pl,a,e,n,dl),unmakeColumnsHeader:i(Hl,a,e,n,dl),getTableRowType:function(e){var t=Nu(ni(e),Ls.selected);if(0<t.length){var n=p(t,(function(e){return Eu(0,e.dom)}));e=m(n,"header"),t=m(n,"footer");return e||t?(n=m(n,"body"),!e||n||t?e||n||!t?"":"footer":"header"):"body"}},getTableCellType:function(e){return Dl(Mu(ni(e),r),(function(e){return"th"===ye(e)})).getOr("")},getTableColType:Ou}}function Pu(e,t,n,r){for(var o=tt.fromTag("tr"),i=0;i<e;i++){var a=r<t||i<n?tt.fromTag("th"):tt.fromTag("td");i<n&&_t(a,"scope","row"),r<t&&_t(a,"scope","col"),Wn(a,tt.fromTag("br")),Wn(o,a)}return o}function Hu(e){var t=tt.fromTag("colgroup");return h(e,(function(){return Wn(t,tt.fromTag("col"))})),t}function Lu(e,t,n,r){return h(e,(function(e){return Pu(t,n,r,e)}))}function Iu(e,t){e.selection.select(t.dom,!0),e.selection.collapse(!0)}function Fu(e,t,n,o,i){var a=oa(e),u={styles:a,attributes:ra(e),colGroups:e.getParam("table_use_colgroups",!1,"boolean")};return e.undoManager.ignore((function(){var r=function(e,t,n,r,o,i){void 0===i&&(i=Gl);var a=tt.fromTag("table"),u="cells"!==o;Pt(a,i.styles),Et(a,i.attributes),i.colGroups&&Wn(a,Hu(t));var c=Math.min(e,n);u&&0<n&&(i=tt.fromTag("thead"),Wn(a,i),s=Lu(n,t,"sectionCells"===o?c:0,r),On(i,s));var s=tt.fromTag("tbody");return Wn(a,s),r=Lu(u?e-c:e,t,u?0:n,r),On(s,r),a}(n,t,i,o,la(e),u);_t(r,"data-mce-id","__mce");var a;a=r,r=tt.fromTag("div"),a=tt.fromDom(a.dom.cloneNode(!0)),Wn(r,a),r=r.dom.innerHTML;e.insertContent(r),e.addVisual()})),kt(Xo(e),'table[data-mce-id="__mce"]').map((function(t){var n,o;return pl(e)?ya(e,t):vl(e)?bl(t):(sa(e)||(o=a.width,H(o)&&-1!==o.indexOf("%")))&&ba(e,t),Zo(t),zt(t,"data-mce-id"),n=e,v(Be(t,"tr"),(function(e){Qi(n,e.dom),v(Be(e,"th,td"),(function(e){Zi(n,e.dom)}))})),o=e,kt(t,"td,th").each(r(Iu,o)),t.dom})).getOr(null)}function Vu(e,t,n,r,o){void 0===r&&(r={});var i=function(e){return U(e)&&0<e};return i(t)&&i(n)?(i=r.headerRows||0,r=r.headerColumns||0,Fu(e,n,t,r,i)):null}function ju(e){return function(){return e().fold((function(){return[]}),(function(e){return p(e,(function(e){return e.dom}))}))}}function Uu(e){return function(t){t=0<t.length?N.some($o(t)):N.none(),e(t)}}function Wu(e,t,n,r){return{insertTable:(o=e,function(e,t,n){return n=Vu(o,t,e,n=void 0===n?{}:n),o.undoManager.add(),n}),setClipboardRows:Uu(t.setRows),getClipboardRows:ju(t.getRows),setClipboardCols:Uu(t.setColumns),getClipboardCols:ju(t.getColumns),resizeHandler:n,selectionTargets:r};var o}function qu(e,t,n){var r=Ft(e,t,1);1===n||r<=1?zt(e,t):_t(e,t,Math.min(n,r))}function $u(e,t){var n=jn.fromTable(e);return Fa(n,t).map((function(e){var t,r,o=e[e.length-1];e=e[0].column,o=o.column+o.colspan;return X(function(e,t,n){if(jn.hasColumns(e)){var r=b(jn.justColumns(e),(function(e){return e.column>=t&&e.column<n}));e=p(r,(function(e){return e=ir(e.element),qu(e,"span",n-t),e})),r=tt.fromTag("colgroup");return On(r,e),[r]}return[]}(n,e,o),(t=e,r=o,p(n.all,(function(e){var n=b(e.cells,(function(e){return e.column>=t&&e.column<r}));e=p(n,(function(e){return e=ir(e.element),qu(e,"colspan",r-t),e})),n=tt.fromTag("tr");return On(n,e),n}))))}))}function Gu(e,t,n){var r=jn.fromTable(e);return Ia(r,t).bind((function(e){var t=Ra(r,n,!1);e=cn(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),e=k(e,(function(e){var t=b(e.cells,(function(e){return!e.isLocked}));return 0<t.length?[G(G({},e),{cells:t})]:[]})),e=Na(e,n);return cr(0<e.length,e)})).map((function(e){return p(e,(function(e){var t=or(e.element);return v(e.cells,(function(e){var n=ir(e.element);Ta(n,"colspan",e.colspan,1),Ta(n,"rowspan",e.rowspan,1),Wn(t,n)})),t}))}))}function Xu(e,t,n){return function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if((t=void 0===t?i:t)!==i)return""}return t}(void 0,e.select("td,th",t))}function Ku(e,t,n){n&&e.formatter.apply("align"+n,{},t)}function Yu(e,t){Xl.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))}function Ju(e){return function(t){return Z(t,"rgb")?e.toHex(t):t}}function Qu(e,t){return t=tt.fromDom(t),{borderwidth:Lt(t,"border-width").getOr(""),borderstyle:Lt(t,"border-style").getOr(""),bordercolor:Lt(t,"border-color").map(Ju(e)).getOr(""),backgroundcolor:Lt(t,"background-color").map(Ju(e)).getOr("")}}function Zu(e){var t=e[0];e=e.slice(1);return v(e,(function(e){v(rt(t),(function(n){ce(e,(function(e,r){var o=t[n];""!==o&&n===r&&o!==e&&(t[n]="")}))}))})),t}function ec(e){var t=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===e?[{name:"borderwidth",type:"input",label:"Border width"}].concat(t):t}}function tc(e){return Ql.concat(function(e){return e=Kl(e.getParam("table_cell_class_list",[],"array")),0<e.length?N.some({name:"class",type:"listbox",label:"Class",items:e}):N.none()}(e).toArray())}function nc(e){return Kt(e[0]).map((function(t){var n=jn.fromTable(t);t=jn.justCells(n),t=b(t,(function(t){return g(e,(function(e){return ie(t.element,e)}))}));return p(t,(function(e){return{element:e.element.dom,column:jn.getColumnAt(n,e.column).map((function(e){return e.element.dom}))}}))}))}function rc(e,t,n,r){var o,i,a=1===t.length,u=le(r,(function(e,t){return n[t]!==e}));0<de(u)&&1<=t.length&&(o=Kt(t[0]),nc(t).each((function(t){v(t,(function(t){var n,o,i,u,c,s=Au(e,t.element,r.celltype),l=a?Zl.normal(e,s):Zl.ifTruthy(e,s),f=t.column.map((function(t){return a?Zl.normal(e,t):Zl.ifTruthy(e,t)})).getOr(l);n=f,t=r,(f=l).setAttrib("scope",t.scope),f.setAttrib("class",t.class),f.setStyle("height",Qo(t.height)),n.setStyle("width",Qo(t.width)),ia(e)&&(c=r,(u=l).setFormat("tablecellbackgroundcolor",c.backgroundcolor),u.setFormat("tablecellbordercolor",c.bordercolor),u.setFormat("tablecellborderstyle",c.borderstyle),u.setFormat("tablecellborderwidth",Qo(c.borderwidth))),a&&(Yu(e,s),o=e,i=s,Xl.each("top middle bottom".split(" "),(function(e){o.formatter.remove("valign"+e,{},i)}))),r.halign&&Ku(e,s,r.halign),r.valign&&(u=e,c=s,(s=r.valign)&&u.formatter.apply("valign"+s,{},c))}))})),i=0<de(le(u,(function(e,t){return"scope"!==t&&"celltype"!==t}))),o.each((function(t){return ea(e,t.dom,{structure:at(u,"celltype"),style:i})})))}function oc(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact((function(){rc(e,t,n,o),e.focus()}))}function ic(e,t){return t=nc(t).map((function(t){return p(t,(function(t){return n=e,r=t.element,o=ia(e),i=t.column,a=n.dom,t=i.getOr(r),G({width:(i=function(e,t){return a.getStyle(e,t)||a.getAttrib(e,t)})(t,"width"),height:i(r,"height"),scope:a.getAttrib(r,"scope"),celltype:Go(r),class:a.getAttrib(r,"class",""),halign:Yl(n,r),valign:Jl(n,r)},o?Qu(a,r):{});var n,r,o,i,a}))})),Zu(t.getOrDie())}function ac(e,t){var n,o,i=Mu(ni(e),t);0!==i.length&&(n=ic(e,i),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:tc(e)},ec("cell")]},t={type:"panel",items:[{type:"grid",columns:2,items:tc(e)}]},e.windowManager.open({title:"Cell Properties",size:"normal",body:ia(e)?o:t,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:r(oc,e,i,n)}))}function uc(e){return ef.concat(function(e){return e=Kl(e.getParam("table_row_class_list",[],"array")),0<e.length?N.some({name:"class",type:"listbox",label:"Class",items:e}):N.none()}(e).toArray())}function cc(e,t,n,r){var o,i,a=1===t.length,u=le(r,(function(e,t){return n[t]!==e}));0<de(u)&&(v(t,(function(t){r.type!==Go(t.parentNode)&&Ru(e,t,r.type);var o,i,u=a?Zl.normal(e,t):Zl.ifTruthy(e,t);i=r,(o=u).setAttrib("class",i.class),o.setStyle("height",Qo(i.height)),aa(e)&&(i=r,(u=u).setStyle("background-color",i.backgroundcolor),u.setStyle("border-color",i.bordercolor),u.setStyle("border-style",i.borderstyle)),r.align!==n.align&&(Yu(e,t),Ku(e,t,r.align))})),o=at(u,"type"),i=!o||1<de(u),Kt(tt.fromDom(t[0])).each((function(t){return ea(e,t.dom,{structure:o,style:i})})))}function sc(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact((function(){cc(e,t,n,o),e.focus()}))}function lc(e){var t,n,o,i=Nu(ni(e),Ls.selected);0!==i.length&&(o=p(i,(function(t){return n=e,r=t.dom,o=aa(e),t=n.dom,G({height:t.getStyle(r,"height")||t.getAttrib(r,"height"),class:t.getAttrib(r,"class",""),type:Eu(0,r),align:Yl(n,r)},o?Qu(t,r):{});var n,r,o})),t=Zu(o),n={type:"tabpanel",tabs:[{title:"General",name:"general",items:uc(e)},ec("row")]},o={type:"panel",items:[{type:"grid",columns:2,items:uc(e)}]},e.windowManager.open({title:"Row Properties",size:"normal",body:aa(e)?n:o,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:t,onSubmit:r(sc,e,p(i,(function(e){return e.dom})),t)}))}function fc(e,t,n,r){var o,i=e.dom,a=r.getData(),u=le(a,(function(e,t){return n[t]!==e}));r.close(),""===a.class&&delete a.class,e.undoManager.transact((function(){var n,r;t||(n=parseInt(a.cols,10)||1,r=parseInt(a.rows,10)||1,t=Fu(e,n,r,0,0)),0<de(u)&&(function(e,t,n){var r,o=e.dom,i={},a={};if(i.class=n.class,a.height=Qo(n.height),o.getAttrib(t,"width")&&!ca(e)?i.width=(r=n.width)?r.replace(/px$/,""):"":a.width=Qo(n.width),ca(e)?(a["border-width"]=Qo(n.border),a["border-spacing"]=Qo(n.cellspacing)):(i.border=n.border,i.cellpadding=n.cellpadding,i.cellspacing=n.cellspacing),ca(e)&&t.children)for(var u=0;u<t.children.length;u++)nf(o,t.children[u],{"border-width":Qo(n.border),padding:Qo(n.cellpadding)}),ua(e)&&nf(o,t.children[u],{"border-color":n.bordercolor});ua(e)&&(a["background-color"]=n.backgroundcolor,a["border-color"]=n.bordercolor,a["border-style"]=n.borderstyle),i.style=o.serializeStyle(G(G({},oa(e)),a)),o.setAttribs(t,G(G({},ra(e)),i))}(e,t,a),(o=i.select("caption",t)[0])&&!a.caption&&i.remove(o),!o&&a.caption&&((o=i.create("caption")).innerHTML=tf.ie?"":'<br data-mce-bogus="1"/>',t.insertBefore(o,t.firstChild)),""===a.align?Yu(e,t):Ku(e,t,a.align)),e.focus(),e.addVisual(),0<de(u)&&(r=!(n=at(u,"caption"))||1<de(u),ea(e,t,{structure:n,style:r}))}))}function dc(e,t){var n,o,i,a,u,c=e.dom,s=(u=ua(s=e),i=oa(s),f=ra(s),u=u?(a=s.dom,{borderstyle:me(i,"border-style").getOr(""),bordercolor:Ju(a)(me(i,"border-color").getOr("")),backgroundcolor:Ju(a)(me(i,"background-color").getOr(""))}):{},G(G(G(G(G(G({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),i),f),u),(o=i["border-width"],ca(s)&&o?{border:o}:me(f,"border").fold((function(){return{}}),(function(e){return{border:e}})))),(a=me(i,"border-spacing").or(me(f,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}})),u=me(i,"border-padding").or(me(f,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}})),G(G({},a),u))));!1===t?(n=c.getParent(e.selection.getStart(),"table"))?(l=n,i=ua(o=e),f=o.dom,s=G({width:f.getStyle(l,"width")||f.getAttrib(l,"width"),height:f.getStyle(l,"height")||f.getAttrib(l,"height"),cellspacing:f.getStyle(l,"border-spacing")||f.getAttrib(l,"cellspacing"),cellpadding:f.getAttrib(l,"cellpadding")||Xu(o.dom,l,"padding"),border:(a=f,u=l,c=Lt(tt.fromDom(u),"border-width"),ca(o)&&c.isSome()?c.getOr(""):a.getAttrib(u,"border")||Xu(o.dom,u,"border-width")||Xu(o.dom,u,"border")),caption:!!f.select("caption",l)[0],class:f.getAttrib(l,"class",""),align:Yl(o,l)},i?Qu(f,l):{})):ua(e)&&(s.borderstyle="",s.bordercolor="",s.backgroundcolor=""):(s.cols="1",s.rows="1",ua(e)&&(s.borderstyle="",s.bordercolor="",s.backgroundcolor=""));var l=Kl(e.getParam("table_class_list",[],"array"));0<l.length&&s.class&&(s.class=s.class.replace(/\s*mce\-item\-table\s*/g,""));var f={type:"grid",columns:2,items:function(e,t,n){return n=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],e=e.getParam("table_appearance_options",!0,"boolean")?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],t=0<t.length?[{type:"listbox",name:"class",label:"Class",items:t}]:[],n.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(e).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(t)}(e,l,t)};t=ua(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[f]},ec("table")]}:{type:"panel",items:[f]};e.windowManager.open({title:"Table Properties",size:"normal",body:t,onSubmit:r(fc,e,n,s),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:s})}function mc(e){return $l(ni(e))}function gc(e){return ql(ni(e))}function hc(t,n,i,a,u){function c(e){return Kt(e,g)}function s(e){return function(n){t.selection.setRng(n.rng),t.focus(),i.clear(e),Zo(e),ea(t,e.dom,n.effect)}}function l(e){return gc(t).each((function(t){c(t).each((function(n){var r=ai(a,n,t);e(n,r).each(s(n))}))}))}function f(){return gc(t).map((function(n){return c(n).bind((function(r){var o=ai(a,r,n),i=Wo(e,tt.fromDom(t.getDoc()),N.none());return Gu(r,o,i)}))}))}function d(){return gc(t).map((function(e){return c(e).bind((function(t){var n=ai(a,t,e);return $u(t,n)}))}))}function m(e,n){return n().each((function(n){var r=p(n,ir);gc(t).each((function(n){return c(n).each((function(n){var o,i=qo(tt.fromDom(t.getDoc()));o=r,i=i,i={selection:ri(a),clipboard:o,generators:i};e(n,i).each(s(n))}))}))}))}var g=Jo(t);function h(e,t){t.each((function(t){ea(e,t.dom,dl)}))}ce({mceTableSplitCells:function(){return l(n.unmergeCells)},mceTableMergeCells:function(){return l(n.mergeCells)},mceTableInsertRowBefore:function(){return l(n.insertRowsBefore)},mceTableInsertRowAfter:function(){return l(n.insertRowsAfter)},mceTableInsertColBefore:function(){return l(n.insertColumnsBefore)},mceTableInsertColAfter:function(){return l(n.insertColumnsAfter)},mceTableDeleteCol:function(){return l(n.deleteColumn)},mceTableDeleteRow:function(){return l(n.deleteRow)},mceTableCutCol:function(e){return d().each((function(e){u.setColumns(e),l(n.deleteColumn)}))},mceTableCutRow:function(e){return f().each((function(e){u.setRows(e),l(n.deleteRow)}))},mceTableCopyCol:function(e){return d().each((function(e){return u.setColumns(e)}))},mceTableCopyRow:function(e){return f().each((function(e){return u.setRows(e)}))},mceTablePasteColBefore:function(e){return m(n.pasteColsBefore,u.getColumns)},mceTablePasteColAfter:function(e){return m(n.pasteColsAfter,u.getColumns)},mceTablePasteRowBefore:function(e){return m(n.pasteRowsBefore,u.getRows)},mceTablePasteRowAfter:function(e){return m(n.pasteRowsAfter,u.getRows)},mceTableDelete:function(){return mc(t).each((function(e){Kt(e,g).filter(o(g)).each((function(e){var n=tt.fromText("");xn(e,n),qn(e),t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):((e=t.dom.createRng()).setStart(n.dom,0),e.setEnd(n.dom,0),t.selection.setRng(e),t.nodeChanged())}))}))},mceTableSizingMode:function(e,n){return r=n,mc(t).each((function(e){vl(t)||pl(t)||sa(t)||Kt(e,g).each((function(e){"relative"!==r||Xs(e)?"fixed"!==r||Ks(e)?"responsive"!==r||Ys(e)||bl(e):ya(t,e):ba(t,e),Zo(e),ea(t,e.dom,dl)}))}));var r}},(function(e,n){return t.addCommand(n,e)})),ce({mceTableCellType:function(e,r){var o=Kt(ni(t),g);n.setTableCellType(t,r),h(t,o)},mceTableRowType:function(e,r){var o=Kt(ni(t),g);n.setTableRowType(t,r),h(t,o)}},(function(e,n){return t.addCommand(n,e)})),t.addCommand("mceTableColType",(function(e,t){return me(t,"type").each((function(e){return l("th"===e?n.makeColumnsHeader:n.unmakeColumnsHeader)}))})),ce({mceTableProps:r(dc,t,!1),mceTableRowProps:r(lc,t),mceTableCellProps:r(ac,t,a)},(function(e,n){return t.addCommand(n,(function(){return e()}))})),t.addCommand("mceInsertTable",(function(e,n){L(n)&&0<rt(n).length?Vu(t,n.rows,n.columns,n.options):dc(t,!0)})),t.addCommand("mceTableApplyCellStyle",(function(e,n){function r(e){return"tablecell"+e.toLowerCase().replace("-","")}var o;!L(n)||0!==(o=Mu(ni(t),a)).length&&(function(e){for(var t in e)if(ot.call(e,t))return!1;return!0}(n=le(n,(function(e,n){return t.formatter.has(r(n))&&H(e)})))||(ce(n,(function(e,n){v(o,(function(o){Zl.normal(t,o.dom).setFormat(r(n),e)}))})),c(o[0]).each((function(e){return ea(t,e.dom,fl)}))))}))}function pc(e,t,n){var r=Jo(e);ce({mceTableRowType:function(){return t.getTableRowType(e)},mceTableCellType:function(){return t.getTableCellType(e)},mceTableColType:function(){return ql(ni(e)).bind((function(e){return Kt(e,r).map((function(r){var o=ai(n,r,e);return t.getTableColType(r,o)}))})).getOr("")}},(function(t,n){return e.addQueryValueHandler(n,t)}))}function vc(){function e(e){e.set(N.none())}var t=Eo(N.none()),n=Eo(N.none());return{getRows:t.get,setRows:function(r){t.set(r),e(n)},clearRows:function(){return e(t)},getColumns:n.get,setColumns:function(r){n.set(r),e(t)},clearColumns:function(){return e(n)}}}function bc(e,t){return Kt(e,t).bind((function(t){var n=Gt(t);return C(n,(function(t){return ie(e,t)})).map((function(e){return{index:e,all:n}}))}))}function yc(e,t,n){var r,o;e=e.document.createRange();return r=e,t.fold((function(e){r.setStartBefore(e.dom)}),(function(e,t){r.setStart(e.dom,t)}),(function(e){r.setStartAfter(e.dom)})),o=e,n.fold((function(e){o.setEndBefore(e.dom)}),(function(e,t){o.setEnd(e.dom,t)}),(function(e){o.setEndAfter(e.dom)})),e}function wc(e,t,n,r,o){return(e=e.document.createRange()).setStart(t.dom,n),e.setEnd(r.dom,o),e}function xc(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}function Cc(e,t,n){return t(tt.fromDom(n.startContainer),n.startOffset,tt.fromDom(n.endContainer),n.endOffset)}function Sc(e,n){var r,o;r=e,n=n.match({domRange:function(e){return{ltr:t(e),rtl:N.none}},relative:function(e,t){return{ltr:K((function(){return yc(r,e,t)})),rtl:K((function(){return N.some(yc(r,t,e))}))}},exact:function(e,t,n,o){return{ltr:K((function(){return wc(r,e,t,n,o)})),rtl:K((function(){return N.some(wc(r,n,o,e,t))}))}}});return(o=(n=n).ltr()).collapsed?n.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return df.rtl(tt.fromDom(e.endContainer),e.endOffset,tt.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Cc(0,df.ltr,o)})):Cc(0,df.ltr,o)}function kc(e,t){return Sc(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom,o),i.setEnd(t.dom,n),i}})}function Oc(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}function Tc(e,t,n,r,o){function i(n){var r=e.dom.createRange();return r.setStart(t.dom,n),r.collapse(!0),r}var a=En(t).length;a=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var u=e(a),c=Math.abs(t-u.left);if(n<=u.bottom){if(n<u.top||i<c)return a-1;i=c}}return 0}((function(e){return i(e).getBoundingClientRect()}),n,r,o.right,a);return i(a)}function _c(e,t){return t-e.left<e.right-t}function Ec(e,t,n){return(e=e.dom.createRange()).selectNode(t.dom),e.collapse(n),e}function Dc(e,t,n){(r=e.dom.createRange()).selectNode(t.dom);var r=r.getBoundingClientRect(),o=_c(r,n);return(!0===o?Po:Ho)(t).map((function(t){return Ec(e,t,o)}))}function Ac(e,t,n){var r=t.dom.getBoundingClientRect();n=_c(r,n);return N.some(Ec(e,t,n))}function zc(e,t,n,r){var o=e.dom.createRange();return o.selectNode(t.dom),o=o.getBoundingClientRect(),function(e,t,n,r){var o=e.dom.createRange();return o.selectNode(t.dom),o=o.getBoundingClientRect(),n=Math.max(o.left,Math.min(o.right,n)),r=Math.max(o.top,Math.min(o.bottom,r)),mf(e,t,n,r)}(e,t,Math.max(o.left,Math.min(o.right,n)),Math.max(o.top,Math.min(o.bottom,r)))}function Rc(e,t){var n=ye(e);return"input"===n?cf.after(e):m(["br","img"],n)?0===t?cf.before(e):cf.after(e):cf.on(e,t)}function Mc(e,t){return e=e.fold(cf.before,Rc,cf.after),t=t.fold(cf.before,Rc,cf.after),lf.relative(e,t)}function Nc(e,t,n,r){return t=Rc(e,t),r=Rc(n,r),lf.relative(t,r)}function Bc(e,t,n,r){var o,i,a,u,c=(i=t,a=n,u=r,(c=Se(o=e).dom.createRange()).setStart(o.dom,i),c.setEnd(a.dom,u),c);r=ie(e,n)&&t===r;return c.collapsed&&!r}function Pc(e){return N.from(e.getSelection())}function Hc(e,t){Pc(e).each((function(e){e.removeAllRanges(),e.addRange(t)}))}function Lc(e,t,n,r,o){o=wc(e,t,n,r,o),Hc(e,o)}function Ic(e,t){return Sc(e,t).match({ltr:function(t,n,r,o){Lc(e,t,n,r,o)},rtl:function(t,n,r,o){Pc(e).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom,n,r.dom,o);else if(i.extend)try{u=r,c=o,(a=i).collapse(t.dom,n),a.extend(u.dom,c)}catch(i){Lc(e,r,o,t,n)}else Lc(e,r,o,t,n);var a,u,c}))}})}function Fc(e,t,n,r,o){o=Nc(t,n,r,o),Ic(e,o)}function Vc(e,t,n){n=Mc(t,n),Ic(e,n)}function jc(e){function t(e,t,r,o){return wc(n,e,t,r,o)}var n=lf.getWin(e).dom;e=e.match({domRange:function(e){var t=tt.fromDom(e.startContainer),n=tt.fromDom(e.endContainer);return Nc(t,e.startOffset,n,e.endOffset)},relative:Mc,exact:Nc});return Sc(n,e).match({ltr:t,rtl:t})}function Uc(e){if(0<e.rangeCount){var t=e.getRangeAt(0);e=e.getRangeAt(e.rangeCount-1);return N.some(uf(tt.fromDom(t.startContainer),t.startOffset,tt.fromDom(e.endContainer),e.endOffset))}return N.none()}function Wc(e){if(null===e.anchorNode||null===e.focusNode)return Uc(e);var t=tt.fromDom(e.anchorNode),n=tt.fromDom(e.focusNode);return Bc(t,e.anchorOffset,n,e.focusOffset)?N.some(uf(t,e.anchorOffset,n,e.focusOffset)):Uc(e)}function qc(e,t){t=function(e,t){return e=e.document.createRange(),ff(e,t),e}(e,t),Hc(e,t)}function $c(e){return Pc(e).filter((function(e){return 0<e.rangeCount})).bind(Wc).map((function(e){return lf.exact(e.start,e.soffset,e.finish,e.foffset)}))}function Gc(e,t){return e=kc(e,t),0<(t=0<(e=(t=e).getClientRects()).length?e[0]:t.getBoundingClientRect()).width||0<t.height?N.some(t).map(xc):N.none()}function Xc(e,t,n,r){return pf(e,t,bc(o=n,i).fold((function(){return af.none(o)}),(function(e){return e.index+1<e.all.length?af.middle(o,e.all[e.index+1]):af.last(o)})),r);var o,i}function Kc(e,t,n,r){return pf(e,t,bc(o=n,i).fold((function(){return af.none()}),(function(e){return 0<=e.index-1?af.middle(o,e.all[e.index-1]):af.first(o)})),r);var o,i}function Yc(e,t){return t=lf.exact(t,0,t,0),jc(t)}function Jc(e,t){return t=kc(e,t),uf(tt.fromDom(t.startContainer),t.startOffset,tt.fromDom(t.endContainer),t.endOffset)}function Qc(e,t){return{item:e,mode:t}}function Zc(e){return function(t){return 0===e.property().children(t).length}}function es(e){return Ot(e,"tr")}function ts(e){return"br"===ye(e)}function ns(e,t,n,r){return Ae(o=t,i=n).filter(ts).orThunk((function(){return Ae(o,i-1).filter(ts)})).bind((function(t){return r.traverse(t).fold((function(){return Bf(t,r.gather,e).map(r.relative)}),(function(e){return Oe(t=e).bind((function(e){var n=De(e);return Nf(n,t).map((function(r){return{parent:e,children:n,element:t,index:r}}))})).map((function(e){return cf.on(e.parent,e.index)}));var t}))}));var o,i}function rs(e,t,n,r){var o,i,a;return(ts(t)?(o=e,i=t,(a=r).traverse(i).orThunk((function(){return Bf(i,a.gather,o)})).map(a.relative)):ns(e,t,n,r)).map((function(e){return{start:e,finish:e}}))}function os(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}}function is(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}}function as(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}}function us(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function cs(e,t){return N.some(e.getRect(t))}function ss(e,t,n){return st(t)?cs(e,t).map(us):lt(t)?(e=e,t=t,(0<=(n=n)&&n<No(t)?e.getRangedRect(t,n,t,n+1):0<n?e.getRangedRect(t,n-1,t,n):N.none()).map(us)):N.none()}function ls(e,t){return st(t)?cs(e,t).map(us):lt(t)?e.getRangedRect(t,0,t,No(t)).map(us):N.none()}function fs(e,t,n){return wt((function(e,t){return t(e)}),xt,t,mu,r).fold(i,(function(t){return ls(e,t).exists((function(e){return t=e,(e=n).left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right;var t}))}));var r}function ds(e,t,n){return e.getSelection().bind((function(r){return rs(t,r.finish,r.foffset,n).fold((function(){return N.some(Sa(r.finish,r.foffset))}),(function(o){return o=e.fromSitus(o),o=Mf.verify(e,r.finish,r.foffset,o.finish,o.foffset,n.failure,t),Mf.cata(o,(function(e){return N.none()}),(function(){return N.none()}),(function(e){return N.some(Sa(e,0))}),(function(e){return N.some(Sa(e,No(e)))}))}))}))}function ms(e,t){return xt(e,(function(e){return Oe(e).exists((function(e){return ie(e,t)}))}),n).isSome();var n}function gs(e,t,n,r,o){return Ot(r,"td,th",t).bind((function(r){return Ot(r,"table",t).bind((function(i){return ms(o,i)?ds(a=e,u=t,c=n).bind((function(e){return If(a,u,e.element,e.offset,c,20).map(a.fromSitus)})).bind((function(e){return Ot(e.finish,"td,th",t).map((function(t){return{start:r,finish:t,range:e}}))})):N.none();var a,u,c}))}))}function hs(e,t,n,r,o,i){return Ze().browser.isIE()?N.none():i(r,t).orThunk((function(){return gs(e,t,n,r,o).map((function(e){return e=e.range,bf(N.some(wf(e.start,e.soffset,e.finish,e.foffset)),!0)}))}))}function ps(e,t){return Ot(e,"tr",t).bind((function(e){return Ot(e,"table",t).bind((function(n){var r=Be(n,"tr");return ie(e,r[0])?Df(zf,n,(function(e){return Ho(e).isSome()}),t).map((function(e){var t=No(e);return bf(N.some(wf(e,t,e,t)),!0)})):N.none()}))}))}function vs(e,t){return Ot(e,"tr",t).bind((function(e){return Ot(e,"table",t).bind((function(n){var r=Be(n,"tr");return ie(e,r[r.length-1])?Af(zf,n,(function(e){return Po(e).isSome()}),t).map((function(e){return bf(N.some(wf(e,0,e,0)),!0)})):N.none()}))}))}function bs(e,t,n,r,o,i,a){return gs(e,n,r,o,i).bind((function(e){return xf(t,n,e.start,e.finish,a)}))}function ys(e,t){return Ot(e,"td,th",t)}function ws(e,t,n,r){function o(o){a.on((function(i){r.clearBeforeUpdate(t),ys(o.target,n).each((function(o){Jn(i,o,n).each((function(n){var a=n.boxes.getOr([]);(1<a.length||1===a.length&&!ie(i,o))&&(r.selectRange(t,a,n.start,n.finish),e.selectContents(o))}))}))}))}var i,a=(i=Eo(N.none()),{clear:function(){return i.set(N.none())},set:function(e){return i.set(N.some(e))},isSet:function(){return i.get().isSome()},on:function(e){return i.get().each(e)}}),u=a.clear;return{clearstate:u,mousedown:function(e){r.clear(t),ys(e.target,n).each(a.set)},mouseover:function(e){o(e)},mouseup:function(e){o(e),u()}}}function xs(e){return 37<=e&&e<=40}function Cs(e){return{elementFromPoint:function(t,n){return tt.fromPoint(tt.fromDom(e.document),t,n)},getRect:function(e){return e.dom.getBoundingClientRect()},getRangedRect:function(t,n,r,o){return o=lf.exact(t,n,r,o),Gc(e,o)},getSelection:function(){return $c(e).map((function(t){return Jc(e,t)}))},fromSitus:function(t){return t=lf.relative(t.start,t.finish),Jc(e,t)},situsFromPoint:function(t,n){return function(e,t,n){return e=tt.fromDom(e.document),gf(e,t,n).map((function(e){return uf(tt.fromDom(e.startContainer),e.startOffset,tt.fromDom(e.endContainer),e.endOffset)}))}(e,t,n).map((function(e){return yf(e.start,e.soffset,e.finish,e.foffset)}))},clearSelection:function(){Pc(e).each((function(e){return e.removeAllRanges()}))},collapseSelection:function(t){void 0===t&&(t=!1),$c(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){r=t?n:r,Vc(e,r,r)}),(function(n,r,o,i){o=t?n:o,i=t?r:i,Fc(e,o,i,o,i)}))}))},setSelection:function(t){Fc(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:function(t,n){Vc(e,t,n)},selectContents:function(t){qc(e,t)},getInnerHeight:function(){return e.innerHeight},getScrollY:function(){var t,n;return(t=tt.fromDom(e.document),n=void 0!==t?t.dom:document,t=n.body.scrollLeft||n.documentElement.scrollLeft,n=n.body.scrollTop||n.documentElement.scrollTop,$r(t,n)).top},scrollBy:function(t,n){!function(e,t,n){n=(void 0!==n?n.dom:document).defaultView,n&&n.scrollBy(e,t)}(t,n,tt.fromDom(e.document))}}}function Ss(e,t){return{rows:e,cols:t}}function ks(e,t,n,o){function i(){return o.clear(t),N.none()}var a=Cs(e);return{keydown:function(e,u,c,s,l,f){e=e.raw;var d=e.which,m=!0===e.shiftKey;return Qn(t,o.selectedSelector).fold((function(){return $f(d)&&m?r(bs,a,t,n,Uf,s,u,o.selectRange):qf(d)&&m?r(bs,a,t,n,Wf,s,u,o.selectRange):$f(d)?r(hs,a,n,Uf,s,u,vs):qf(d)?r(hs,a,n,Wf,s,u,ps):N.none}),(function(e){function n(n){return function(){return z(n,(function(n){return r=n.rows,n=n.cols,i=t,er(e,r,n,(a=o).firstSelectedSelector,a.lastSelectedSelector).map((function(e){return a.clearBeforeUpdate(i),a.selectRange(i,e.boxes,e.start,e.finish),e.boxes}));var r,i,a})).fold((function(){return Zn(t,o.firstSelectedSelector,o.lastSelectedSelector).map((function(e){var n=$f(d)||f.isForward(d)?cf.after:cf.before;return a.setRelativeSelection(cf.on(e.first,0),n(e.table)),o.clear(t),bf(N.none(),!0)}))}),(function(e){return N.some(bf(N.none(),!0))}))}}return $f(d)&&m?n([Ss(1,0)]):qf(d)&&m?n([Ss(-1,0)]):f.isBackward(d)&&m?n([Ss(0,-1),Ss(-1,0)]):f.isForward(d)&&m?n([Ss(0,1),Ss(1,0)]):xs(d)&&0==m?i:N.none}))()},keyup:function(e,r,i,a,u){return Qn(t,o.selectedSelector).fold((function(){var c,s,l,f,d,m=e.raw,g=m.which;return 0!=(!0===m.shiftKey)&&xs(g)?(c=t,s=n,l=r,m=i,f=a,g=u,d=o.selectRange,ie(l,f)&&m===g?N.none():Ot(l,"td,th",s).bind((function(e){return Ot(f,"td,th",s).bind((function(t){return xf(c,s,e,t,d)}))}))):N.none()}),N.none)}}}function Os(e,t,n){var r=jn.fromTable(e);return Ia(r,t).map((function(e){var t=Ra(r,n,!1);return{upOrLeftCells:function(e,t,n){return e=e.slice(0,t[t.length-1].row+1),n=Na(e,n),k(n,(function(e){return e=e.cells.slice(0,t[t.length-1].column+1),p(e,(function(e){return e.element}))}))}(t,e,n),downOrRightCells:function(e,t,n){return e=e.slice(t[0].row+t[0].rowspan-1,e.length),n=Na(e,n),k(n,(function(e){return e=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length),p(e,(function(e){return e.element}))}))}(t,e,n)}}))}function Ts(e){return!1===Ii(tt.fromDom(e.target),"ephox-snooker-resizer-bar")}var _s=/(\d+(\.\d+)?)%/,Es=/(\d+(\.\d+)?)px|em/,Ds=t(_s),As=t(Es),zs=Ce("col"),Rs=function(e){return fo(e).fold((function(){return Do(e)}),(function(t){return function(e,t){var n=Ds().exec(t);if(null!==n)return Ao(n[1],e);if(t=As().exec(t),null!==t){var r=parseInt(t[1],10);return zo(r,e)}return r=sr(e),zo(r,e)}(e,t)}))},Ms=zo,Ns=Ao,Bs=["img","br"],Ps=function(e,t){var n=function(e){for(var r=De(e),o=r.length-1;0<=o;o--){var i=r[o];if(t(i))return N.some(i);if(i=n(i),i.isSome())return i}return N.none()};return n(e)},Hs={scope:["row","col"]},Ls=(Ue="data-mce-selected",We="data-mce-first-selected",qe="data-mce-last-selected",{selected:Ue,selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:We,firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:qe,lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"}),Is=($e=Br([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),G({},$e)),Fs=(ct=function(e){return function(t,n,r,o){return e(r)?(o=Math.max(o,t[n]-Math.abs(r)),n=Math.abs(o-t[n]),0<=r?n:-n):r}},ct((function(e){return e<0}))),Vs=ct(a),js=function(e,n){var r=N.from(e.dom.documentElement).map(tt.fromDom).getOr(e);return{parent:t(r),view:t(e),origin:t($r(0,0)),isResizable:n}},Us=function(e,n,r){return{parent:t(n),view:t(e),origin:t($r(0,0)),isResizable:r}},Ws=Br([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),qs=G(G({},Ws),{from:function(e){return ee(e,"%")?bi("%",Ws.percent,e):ee(e,"px")?bi("px",Ws.pixels,e):Ws.invalid(e)}}),$s=function(e){if(0===e.length)return e;var n,r=y(e,(function(e,t){var n=qs.from(t).fold((function(){return{value:t,remainder:0}}),(function(e){return t=e,n="px",{value:(e=Math.floor(t))+n,remainder:t-e};var t,n}),(function(e){return{value:e+"%",remainder:0}}));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0});e=r.output;return e.slice(0,e.length-1).concat([(e=e[e.length-1],n=Math.round(r.remainder),qs.from(e).fold(t(e),(function(e){return e+n+"px"}),(function(e){return e+n+"%"})))])},Gs=qs.from,Xs=function(e){return fo(e).exists((function(e){return _s.test(e)}))},Ks=function(e){return fo(e).exists((function(e){return Es.test(e)}))},Ys=function(e){return fo(e).isNone()},Js=bo,Qs=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");var r;return function(e,t){if(!I(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");v(t,(function(t){if(!H(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))}("required",t),r=_i(t),x(r,(function(e,t){return t<r.length-1&&e===r[t+1]})).each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+r.join(", ")+"].")})),function(r){var o=rt(r);O(t,(function(e){return m(o,e)}))||function(e,t){throw new Error("All required keys ("+_i(e).join(", ")+") were not specified. Specified keys were: "+_i(t).join(", ")+".")}(t,o),e(t,o);var i=b(t,(function(e){return!n.validate(r[e],e)}));return 0<i.length&&function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+_i(e).join(", ")+") were not.")}(i,n.label),r}},Zs=(mt=function(e){return Qs(Ei,e,{validate:j,label:"function"})},Pr=mt(["compare","extract","mutate","sink"]),mt(["element","start","stop","destroy"])),el=mt(["forceDrop","drop","move","delayDrop"]),tl=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},nl=a,rl=Ri,ol=(u=function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}},u("ephox-dragster").resolve),il=Pr({compare:function(e,t){return $r(t.left-e.left,t.top-e.top)},extract:function(e){return N.some($r(e.x,e.y))},sink:function(e,t){var n=function(e){e=G({layerClass:ol("blocker")},e);var t=tt.fromTag("div");return _t(t,"role","presentation"),Pt(t,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Li(t,ol("blocker")),Li(t,e.layerClass),{element:function(){return t},destroy:function(){qn(t)}}}(t),r=Ni(n.element(),"mousedown",e.forceDrop),o=Ni(n.element(),"mouseup",e.drop),i=Ni(n.element(),"mousemove",e.move),a=Ni(n.element(),"mouseout",e.delayDrop);return Zs({element:n.element,start:function(e){Wn(e,n.element())},stop:function(){qn(n.element())},destroy:function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()}})},mutate:function(e,t){e.mutate(t.left,t.top)}}),al=(B=u("ephox-snooker").resolve,B("resizer-bar")),ul=B("resizer-rows"),cl=B("resizer-cols"),sl=B("resizer-bar-dragging"),ll=function(e,t,n){var r=Xr,o=Yr,i=(e=Ji(e),Ti({beforeResize:Oi(["table","type"]),afterResize:Oi(["table","type"]),startDrag:Oi([])}));return e.events.adjustHeight.bind((function(e){var t=e.table;i.trigger.beforeResize(t,"row");var n=r.delta(e.delta,t);mi(t,n,e.row,r),i.trigger.afterResize(t,"row")})),e.events.startAdjust.bind((function(e){i.trigger.startDrag()})),e.events.adjustWidth.bind((function(e){var r=e.table;i.trigger.beforeResize(r,"col");var a=o.delta(e.delta,r),u=n(r);di(r,a,e.column,t,u),i.trigger.afterResize(r,"col")})),{on:e.on,off:e.off,hideBars:e.hideBars,showBars:e.showBars,destroy:e.destroy,events:i.registry}},fl={structure:!1,style:!0},dl={structure:!0,style:!1},ml={"border-collapse":"collapse",width:"100%"},gl={border:"1"},hl="preservetable",pl=function(e){return"fixed"===ta(e)||!1===na(e)},vl=function(e){return"responsive"===ta(e)},bl=function(e){It(e,"width");var t=Xt(e);t=0<t.length?t:Gt(e);v(t,(function(e){It(e,"width"),pa(e)})),pa(e)},yl=function(e,t,n){return e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((function(t){return yl(e,t,n).orThunk((function(){return N.some(t)}))})):N.none()},wl=function(e,t){var n=yl(e,t,e.query().prevSibling).getOr(t);return e.property().isText(n)?Sa(n,ka(e,n)):(t=e.property().children(n),0<t.length?wl(e,t[t.length-1]):Sa(n,ka(e,n)))},xl=wl,Cl=Xn(),Sl=(P=function(e,t,n,r,o){return function(i,a,u,c,s,l){var f=jn.fromTable(a);return t(f,u).map((function(t){var n=Ra(f,c,!1),r=e(n,t,ie,o(c));n=ln(r.grid);return{info:t,grid:Na(r.grid,c),cursor:r.cursor,lockedColumns:n}})).bind((function(e){var t=Ea(a,e.grid),o=N.from(s).getOrThunk((function(){return Rs(a)})),u=N.from(l).getOrThunk(vi);return n(a,e.grid,e.info,o,u),r(a),Gi(i,a),zt(a,Fn),0<e.lockedColumns.length&&_t(a,Fn,e.lockedColumns.join(",")),N.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))}},Ue=function(e,t){return Ha(e,t).filter((function(e){return!e.isLocked}))},function(e){return{is:function(t){return e===t},isValue:a,isError:i,getOr:t(e),getOrThunk:t(e),getOrDie:t(e),or:function(t){return Sl(e)},orThunk:function(t){return Sl(e)},fold:function(t,n){return n(e)},map:function(t){return Sl(t(e))},mapError:function(t){return Sl(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return N.some(e)}}}),kl=function(t){return{is:i,isValue:i,isError:a,getOr:n,getOrThunk:function(e){return e()},getOrDie:function(){return e=String(t),function(){throw new Error(e)}();var e},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,n){return e(t)},map:function(e){return kl(t)},mapError:function(e){return kl(e(t))},each:e,bind:function(e){return kl(t)},exists:i,forall:a,toOptional:N.none}},Ol={value:Sl,error:kl,fromOption:function(e,t){return e.fold((function(){return kl(t)}),Sl)}},Tl=(We=function(e,t){function n(n){return n=t(n),"col"!==ye((n=n).element)?e.cell(n):e.col(n)}function r(e){var t=n(e);return o.get().isNone()&&o.set(N.some(t)),i=N.some({item:e,replacement:t}),t}void 0===t&&(t=fu);var o=Eo(N.none()),i=N.none();return{getOrInit:function(e,t){return i.fold((function(){return r(e)}),(function(n){return t(e,n.item)?n.replacement:r(e)}))},cursor:o.get}},qe=function(e,t){return function(n){function r(r){var a=n.replace(r,t,{scope:e});return i.push({item:r,sub:a}),o.get().isNone()&&o.set(N.some(a)),a}var o=Eo(N.none()),i=[];return{replaceOrInit:function(e,t){return"col"===ye(e)?e:(n=e,o=t,x(i,(function(e){return o(e.item,n)})).fold((function(){return r(e)}),(function(n){return t(e,n.item)?n.sub:r(e)})));var n,o},cursor:o.get}}},$e=function(e){var n=Eo(N.none());return{unmerge:function(t){n.get().isNone()&&n.set(N.some(t));var r=du(t);return r.each((function(e){return _t(t,"scope",e)})),function(){var n=e.cell({element:t,colspan:1,rowspan:1});return It(n,"width"),It(t,"width"),r.each((function(e){return _t(n,"scope",e)})),n}},merge:function(e){return It(e[0],"width"),function(){var t=ur(p(e,du));if(0===t.length)return N.none();var n=t[0],r=["row","col"];return g(t,(function(e){return e!==n&&m(r,e)}))?N.none():N.from(n)}().fold((function(){return zt(e[0],"scope")}),(function(t){return _t(e[0],"scope",t+"group")})),t(e[0])},cursor:n.get}},["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]),_l=Xn(),El=(ct=function(e){0===Gt(e).length&&qn(e)},function(e,t,n){return N.from(e[t]).bind((function(e){return N.from(e.cells[n]).bind((function(e){return N.from(e.element)}))}))}),Dl=function(e,t){return t=b(e,t),0===t.length?N.some("td"):t.length===e.length?N.some("th"):N.none()},Al=(mt=function(e,t,n,r){var o=jn.generate(t);t=r.getWidths(o,r);fi(o,t,r)},Pr=function(e,t,n,r,o){var i=jn.generate(t),a=r.getWidths(i,r);t=r.pixelWidth(),t=o.calcRedestributedWidths(a,t,n.pixelDelta,r.isRelative),n=t.newSizes,t=t.delta;fi(i,n,r),r.adjustTableWidth(t)},u=function(e){return function(t,n){return Ia(t,n).filter((function(n){return!(e?Cu:Su)(t,n)})).map((function(e){return{details:e,pixelDelta:ku(t,e)}}))}},B=function(e){return function(t,n){return La(t,n).filter((function(n){return!(e?Cu:Su)(t,n.cells)}))}},P((function(e,t,n,r){var o=t[0].row,i=wu(t);e=y(i,(function(e,t){return{grid:ru(e.grid,o,t.row+e.delta,n,r.getOrInit),delta:e.delta+1}}),{grid:e,delta:0}).grid;return yu(e,o,t[0].column)}),Ia,e,e,We)),zl=P((function(e,t,n,r){var o=wu(t),i=o[o.length-1],a=i.row+i.rowspan;e=y(o,(function(e,t){return ru(e,a,t.row,n,r.getOrInit)}),e);return yu(e,a,t[0].column)}),Ia,e,e,We),Rl=P((function(e,t,n,r){var o=t.details,i=(t=lu(o),t[0].column);e=y(t,(function(e,t){return{grid:ou(e.grid,i,t.column+e.delta,n,r.getOrInit),delta:e.delta+1}}),{grid:e,delta:0}).grid;return yu(e,o[0].row,i)}),u(!0),Pr,e,We),Ml=P((function(e,t,n,r){var o=t.details,i=(t=o[o.length-1],t.column+t.colspan);t=lu(o),e=y(t,(function(e,t){return ou(e,i,t.column,n,r.getOrInit)}),e);return yu(e,o[0].row,i)}),u(!1),Pr,e,We),Nl=P((function(e,t,n,r){var o;t=lu(t.details),e=e,o=p(t,(function(e){return e.column})),e=k(e,(function(e){var t=e.cells;t=y(o,(function(e,t){return 0<=t&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e}),t);return 0<t.length?[be(t,e.section)]:[]})),t=bu(e,t[0].row,t[0].column);return vu(e,t)}),(function(e,t){return Fa(e,t).map((function(t){return{details:t,pixelDelta:-ku(e,t)}}))}),Pr,ct,We),Bl=P((function(e,t,n,r){var o,i,a=wu(t);o=e,i=a[0].row,e=a[a.length-1].row,a=cn(o),o=a.rows,e=a.cols.concat(o.slice(0,i)).concat(o.slice(e+1)),t=bu(e,t[0].row,t[0].column);return vu(e,t)}),Ia,e,ct,We),Pl=(P((function(e,t,n,r){return r=cu(e,t.column,n,r.replaceOrInit),yu(r,t.row,t.column)}),Ue,e,e,qe("row","th")),P((function(e,t,n,r){var o=lu(t);e=w(o,(function(e,t){return cu(e,t.column,n,r.replaceOrInit)}),e);return yu(e,t[0].row,t[0].column)}),Fa,e,e,qe("row","th"))),Hl=(P((function(e,t,n,r){return r=cu(e,t.column,n,r.replaceOrInit),yu(r,t.row,t.column)}),Ue,e,e,qe(null,"td")),P((function(e,t,n,r){var o=lu(t);e=w(o,(function(e,t){return cu(e,t.column,n,r.replaceOrInit)}),e);return yu(e,t[0].row,t[0].column)}),Fa,e,e,qe(null,"td"))),Ll=(P((function(e,t,n,r){return r=su(e,t.row,n,r.replaceOrInit),yu(r,t.row,t.column)}),Ha,e,e,qe("col","th")),P((function(e,t,n,r){var o=wu(t);e=w(o,(function(e,t){return su(e,t.row,n,r.replaceOrInit)}),e);return yu(e,t[0].row,t[0].column)}),Ia,e,e,qe("col","th")),P((function(e,t,n,r){return r=su(e,t.row,n,r.replaceOrInit),yu(r,t.row,t.column)}),Ha,e,e,qe(null,"td")),P((function(e,t,n,r){var o=wu(t);e=w(o,(function(e,t){return su(e,t.row,n,r.replaceOrInit)}),e);return yu(e,t[0].row,t[0].column)}),Ia,e,e,qe(null,"td")),P((function(e,t,n,r){var o=t.cells;return pu(o),r=function(e,t,n){var r=cn(e).rows;if(0===r.length)return e;for(var o=t.startRow;o<=t.finishRow;o++)for(var i=t.startCol;i<=t.finishCol;i++){var a=r[o],u=on(a,i).isLocked;nn(a,i,ve(n(),!1,u))}return e}(e,t.bounds,r.merge(o)),vu(r,N.from(o[0]))}),ja,mt,e,$e)),Il=P((function(e,t,n,r){return e=y(t,(function(e,t){return Wa(e,t,n,r.unmerge(t))}),e),vu(e,N.from(t[0]))}),Ua,mt,e,$e),Fl=P((function(e,t,n,r){var o=function(e,t){return e=jn.fromTable(e),Ra(e,t,!0)}(t.clipboard,t.generators),i={row:t.row,column:t.column};return eu(i,e,o,t.generators,n).fold((function(){return vu(e,N.some(t.element))}),(function(e){var n=bu(e,t.row,t.column);return vu(e,n)}))}),(function(e,t){return $t(t.element).bind((function(n){return Ba(e,n).map((function(e){return G(G({},e),{generators:t.generators,clipboard:t.clipboard})}))}))}),mt,e,We),Vl=P((function(e,t,n,r){var o=cn(e).rows,i=t.cells[0].column;o=o[t.cells[0].row],o=xu(t.clipboard,t.generators,o),n=tu(i,e,o,t.generators,n),t=bu(n,t.cells[0].row,t.cells[0].column);return vu(n,t)}),B(!0),e,e,We),jl=P((function(e,t,n,r){var o=cn(e).rows,i=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan;o=o[t.cells[0].row],o=xu(t.clipboard,t.generators,o),n=tu(i,e,o,t.generators,n),t=bu(n,t.cells[0].row,t.cells[0].column);return vu(n,t)}),B(!1),e,e,We),Ul=P((function(e,t,n,r){var o=cn(e).rows,i=t.cells[0].row;o=o[i],o=xu(t.clipboard,t.generators,o),n=nu(i,e,o,t.generators,n),t=bu(n,t.cells[0].row,t.cells[0].column);return vu(n,t)}),La,e,e,We),Wl=P((function(e,t,n,r){var o=cn(e).rows,i=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan;o=o[t.cells[0].row],o=xu(t.clipboard,t.generators,o),n=nu(i,e,o,t.generators,n),t=bu(n,t.cells[0].row,t.cells[0].column);return vu(n,t)}),La,e,e,We),ql=(B=function(e){return function(t){var n,r=ye(t);t="col"===r||"colgroup"===r?Kt(n=t).bind((function(e){return Nr(e,Ls.firstSelectedSelector)})).fold((function(){return n}),(function(e){return e[0]})):t;return Ot(t,e)}},B("th,td")),$l=B("th,td,caption"),Gl={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Xl=tinymce.util.Tools.resolve("tinymce.util.Tools"),Kl=function(e,t){return(t||[]).concat(p(e,(function(e){var t=e.text||e.title;return ge(e,"menu")?{text:t,items:Kl(e.menu)}:{text:t,value:e.value}})))},Yl=(P=function(e,t,n,r){return x(e,(function(e){return n.formatter.matchNode(r,t+e)})).getOr("")},r(P,["left","center","right"],"align")),Jl=r(P,["top","middle","bottom"],"valign"),Ql=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],Zl=(We=function(e){return function(t,n){var r=t.dom;return{setAttrib:function(t,o){e&&!o||r.setAttrib(n,t,o)},setStyle:function(t,o){e&&!o||r.setStyle(n,t,o)},setFormat:function(r,o){e&&!o||(""===o?t.formatter.remove(r,{value:null},n,!0):t.formatter.apply(r,{value:o},n))}}}},{normal:We(!1),ifTruthy:We(!0)}),ef=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],tf=tinymce.util.Tools.resolve("tinymce.Env"),nf=function(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)H(n)?e.setStyle(t,n,r):e.setStyle(t,n);else if(t.children)for(var o=0;o<t.children.length;o++)nf(e,t.children[o],n,r)},rf={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},of=Br([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),af=G(G({},of),{none:function(e){return of.none(e=void 0===e?void 0:e)}}),uf=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},cf=(B=Br([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),{before:B.before,on:B.on,after:B.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(n,n,n)}}),sf=Br([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),lf={domRange:sf.domRange,relative:sf.relative,exact:sf.exact,exactFromRange:function(e){return sf.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){return e=e.match({domRange:function(e){return tt.fromDom(e.startContainer)},relative:function(e,t){return cf.getStart(e)},exact:function(e,t,n,r){return e}}),tt.fromDom(ke(e).dom.defaultView)},range:uf},ff=function(e,t){return e.selectNodeContents(t.dom)},df=Br([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),mf=(df.ltr,df.rtl,function(e,t,n,r){return lt(t)?function(e,t,n,r){var o=e.dom.createRange();return o.selectNode(t.dom),o=o.getClientRects(),z(o,(function(e){return Oc(e,n,r)?N.some(e):N.none()})).map((function(o){return Tc(e,t,n,r,o)}))}(e,t,n,r):(t=t,i=n,a=r,u=(o=e).dom.createRange(),t=De(t),z(t,(function(e){return u.selectNode(e.dom),Oc(u.getBoundingClientRect(),i,a)?mf(o,e,i,a):N.none()})));var o,i,a,u}),gf=document.caretPositionFromPoint?function(e,t,n){return N.from(e.dom.caretPositionFromPoint(t,n)).bind((function(t){if(null===t.offsetNode)return N.none();var n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),N.some(n)}))}:document.caretRangeFromPoint?function(e,t,n){return N.from(e.dom.caretRangeFromPoint(t,n))}:function(e,t,n){return tt.fromPoint(e,t,n).bind((function(r){function o(){return n=e,i=t,(0===De(o=r).length?Ac:Dc)(n,o,i);var n,o,i}return 0===De(r).length?o():zc(e,r,t,n).orThunk(o)}))},hf=tinymce.util.Tools.resolve("tinymce.util.VK"),pf=function(e,t,n,r){return n.fold(N.none,N.none,(function(e,t){return Po(t).map((function(e){return Yc(0,e)}))}),(function(n){return Kt(n,t).bind((function(t){var o=ii(n);return e.undoManager.transact((function(){r.insertRowsAfter(t,o)})),function(e){return e=Be(e,"tr"),A(e).bind((function(e){return kt(e,"td,th").map((function(e){return Yc(0,e)}))}))}(t)}))}))},vf=["table","li","dl"],bf=function(e,t){return{selection:e,kill:t}},yf=function(e,t,n,r){return{start:cf.on(e,t),finish:cf.on(n,r)}},wf=yf,xf=function(e,t,n,r,o){return ie(n,r)?N.none():Jn(n,r,t).bind((function(t){var r=t.boxes.getOr([]);return 0<r.length?(o(e,r,t.start,t.finish),N.some(bf(N.some(wf(n,0,n,No(n))),!0))):N.none()}))},Cf=(P=function(e,t,n,r){return void 0===r&&(r=Cf),e.property().parent(t).map((function(e){return Qc(e,r)}))},function(e,t,n,r){return void 0===r&&(r=Sf),n.sibling(e,t).map((function(e){return Qc(e,r)}))}),Sf=function(e,t,n,r){return void 0===r&&(r=Sf),t=e.property().children(t),n.first(t).map((function(e){return Qc(e,r)}))},kf=[{current:P,next:Cf,fallback:N.none()},{current:Cf,next:Sf,fallback:N.some(P)},{current:Sf,next:Sf,fallback:N.some(Cf)}],Of=function(e,t,n,r,o){return x(o=void 0===o?kf:o,(function(e){return e.current===n})).bind((function(n){return n.current(e,t,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return Of(e,t,n,r)}))}))}))},Tf=function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return 0<e.length?N.some(e[e.length-1]):N.none()}}},_f=function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return 0<e.length?N.some(e[0]):N.none()}}},Ef=function(e,t,n,r,o,i){return Of(e,t,r,o).bind((function(t){return i(t.item)?N.none():n(t.item)?N.some(t.item):Ef(e,t.item,n,t.mode,o,i)}))},Df=function(e,t,n,r){return Ef(e,t,n,Cf,Tf(),r)},Af=function(e,t,n,r){return Ef(e,t,n,Cf,_f(),r)},zf=Xn(),Rf=(We=function(e,t){return Df(zf,e,Zc(zf),t)},B=function(e,t){return Af(zf,e,Zc(zf),t)},Br([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}])),Mf=G(G({},Rf),{verify:function(e,t,n,r,o,i,a){return Ot(r,"td,th",a).bind((function(n){return Ot(t,"td,th",a).map((function(t){return ie(n,t)?ie(r,n)&&No(n)===o?i(t):Rf.none("in same cell"):Kn(es,[n,t]).fold((function(){return function(e,t,n){return t=e.getRect(t),n=e.getRect(n),n.right>t.left&&n.left<t.right}(e,t,n)?Rf.success():i(t)}),(function(e){return i(t)}))}))})).getOr(Rf.none("default"))},cata:function(e,t,n,r,o){return e.fold(t,n,r,o)}}),Nf=function(e,t){return C(e,r(ie,t))},Bf=function(e,t,n){return t(e,n).bind((function(e){return lt(e)&&0===En(e).trim().length?Bf(e,t,n):N.some(e)}))},Pf=Br([{none:[]},{retry:["caret"]}]),Hf=(P={point:function(e){return e.bottom},adjuster:function(e,t,n,r,o){var i=os(o,5);return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?Pf.retry(i):n.top===o.bottom?Pf.retry(os(o,1)):fs(e,t,o)?Pf.retry(as(i,5,0)):Pf.none()},move:os,gather:B},function(e,t,n,r,o){return 0===o?N.some(r):(i=e,a=r.left,u=t.point(r),i.elementFromPoint(a,u).filter((function(e){return"table"===ye(e)})).isSome()?(u=o-1,Hf(e,t,n,t.move(r,5),u)):e.situsFromPoint(r.left,t.point(r)).bind((function(i){return i.start.fold(N.none,(function(i){return ls(e,i).bind((function(a){return t.adjuster(e,i,a,n,r).fold(N.none,(function(r){return Hf(e,t,n,r,o-1)}))})).orThunk((function(){return N.some(r)}))}),N.none)})));var i,a,u}),Lf=(Br=function(e,t,n){var r,o=e.move(n,5),i=Hf(t,e,n,o,100).getOr(o);return r=i,n=t,((o=e).point(r)>n.getInnerHeight()?N.some(o.point(r)-n.getInnerHeight()):o.point(r)<0?N.some(-o.point(r)):N.none()).fold((function(){return t.situsFromPoint(i.left,e.point(i))}),(function(n){return t.scrollBy(0,n),t.situsFromPoint(i.left,e.point(i)-n)}))},{tryUp:r(Br,{point:function(e){return e.top},adjuster:function(e,t,n,r,o){var i=is(o,5);return Math.abs(n.top-r.top)<1||n.bottom<o.top?Pf.retry(i):n.bottom===o.top?Pf.retry(is(o,1)):fs(e,t,o)?Pf.retry(as(i,5,0)):Pf.none()},move:is,gather:We}),tryDown:r(Br,P),ieTryUp:function(e,t){return e.situsFromPoint(t.left,t.top-5)},ieTryDown:function(e,t){return e.situsFromPoint(t.left,t.bottom+5)},getJumpSize:t(5)}),If=function(e,t,n,r,o,i){return 0===i?N.none():jf(e,t,n,r,o).bind((function(a){var u=e.fromSitus(a);u=Mf.verify(e,n,r,u.finish,u.foffset,o.failure,t);return Mf.cata(u,(function(){return N.none()}),(function(){return N.some(a)}),(function(a){return ie(n,a)&&0===r?Ff(e,n,r,is,o):If(e,t,a,0,o,i-1)}),(function(a){return ie(n,a)&&r===No(a)?Ff(e,n,r,os,o):If(e,t,a,No(a),o,i-1)}))}))},Ff=function(e,t,n,r,o){return ss(e,t,n).bind((function(t){return Vf(e,o,r(t,Lf.getJumpSize()))}))},Vf=function(e,t,n){var r=Ze().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(e,n):r.isIE()?t.ieRetry(e,n):N.none()},jf=function(e,t,n,r,o){return ss(e,n,r).bind((function(t){return Vf(e,o,t)}))},Uf={traverse:Ee,gather:B,relative:cf.before,otherRetry:Lf.tryDown,ieRetry:Lf.ieTryDown,failure:Mf.failedDown},Wf={traverse:_e,gather:We,relative:cf.before,otherRetry:Lf.tryUp,ieRetry:Lf.ieTryUp,failure:Mf.failedUp},qf=(We=function(e){return function(t){return t===e}},We(38)),$f=We(40),Gf={isBackward:We(37),isForward:We(39)},Xf={isBackward:We(39),isForward:We(37)},Kf=function(e,t,n){function r(t){zt(t,e.selected),zt(t,e.firstSelected),zt(t,e.lastSelected)}function o(t){_t(t,e.selected,"1")}function i(e){a(e),n()}var a=function(t){t=Be(t,e.selectedSelector),v(t,r)};return{clearBeforeUpdate:a,clear:i,selectRange:function(n,r,a,u){i(n),v(r,o),_t(a,e.firstSelected,"1"),_t(u,e.lastSelected,"1"),t(r,a,u)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}};function Yf(t,n,r){var o=Kf(Ls,(function(n,o,i){r.targets().each((function(r){Kt(o).each((function(a){var u=ga(t);u=Wo(e,tt.fromDom(t.getDoc()),u),u=Os(a,r,u);t.fire("TableSelectionChange",{cells:n,start:o,finish:i,otherCells:u})}))}))}),(function(){t.fire("TableSelectionClear")}));return t.on("init",(function(r){var i,a,u,c,s=t.getWin(),l=Xo(t),f=Jo(t),d=function(e,t,n,r){return e=Cs(e),r=ws(e,t,n,r),{clearstate:r.clearstate,mousedown:r.mousedown,mouseover:r.mouseover,mouseup:r.mouseup}}(s,l,f,o),m=ks(s,l,f,o),g=(i=l,a=f,u=o,c=Cs(s),function(e,t){u.clearBeforeUpdate(i),Jn(e,t,a).each((function(e){var n=e.boxes.getOr([]);u.selectRange(i,n,e.start,e.finish),c.selectContents(t),c.collapseSelection()}))});function h(e,n){!0===e.raw.shiftKey&&(n.kill&&e.kill(),n.selection.each((function(e){e=lf.relative(e.start,e.finish),e=kc(s,e),t.selection.setRng(e)})))}function p(e){return 0===e.button}t.on("TableSelectorChange",(function(e){return g(e.start,e.finish)}));var v,b;v=Eo(tt.fromDom(l)),b=Eo(0),f={touchEnd:function(e){var t,n,r=tt.fromDom(e.target);"td"!==ye(r)&&"th"!==ye(r)||(t=v.get(),n=b.get(),ie(t,r)&&e.timeStamp-n<300&&(e.preventDefault(),g(r,r))),v.set(r),b.set(e.timeStamp)}};t.on("dragstart",(function(e){d.clearstate()})),t.on("mousedown",(function(e){p(e)&&Ts(e)&&d.mousedown(rl(e))})),t.on("mouseover",(function(e){var t;(void 0===(t=e).buttons||tf.browser.isEdge()&&0===t.buttons||0!=(1&t.buttons))&&Ts(e)&&d.mouseover(rl(e))})),t.on("mouseup",(function(e){p(e)&&Ts(e)&&d.mouseup(rl(e))})),t.on("touchend",f.touchEnd),t.on("keyup",(function(e){var n,r,o=rl(e);o.raw.shiftKey&&xs(o.raw.which)&&(n=t.selection.getRng(),r=tt.fromDom(n.startContainer),e=tt.fromDom(n.endContainer),m.keyup(o,r,n.startOffset,e,n.endOffset).each((function(e){h(o,e)})))})),t.on("keydown",(function(e){var r=rl(e);n().each((function(e){return e.hideBars()}));var o=t.selection.getRng(),i=tt.fromDom(o.startContainer),a=tt.fromDom(o.endContainer);e=gr(Gf,Xf)(tt.fromDom(t.selection.getStart()));m.keydown(r,i,o.startOffset,a,o.endOffset,e).each((function(e){h(r,e)})),n().each((function(e){return e.showBars()}))})),t.on("NodeChange",(function(){var n=t.selection,r=tt.fromDom(n.getStart());n=tt.fromDom(n.getEnd());Kn(Kt,[r,n]).fold((function(){return o.clear(l)}),e)}))})),{clear:o.clear}}function Jf(e,t){function n(e){return l.forall((function(t){return!t[e]}))}function r(){return $l(ni(e)).bind((function(e){return Kt(e).map((function(n){return f(e)?ii(e):ai(t,n,e)}))}))}function o(e){return Kt(e.element).map((function(t){var n=jn.fromTable(t);t=Ia(n,e).getOr([]),t=w(t,(function(e,t){return t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e}),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:ja(n,e).isSome(),unmergeable:Ua(n,e).isSome(),locked:t}}))}function i(){c.set(K(r)()),l=c.get().bind(o),v(s.get(),(function(e){return e()}))}function a(e,t){function n(){return c.get().fold((function(){e.setDisabled(!0)}),(function(n){e.setDisabled(t(n))}))}return n(),s.set(s.get().concat([n])),function(){s.set(b(s.get(),(function(e){return e!==n})))}}function u(e){return l.exists((function(t){return t.locked[e]}))}var c=Eo(N.none()),s=Eo([]),l=N.none(),f=Ce("caption");return e.on("NodeChange ExecCommand TableSelectorChange",i),{onSetupTable:function(e){return a(e,(function(e){return!1}))},onSetupCellOrRow:function(e){return a(e,(function(e){return f(e.element)}))},onSetupColumn:function(e){return function(t){return a(t,(function(t){return f(t.element)||u(e)}))}},onSetupPasteable:function(e){return function(t){return a(t,(function(t){return f(t.element)||e().isNone()}))}},onSetupPasteableColumn:function(e,t){return function(n){return a(n,(function(n){return f(n.element)||e().isNone()||u(t)}))}},onSetupMergeable:function(e){return a(e,(function(e){return n("mergeable")}))},onSetupUnmergeable:function(e){return a(e,(function(e){return n("unmergeable")}))},resetTargets:i,targets:function(){return c.get()}}}function Qf(e,t,n){function r(t){return function(){return e.execCommand(t)}}e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}}),e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:t.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onFirst")}),e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onLast")}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})}function Zf(e){var t=e.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol");0<t.length&&e.ui.registry.addContextToolbar("table",{predicate:function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},items:t,scope:"node",position:"node"})}function ed(e,t,n){function r(t){return function(){return e.execCommand(t)}}function o(t){e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})}var i={text:"Table properties",onSetup:t.onSetupTable,onAction:r("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,onAction:r("mceTableDelete")};e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:t.onSetupColumn("onFirst")}),e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:t.onSetupColumn("onLast")}),e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onFirst")}),e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onLast")}),e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:t.onSetupMergeable}),e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:t.onSetupUnmergeable}),!1===e.getParam("table_grid",!0,"boolean")?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:o}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",i),e.ui.registry.addMenuItem("deletetable",a),e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}}),e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}}),e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}}),e.ui.registry.addContextMenu("table",{update:function(){return t.resetTargets(),t.targets().fold((function(){return""}),(function(e){return"caption"===ye(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})}Fr.add("table",(function(e){var t,n,r,o=(t=function(){return Xo(e)},n=function(){return $l(ni(e))},r=Ls.selectedSelector,{get:function(){return Nr(t(),r).fold((function(){return n().map(Ir).getOrThunk(Hr)}),(function(e){return Lr(e)}))}}),i=Jf(e,o),a=Ca(e),u=Yf(e,a.lazyResize,i),c=Bu(e,a.lazyWire,o),s=vc();return hc(e,c,u,o,s),pc(e,c,o),ui(e,o,c,u),ed(e,i,s),Qf(e,i,s),Zf(e),e.on("PreInit",(function(){e.serializer.addTempAttr(Ls.firstSelected),e.serializer.addTempAttr(Ls.lastSelected),e.formatter.register(rf)})),e.getParam("table_tab_navigation",!0,"boolean")&&e.on("keydown",(function(t){var n,r,o,i,a;r=e,o=c,(n=t).keyCode===hf.TAB&&(i=Xo(r),a=function(e){var t=ye(e);return ie(e,i)||m(vf,t)},(t=r.selection.getRng()).collapsed&&(t=tt.fromDom(t.startContainer),$t(t,a).each((function(e){n.preventDefault(),(n.shiftKey?Kc:Xc)(r,a,e,o).each((function(e){r.selection.setRng(e)}))}))))})),e.on("remove",(function(){a.destroy()})),Wu(e,s,a,i)}))}()},a0a6:function(e,t,n){"use strict";function r(e){return-1!==v.indexOf(e)}function o(e,t,n){var o,i,a,u,c,s=t.$props.value||"",l=t.$props.initialValue||"";n.setContent(s||l),t.$listeners.input&&(i=n,l=(o=t).$props.modelEvents||null,l=Array.isArray(l)?l.join(" "):l,o.$watch("value",(function(e,t){i&&"string"==typeof e&&e!==t&&e!==i.getContent({format:o.$props.outputFormat})&&i.setContent(e)})),i.on(l||"change keyup undo redo",(function(){o.$emit("input",i.getContent({format:o.$props.outputFormat}))}))),a=e,u=t.$listeners,c=n,Object.keys(u).filter(r).forEach((function(e){var t=u[e];"function"==typeof t&&("onInit"===e?t(a,c):c.on(e.substring(2),(function(e){return t(e,c)})))}))}function i(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++b+String(t)}function a(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")}function u(){return{listeners:[],scriptId:i("tiny-script"),scriptLoaded:!1}}function c(e){return function(){var t,n=x(x({},e.$props.init),{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:(n=e.$props.init&&e.$props.init.plugins,t=e.$props.plugins,a(n).concat(a(t))),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){(e.editor=t).on("init",(function(n){return o(n,e,t)})),e.$props.init&&"function"==typeof e.$props.init.setup&&e.$props.init.setup(t)}});null!==(t=e.element)&&"textarea"===t.tagName.toLowerCase()&&(e.element.style.visibility=""),Object(w.a)().init(n)}}n.r(t);var s,l=n("683d"),f=n("a701"),d=n("ca00"),m=(n("2ef0"),n("a9e3"),n("b680"),n("5530")),g=n("5880"),h=n("e5625"),p=n.n(h),v=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],b=0,y=(s=u(),{load:function(e,t,n){s.scriptLoaded?n():(s.listeners.push(n),e.getElementById(s.scriptId)||function(e,t,n,r){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n;var i=function(){o.removeEventListener("load",i),r()};o.addEventListener("load",i),t.head&&t.head.appendChild(o)}(s.scriptId,e,t,(function(){s.listeners.forEach((function(e){return e()})),s.scriptLoaded=!0})))},reinitialize:function(){s=u()}}),w=n("c4a9"),x=(h={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)});h={props:h,created:function(){this.elementId=this.$props.id||i("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){var e,t;this.element=this.$el,null!==Object(w.a)()?c(this)():this.element&&this.element.ownerDocument&&(t=this.$props.cloudChannel||"5",e=this.$props.apiKey||"no-api-key",t=null==this.$props.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc,y.load(this.element.ownerDocument,t,c(this)))},beforeDestroy:function(){null!==Object(w.a)()&&Object(w.a)().remove(this.editor)},render:function(e){return this.inlineEditor?(t=this.elementId,n=this.$props.tagName,e(n||"div",{attrs:{id:t}})):e("textarea",{attrs:{id:this.elementId},style:{visibility:"hidden"}});var t,n}},n("030f"),n("fc39"),n("4ea8"),n("3aea"),n("07d1"),n("84ec"),n("9434"),m={components:{Editor:h},props:{value:{type:String,default:""},id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},disabled:{type:Boolean,default:!1},height:{type:Number,default:400}},computed:Object(m.a)({},Object(g.mapState)("setting",["languageId","theme"])),data:function(){return{init:{selector:this.id,language_url:"/static/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"/static/tinymce/skins/ui/oxide",content_css:"/static/tinymce/skins/content/default/content.css",plugins:"lists image media table wordcount",toolbar:"undo redo |  formatselect | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat",height:this.height,branding:!1,menubar:!1,images_upload_handler:function(e,t){t("data:image/jpeg;base64,"+e.base64())},setup:function(e){e.on("init",(function(e){}))}},editorId:this.id,content:this.value,active:!1}},watch:{value:function(e){this.content=e},content:function(e){this.$emit("input",e)}},mounted:function(){this.active=!0,1==this.languageId?(this.init.language_url="/static/tinymce/langs/hy.js",this.init.language="hy"):(this.init.language_url="/static/tinymce/langs/zh_CN.js",this.init.language="zh_CN"),"night"==this.theme.mode?this.init.skin_url="/static/tinymce/skins/ui/oxide-dark":this.init.skin_url="/static/tinymce/skins/ui/oxide",p.a.init({})},destroyed:function(){this.active=!1},methods:{tinymceInit:function(){p.a.init({})},tinymceDestroy:function(e){p.a.remove("#"+e)},inset:function(e){p.a.execCommand("mceInsertContent",!1,"".concat(e))}}},n("f4bc"),g=n("2877"),m=Object(g.a)(m,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("div",{staticClass:"Tinymce"},[e.active?t("editor",{attrs:{id:e.editorId,init:e.init,disabled:e.disabled,height:e.height},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}):e._e()],1)}),[],!1,null,null,null).exports,m={name:"edit",i18n:n("9225"),components:{Tinymce:m},data:function(){var e=this;return{type:"",pageTitle:"",form:{},id:0,rules:{title:[{validator:function(t,n,r){""===n?r(new Error(e.$t("401"))):r()},trigger:"change",required:!0}],content:[{validator:function(t,n,r){""===n?r(new Error(e.$t("402"))):r()},trigger:"change",required:!0}],helpType:[{validator:function(t,n,r){""===n?r(new Error(e.$t("403"))):r()},trigger:"change",required:!0}]},helpType:[],saveLoading:!1,disabled:!1,spinning:!1,hackReset:!0}},watch:{$route:function(){var e=this;this.hackReset=!1,this.$nextTick((function(){e.hackReset=!0}))}},created:function(){this.getHelpType(),"add"===this.$route.query.type?(this.type="add",this.pageTitle=this.$t("37"),this.form={status:1,helpType:"",title:"",content:"",isTop:0,remark:""}):"edit"===this.$route.query.type&&0<this.$route.query.id?(this.type="edit",this.pageTitle=this.$t("78"),this.id=this.$route.query.id,this.getHelpCenter()):(this.disabled=!0,this.spinning=!0)},methods:{getHelpType:function(){var e=this;Object(f.c)("HelpType").then((function(t){1===t.data.code&&(e.helpType=t.data.data)}))},getHelpCenter:function(){var e=this;this.disabled=!0,this.spinning=!0,Object(l.b)(this.id).then((function(t){1===t.data.code&&(t=t.data.data,e.pageTitle=e.$t("78")+"-"+t.title,e.form={status:t.status,helpType:t.helpType,title:t.title,content:t.content,isTop:t.isTop,remark:t.remark,id:t.id,version:t.version},e.disabled=!1,e.spinning=!1)}))},save:function(){var e=this;this.$refs.form.validate((function(t){if(t)if("add"==e.type){if(65500<=Object(d.i)(e.form.content))return e.$message.warning(e.$t("404")),!1;e.saveLoading=!0,e.disabled=!0,Object(l.a)(e.form).then((function(t){1===t.data.code&&(e.saveLoading=!1,e.disabled=!1,e.form={status:1,helpType:"",title:"",content:"",isTop:0,remark:""},e.$message.success(e.$t("205")),e.$refreshPage("/HelpCenterManage"))}))}else if("edit"==e.type){if(65500<=Object(d.i)(e.form.content))return e.$message.warning(e.$t("404")),!1;e.saveLoading=!0,e.disabled=!0,Object(l.e)(e.form).then((function(t){1===t.data.code&&(e.saveLoading=!1,e.disabled=!1,e.$message.success(e.$t("205")),e.getHelpCenter(),e.$refreshPage("/HelpCenterManage"))}))}}))}}},n("4e65"),m=Object(g.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"HelpCenterAddEdit"},[n("a-page-header",{attrs:{title:e.pageTitle}},[n("template",{slot:"extra"},[n("a-space",[n("a-button",{attrs:{type:"primary",loading:e.saveLoading,disabled:e.disabled},on:{click:e.save}},[e._v(e._s(e.$t("119")))])],1)],1)],2),n("a-spin",{attrs:{spinning:e.spinning}},[n("a-form-model",{ref:"form",attrs:{model:e.form,rules:e.rules}},[n("a-form-model-item",{attrs:{label:e.$t("236"),prop:"title"}},[n("a-input",{attrs:{"max-length":200},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),n("a-form-model-item",{attrs:{label:e.$t("400"),prop:"content"}},[e.hackReset?n("tinymce",{model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}}):e._e()],1),n("a-form-model-item",{attrs:{label:e.$t("398"),prop:"helpType"}},[n("a-select",{model:{value:e.form.helpType,callback:function(t){e.$set(e.form,"helpType",t)},expression:"form.helpType"}},e._l(e.helpType,(function(t,r){return n("a-select-option",{key:r,attrs:{value:t.code,disabled:0==t.status}},[e._v(" "+e._s(t.code)+" ")])})),1)],1),n("a-form-model-item",{attrs:{label:e.$t("399")}},[n("a-switch",{attrs:{checked:0!=e.form.isTop,size:"small"},on:{click:function(t){e.form.isTop=0==e.form.isTop?1:0}}})],1),n("a-form-model-item",{attrs:{label:e.$t("35")}},[n("a-switch",{attrs:{checked:0!=e.form.status,size:"small"},on:{click:function(t){e.form.status=0==e.form.status?1:0}}})],1),n("a-form-model-item",{attrs:{label:e.$t("34")}},[n("a-input",{attrs:{"max-length":200},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1)}),[],!1,null,"0d825fa2",null).exports;t.default=m},b680:function(e,t,n){"use strict";var r=n("23e7"),o=n("a691"),i=n("408a"),a=n("1148"),u=(n=n("d039"),1..toFixed),c=Math.floor,s=function(e,t,n){return 0===t?n:t%2==1?s(e,t-1,n*e):s(e*e,t/2,n)};r({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){u.call({})}))},{toFixed:function(e){function t(e,t){for(var n=-1,r=t;++n<6;)r+=e*f[n],f[n]=r%1e7,r=c(r/1e7)}function n(e){for(var t=6,n=0;0<=--t;)n+=f[t],f[t]=c(n/e),n=n%e*1e7}var r,u=i(this),l=o(e),f=[0,0,0,0,0,0],d="",m="0",g=function(){for(var e,t=6,n="";0<=--t;)""===n&&0!==t&&0===f[t]||(e=String(f[t]),n=""===n?e:n+a.call("0",7-e.length)+e);return n};if(l<0||20<l)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||1e21<=u)return String(u);if(u<0&&(d="-",u=-u),1e-21<u)if(u=(e=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(u*s(2,69,1))-69)<0?u*s(2,-e,1):u/s(2,e,1),u*=4503599627370496,0<(e=52-e)){for(t(0,u),r=l;7<=r;)t(1e7,0),r-=7;for(t(s(10,r,1),0),r=e-1;23<=r;)n(1<<23),r-=23;n(1<<r),t(1,1),n(2),m=g()}else t(0,u),t(1<<-e,0),m=g()+a.call("0",l);return 0<l?d+((g=m.length)<=l?"0."+a.call("0",l-g)+m:m.slice(0,g-l)+"."+m.slice(g-l)):d+m}})},c4a9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r=function(){var t="undefined"!=typeof window?window:e;return t&&t.tinymce?t.tinymce:null}}).call(this,n("c8ba"))},cdd9:function(e,t){!function(){"use strict";function e(){}function t(e){return function(){return e}}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=t(!1),i=t(!0),a=function(){return u},u={fold:function(e,t){return e()},is:o,isSome:o,isNone:i,getOr:l,getOrThunk:s,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:t(null),getOrUndefined:t(void 0),or:l,orThunk:s,map:a,each:e,bind:a,exists:o,forall:i,filter:a,equals:c,equals_:c,toArray:function(){return[]},toString:t("none()")};function c(e){return e.isNone()}function s(e){return e()}function l(e){return e}function f(e,t,n,r){return function(e,t){for(var n=be(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}(e,(function(e,o){(t(e,o)?n:r)(e,o)})),1}function d(e,t){return ye.call(e,t)&&void 0!==e[t]&&null!==e[t]}function m(e){return function(t){return t=typeof(n=t),(null===n?"null":"object"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t)===e;var n}}function g(e){return!(null==e)}function h(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Ce(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Te.apply(t,e[n])}return t}function p(e){return t=e,(e=0)<=e&&e<t.length?ve.some(t[e]):ve.none();var t}function v(e,t,n){!function(e,t,n){if(!(we(n)||ke(n)||Oe(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")}(e.dom,t,n)}function b(e){return e.getParam("image_dimensions",!0,"boolean")}function y(e,t){return Math.max(parseInt(e,10),parseInt(t,10))}function w(e){return new De((function(t){function n(e){r.parentNode&&r.parentNode.removeChild(r),t(e)}var r=document.createElement("img");r.onload=function(){var e=y(r.width,r.clientWidth),t=y(r.height,r.clientHeight);n(De.resolve({width:e,height:t}))},r.onerror=function(){n(De.reject("Failed to get image dimensions for: "+e))};var o=r.style;o.visibility="hidden",o.position="fixed",o.bottom=o.left="0px",o.width=o.height="auto",document.body.appendChild(r),r.src=e}))}function x(e){return e&&e.replace(/px$/,"")}function C(e){return 0<e.length&&/^[0-9]+$/.test(e)&&(e+="px"),e}function S(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e}function k(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))}function O(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?x(e.style.marginLeft):""}function T(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?x(e.style.marginTop):""}function _(e){return e.style.borderWidth?x(e.style.borderWidth):""}function E(e,t){return e.hasAttribute(t)?e.getAttribute(t):""}function D(e,t){return e.style[t]||""}function A(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName}function z(e,t,n){""===n?e.removeAttribute(t):e.setAttribute(t,n)}function R(e){var t;A(e)?(t=e.parentNode,ze.insertAfter(e,t),ze.remove(t)):(t=e,e=ze.create("figure",{class:"image"}),ze.insertAfter(e,t),e.appendChild(t),e.appendChild(ze.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false")}function M(e,t){var n=e.getAttribute("style");0<(n=t(null!==n?n:"")).length?(e.setAttribute("style",n),e.setAttribute("data-mce-style",n)):e.removeAttribute("style")}function N(e,t){return function(e,n,r){e.style[n]?(e.style[n]=C(r),M(e,t)):z(e,n,r)}}function B(e,t){return e.style[t]?x(e.style[t]):E(e,t)}function P(e,t){t=C(t),e.style.marginLeft=t,e.style.marginRight=t}function H(e,t){t=C(t),e.style.marginTop=t,e.style.marginBottom=t}function L(e,t){t=C(t),e.style.borderWidth=t}function I(e,t){e.style.borderStyle=t}function F(e){return"FIGURE"===e.nodeName}function V(e){return 0===ze.getAttrib(e,"alt").length&&"presentation"===ze.getAttrib(e,"role")}function j(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}}function U(e,t){var n=document.createElement("img");return z(n,"style",t.style),!O(n)&&""===t.hspace||P(n,t.hspace),!T(n)&&""===t.vspace||H(n,t.vspace),!_(n)&&""===t.border||L(n,t.border),!D(n,"borderStyle")&&""===t.borderStyle||I(n,t.borderStyle),e(n.getAttribute("style"))}function W(e,t){return{src:E(t,"src"),alt:V(n=t)?"":E(n,"alt"),title:E(t,"title"),width:B(t,"width"),height:B(t,"height"),class:E(t,"class"),style:e(E(t,"style")),caption:A(t),hspace:O(t),vspace:T(t),border:_(t),borderStyle:D(t,"borderStyle"),isDecorative:V(t)};var n}function q(e,t,n,r,o){n[r]!==t[r]&&o(e,r,n[r])}function $(e,t){return function(n,r,o){e(n,o),M(n,t)}}function G(e,t){return t=e.dom.styles.parse(t),t=S(t),t=e.dom.styles.parse(e.dom.styles.serialize(t)),e.dom.styles.serialize(t)}function X(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||k(t))?null:t}function K(t,n){var r,o=t.dom,i=(a=t.schema.getTextBlockElements(),f(a,(function(e,n){return!t.schema.isValidChild(n,"figure")}),(r=a={},function(e,t){r[t]=e}),e),a),a=o.getParent(n.parentNode,(function(e){return d(i,e.nodeName)}),t.getBody());return a?o.split(a,n):n}function Y(e,t){var n=function(e,t){var n=document.createElement("img");return Me(e,r(r({},t),{caption:!1}),n),Re(n,t.alt,t.isDecorative),t.caption?(t=ze.create("figure",{class:"image"}),t.appendChild(n),t.appendChild(ze.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false",t):n}((function(t){return G(e,t)}),t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML),t=e.dom.select('*[data-mce-id="__mcenew"]')[0],e.dom.setAttrib(t,"data-mce-id",null),F(t)?(n=K(e,t),e.selection.select(n)):e.selection.select(t)}function J(e,t){var n,r,o,i,a=X(e);function u(){i.onload=i.onerror=null,r.selection&&(r.selection.select(i),r.nodeChanged())}Me((function(t){return G(e,t)}),t,a),e.dom.setAttrib(a,"src",a.getAttribute("src")),F(a.parentNode)?(n=a.parentNode,K(e,n),e.selection.select(a.parentNode)):(e.selection.select(a),r=e,o=t,(i=a).onload=function(){o.width||o.height||!b(r)||r.dom.setAttribs(i,{width:String(i.clientWidth),height:String(i.clientHeight)}),u()},i.onerror=u)}function Q(e){return we(e.value)?e.value:""}function Z(e){return void 0===e&&(e=Q),function(t){return t?ve.from(t).map((function(t){return Le(t,e)})):ve.none()}}function ee(e){var t,n,r=Fe((function(t){return e.convertURL(t.value||t.url,"src")})),o=new De((function(t){!function(e,t){e=e.getParam("image_list",!1),"string"==typeof e?Ae.send({url:e,success:function(e){t(JSON.parse(e))}}):"function"==typeof e?e(t):t(e)}(e,(function(e){t(r(e).map((function(e){return h([[{text:"None",value:""}],e])})))}))})),i=Ve(e.getParam("image_class_list")),a=e.getParam("image_advtab",!1,"boolean"),u=e.getParam("image_uploadtab",!0,"boolean"),c=g(e.getParam("images_upload_url")),s=g(e.getParam("images_upload_handler")),l=(n=X(t=e))?W((function(e){return G(t,e)}),n):j(),f=e.getParam("image_description",!0,"boolean"),d=e.getParam("image_title",!1,"boolean"),m=b(e),p=e.getParam("image_caption",!1,"boolean"),v=e.getParam("a11y_advanced_options",!1,"boolean"),y=e.getParam("automatic_uploads",!0,"boolean"),w=ve.some(e.getParam("image_prepend_url","","string")).filter((function(e){return we(e)&&0<e.length}));return o.then((function(e){return{image:l,imageList:e,classList:i,hasAdvTab:a,hasUploadTab:u,hasUploadUrl:c,hasUploadHandler:s,hasDescription:f,hasImageTitle:d,hasDimensions:m,hasImageCaption:p,prependURL:w,hasAccessibilityOptions:v,automaticUploads:y}}))}function te(e){var t=e.imageList.map((function(e){return{name:"images",type:"listbox",label:"Image list",items:e}})),n={name:"alt",type:"input",label:"Alternative description",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},r=e.classList.map((function(e){return{name:"classes",type:"listbox",label:"Class",items:e}}));return h([[{name:"src",type:"urlinput",filetype:"image",label:"Source"}],t.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],e.hasDescription?[n]:[],e.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],e.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[{type:"grid",columns:2,items:h([r.toArray(),e.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])}]])}function ne(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}}function re(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}}function oe(e,t){var n,r=t.getData();e=e,n=r.src.value,(/^(?:[a-zA-Z]+:)?\/\//.test(n)?ve.none():e.prependURL.bind((function(e){return n.substring(0,e.length)!==e?ve.some(e+n):ve.none()}))).each((function(e){t.setData({src:{value:e,meta:r.src.meta}})}))}function ie(e,t){var n,r,o=t.getData();void 0!==(r=o.src.meta)&&(o=Be({},o),n=o,r=r,(e=e).hasDescription&&we(r.alt)&&(n.alt=r.alt),e.hasAccessibilityOptions&&(n.isDecorative=r.isDecorative||n.isDecorative||!1),e.hasImageTitle&&we(r.title)&&(n.title=r.title),e.hasDimensions&&(we(r.width)&&(n.dimensions.width=r.width),we(r.height)&&(n.dimensions.height=r.height)),we(r.class)&&je(e.classList,r.class).each((function(e){n.classes=e.value})),e.hasImageCaption&&ke(r.caption)&&(n.caption=r.caption),e.hasAdvTab&&(we(r.style)&&(n.style=r.style),we(r.vspace)&&(n.vspace=r.vspace),we(r.border)&&(n.border=r.border),we(r.hspace)&&(n.hspace=r.hspace),we(r.borderstyle)&&(n.borderstyle=r.borderstyle)),t.setData(o))}function ae(e,t,n,r){var o,i,a,u,c;oe(t,r),ie(t,r),o=e,i=t,a=n,c=(u=r).getData(),e=c.src.value,(c=c.src.meta||{}).width||c.height||!i.hasDimensions||(0<e.length?o.imageSize(e).then((function(e){a.open&&u.setData({dimensions:e})})).catch((function(e){})):u.setData({dimensions:{width:"",height:""}})),e=t,t=n,r=(n=r).getData(),r=je(e.imageList,r.src.value),t.prevImage=r,n.setData({images:r.map((function(e){return e.value})).getOr("")})}function ue(e,t,n){var r=S(e(n.style)),o=Be({},n);return o.vspace=(n=r)["margin-top"]&&n["margin-bottom"]&&n["margin-top"]===n["margin-bottom"]?x(String(n["margin-top"])):"",o.hspace=(n=r)["margin-right"]&&n["margin-left"]&&n["margin-right"]===n["margin-left"]?x(String(n["margin-right"])):"",o.border=(n=r)["border-width"]?x(String(n["border-width"])):"",o.borderstyle=(n=r)["border-style"]?String(n["border-style"]):"",o.style=t(e(t(r))),o}function ce(e,t,n,r){var o=r.getData();r.block("Uploading image"),p(o.fileinput).fold((function(){r.unblock()}),(function(o){function i(){r.unblock(),URL.revokeObjectURL(c)}function a(o){r.setData({src:{value:o,meta:{}}}),r.showTab("general"),ae(e,t,n,r)}var u,c=URL.createObjectURL(o);u=o,new De((function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(){t(n.error.message)},n.readAsDataURL(u)})).then((function(n){n=e.createBlobCache(o,c,n),t.automaticUploads?e.uploadImage(n).then((function(e){a(e.url),i()})).catch((function(t){i(),e.alertErr(t)})):(e.addToBlobCache(n),a(n.blobUri()),r.unblock())}))}))}function se(e,t,n){return function(r,o){var i,a,u,c,s,l;"src"===o.name?ae(e,t,n,r):"images"===o.name?(i=e,a=t,u=n,s=(c=r).getData(),(l=je(a.imageList,s.images)).each((function(e){""===s.alt||u.prevImage.map((function(e){return e.text===s.alt})).getOr(!1)?""===e.value?c.setData({src:e,alt:u.prevAlt}):c.setData({src:e,alt:e.text}):c.setData({src:e})})),u.prevImage=l,ae(i,a,u,c)):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?(l=e,a=(i=r).getData(),a=ue(l.parseStyle,l.serializeStyle,a),i.setData(a)):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?function(e,t,n){t=Be(ne(t.image),n.getData()),t=U(e.normalizeCss,re(t,!1)),n.setData({style:t})}(e,t,r):"fileinput"===o.name?ce(e,t,n,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}}function le(e){return function(t){var n,r,o={prevImage:je((r=t).imageList,r.image.src),prevAlt:r.image.alt,open:!0};return{title:"Insert/Edit Image",size:"normal",body:(r=t).hasAdvTab||r.hasUploadUrl||r.hasUploadHandler?{type:"tabpanel",tabs:h([[We(r)],r.hasAdvTab?[Ue(r)]:[],r.hasUploadTab&&(r.hasUploadUrl||r.hasUploadHandler)?[$e(r)]:[]])}:{type:"panel",items:qe(r)},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ne(t.image),onSubmit:e.onSubmit(t),onChange:se(e,t,o),onClose:(n=o,function(){n.open=!1})}}}function fe(e){var t,n,r,o,i,a,u,c,s,l={onSubmit:function(e){return function(t){var n=Be(ne(e.image),t.getData());s.execCommand("mceUpdateImage",!1,re(n,e.hasAccessibilityOptions)),s.editorUpload.uploadImagesAuto(),t.close()}},imageSize:function(e){return w(c.documentBaseURI.toAbsolute(e)).then((function(e){return{width:String(e.width),height:String(e.height)}}))},addToBlobCache:function(e){u.editorUpload.blobCache.add(e)},createBlobCache:function(e,t,n){return a.editorUpload.blobCache.create({blob:e,blobUri:t,name:e.name?e.name.replace(/\.[^\.]+$/,""):null,filename:e.name,base64:n.split(",")[1]})},alertErr:function(e){i.windowManager.alert(e)},normalizeCss:function(e){return G(o,e)},parseStyle:function(e){return r.dom.parseStyle(e)},serializeStyle:function(e,t){return n.dom.serializeStyle(e,t)},uploadImage:(t=n=r=o=i=a=u=c=s=e,function(e){return Pe(t).upload([e],!1).then((function(e){return 0===e.length?De.reject("Failed to upload image"):!1===e[0].status?De.reject(e[0].error):e[0]}))})};return{open:function(){ee(e).then(le(l)).then(e.windowManager.open)}}}function de(e){e.addCommand("mceImage",fe(e).open),e.addCommand("mceUpdateImage",(function(t,n){e.undoManager.transact((function(){var t,o,i,a;o=n,(a=X(t=e))?(i=W((function(e){return G(t,e)}),a),(i=r(r({},i),o)).src?J(t,i):(i=t,(a=a)&&(a=i.dom.is(a.parentNode,"figure.image")?a.parentNode:a,i.dom.remove(a),i.focus(),i.nodeChanged(),i.dom.isEmpty(i.getBody())&&(i.setContent(""),i.selection.setCursorLocation())))):o.src&&Y(t,r(r({},j()),o))}))}))}function me(e){return function(t){for(var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};n--;){var o=t[n];!function(e){return e=e.attr("class"),e&&/\bimage\b/.test(e)}(o)||(o.attr("contenteditable",e?"false":null),He.each(o.getAll("figcaption"),r))}}}var ge,he,pe=function(e){function n(){return c}function r(t){return t(e)}var a=t(e),c={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:i,isNone:o,getOr:a,getOrThunk:a,getOrDie:a,getOrNull:a,getOrUndefined:a,or:n,orThunk:n,map:function(t){return pe(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?c:u},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(o,(function(t){return n(e,t)}))}};return c},ve={some:pe,none:a,from:function(e){return null==e?u:pe(e)}},be=Object.keys,ye=Object.hasOwnProperty,we=(a=function(e){return function(t){return typeof t===e}},m("string")),xe=m("object"),Ce=m("array"),Se=(ge=null,function(e){return ge===e}),ke=a("boolean"),Oe=a("number"),Te=Array.prototype.push,_e=("undefined"!=typeof window||Function("return this;")(),function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}),Ee={fromHtml:function(e,t){if(t=(t||document).createElement("div"),t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw new Error("HTML must have a single root node");return _e(t.childNodes[0])},fromTag:function(e,t){return e=(t||document).createElement(e),_e(e)},fromText:function(e,t){return e=(t||document).createTextNode(e),_e(e)},fromDom:_e,fromPoint:function(e,t,n){return ve.from(e.dom.elementFromPoint(t,n)).map(_e)}},De=(a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tinymce.util.Tools.resolve("tinymce.util.Promise")),Ae=tinymce.util.Tools.resolve("tinymce.util.XHR"),ze=a.DOM,Re=function(e,t,n){var r;n?(ze.setAttrib(e,"role","presentation"),r=Ee.fromDom(e),v(r,"alt","")):(Se(t)?(r=Ee.fromDom(e),n="alt",r.dom.removeAttribute(n)):(r=Ee.fromDom(e),v(r,"alt",t)),"presentation"===ze.getAttrib(e,"role")&&ze.setAttrib(e,"role",""))},Me=function(e,t,n){var r=W(e,n);q(n,r,t,"caption",(function(e,t,n){return R(e),0})),q(n,r,t,"src",z),q(n,r,t,"title",z),q(n,r,t,"width",N(0,e)),q(n,r,t,"height",N(0,e)),q(n,r,t,"class",z),q(n,r,t,"style",$((function(e,t){return z(e,"style",t),0}),e)),q(n,r,t,"hspace",$(P,e)),q(n,r,t,"vspace",$(H,e)),q(n,r,t,"border",$(L,e)),q(n,r,t,"borderStyle",$(I,e)),n=n,r=r,(t=t).alt===r.alt&&t.isDecorative===r.isDecorative||Re(n,t.alt,t.isDecorative)},Ne=Object.prototype.hasOwnProperty,Be=(he=function(e,t){return xe(e)&&xe(t)?Be(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o,i=e[r];for(o in i)Ne.call(i,o)&&(n[o]=he(n[o],i[o]))}return n}),Pe=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),He=tinymce.util.Tools.resolve("tinymce.util.Tools"),Le=function(e,t){var n=[];return He.each(e,(function(e){var r,o=we((r=e).text)?r.text:we(r.title)?r.title:"";void 0!==e.menu?(r=Le(e.menu,t),n.push({text:o,items:r})):(e=t(e),n.push({text:o,value:e}))})),n},Ie=function(e,t){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return ve.none()}(e,(function(e){return Object.prototype.hasOwnProperty.call(e,"items")?Ie(e.items,t):e.value===t?ve.some(e):ve.none()}))},Fe=Z,Ve=function(e){return Z(Q)(e)},je=function(e,t){return e.bind((function(e){return Ie(e,t)}))},Ue=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},We=function(e){return{title:"General",name:"general",items:te(e)}},qe=te,$e=function(e){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}};n.add("image",(function(e){var t,n;(t=e).on("PreInit",(function(){t.parser.addNodeFilter("figure",me(!0)),t.serializer.addNodeFilter("figure",me(!1))})),(n=e).ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:fe(n).open,onSetup:function(e){return n.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",e.setActive).unbind}}),n.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:fe(n).open}),n.ui.registry.addContextMenu("image",{update:function(e){return F(e)||"IMG"===e.nodeName&&!k(e)?["image"]:[]}}),de(e)}))}()},e5625:function(e,t,n){(function(t){!function(){"use strict";function n(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}function r(e){return l((function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0}))}function o(e,t){return n=r(e),o=function(e){return n=t,Array.prototype.slice.call(e).sort(n);var n},l((function(e,t){return n.eq(o(e),o(t))}));var n,o}function i(e){return l((function(t,n){var r=Object.keys(t),i=Object.keys(n);if(!o(f).eq(r,i))return!1;for(var a=r.length,u=0;u<a;u++){var c=r[u];if(!e.eq(t[c],n[c]))return!1}return!0}))}function a(){}function u(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}}function c(e){return function(){return e}}function s(e){return e}var l=function(e){return{eq:e}},f=l((function(e,t){return e===t})),d=l((function(e,t){if(e===t)return!0;var o=n(e);return o===n(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(o)?e===t:"array"===o?r(d).eq(e,t):"object"===o&&i(d).eq(e,t))}));function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function g(e){return function(t){return!e(t)}}function h(e){return function(){throw new Error(e)}}function p(e){return e()}function v(e){e()}var b=c(!1),y=c(!0),w=function(){return x},x={fold:function(e,t){return e()},is:b,isSome:b,isNone:y,getOr:k,getOrThunk:S,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:k,orThunk:S,map:w,each:a,bind:w,exists:b,forall:y,filter:w,equals:C,equals_:C,toArray:function(){return[]},toString:c("none()")};function C(e){return e.isNone()}function S(e){return e()}function k(e){return e}function O(e){return null==e}function T(e){return!O(e)}function _(e,t){return xe.call(e,t)}function E(e,t){return-1<_(e,t)}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1}function A(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function z(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function R(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)}function M(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}function N(e,t,n){return R(e,(function(e){n=t(n,e)})),n}function B(e,t,n){return z(e,(function(e){n=t(n,e)})),n}function P(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return ce.some(i);if(n(i,r))break}return ce.none()}(e,t,b)}function H(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return ce.some(n);return ce.none()}function L(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!ge(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ce.apply(t,e[n])}return t}(A(e,t))}function I(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0}function F(e){return(e=we.call(e,0)).reverse(),e}function V(e,t){return M(e,(function(e){return!E(t,e)}))}function j(e,t){return 0<=t&&t<e.length?ce.some(e[t]):ce.none()}function U(e){return j(e,0)}function W(e){return j(e,e.length-1)}function q(e,t){for(var n=ke(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}function $(e,t){return Te(e,(function(e,n){return{k:n,v:t(e,n)}}))}function G(e){return function(t,n){e[n]=t}}function X(e,t,n,r){return q(e,(function(e,o){(t(e,o)?n:r)(e,o)})),1}function K(e,t){var n={},r={};return X(e,t,G(n),G(r)),{t:n,f:r}}function Y(e,t){var n={};return X(e,t,G(n),a),n}function J(e){return t=function(e){return e},n=[],q(e,(function(e,r){n.push(t(e,r))})),n;var t,n}function Q(e,t){return _e(e,t)?ce.from(e[t]):ce.none()}function Z(e,t){return _e(e,t)&&void 0!==e[t]&&null!==e[t]}function ee(e,t,n){var r,o;if(!e)return!1;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return!1;return!0}function te(e,t){var n=[];return ee(e,(function(r,o){n.push(t(r,o,e))})),n}function ne(e,t){var n=[];return ee(e,(function(r,o){t&&!t(r,o,e)||n.push(r)})),n}function re(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function oe(e,t,n,r){for(var o=ve(n)?e[0]:n,i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o}function ie(e,t,n){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1}function ae(e){return e[e.length-1]}var ue=function(e){function t(){return o}function n(t){return t(e)}var r=c(e),o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:y,isNone:b,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:t,orThunk:t,map:function(t){return ue(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?o:x},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(b,(function(t){return n(e,t)}))}};return o},ce={some:ue,none:w,from:function(e){return null==e?x:ue(e)}},se=function(e){return function(t){return t=typeof(n=t),(null===n?"null":"object"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t)===e;var n}},le=function(e){return function(t){return typeof t===e}},fe=function(e){return function(t){return e===t}},de=se("string"),me=se("object"),ge=se("array"),he=fe(null),pe=le("boolean"),ve=fe(void 0),be=le("function"),ye=le("number"),we=Array.prototype.slice,xe=Array.prototype.indexOf,Ce=Array.prototype.push,Se=be(Array.from)?Array.from:function(e){return we.call(e)},ke=Object.keys,Oe=Object.hasOwnProperty,Te=function(e,t){var n={};return q(e,(function(e,r){r=t(e,r),n[r.k]=r.v})),n},_e=function(e,t){return Oe.call(e,t)},Ee=Array.isArray,De=function(){return(De=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ae(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function ze(e,t){var n=String(t).toLowerCase();return P(e,(function(e){return e.search(n)}))}function Re(e,t){return-1!==e.indexOf(t)}function Me(e){return window.matchMedia(e).matches}function Ne(e){return null==e?"":(""+e).replace(cn,"")}function Be(e,t){return t?!("array"!==t||!Ee(e))||typeof e===t:void 0!==e}function Pe(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n}function He(e,t){if(1!==(e=e.dom).nodeType)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}function Le(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount}function Ie(e,t){return e.dom===t.dom}function Fe(e,t){return n=e.dom,e=t.dom,t=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(n.compareDocumentPosition(e)&t);var n}function Ve(e,t){return(an().browser.isIE()?Fe:function(e,t){return e=e.dom,t=t.dom,e!==t&&e.contains(t)})(e,t)}function je(e){return e.dom.nodeName.toLowerCase()}function Ue(e){return e.dom.nodeType}function We(e){return dn.fromDom(e.dom.ownerDocument)}function qe(e){return hn(e)?e:We(e)}function $e(e){return dn.fromDom(qe(e).dom.defaultView)}function Ge(e){return ce.from(e.dom.parentNode).map(dn.fromDom)}function Xe(e){return ce.from(e.dom.previousSibling).map(dn.fromDom)}function Ke(e){return ce.from(e.dom.nextSibling).map(dn.fromDom)}function Ye(e){return F(Pe(e,Xe))}function Je(e){return Pe(e,Ke)}function Qe(e,t){return e=e.dom.childNodes,ce.from(e[t]).map(dn.fromDom)}function Ze(e){return Qe(e,0)}function et(e){return Qe(e,e.dom.childNodes.length-1)}function tt(e){return pn(e)&&T(e.dom.host)}function nt(e){return tt(e)?e:function(e){if(e=e.dom.head,null==e)throw new Error("Head is not available yet");return dn.fromDom(e)}(qe(e))}function rt(e){return dn.fromDom(e.dom.host)}function ot(e,t){Ge(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))}function it(e,t){Ke(e).fold((function(){Ge(e).each((function(e){xn(e,t)}))}),(function(e){ot(e,t)}))}function at(e,t){Ze(e).fold((function(){xn(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))}function ut(e,t){z(t,(function(t){xn(e,t)}))}function ct(e){e.dom.textContent="",z(vn(e),(function(e){Cn(e)}))}function st(e){var t,n=vn(e);0<n.length&&(t=e,z(n,(function(e){ot(t,e)}))),Cn(e)}function lt(e,t){return void 0!==e?e:void 0!==t?t:0}function ft(e){e=(t=void 0!==e?e.dom:document).body.scrollLeft||t.documentElement.scrollLeft;var t=t.body.scrollTop||t.documentElement.scrollTop;return On(e,t)}function dt(e,t,n){(n=(void 0!==n?n.dom:document).defaultView)&&n.scrollTo(e,t)}function mt(e,t){an().browser.isSafari()&&be(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)}function gt(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}}function ht(e){var t=void 0===e?window:e,n=(e=t.document,ft(dn.fromDom(e)));return function(e){return e=void 0===e?window:e,ce.from(e.visualViewport)}(t).fold((function(){var e=t.document.documentElement,r=e.clientWidth;e=e.clientHeight;return gt(n.left,n.top,r,e)}),(function(e){return gt(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)}))}function pt(e){return!!e&&!Object.getPrototypeOf(e)}function vt(e){var t=e.map((function(e){return e.toLowerCase()}));return function(e){return!(!e||!e.nodeName)&&(e=e.nodeName.toLowerCase(),E(t,e))}}function bt(e){return _n(e)&&e.hasAttribute("data-mce-bogus")}function yt(e){return _n(e)&&"TABLE"===e.tagName}function wt(e){return void 0!==e.style&&be(e.style.getPropertyValue)}function xt(e,t,n){if(!(de(n)||pe(n)||ye(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")}function Ct(e,t,n){xt(e.dom,t,n)}function St(e,t){var n=e.dom;q(t,(function(e,t){xt(n,t,e)}))}function kt(e,t){return null===(t=e.dom.getAttribute(t))?void 0:t}function Ot(e,t){return ce.from(kt(e,t))}function Tt(e,t){e.dom.removeAttribute(t)}function _t(e,t){var n=e.dom;q(t,(function(e,t){!function(e,t,n){if(!de(n))throw new Error("CSS value must be a string: "+n);wt(e)&&e.style.setProperty(t,n)}(n,t,e)}))}function Et(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||Sn(e)?r:Ln(n,t)}function Dt(e,t){return e=e.dom,t=Ln(e,t),ce.from(t).filter((function(e){return 0<e.length}))}function At(e){var t={},n=e.dom;if(wt(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t}function zt(e){return P(e,mn)}function Rt(e,t){return e.children&&E(e.children,t)}function Mt(e,t,n){var r,o,i=0,a=0,u=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Et(dn.fromDom(e),"position"))return{x:i=(o=t.getBoundingClientRect()).left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,y:a=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop};for(r=t;r&&r!==n&&r.nodeType&&!Rt(r,n);)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType&&!Rt(r,n);)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=(t=dn.fromDom(t),In.isFirefox()&&"table"===je(t)?zt(vn(t)).filter((function(e){return"caption"===je(e)})).bind((function(e){return zt(Je(e)).map((function(t){var n=t.dom.offsetTop,r=e.dom.offsetTop;t=e.dom.offsetHeight;return n<=r?-t:0}))})).getOr(0):0)}return{x:i,y:a}}var Nt,Bt,Pt,Ht,Lt,It,Ft,Vt=function(){return jt(0,0)},jt=function(e,t){return{major:e,minor:t}},Ut={nu:jt,detect:function(e,t){return t=String(t).toLowerCase(),0===e.length?Vt():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);return n?(e=function(e){return Number(t.replace(n,"$"+e))},jt(e(1),e(2))):{major:0,minor:0}}(e,t)},unknown:Vt},Wt=function(e,t){return ze(e,t).map((function(e){var n=Ut.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},qt=function(e,t){return ze(e,t).map((function(e){var n=Ut.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},$t=function(e,t){return n=e,e=0,""===(t=t)||n.length>=t.length&&n.substr(e,e+t.length)===t;var n},Gt=function(e){return function(t){return t.replace(e,"")}},Xt=Gt(/^\s+|\s+$/g),Kt=Gt(/^\s+/g),Yt=Gt(/\s+$/g),Jt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qt=function(e){return function(t){return Re(t,e)}},Zt=(w=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Re(e,"edge/")&&Re(e,"chrome")&&Re(e,"safari")&&Re(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Jt],search:function(e){return Re(e,"chrome")&&!Re(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Re(e,"msie")||Re(e,"trident")}},{name:"Opera",versionRegexes:[Jt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qt("firefox")},{name:"Safari",versionRegexes:[Jt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Re(e,"safari")||Re(e,"mobile/"))&&Re(e,"applewebkit")}}],se=[{name:"Windows",search:Qt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Re(e,"iphone")||Re(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Qt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qt("linux"),versionRegexes:[]},{name:"Solaris",search:Qt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],{browsers:c(w),oses:c(se)}),en=function(e){var t=e.current,n=e.version;e=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:e("Edge"),isChrome:e("Chrome"),isIE:e("IE"),isOpera:e("Opera"),isFirefox:e("Firefox"),isSafari:e("Safari")}},tn={unknown:function(){return en({current:void 0,version:Ut.unknown()})},nu:en,edge:c("Edge"),chrome:c("Chrome"),ie:c("IE"),opera:c("Opera"),firefox:c("Firefox"),safari:c("Safari")},nn=function(e){var t=e.current,n=e.version;e=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:e("Windows"),isiOS:e("iOS"),isAndroid:e("Android"),isOSX:e("OSX"),isLinux:e("Linux"),isSolaris:e("Solaris"),isFreeBSD:e("FreeBSD"),isChromeOS:e("ChromeOS")}},rn={unknown:function(){return nn({current:void 0,version:Ut.unknown()})},nu:nn,windows:c("Windows"),ios:c("iOS"),android:c("Android"),linux:c("Linux"),osx:c("OSX"),solaris:c("Solaris"),freebsd:c("FreeBSD"),chromeos:c("ChromeOS")},on=function(e,t){var n,r,o=Zt.browsers(),i=Zt.oses(),a=Wt(o,e).fold(tn.unknown,tn.nu),u=qt(i,e).fold(rn.unknown,rn.nu);return{browser:a,os:u,deviceType:(n=a,r=e,o=t,a=(i=u).isiOS()&&!0===/ipad/i.test(r),e=i.isiOS()&&!a,t=i.isiOS()||i.isAndroid(),u=t||o("(pointer:coarse)"),o=a||!e&&t&&o("(min-device-width:768px)"),t=e||t&&!o,r=n.isSafari()&&i.isiOS()&&!1===/safari/i.test(r),{isiPad:c(a),isiPhone:c(e),isTablet:c(o),isPhone:c(t),isTouch:c(u),isAndroid:i.isAndroid,isiOS:i.isiOS,isWebView:c(r),isDesktop:c(!t&&!o&&!r)})}},an=(Pt=!(Nt=function(){return on(navigator.userAgent,Me)}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Pt||(Pt=!0,Bt=Nt.apply(null,e)),Bt}),un=(fe=navigator.userAgent,le=an(),Gt=le.browser,Jt=le.os,Qt=le.deviceType,w=/WebKit/.test(fe)&&!Gt.isEdge(),se="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,le=-1!==fe.indexOf("Windows Phone"),{opera:Gt.isOpera(),webkit:w,ie:!(!Gt.isIE()&&!Gt.isEdge())&&Gt.version.major,gecko:Gt.isFirefox(),mac:Jt.isOSX()||Jt.isiOS(),iOS:Qt.isiPad()||Qt.isiPhone(),android:Jt.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Gt.isIE()?document.documentMode||7:10,fileApi:se,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Gt.isIE(),desktop:Qt.isDesktop(),windowsPhone:le,browser:{current:Gt.current,version:Gt.version,isChrome:Gt.isChrome,isEdge:Gt.isEdge,isFirefox:Gt.isFirefox,isIE:Gt.isIE,isOpera:Gt.isOpera,isSafari:Gt.isSafari},os:{current:Jt.current,version:Jt.version,isAndroid:Jt.isAndroid,isChromeOS:Jt.isChromeOS,isFreeBSD:Jt.isFreeBSD,isiOS:Jt.isiOS,isLinux:Jt.isLinux,isOSX:Jt.isOSX,isSolaris:Jt.isSolaris,isWindows:Jt.isWindows},deviceType:{isDesktop:Qt.isDesktop,isiPad:Qt.isiPad,isiPhone:Qt.isiPhone,isPhone:Qt.isPhone,isTablet:Qt.isTablet,isTouch:Qt.isTouch,isWebView:Qt.isWebView}}),cn=/^\s*|\s*$/g,sn=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),ee(e,(function(e,o){return!1!==t.call(r,e,o,n)&&void sn(e,t,n,r)})))},ln={trim:Ne,isArray:Ee,is:Be,toArray:function(e){if(Ee(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},makeMap:function(e,t,n){var r;for(t=t||",",n=n||{},r=(e="string"==typeof(e=e||[])?e.split(t):e).length;r--;)n[e[r]]={};return n},each:ee,map:te,grep:ne,inArray:re,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o,i,a=t[r];for(o in a)!a.hasOwnProperty(o)||void 0!==(i=a[o])&&(e[o]=i)}return e},create:function(e,t,n){var r,o,i,u=0,c=(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e))[3].match(/(^|\.)(\w+)$/i)[2],s=this.createNS(e[3].replace(/\.\w+$/,""),n);if(!s[c]){if("static"===e[2])return s[c]=t,void(this.onCreate&&this.onCreate(e[2],e[3],s[c]));t[c]||(t[c]=a,u=1),s[c]=t[c],this.extend(s[c].prototype,t),e[5]&&(r=this.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=s[c],s[c]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},s[c].prototype[c]=s[c],this.each(r,(function(e,t){s[c].prototype[t]=r[t]})),this.each(t,(function(e,t){r[t]?s[c].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==c&&(s[c].prototype[t]=e)}))),this.each(t.static,(function(e,t){s[c][t]=e}))}},walk:sn,createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||Be(e,"array")?e:te(e.split(t||","),Ne)},_addCacheSuffix:function(e){var t=un.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},fn=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},dn={fromHtml:function(e,t){if(t=(t||document).createElement("div"),t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw new Error("HTML must have a single root node");return fn(t.childNodes[0])},fromTag:function(e,t){return e=(t||document).createElement(e),fn(e)},fromText:function(e,t){return e=(t||document).createTextNode(e),fn(e)},fromDom:fn,fromPoint:function(e,t,n){return ce.from(e.dom.elementFromPoint(t,n)).map(fn)}},mn=(fe=("undefined"!=typeof window||Function("return this;")(),function(e){return function(t){return Ue(t)===e}}),fe(1)),gn=fe(3),hn=fe(9),pn=fe(11),vn=function(e){return A(e.dom.childNodes,dn.fromDom)},bn=(w=be(Element.prototype.attachShadow)&&be(Node.prototype.getRootNode),c(w)),yn=w?function(e){return dn.fromDom(e.dom.getRootNode())}:qe,wn=function(e){return T(e.dom.shadowRoot)},xn=function(e,t){e.dom.appendChild(t.dom)},Cn=function(e){e=e.dom,null!==e.parentNode&&e.parentNode.removeChild(e)},Sn=function(e){var t=gn(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return function(e){return e=yn(e),tt(e)?ce.some(e):ce.none()}(dn.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=Sn,r=rt,function(e){return n(r(e))}))},kn=function(e,t){return{left:e,top:t,translate:function(n,r){return kn(e+n,t+r)}}},On=kn,Tn=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?On(n.offsetLeft,n.offsetTop):Sn(e)?function(e){return e=e.getBoundingClientRect(),On(e.left,e.top)}(t):On(0,0)},_n=(se=function(e){return function(t){return!!t&&t.nodeType===e}},se(1)),En=(le=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r;if(_n(t))for(r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}},Gt=function(e){return function(t){return _n(t)&&t.hasAttribute(e)}},Jt=function(e){return function(t){if(_n(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},vt(["textarea","input"])),Dn=se(3),An=se(8),zn=se(9),Rn=se(11),Mn=vt(["br"]),Nn=vt(["img"]),Bn=Jt("true"),Pn=Jt("false"),Hn=(Qt=vt(["td","th"]),vt(["video","audio","object","embed"])),Ln=function(e,t){return wt(e)?e.style.getPropertyValue(t):""},In=an().browser;fe={},w={exports:fe};function Fn(e){setTimeout((function(){throw e}),0)}function Vn(e,t){return t((function(t){var n=[],r=0;0===e.length?t([]):z(e,(function(o,i){var a;o.get((a=i,function(o){n[a]=o,++r>=e.length&&t(n)}))}))}))}function jn(e){return e.fold(s,s)}Lt=fe,It=w,Ft=Ht=void 0,function(e){"object"==typeof Lt&&void 0!==It?It.exports=e():"function"==typeof Ht&&Ht.amd?Ht([],e):("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}((function(){return function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var c="function"==typeof Ft&&Ft;if(!u&&c)return c(a,!0);if(i)return i(a,!0);throw(c=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",c}c=n[a]={exports:{}},t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof Ft&&Ft,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r,o;t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var c,s=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&m())}function m(){if(!l){var e=u(d);l=!0;for(var t=s.length;t;){for(c=s,s=[];++f<t;)c&&c[f].run();f=-1,t=s.length}c=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function h(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new g(e,t)),1!==s.length||l||u(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){function n(){}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn((function(){var n,r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){try{n=r(e._value)}catch(n){return void a(t.promise,n)}i(t.promise,n)}else(1===e._state?i:a)(t.promise,e._value)}))):e._deferreds.push(t)}function i(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void s((o=n,i=t,function(){o.apply(i,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){a(e,t)}var o,i}function a(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&r._immediateFn((function(){e._handled||r._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function s(e,t){var n=!1;try{e((function(e){n||(n=!0,i(t,e))}),(function(e){n||(n=!0,a(t,e))}))}catch(e){if(n)return;n=!0,a(t,e)}}var l,f;l=this,f=setTimeout,r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new c(e,t,r)),r},r.all=function(e){var t=Array.prototype.slice.call(e);return new r((function(e,n){if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)!function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(a){n(a)}}(o,t[o])}))},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r((function(t){t(e)}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},r._immediateFn="function"==typeof e?function(t){e(t)}:function(e){f(e,0)},r._unhandledRejectionFn=function(e){},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=r:l.Promise||(l.Promise=r)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;function s(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new s(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new s(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[t]=!0,o((function(){u[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill");e="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:e.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}));var Un=w.exports.boltExport,Wn=function(e){var t=ce.none(),n=[],r=function(e){o()?a(e):n.push(e)},o=function(){return t.isSome()},i=function(e){z(e,a)},a=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};return e((function(e){o()||(t=ce.some(e),i(n),n=[])})),{get:r,map:function(e){return Wn((function(t){r((function(n){t(e(n))}))}))},isReady:o}},qn={nu:Wn,pure:function(e){return Wn((function(t){t(e)}))}},$n=function(e){function t(t){e().then(t,Fn)}return{map:function(t){return $n((function(){return e().then(t)}))},bind:function(t){return $n((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return $n((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return qn.nu(t)},toCached:function(){var t=null;return $n((function(){return t=null===t?e():t}))},toPromise:e,get:t}},Gn=function(e){return $n((function(){return new Un(e)}))},Xn=function(e){return{is:function(t){return e===t},isValue:y,isError:b,getOr:c(e),getOrThunk:c(e),getOrDie:c(e),or:function(t){return Xn(e)},orThunk:function(t){return Xn(e)},fold:function(t,n){return n(e)},map:function(t){return Xn(t(e))},mapError:function(t){return Xn(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return ce.some(e)}}},Kn=function(e){return{is:b,isValue:b,isError:y,getOr:s,getOrThunk:function(e){return e()},getOrDie:function(){return h(String(e))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return Kn(e)},mapError:function(t){return Kn(t(e))},each:a,bind:function(t){return Kn(e)},exists:b,forall:y,toOptional:ce.none}},Yn={value:Xn,error:Kn,fromOption:function(e,t){return e.fold((function(){return Kn(t)}),Xn)}};se=function(e){if(!ge(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return z(e,(function(r,o){var i=ke(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!ge(u))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+i);return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:function(e){var r=ke(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!I(t,(function(e){return E(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)},log:function(e){}}}})),n};function Jn(e,t,n,r,o){return e(n,r)?ce.some(n):be(o)&&o(n)?ce.none():t(n,r,o)}function Qn(e,t,n){for(var r=e.dom,o=be(n)?n:b;r.parentNode;){r=r.parentNode;var i=dn.fromDom(r);if(t(i))return ce.some(i);if(o(i))break}return ce.none()}function Zn(e,t,n){return Jn((function(e,t){return t(e)}),Qn,e,t,n)}function er(e,t,n){return Qn(e,(function(e){return He(e,t)}),n)}function tr(e,t){return function(e,t){return t=void 0===t?document:t.dom,Le(t)?ce.none():ce.from(t.querySelector(e)).map(dn.fromDom)}(t,e)}function nr(e,t,n){return Jn(He,er,e,t,n)}se([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var rr,or,ir,ar,ur,cr=function(e,t){return P(e.dom.childNodes,(function(e){return t(dn.fromDom(e))})).map(dn.fromDom)},sr=window.Promise||(rr=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.apply(t,n)}},or=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ir=lr.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){return setTimeout(e,1)},ar=function(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(e){if(r)return;r=!0,n(e)}},lr.prototype.catch=function(e){return this.then(null,e)},lr.prototype.then=function(e,t){var n=this;return new lr((function(r,o){fr.call(n,new hr(e,t,r,o))}))},lr.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.prototype.slice.call(1===e.length&&or(e[0])?e[0]:e);return new lr((function(e,t){if(0===n.length)return e([]);for(var r=n.length,o=function(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),t)}n[i]=a,0==--r&&e(n)}catch(a){t(a)}},i=0;i<n.length;i++)o(i,n[i])}))},lr.resolve=function(e){return e&&"object"==typeof e&&e.constructor===lr?e:new lr((function(t){t(e)}))},lr.reject=function(e){return new lr((function(t,n){n(e)}))},lr.race=function(e){return new lr((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},lr);function lr(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],ar(e,rr(dr,this),rr(mr,this))}function fr(e){var t=this;null!==this._state?ir((function(){var n,r=t._state?e.onFulfilled:e.onRejected;if(null!==r){try{n=r(t._value)}catch(n){return void e.reject(n)}e.resolve(n)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function dr(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void ar(rr(t,e),rr(dr,this),rr(mr,this))}this._state=!0,this._value=e,gr.call(this)}catch(e){mr.call(this,e)}}function mr(e){this._state=!1,this._value=e,gr.call(this)}function gr(){for(var e=0,t=this._deferreds.length;e<t;e++)fr.call(this,this._deferreds[e]);this._deferreds=null}function hr(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function pr(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],o=0;o<r.length&&!n;o++)n=window[r[o]+"RequestAnimationFrame"];(n=n||function(e){window.setTimeout(e,0)})(e,t)}function vr(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function br(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function yr(e,t){function n(n,r,o){n=ln._addCacheSuffix(n);var u,c=Q(a,n).getOrThunk((function(){return{id:"mce-u"+i++,passed:[],failed:[],count:0}}));function d(e,t){for(var n=e.length;n--;)e[n]();c.status=t,c.passed=[],c.failed=[],u&&(u.onload=null,u.onerror=null,u=null)}function m(){return d(c.passed,2),0}function g(){return d(c.failed,3)}(a[n]=c).count++;var h,p=function(){var t;t=p,function(){for(var t=e.styleSheets,n=t.length;n--;){var r=t[n].ownerNode;if(r&&r.id===u.id)return m(),1}}()||(Date.now()-h<f?xr.setTimeout(t):g())};r&&c.passed.push(r),o&&c.failed.push(o),1!==c.status&&(2!==c.status?3!==c.status?(c.status=1,r=dn.fromTag("link",l.dom),St(r,{rel:"stylesheet",type:"text/css",id:c.id}),h=Date.now(),t.contentCssCors&&Ct(r,"crossOrigin","anonymous"),t.referrerPolicy&&Ct(r,"referrerpolicy",t.referrerPolicy),(u=r.dom).onload=p,u.onerror=g,o=r,xn(nt(s),o),Ct(r,"href",n)):g():m())}function r(e){return Gn((function(t){n(e,u(t,c(Yn.value(e))),u(t,c(Yn.error(e))))}))}function o(e){var t=ln._addCacheSuffix(e);Q(a,t).each((function(e){var n;0==--e.count&&(delete a[t],n=e.id,e=nt(s),tr(e,"#"+n).each(Cn))}))}void 0===t&&(t={});var i=0,a={},s=dn.fromDom(e),l=qe(s),f=t.maxLoadTime||5e3;return{load:n,loadAll:function(e,t,n){e=A(e,r),Vn(e,Gn).get((function(e){e=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}}(e,(function(e){return e.isValue()})),0<e.fail.length?n(e.fail.map(jn)):t(e.pass.map(jn))}))},unload:o,unloadAll:function(e){z(e,(function(e){o(e)}))},_setReferrerPolicy:function(e){t.referrerPolicy=e}}}Jt=function(e,t){function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];clearTimeout(r),r=vr((function(){e.apply(this,n)}),t)}var r;return n.stop=function(){clearTimeout(r)},n};var wr,xr={requestAnimationFrame:function(e,t){ur?ur.then(e):ur=new sr((function(e){t=t||document.body,pr(e,t)})).then(e)},setTimeout:vr,setInterval:br,setEditorTimeout:function(e,t,n){return vr((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,n){var r=br((function(){e.removed?clearInterval(r):t()}),n);return r},debounce:Jt,throttle:Jt,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},Cr=(wr=new WeakMap,{forElement:function(e,t){var n=yn(e).dom;return ce.from(wr.get(n)).getOrThunk((function(){var e=yr(n,t);return wr.set(n,e),e}))}}),Sr=(kr.prototype.current=function(){return this.node},kr.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},kr.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},kr.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},kr.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},kr.prototype.findPreviousNode=function(e,t,n,r){var o,i;if(e&&(o=e[n],!this.rootNode||o!==this.rootNode)){if(o){if(!r)for(i=o[t];i;i=i[t])if(!i[t])return i;return o}return(e=e.parentNode)&&e!==this.rootNode?e:void 0}},kr);function kr(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function Or(e){return mn(e)&&!uo(e)}function Tr(e){return mn(e)&&"br"===je(e)}function _r(e){return wo(e)&&(e=e.parentNode),yo(e)&&e.hasAttribute("data-mce-caret")}function Er(e){return wo(e)&&vo(e.data)}function Dr(e){return _r(e)||Er(e)}function Ar(e){return e.firstChild!==e.lastChild||!Mn(e.firstChild)}function zr(e){var t=e.container();return!!Dn(t)&&(t.data.charAt(e.offset())===po||e.isAtStart()&&Er(t.previousSibling))}function Rr(e){var t=e.container();return!!Dn(t)&&(t.data.charAt(e.offset()-1)===po||e.isAtEnd()&&Er(t.nextSibling))}function Mr(e,t,n){var r=t.ownerDocument.createElement(e);return r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(((e=document.createElement("br")).setAttribute("data-mce-bogus","1"),e)),e=t.parentNode,n?e.insertBefore(r,t):t.nextSibling?e.insertBefore(r,t.nextSibling):e.appendChild(r),r}function Nr(e){return e&&e.hasAttribute("data-mce-caret")?(function(e){e=e.getElementsByTagName("br"),e=e[e.length-1],bt(e)&&e.parentNode.removeChild(e)}(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null}function Br(e){return!Ao(e)&&(To(e)?!_o(e.parentNode):Eo(e)||Oo(e)||Do(e)||zo(e))}function Pr(e,t){return Br(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(zo(e))return!1;if(So(e))return!0}return!0}(e,t)}function Hr(e){return Ro.test(e)}function Lr(e,t){var n=dn.fromDom(t);t=dn.fromDom(e);return e=t,t="pre,code",n=m(Ie,n),er(e,t,n).isSome()}function Ir(e,t){return Br(e)&&!1===(n=t,Dn(t=e)&&Hr(t.data)&&!1===Lr(t,n))||_n(n=e)&&"A"===n.nodeName&&!n.hasAttribute("href")&&(n.hasAttribute("name")||n.hasAttribute("id"))||Mo(e);var n}function Fr(e,t){return function(e,t){var n,r=0;if(Ir(e,e))return!1;if(!(n=e.firstChild))return!0;var o=new Sr(n,e);do{if(t){if(Bo(n)){n=o.next(!0);continue}if(No(n)){n=o.next();continue}}if(Mn(n))r++,n=o.next();else{if(Ir(n,e))return!1;n=o.next()}}while(n);return r<=1}(e.dom,t=void 0===t||t)}function Vr(e,t){return T(e)&&(Ir(e,t)||Or(dn.fromDom(e)))}function jr(e){return"span"===e.nodeName.toLowerCase()&&"bookmark"===e.getAttribute("data-mce-type")}function Ur(e,t){return Dn(e)&&0<e.data.length&&(t=new Sr(n=e,e=t).prev(!1),n=new Sr(n,e).next(!1),t=ve(t)||Vr(t,e),e=ve(n)||Vr(n,e),t&&e);var n}function Wr(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Uo[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}}function qr(e,t){return e.replace(t?Lo:Io,(function(e){return Uo[e]||e}))}function $r(e,t){return e.replace(t?Lo:Io,(function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Uo[e]||"&#"+e.charCodeAt(0)+";"}))}function Gr(e,t,n){return n=n||qo,e.replace(t?Lo:Io,(function(e){return Uo[e]||n[e]||e}))}function Xr(e,t){return(e=ln.trim(e))?e.split(t||" "):[]}function Kr(e){function t(e,t,n){function o(e,t){for(var n={},r=0,o=e.length;r<o;r++)n[e[r]]=t||{};return n}var i;t=t||"","string"==typeof(n=n||[])&&(n=Xr(n));for(var a=Xr(e),u=a.length;u--;)i={attributes:o(i=Xr([r,t].join(" "))),attributesOrder:i,children:o(n,Xo)},c[a[u]]=i}function n(e,t){for(var n,r,o,i=Xr(e),a=i.length,u=Xr(t);a--;)for(n=c[i[a]],r=0,o=u.length;r<o;r++)n.attributes[u[r]]={},n.attributesOrder.push(u[r])}var r,o,i,a,u,c={};return Go[e]||(r="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(r+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(r+=" xml:lang",i=[i,u="acronym applet basefont big font strike tt"].join(" "),Yo(Xr(u),(function(e){t(e,"",i)})),o=[o,u="center dir isindex noframes"].join(" "),a=[o,i].join(" "),Yo(Xr(u),(function(e){t(e,"",a)}))),a=a||[o,i].join(" "),t("html","manifest","head body"),t("head","","base command link meta noscript script style title"),t("title hr noscript br"),t("base","href target"),t("link","href rel media hreflang type sizes hreflang"),t("meta","name http-equiv content charset"),t("style","media type scoped"),t("script","src async defer type charset"),t("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),t("address dt dd div caption","",a),t("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),t("blockquote","cite",a),t("ol","reversed start type","li"),t("ul","","li"),t("li","value",a),t("dl","","dt dd"),t("a","href target rel media hreflang type",i),t("q","cite",i),t("ins del","cite datetime",a),t("img","src sizes srcset alt usemap ismap width height"),t("iframe","src name width height",a),t("embed","src type width height"),t("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),t("param","name value"),t("map","name",[a,"area"].join(" ")),t("area","alt coords shape href target rel media hreflang type"),t("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),t("colgroup","span","col"),t("col","span"),t("tbody thead tfoot","","tr"),t("tr","","td th"),t("td","colspan rowspan headers",a),t("th","colspan rowspan headers scope abbr",a),t("form","accept-charset action autocomplete enctype method name novalidate target",a),t("fieldset","disabled form name",[a,"legend"].join(" ")),t("label","form for",i),t("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),t("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?a:i),t("select","disabled form multiple name required size","option optgroup"),t("optgroup","disabled label","option"),t("option","disabled label selected value"),t("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),t("menu","type label",[a,"li"].join(" ")),t("noscript","",a),"html4"!==e&&(t("wbr"),t("ruby","",[i,"rt rp"].join(" ")),t("figcaption","",a),t("mark rt rp summary bdi","",i),t("canvas","width height",a),t("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),t("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),t("picture","","img source"),t("source","src srcset type media sizes"),t("track","kind src srclang label default"),t("datalist","",[i,"option"].join(" ")),t("article section nav aside main header footer","",a),t("hgroup","","h1 h2 h3 h4 h5 h6"),t("figure","",[a,"figcaption"].join(" ")),t("time","datetime",i),t("dialog","open",a),t("command","type label icon disabled checked radiogroup command"),t("output","for form name",i),t("progress","value max",i),t("meter","value min max low high optimum",i),t("details","open",[a,"summary"].join(" ")),t("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(n("script","language xml:space"),n("style","xml:space"),n("object","declare classid code codebase codetype archive standby align border hspace vspace"),n("embed","align name hspace vspace"),n("param","valuetype type"),n("a","charset name rev shape coords"),n("br","clear"),n("applet","codebase archive code object alt name width height align hspace vspace"),n("img","name longdesc align border hspace vspace"),n("iframe","longdesc frameborder marginwidth marginheight scrolling align"),n("font basefont","size color face"),n("input","usemap align"),n("select"),n("textarea"),n("h1 h2 h3 h4 h5 h6 div p legend caption","align"),n("ul","type compact"),n("li","type"),n("ol dl menu dir","compact"),n("pre","width xml:space"),n("hr","align noshade size width"),n("isindex","prompt"),n("table","summary width frame rules cellspacing cellpadding align bgcolor"),n("col","width align char charoff valign"),n("colgroup","width align char charoff valign"),n("thead","align char charoff valign"),n("tr","align char charoff valign bgcolor"),n("th","axis align char charoff valign nowrap bgcolor width height"),n("form","accept"),n("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),n("tfoot","align char charoff valign"),n("tbody","align char charoff valign"),n("area","nohref"),n("body","background bgcolor text link vlink alink")),"html4"!==e&&(n("input button select textarea","autofocus"),n("input textarea","placeholder"),n("a","download"),n("link script img","crossorigin"),n("img","loading"),n("iframe","sandbox seamless allowfullscreen loading")),Yo(Xr("a form meter progress dfn"),(function(e){c[e]&&delete c[e].children[e]})),delete c.caption.children.table,delete c.script,Go[e]=c)}function Yr(e,t){var n;return e&&(n={},Yo(e="string"==typeof e?{"*":e}:e,(function(e,r){n[r]=n[r.toUpperCase()]=("map"===t?Ko:Qo)(e,/[, ]/)}))),n}function Jr(e){var t={},n={},r=[],o={},i={},a=function(t,n,r){var o=e[t];return o?o=Ko(o,/[, ]/,Ko(o.toUpperCase(),/[, ]/)):(o=Go[t])||(o=Ko(n," ",Ko(n.toUpperCase()," ")),o=Jo(o,r),Go[t]=o),o},u=Kr((e=e||{}).schema);!1===e.verify_html&&(e.valid_elements="*[*]");var c=Yr(e.valid_styles),s=Yr(e.invalid_styles,"map"),l=Yr(e.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),m=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),h="td th iframe video audio object script code",p=a("non_empty_elements",h+" pre",m),v=a("move_caret_before_on_enter_elements",h+" table",m),b=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),y=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",b),w=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");function x(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function C(e){var n,o,i,a,u,c,s,l,f,d,m,g,h,p,v,b,y,w,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(e){var O=Xr(e,",");for(t["@"]&&(b=t["@"].attributes,y=t["@"].attributesOrder),n=0,o=O.length;n<o;n++)if(u=C.exec(O[n])){if(p=u[1],f=u[2],v=u[3],l=u[5],c={attributes:g={},attributesOrder:h=[]},"#"===p&&(c.paddEmpty=!0),"-"===p&&(c.removeEmpty=!0),"!"===u[4]&&(c.removeEmptyAttrs=!0),b&&(q(b,(function(e,t){g[t]=e})),h.push.apply(h,y)),l)for(i=0,a=(l=Xr(l,"|")).length;i<a;i++)(u=S.exec(l[i]))&&(s={},m=u[1],d=u[2].replace(/[\\:]:/g,":"),p=u[3],w=u[4],"!"===m&&(c.attributesRequired=c.attributesRequired||[],c.attributesRequired.push(d),s.required=!0),"-"!==m?(p&&("="===p&&(c.attributesDefault=c.attributesDefault||[],c.attributesDefault.push({name:d,value:w}),s.defaultValue=w),":"===p&&(c.attributesForced=c.attributesForced||[],c.attributesForced.push({name:d,value:w}),s.forcedValue=w),"<"===p&&(s.validValues=Ko(w,"?"))),k.test(d)?(c.attributePatterns=c.attributePatterns||[],s.pattern=x(d),c.attributePatterns.push(s)):(g[d]||h.push(d),g[d]=s)):(delete g[d],h.splice(Zo(h,d),1)));b||"@"!==f||(b=g,y=h),v&&(c.outputName=f,t[v]=c),k.test(f)?(c.pattern=x(f),r.push(c)):t[f]=c}}}function S(e){t={},r=[],C(e),Yo(u,(function(e,t){n[t]=e.children}))}function k(e){var n,o=t[e];if(o)return o;for(n=r.length;n--;)if((o=r[n]).pattern.test(e))return o}return Yo((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(e){i[e]=new RegExp("</"+e+"[^>]*>","gi")})),h=function(e){var r=/^(~)?(.+)$/;e&&(Go.text_block_elements=Go.block_elements=null,Yo(Xr(e,","),(function(e){var i=r.exec(e),a=(e="~"===i[1],e?"span":"div"),u=i[2];n[u]=n[a],o[u]=a,e||(y[u.toUpperCase()]={},y[u]={}),t[u]||(e=t[a],delete(e=Jo({},e)).removeEmptyAttrs,delete e.removeEmpty,t[u]=e),Yo(n,(function(e,t){e[a]&&(n[t]=e=Jo({},n[t]),e[u]=e[a])}))})))},a=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Go[e.schema]=null,t&&Yo(Xr(t,","),(function(e){var t,o;e=r.exec(e);e&&(o=e[1],t=o?n[e[2]]:n[e[2]]={"#comment":{}},t=n[e[2]],Yo(Xr(e[3],"|"),(function(e){"-"===o?delete t[e]:t[e]={}})))}))},e.valid_elements?S(e.valid_elements):(Yo(u,(function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children})),"html5"!==e.schema&&Yo(Xr("strong/b em/i"),(function(e){e=Xr(e,"/"),t[e[1]].outputName=e[0]})),Yo(Xr("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(e){t[e]&&(t[e].removeEmpty=!0)})),Yo(Xr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){t[e].paddEmpty=!0})),Yo(Xr("span"),(function(e){t[e].removeEmptyAttrs=!0}))),h(e.custom_elements),a(e.valid_children),C(e.extended_valid_elements),a("+ol[ul|ol],+ul[ul|ol]"),Yo({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,n){t[n]&&(t[n].parentsRequired=Xr(e))})),e.invalid_elements&&Yo(Qo(e.invalid_elements),(function(e){t[e]&&delete t[e]})),k("span")||C("span[!data-mce-type|*]"),{children:n,elements:t,getValidStyles:function(){return c},getValidClasses:function(){return l},getBlockElements:function(){return y},getInvalidStyles:function(){return s},getShortEndedElements:function(){return m},getTextBlockElements:function(){return b},getTextInlineElements:function(){return w},getBoolAttrs:function(){return g},getElementRule:k,getSelfClosingElements:function(){return d},getNonEmptyElements:function(){return p},getMoveCaretBeforeOnEnterElements:function(){return v},getWhiteSpaceElements:function(){return f},getSpecialElements:function(){return i},isValidChild:function(e,t){return e=n[e.toLowerCase()],!(!e||!e[t.toLowerCase()])},isValid:function(e,t){var n,r,o=k(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return o},addValidElements:C,setValidElements:S,addCustomElements:h,addValidChildren:a}}function Qr(e,t,n,r){function o(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+o(t)+o(n)+o(r)}function Zr(e,t){var n,r,o=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,s={},l=ho;e=e||{},t&&(n=t.getValidStyles(),r=t.getInvalidStyles());for(var f=("\\\" \\' \\; \\: ; : "+l).split(" "),d=0;d<f.length;d++)s[f[d]]=l+d,s[l+d]=f[d];return{toHex:function(e){return e.replace(i,Qr)},parse:function(t){function n(e,t,n){var r=k[e+"-top"+t];if(r){var o=k[e+"-right"+t];if(o){var i=k[e+"-bottom"+t];if(i){var a=k[e+"-left"+t];if(a){var u=[r,o,i,a];for(d=u.length-1;d--&&u[d]===u[d+1];);-1<d&&n||(k[e+t]=-1===d?u[0]:u.join(" "),delete k[e+"-top"+t],delete k[e+"-right"+t],delete k[e+"-bottom"+t],delete k[e+"-left"+t])}}}}}function r(e){var t,n=k[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return;return k[e]=n[0],1}}function f(e){return y=!0,s[e]}function m(e,t){return y&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return s[e]}))),t?e:e.replace(/\\([\'\";:])/g,"$1")}function g(e){return String.fromCharCode(parseInt(e.slice(1),16))}function h(e){return e.replace(/\\[0-9a-f]+/gi,g)}function p(t,n,r,o,i,a){if(i=i||a)return"'"+(i=m(i)).replace(/\'/g,"\\'")+"'";if(n=m(n||r||o),!e.allow_script_urls){if(o=n.replace(/[\s\r\n]+/g,""),/(java|vb)script:/i.test(o))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(o))return""}return"url('"+(n=O?O.call(T,n,"style"):n).replace(/\'/g,"\\'")+"')"}var v,b,y,w,x,C,S,k={},O=e.url_converter,T=e.url_converter_scope||o;if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,f).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,f)}));b=u.exec(t);)u.lastIndex=b.index+b[0].length,v=b[1].replace(c,"").toLowerCase(),b=b[2].replace(c,""),v&&b&&(v=h(v),b=h(b),-1===v.indexOf(l)&&-1===v.indexOf('"')&&(e.allow_script_urls||"behavior"!==v&&!/expression\s*\(|\/\*|\*\//.test(b))&&("font-weight"===v&&"700"===b?b="bold":"color"!==v&&"background-color"!==v||(b=b.toLowerCase()),b=(b=b.replace(i,Qr)).replace(a,p),k[v]=y?m(b,!0):b));n("border","",!0),n("border","-width"),n("border","-color"),n("border","-style"),n("padding",""),n("margin",""),w="border",C="border-style",S="border-color",r(x="border-width")&&r(C)&&r(S)&&(k[w]=k[x]+" "+k[C]+" "+k[S],delete k[x],delete k[C],delete k[S]),"medium none"===k.border&&delete k.border,"none"===k["border-image"]&&delete k["border-image"]}return k},serialize:function(e,t){function o(t){var r,o=n[t];if(o)for(var a=0,u=o.length;a<u;a++)t=o[a],(r=e[t])&&(i+=(0<i.length?" ":"")+t+": "+r+";")}var i="";return t&&n?(o("*"),o(t)):q(e,(function(e,n){var o,a,u;!e||r&&(o=n,a=t,(u=r["*"])&&u[o]||(u=r[a])&&u[o])||(i+=(0<i.length?" ":"")+n+": "+e+";")})),i}}}function eo(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function to(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function no(e,t){var n,r,o=t||{};for(n in e)ti[n]||(o[n]=e[n]);return o.target||(o.target=o.srcElement||document),o.composedPath&&(o.composedPath=function(){return e.composedPath()}),e&&ei.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX&&(t=(r=o.target.ownerDocument||document).documentElement,r=r.body,o.pageX=e.clientX+(t&&t.scrollLeft||r&&r.scrollLeft||0)-(t&&t.clientLeft||r&&r.clientLeft||0),o.pageY=e.clientY+(t&&t.scrollTop||r&&r.scrollTop||0)-(t&&t.clientTop||r&&r.clientTop||0)),o.preventDefault=function(){o.defaultPrevented=!0,o.isDefaultPrevented=ri,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.cancelBubble=!0,o.isPropagationStopped=ri,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=ri,o.stopPropagation()})==((r=o).isDefaultPrevented===ri||r.isDefaultPrevented===ni)&&(o.isDefaultPrevented=!0===o.defaultPrevented?ri:ni,o.isPropagationStopped=!0===o.cancelBubble?ri:ni,o.isImmediatePropagationStopped=ni),void 0===o.metaKey&&(o.metaKey=!1),o}function ro(e,t,n){var r,o=e.document,i={type:"ready"};n.domLoaded?t(i):(r=function(){to(e,"DOMContentLoaded",r),to(e,"load",r),n.domLoaded||(n.domLoaded=!0,t(i)),e=null},"complete"===o.readyState||"interactive"===o.readyState&&o.body?r():eo(e,"DOMContentLoaded",r),n.domLoaded||eo(e,"load",r))}fe=function(e){var t;return function(n){return(t=t||function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}(e,y)).hasOwnProperty(je(n))}};var oo,io,ao=fe(["h1","h2","h3","h4","h5","h6"]),uo=fe(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),co=fe(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),so=fe(["ul","ol","dl"]),lo=fe(["li","dd","dt"]),fo=fe(["thead","tbody","tfoot"]),mo=fe(["td","th"]),go=fe(["pre","script","textarea","style"]),ho="\ufeff",po=ho,vo=function(e){return e===ho},bo=function(e){return e.replace(/\uFEFF/g,"")},yo=_n,wo=Dn,xo=function(e){return wo(e)&&e.data[0]===po},Co=function(e){return wo(e)&&e.data[e.data.length-1]===po},So=Bn,ko=Pn,Oo=Mn,To=Dn,_o=vt(["script","style","textarea"]),Eo=vt(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Do=vt(["table"]),Ao=Dr,zo=function(e){return!1===(_n(t=e)&&"true"===t.getAttribute("unselectable"))&&ko(e);var t},Ro=/^[ \t\r\n]*$/,Mo=Gt("data-mce-bookmark"),No=Gt("data-mce-bogus"),Bo=(oo="data-mce-bogus",io="all",function(e){return _n(e)&&e.getAttribute(oo)===io}),Po=function(e,t,n){var r=n||t;if(_n(t)&&jr(t))return t;for(var o,i=t.childNodes,a=i.length-1;0<=a;a--)Po(e,i[a],r);return!_n(t)||1===(o=t.childNodes).length&&jr(o[0])&&t.parentNode.insertBefore(o[0],t),Rn(o=t)||zn(o)||Ir(t,r)||_n(o=t)&&0<o.childNodes.length||Ur(t,r)||e.remove(t),t},Ho=ln.makeMap,Lo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Io=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fo=/[<>&\"\']/g,Vo=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,jo={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Uo={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Wo={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},qo=Wr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),$o={encodeRaw:qr,encodeAllRaw:function(e){return(""+e).replace(Fo,(function(e){return Uo[e]||e}))},encodeNumeric:$r,encodeNamed:Gr,getEncodeFunc:function(e,t){var n=Wr(t)||qo;e=Ho(e.replace(/\+/g,","));return e.named&&e.numeric?function(e,t){return e.replace(t?Lo:Io,(function(e){return void 0!==Uo[e]?Uo[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))}:e.named?t?function(e,t){return Gr(e,t,n)}:Gr:e.numeric?$r:qr},decode:function(e){return e.replace(Vo,(function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):jo[t]||String.fromCharCode(t):Wo[e]||qo[e]||(t=e,(e=dn.fromTag("div").dom).innerHTML=t,e.textContent||e.innerText||t)}))}},Go={},Xo={},Ko=ln.makeMap,Yo=ln.each,Jo=ln.extend,Qo=ln.explode,Zo=ln.inArray,ei=/^(?:mouse|contextmenu)|click/,ti={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},ni=b,ri=y,oi=(ii.prototype.bind=function(e,t,n,r){function o(e){f.executeHandlers(no(e||d.event),i)}var i,a,u,c,s,l,f=this,d=window;if(e&&3!==e.nodeType&&8!==e.nodeType){e[f.expando]?i=e[f.expando]:(i=f.count++,e[f.expando]=i,f.events[i]={}),r=r||e;for(var m=t.split(" "),g=m.length;g--;)s=o,c=l=!1,"DOMContentLoaded"===(u=m[g])&&(u="ready"),f.domLoaded&&"ready"===u&&"complete"===e.readyState?n.call(r,no({type:u})):(f.hasMouseEnterLeave||(c=f.mouseEnterLeave[u])&&(s=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=no(e||d.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,f.executeHandlers(e,i))}),f.hasFocusIn||"focusin"!==u&&"focusout"!==u||(l=!0,c="focusin"===u?"focus":"blur",s=function(e){(e=no(e||d.event)).type="focus"===e.type?"focusin":"focusout",f.executeHandlers(e,i)}),(a=f.events[i][u])?"ready"===u&&f.domLoaded?n(no({type:u})):a.push({func:n,scope:r}):(f.events[i][u]=a=[{func:n,scope:r}],a.fakeName=c,a.capture=l,a.nativeHandler=s,"ready"===u?ro(e,s,f):eo(e,c||u,s,l)));return e=a=null,n}},ii.prototype.unbind=function(e,t,n){var r,o,i;if(!e||3===e.nodeType||8===e.nodeType)return this;var a=e[this.expando];if(a){if(i=this.events[a],t){for(var u,c,s,l,f=t.split(" "),d=f.length;d--;)if(l=i[o=f[d]]){if(n)for(r=l.length;r--;)l[r].func===n&&(u=l.nativeHandler,c=l.fakeName,s=l.capture,(l=l.slice(0,r).concat(l.slice(r+1))).nativeHandler=u,l.fakeName=c,l.capture=s,i[o]=l);n&&0!==l.length||(delete i[o],to(e,l.fakeName||o,l.nativeHandler,l.capture))}}else q(i,(function(t,n){to(e,t.fakeName||n,t.nativeHandler,t.capture)})),i={};for(o in i)if(_e(i,o))return this;delete this.events[a];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this},ii.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=no(null,n);for(o.type=t,o.target=e;(r=e[this.expando])&&this.executeHandlers(o,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!o.isPropagationStopped(););return this},ii.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),(e=e.getElementsByTagName?e:e.document)&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},ii.prototype.destroy=function(){this.events={}},ii.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},ii.prototype.executeHandlers=function(e,t){t=this.events[t];var n=t&&t[e.type];if(n)for(var r=0,o=n.length;r<o;r++){var i=n[r];if(i&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},ii.Event=new ii,ii);function ii(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}function ai(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}var ui,ci,si,li,fi,di,mi,gi,hi,pi,vi,bi,yi,wi,xi,Ci,Si,ki="sizzle"+-new Date,Oi=window.document,Ti=0,_i=0,Ei=ta(),Di=ta(),Ai=ta(),zi=function(e,t){return e===t&&(pi=!0),0},Ri="undefined",Mi={}.hasOwnProperty,Ni=(w=[],w.pop),Bi=w.push,Pi=w.push,Hi=w.slice,Li=w.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Ii="[\\x20\\t\\r\\n\\f]",Fi=(Jt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fe="\\["+Ii+"*("+Jt+")(?:"+Ii+"*([*^$|!~]?=)"+Ii+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Jt+"))|)"+Ii+"*\\]",Gt=":("+Jt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fe+")*)|.*)\\)|)",new RegExp("^"+Ii+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ii+"+$","g")),Vi=new RegExp("^"+Ii+"*,"+Ii+"*"),ji=new RegExp("^"+Ii+"*([>+~]|"+Ii+")"+Ii+"*"),Ui=new RegExp("="+Ii+"*([^\\]'\"]*?)"+Ii+"*\\]","g"),Wi=new RegExp(Gt),qi=new RegExp("^"+Jt+"$"),$i={ID:new RegExp("^#("+Jt+")"),CLASS:new RegExp("^\\.("+Jt+")"),TAG:new RegExp("^("+Jt+"|[*])"),ATTR:new RegExp("^"+fe),PSEUDO:new RegExp("^"+Gt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ii+"*(even|odd|(([+-]|)(\\d*)n|)"+Ii+"*(?:([+-]|)"+Ii+"*(\\d+)|))"+Ii+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Ii+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ii+"*((?:-\\d)?\\d*)"+Ii+"*\\)|)(?=[^-]|$)","i")},Gi=/^(?:input|select|textarea|button)$/i,Xi=/^h\d$/i,Ki=/^[^{]+\{\s*\[native \w/,Yi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ji=/[+~]/,Qi=/'|\\/g,Zi=new RegExp("\\\\([\\da-f]{1,6}"+Ii+"?|("+Ii+")|.)","ig");try{Pi.apply(w=Hi.call(Oi.childNodes),Oi.childNodes),w[Oi.childNodes.length].nodeType}catch(C){Pi={apply:w.length?function(e,t){Bi.apply(e,Hi.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var ea=function(e,t,n,r){var o,i,a,u,c,s,l;if((t?t.ownerDocument||t:Oi)!==bi&&vi(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=(t=t||bi).nodeType)&&9!==o)return[];if(wi&&!r){if(s=Yi.exec(e))if(l=s[1]){if(9===o){if(!(u=t.getElementById(l))||!u.parentNode)return n;if(u.id===l)return n.push(u),n}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(l))&&Si(t,u)&&u.id===l)return n.push(u),n}else{if(s[2])return Pi.apply(n,t.getElementsByTagName(e)),n;if((l=s[3])&&ui.getElementsByClassName)return Pi.apply(n,t.getElementsByClassName(l)),n}if(ui.qsa&&(!xi||!xi.test(e))){if(c=u=ki,s=t,l=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(a=fi(e),(u=t.getAttribute("id"))?c=u.replace(Qi,"\\$&"):t.setAttribute("id",c),c="[id='"+c+"'] ",i=a.length;i--;)a[i]=c+ua(a[i]);s=Ji.test(e)&&ia(t.parentNode)||t,l=a.join(",")}if(l)try{return Pi.apply(n,s.querySelectorAll(l)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return mi(e.replace(Fi,"$1"),t,n,r)};function ta(){var e=[];function t(n,r){return e.push(n+" ")>ci.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function na(e){return e[ki]=!0,e}function ra(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function oa(e){return na((function(t){return t=+t,na((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function ia(e){return e&&typeof e.getElementsByTagName!=Ri&&e}function aa(){}function ua(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ca(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=_i++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var u,c,s=[Ti,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((u=(c=t[ki]||(t[ki]={}))[r])&&u[0]===Ti&&u[1]===i)return s[2]=u[2];if((c[r]=s)[2]=e(t,n,a))return!0}}}function sa(e){return 1<e.length?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function la(e,t,n,r,o){for(var i,a=[],u=0,c=e.length,s=null!=t;u<c;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),s&&t.push(u)));return a}function fa(e,t,n,r,o,i){return r&&!r[ki]&&(r=fa(r)),o&&!o[ki]&&(o=fa(o,i)),na((function(i,a,u,c){var s,l,f,d=[],m=[],g=a.length,h=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ea(e,t[r],n);return n}(t||"*",u.nodeType?[u]:u,[]),p=!e||!i&&t?h:la(h,d,e,u,c),v=n?o||(i?e:g||r)?[]:a:p;if(n&&n(p,v,u,c),r)for(s=la(v,m),r(s,[],u,c),l=s.length;l--;)(f=s[l])&&(v[m[l]]=!(p[m[l]]=f));if(i){if(o||e){if(o){for(s=[],l=v.length;l--;)(f=v[l])&&s.push(p[l]=f);o(null,v=[],s,c)}for(l=v.length;l--;)(f=v[l])&&-1<(s=o?Li.call(i,f):d[l])&&(i[s]=!(a[s]=f))}}else v=la(v===a?v.splice(g,v.length):v),o?o(null,a,v,c):Pi.apply(a,v)}))}function da(e,t){function n(n,i,a,u,c){var s,l,f,d=0,m="0",g=n&&[],h=[],p=gi,v=n||o&&ci.find.TAG("*",c),b=Ti+=null==p?1:Math.random()||.1,y=v.length;for(c&&(gi=i!==bi&&i);m!==y&&null!=(s=v[m]);m++){if(o&&s){for(l=0;f=e[l++];)if(f(s,i,a)){u.push(s);break}c&&(Ti=b)}r&&((s=!f&&s)&&d--,n&&g.push(s))}if(d+=m,r&&m!==d){for(l=0;f=t[l++];)f(g,h,i,a);if(n){if(0<d)for(;m--;)g[m]||h[m]||(h[m]=Ni.call(u));h=la(h)}Pi.apply(u,h),c&&!n&&0<h.length&&1<d+t.length&&ea.uniqueSort(u)}return c&&(Ti=b,gi=p),g}var r=0<t.length,o=0<e.length;return r?na(n):n}function ma(e){return void 0!==e}function ga(e){return"string"==typeof e}function ha(e,t){var n,r=(t=t||Ca).createElement("div"),o=t.createDocumentFragment();for(r.innerHTML=e;n=r.firstChild;)o.appendChild(n);return o}function pa(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function va(e,t,n){var r,o;return t=ja(t)[0],e.each((function(){n&&r===this.parentNode||(r=this.parentNode,o=t.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)})),e}function ba(e,t){return new ja.fn.init(e,t)}function ya(e){return null==e?"":(""+e).replace(Ba,"")}function wa(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e}function xa(e,t){var n=[];return wa(e,(function(e,r){t(r,e)&&n.push(r)})),n}ui=ea.support={},li=ea.isXML=function(e){return e=e&&(e.ownerDocument||e).documentElement,!!e&&"HTML"!==e.nodeName},vi=ea.setDocument=function(e){var t=e?e.ownerDocument||e:Oi;e=t.defaultView;return t!==bi&&9===t.nodeType&&t.documentElement?(yi=(bi=t).documentElement,wi=!li(t),e&&e!==function(e){try{return e.top}catch(e){}return null}(e)&&(e.addEventListener?e.addEventListener("unload",(function(){vi()}),!1):e.attachEvent&&e.attachEvent("onunload",(function(){vi()}))),ui.attributes=!0,ui.getElementsByTagName=!0,ui.getElementsByClassName=Ki.test(t.getElementsByClassName),ui.getById=!0,ci.find.ID=function(e,t){if(typeof t.getElementById!=Ri&&wi)return e=t.getElementById(e),e&&e.parentNode?[e]:[]},ci.filter.ID=function(e){var t=e.replace(Zi,ai);return function(e){return e.getAttribute("id")===t}},ci.find.TAG=ui.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=Ri)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},ci.find.CLASS=ui.getElementsByClassName&&function(e,t){if(wi)return t.getElementsByClassName(e)},Ci=[],xi=[],ui.disconnectedMatch=!0,xi=xi.length&&new RegExp(xi.join("|")),Ci=Ci.length&&new RegExp(Ci.join("|")),e=Ki.test(yi.compareDocumentPosition),Si=e||Ki.test(yi.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e;t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},zi=e?function(e,n){if(e===n)return pi=!0,0;var r=!e.compareDocumentPosition-!n.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(n.ownerDocument||n)?e.compareDocumentPosition(n):1)||!ui.sortDetached&&n.compareDocumentPosition(e)===r?e===t||e.ownerDocument===Oi&&Si(Oi,e)?-1:n===t||n.ownerDocument===Oi&&Si(Oi,n)?1:hi?Li.call(hi,e)-Li.call(hi,n):0:4&r?-1:1)}:function(e,n){if(e===n)return pi=!0,0;var r,o=0,i=e.parentNode,a=n.parentNode,u=[e],c=[n];if(!i||!a)return e===t?-1:n===t?1:i?-1:a?1:hi?Li.call(hi,e)-Li.call(hi,n):0;if(i===a)return ra(e,n);for(r=e;r=r.parentNode;)u.unshift(r);for(r=n;r=r.parentNode;)c.unshift(r);for(;u[o]===c[o];)o++;return o?ra(u[o],c[o]):u[o]===Oi?-1:c[o]===Oi?1:0},t):bi},ea.matches=function(e,t){return ea(e,null,null,t)},ea.matchesSelector=function(e,t){if((e.ownerDocument||e)!==bi&&vi(e),t=t.replace(Ui,"='$1']"),ui.matchesSelector&&wi&&(!Ci||!Ci.test(t))&&(!xi||!xi.test(t)))try{var n=(void 0).call(e,t);if(n||ui.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ea(t,bi,null,[e]).length},ea.contains=function(e,t){return(e.ownerDocument||e)!==bi&&vi(e),Si(e,t)},ea.attr=function(e,t){(e.ownerDocument||e)!==bi&&vi(e);var n=ci.attrHandle[t.toLowerCase()];n=n&&Mi.call(ci.attrHandle,t.toLowerCase())?n(e,t,!wi):void 0;return void 0!==n?n:ui.attributes||!wi?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},ea.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ea.uniqueSort=function(e){var t,n=[],r=0,o=0;if(pi=!ui.detectDuplicates,hi=!ui.sortStable&&e.slice(0),e.sort(zi),pi){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return hi=null,e},si=ea.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=si(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=si(t);return n},(ci=ea.selectors={cacheLength:50,createPseudo:na,match:$i,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Zi,ai),e[3]=(e[3]||e[4]||e[5]||"").replace(Zi,ai),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ea.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ea.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $i.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Wi.test(n)&&(t=fi(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Zi,ai).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Ei[e+" "];return t||(t=new RegExp("(^|"+Ii+")"+e+"("+Ii+"|$)"))&&Ei(e,(function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!=Ri&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){return r=ea.attr(r,e),null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var s,l,f,d,m,g,h=i!=a?"nextSibling":"previousSibling",p=t.parentNode,v=u&&t.nodeName.toLowerCase(),b=!c&&!u;if(p){if(i){for(;h;){for(f=t;f=f[h];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;g=h="only"===e&&!g&&"nextSibling"}return!0}if(g=[a?p.firstChild:p.lastChild],a&&b){for(m=(s=(l=p[ki]||(p[ki]={}))[e]||[])[0]===Ti&&s[1],d=s[0]===Ti&&s[2],f=m&&p.childNodes[m];f=++m&&f&&f[h]||(d=m=0)||g.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[Ti,m,d];break}}else if(b&&(s=(t[ki]||(t[ki]={}))[e])&&s[0]===Ti)d=s[1];else for(;(f=++m&&f&&f[h]||(d=m=0)||g.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[ki]||(f[ki]={}))[e]=[Ti,d]),f!==t)););return(d-=o)===r||d%r==0&&0<=d/r}}},PSEUDO:function(e,t){var n,r=ci.pseudos[e]||ci.setFilters[e.toLowerCase()]||ea.error("unsupported pseudo: "+e);return r[ki]?r(t):1<r.length?(n=[e,e,"",t],ci.setFilters.hasOwnProperty(e.toLowerCase())?na((function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=Li.call(e,i[a])]=!(n[o]=i[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:na((function(e){var t=[],n=[],r=di(e.replace(Fi,"$1"));return r[ki]?na((function(e,t,n,o){for(var i,a=r(e,null,o,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:na((function(e){return function(t){return 0<ea(e,t).length}})),contains:na((function(e){return e=e.replace(Zi,ai),function(t){return-1<(t.textContent||t.innerText||si(t)).indexOf(e)}})),lang:na((function(e){return qi.test(e||"")||ea.error("unsupported lang: "+e),e=e.replace(Zi,ai).toLowerCase(),function(t){var n;do{if(n=wi?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===yi},focus:function(e){return e===bi.activeElement&&(!bi.hasFocus||bi.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!ci.pseudos.empty(e)},header:function(e){return Xi.test(e.nodeName)},input:function(e){return Gi.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:oa((function(){return[0]})),last:oa((function(e,t){return[t-1]})),eq:oa((function(e,t,n){return[n<0?n+t:n]})),even:oa((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:oa((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:oa((function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e})),gt:oa((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=ci.pseudos.eq,z(["radio","checkbox","file","password","image"],(function(e){var t;ci.pseudos[e]=(t=e,function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t})})),z(["submit","reset"],(function(e){var t;ci.pseudos[e]=(t=e,function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t})})),aa.prototype=ci.filters=ci.pseudos,ci.setFilters=new aa,fi=ea.tokenize=function(e,t){var n,r,o,i,a,u,c,s=Di[e+" "];if(s)return t?0:s.slice(0);for(a=e,u=[],c=ci.preFilter;a;){for(i in n&&!(r=Vi.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=ji.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Fi," ")}),a=a.slice(n.length)),ci.filter)ci.filter.hasOwnProperty(i)&&(!(r=$i[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?ea.error(e):Di(e,u).slice(0)},di=ea.compile=function(e,t){var n,r=[],o=[],i=Ai[e+" "];if(!i){for(n=(t=t||fi(e)).length;n--;)((i=function e(t){for(var n,r,o,i=t.length,a=ci.relative[t[0].type],u=a||ci.relative[" "],c=a?1:0,s=ca((function(e){return e===n}),u,!0),l=ca((function(e){return-1<Li.call(n,e)}),u,!0),f=[function(e,t,r){return r=!a&&(r||t!==gi)||((n=t).nodeType?s:l)(e,t,r),n=null,r}];c<i;c++)if(r=ci.relative[t[c].type])f=[ca(sa(f),r)];else{if((r=ci.filter[t[c].type].apply(null,t[c].matches))[ki]){for(o=++c;o<i&&!ci.relative[t[o].type];o++);return fa(1<c&&sa(f),1<c&&ua(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(Fi,"$1"),r,c<o&&e(t.slice(c,o)),o<i&&e(t=t.slice(o)),o<i&&ua(t))}f.push(r)}return sa(f)}(t[n]))[ki]?r:o).push(i);(i=Ai(e,da(o,r))).selector=e}return i},mi=ea.select=function(e,t,n,r){var o,i,a,u,c,s="function"==typeof e&&e,l=!r&&fi(e=s.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(a=i[0]).type&&ui.getById&&9===t.nodeType&&wi&&ci.relative[i[1].type]){if(!(t=(ci.find.ID(a.matches[0].replace(Zi,ai),t)||[])[0]))return n;s&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=$i.needsContext.test(e)?0:i.length;o--&&(a=i[o],!ci.relative[u=a.type]);)if((c=ci.find[u])&&(r=c(a.matches[0].replace(Zi,ai),Ji.test(i[0].type)&&ia(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&ua(i)))return Pi.apply(n,r),n;break}}return(s||di(e,l))(r,t,!wi,n,Ji.test(e)&&ia(t.parentNode)||t),n},ui.sortStable=ki.split("").sort(zi).join("")===ki,ui.detectDuplicates=!!pi,vi(),ui.sortDetached=!0;var Ca=document,Sa=Array.prototype.push,ka=Array.prototype.slice,Oa=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ta=oi.Event,_a=ln.makeMap("children,contents,next,prev"),Ea=function(e,t,n,r){var o;if(ga(t))t=ha(t,Pa(e[0]));else if(t.length&&!t.nodeType){if(t=ja.makeArray(t),r)for(o=t.length-1;0<=o;o--)Ea(e,t[o],n,r);else for(o=0;o<t.length;o++)Ea(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Da=ln.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Aa=ln.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),za={for:"htmlFor",class:"className",readonly:"readOnly"},Ra={float:"cssFloat"},Ma={},Na={},Ba=/^\s*|\s*$/g,Pa=function(e){return e?9===e.nodeType?e:e.ownerDocument:Ca};function Ha(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof ja&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&ja(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r}function La(e,t,n,r){var o=[];for(r instanceof ja&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&ja(e).is(r))break}o.push(e)}return o}function Ia(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null}function Fa(e,t){var n=t.attr("style");n=(n=e.serialize(e.parse(n),t[0].nodeName))||null;t.attr("data-mce-style",n)}function Va(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o}ba.fn=ba.prototype={constructor:ba,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return ja(e).attr(t);o.context=t=document}if(ga(e)){if(!(n="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Oa.exec(e)))return ja(t).find(e);if(n[1])for(r=ha(e,Pa(t)).firstChild;r;)Sa.call(o,r),r=r.nextSibling;else{if(!(r=Pa(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return ln.toArray(this)},add:function(e,t){var n,r;if(ga(e))return this.add(ja(e));if(!1!==t)for(n=ja.unique(this.toArray().concat(ja.makeArray(e))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else Sa.apply(this,ja.makeArray(e));return this},attr:function(e,t){var n,r=this;if("object"==typeof e)wa(e,(function(e,t){r.attr(e,t)}));else{if(!ma(t)){if(r[0]&&1===r[0].nodeType){if((n=Ma[e])&&n.get)return n.get(r[0],e);if(Aa[e])return r.prop(e)?e:void 0;null===(t=r[0].getAttribute(e,2))&&(t=void 0)}return t}this.each((function(){var n;1===this.nodeType&&((n=Ma[e])&&n.set?n.set(this,t):null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2))}))}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=za[e]||e))wa(e,(function(e,t){n.prop(e,t)}));else{if(!ma(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1===this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){function n(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))}function r(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))}var o,i,a=this;if("object"==typeof e)wa(e,(function(e,t){a.css(e,t)}));else if(ma(t))e=n(e),"number"!=typeof t||Da[e]||(t=t.toString()+"px"),a.each((function(){var n=this.style;if((i=Na[e])&&i.set)i.set(this,t);else{try{this.style[Ra[e]||e]=t}catch(n){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(r(e)):n.removeAttribute(e))}}));else{if(o=a[0],(i=Na[e])&&i.get)return i.get(o);if(!o.ownerDocument.defaultView)return o.currentStyle?o.currentStyle[n(e)]:"";try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(r(e))}catch(n){return}}return a},remove:function(){for(var e,t=this.length;t--;)e=this[t],Ta.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t;if(ma(e)){t=this.length;try{for(;t--;)this[t].innerHTML=e}catch(C){ja(this[t]).empty().append(e)}return this}return this[0]?this[0].innerHTML:""},text:function(e){var t;if(ma(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return Ea(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return Ea(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){return this[0]&&this[0].parentNode?Ea(this,arguments,(function(e){this.parentNode.insertBefore(e,this)})):this},after:function(){return this[0]&&this[0].parentNode?Ea(this,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):this},appendTo:function(e){return ja(e).append(this),this},prependTo:function(e){return ja(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return va(this,e)},wrapAll:function(e){return va(this,e,!0)},wrapInner:function(e){return this.each((function(){ja(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){ja(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),ja(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?wa(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,r){var o,i=pa(r,e);i!==t&&(o=r.className,i?r.className=ya((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)}))),n},hasClass:function(e){return pa(this[0],e)},each:function(e){return wa(this,e)},on:function(e,t){return this.each((function(){Ta.bind(this,e,t)}))},off:function(e,t){return this.each((function(){Ta.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"==typeof e?Ta.fire(this,e.type,e):Ta.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return ja(ka.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){for(var t=[],n=0,r=this.length;n<r;n++)ja.find(e,this[n],t);return ja(t)},filter:function(e){return ja("function"==typeof e?xa(this.toArray(),(function(t,n){return e(n,t)})):ja.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof ja&&(e=e[0]),this.each((function(n,r){for(;r;){if("string"==typeof e&&ja(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}})),ja(t)},offset:function(e){var t,n,r=0,o=0;return e?this.css(e):((n=this[0])&&(e=(t=n.ownerDocument).documentElement,n.getBoundingClientRect&&(r=(n=n.getBoundingClientRect()).left+(e.scrollLeft||t.body.scrollLeft)-e.clientLeft,o=n.top+(e.scrollTop||t.body.scrollTop)-e.clientTop)),{left:r,top:o})},push:Sa,sort:Array.prototype.sort,splice:Array.prototype.splice},ln.extend(ba,{extend:ln.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:ln.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:ln.isArray,each:wa,trim:ya,grep:xa,find:ea,expr:ea.selectors,unique:ea.uniqueSort,text:ea.getText,contains:ea.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return 1===t.length?ja.find.matchesSelector(t[0],e)?[t[0]]:[]:ja.find.matches(e,t)}}),wa({parent:function(e){return e=e.parentNode,e&&11!==e.nodeType?e:null},parents:function(e){return Ha(e,"parentNode")},next:function(e){return Ia(e,"nextSibling",1)},prev:function(e){return Ia(e,"previousSibling",1)},children:function(e){return La(e.firstChild,"nextSibling",1)},contents:function(e){return ln.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){ba.fn[e]=function(n){var r=[];this.each((function(){var e=t.call(r,this,n,r);e&&(ja.isArray(e)?r.push.apply(r,e):r.push(e))})),1<this.length&&(_a[e]||(r=ja.unique(r)),0===e.indexOf("parents")&&(r=r.reverse()));var o=ja(r);return n?o.filter(n):o}})),wa({parentsUntil:function(e,t){return Ha(e,"parentNode",t)},nextUntil:function(e,t){return La(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return La(e,"previousSibling",1,t).slice(1)}},(function(e,t){ba.fn[e]=function(n,r){var o=[];this.each((function(){var e=t.call(o,this,n,o);e&&(ja.isArray(e)?o.push.apply(o,e):o.push(e))})),1<this.length&&(o=ja.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse()));var i=ja(o);return r?i.filter(r):i}})),ba.fn.is=function(e){return!!e&&0<this.filter(e).length},ba.fn.init.prototype=ba.fn,ba.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o=o||t.context,new n.fn.init(r,o)};return ja.extend(n,this),n},ba.attrHooks=Ma,ba.cssHooks=Na;var ja=ba,Ua=ln.each,Wa=ln.grep,qa=un.ie,$a=/^([a-z0-9],?)+$/i,Ga=function(e,t){function n(t){return t&&e&&de(t)?e.getElementById(t):t}function r(e){return W("string"==typeof e?n(e):e)}function o(e,t,n){var o,i=r(e);return void 0===(o=i.length?(e=Y[t])&&e.get?e.get(i,t):i.attr(t):o)?n||"":o}function i(e){return(e=n(e))?e.attributes:[]}function u(e,n,o){""===o&&(o=null);var i=r(e),a=i.attr(n);i.length&&((e=Y[n])&&e.set?e.set(i,o,n):i.attr(n,o),a!==o&&t.onSetAttrib&&t.onSetAttrib({attrElm:i,attrName:n,attrValue:o}))}function c(){return t.root_element||e.body}function s(t,r){return Mt(e.body,n(t),r)}function l(e,t,n){return e=r(e),n?e.css(t):("float"===(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})))&&(t=un.browser.isIE()?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)}function f(e){var t,r;return e=n(e),t=l(e,"width"),r=l(e,"height"),-1===t.indexOf("px")&&(t=0),-1===r.indexOf("px")&&(r=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}}function d(e,t){if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if($a.test(t)){for(var n=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase(),o=n.length-1;0<=o;o--)if(n[o]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}return e=Array.isArray(e)?e:[e],0<ea(t,e[0].ownerDocument||e[0],null,e).length}function m(e,t,r,o){var i,a=[],u=n(e);for(o=void 0===o,r=r||("BODY"!==c().nodeName?c().parentNode:null),ln.is(t,"string")&&(t="*"===(i=t)?function(e){return 1===e.nodeType}:function(e){return d(e,i)});u&&!(u===r||O(u.nodeType)||zn(u)||Rn(u));){if(!t||"function"==typeof t&&t(u)){if(!o)return[u];a.push(u)}u=u.parentNode}return o?a:null}function g(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return d(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null}function h(e,t,r){var o;return!!(e="string"==typeof e?n(e):e)&&(ln.isArray(e)&&(e.length||0===e.length)?(o=[],Ua(e,(function(e,i){e&&o.push(t.call(r,"string"==typeof e?n(e):e,i))})),o):t.call(r||this,e))}function p(e,t){r(e).each((function(e,n){Ua(t,(function(e,t){u(n,t,e)}))}))}function v(e,t){e=r(e),qa?e.each((function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){ja("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}})):e.html(t)}function b(t,n,r,o,i){return h(t,(function(t){var a="string"==typeof n?e.createElement(n):n;return p(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&v(a,o)),i?a:t.appendChild(a)}))}function y(t,n,r){return b(e.createElement(t),t,n,r,!0)}function w(e,t){return e=r(e),(t?e.each((function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})):e).remove(),1<e.length?e.toArray():e[0]}function x(e,t,n){r(e).toggleClass(t,n).each((function(){""===this.className&&ja(this).attr("class",null)}))}function C(e,t,n){return h(t,(function(t){return ln.is(t,"array")&&(e=e.cloneNode(!0)),n&&Ua(Wa(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))}function S(e){if(_n(e)){var t="a"===e.nodeName.toLowerCase()&&!o(e,"href")&&o(e,"id");if(o(e,"name")||o(e,"data-mce-bookmark")||t)return 1}}function k(){return e.createRange()}function T(e){if(e&&_n(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null}void 0===t&&(t={});var _,E,D,A,R,M,N={},B=window,P={},H=0,L=Cr.forElement(dn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),I=[],F=t.schema||Jr({}),V=Zr({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),j=t.ownEvents?new oi:oi.Event,U=F.getBlockElements(),W=ja.overrideDefaults((function(){return{context:e,element:K.getRoot()}})),$=$o.encodeAllRaw,G=function(n,r,o,i){if(ln.isArray(n)){for(var a=n.length,u=[];a--;)u[a]=G(n[a],r,o,i);return u}return!t.collect||n!==e&&n!==B||I.push([n,r,o,i]),j.bind(n,r,o,i||K)},X=function(t,n,r){if(ln.isArray(t)){for(var o=t.length,i=[];o--;)i[o]=X(t[o],n,r);return i}if(0<I.length&&(t===e||t===B))for(o=I.length;o--;){var a=I[o];t!==a[0]||n&&n!==a[1]||r&&r!==a[2]||j.unbind(a[0],a[1],a[2])}return j.unbind(t,n,r)},K={doc:e,settings:t,win:B,files:P,stdMode:!0,boxModel:!0,styleSheetLoader:L,boundEvents:I,styles:V,schema:F,events:j,isBlock:function(e){if("string"==typeof e)return!!U[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!U[e.nodeName])}return!1},$:W,$$:r,root:null,clone:function(t,n){if(!qa||1!==t.nodeType||n)return t.cloneNode(n);var r=e.createElement(t.nodeName);return Ua(i(t),(function(e){u(r,e.nodeName,o(t,e.nodeName))})),r},getRoot:c,getViewPort:function(e){return e=ht(e),{x:e.x,y:e.y,w:e.width,h:e.height}},getRect:function(e){e=n(e);var t=s(e);e=f(e);return{x:t.x,y:t.y,w:e.w,h:e.h}},getSize:f,getParent:function(e,t,n){return n=m(e,t,n,!1),n&&0<n.length?n[0]:null},getParents:m,get:n,getNext:function(e,t){return g(e,t,"nextSibling")},getPrev:function(e,t){return g(e,t,"previousSibling")},select:function(r,o){return ea(r,n(o)||t.root_element||e,[])},is:d,add:b,create:y,createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+$(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},remove:w,setStyle:function(e,n,o){n=de(n)?r(e).css(n,o):r(e).css(n),t.update_styles&&Fa(V,n)},getStyle:l,setStyles:function(e,n){n=r(e).css(n),t.update_styles&&Fa(V,n)},removeAllAttribs:function(e){return h(e,(function(e){for(var t=e.attributes,n=t.length-1;0<=n;n--)e.removeAttributeNode(t.item(n))}))},setAttrib:u,setAttribs:p,getAttrib:o,getPos:s,parseStyle:function(e){return V.parse(e)},serializeStyle:function(e,t){return V.serialize(e,t)},addStyle:function(t){var n,r;if(K!==Ga.DOM&&e===document){if(N[t])return;N[t]=!0}(r=e.getElementById("mceDefaultStyles"))||((r=e.createElement("style")).id="mceDefaultStyles",r.type="text/css",(n=e.getElementsByTagName("head")[0]).firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(e.createTextNode(t))},loadCSS:function(e){z((e=e||"").split(","),(function(e){P[e]=!0,L.load(e,a)}))},addClass:function(e,t){r(e).addClass(t)},removeClass:function(e,t){x(e,t,!1)},hasClass:function(e,t){return r(e).hasClass(t)},toggleClass:x,show:function(e){r(e).show()},hide:function(e){r(e).hide()},isHidden:function(e){return"none"===r(e).css("display")},uniqueId:function(e){return(e||"mce_")+H++},setHTML:v,getOuterHTML:function(e){return e="string"==typeof e?n(e):e,_n(e)?e.outerHTML:ja("<div></div>").append(ja(e).clone()).html()},setOuterHTML:function(e,t){r(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}w(ja(this).html(t),!0)}))},decode:$o.decode,encode:$,insertAfter:function(e,t){var r=n(t);return h(e,(function(e){var t=r.parentNode,n=r.nextSibling;return n?t.insertBefore(e,n):t.appendChild(e),e}))},replace:C,rename:function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=y(t),Ua(i(e),(function(t){u(n,t.nodeName,o(e,t.nodeName))})),C(n,e,!0)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return V.toHex(ln.trim(e))},run:h,getAttribs:i,isEmpty:function(e,t){var n,r=0;if(S(e))return!1;if(e=e.firstChild){var o=new Sr(e,e.parentNode),i=F?F.getWhiteSpaceElements():{};t=t||(F?F.getNonEmptyElements():null);do{if(n=e.nodeType,_n(e)){var a=e.getAttribute("data-mce-bogus");if(a){e=o.next("all"===a);continue}if(a=e.nodeName.toLowerCase(),t&&t[a]){if("br"!==a)return!1;r++,e=o.next();continue}if(S(e))return!1}if(8===n)return!1;if(3===n&&!Hr(e.nodeValue))return!1;if(3===n&&e.parentNode&&i[e.parentNode.nodeName]&&Hr(e.nodeValue))return!1;e=o.next()}while(e)}return r<=1},createRng:k,nodeIndex:Va,split:function(e,t,n){var r,o,i=k();if(e&&t)return i.setStart(e.parentNode,Va(e)),i.setEnd(t.parentNode,Va(t)),r=i.extractContents(),(i=k()).setStart(t.parentNode,Va(t)+1),i.setEnd(e.parentNode,Va(e)+1),o=i.extractContents(),(i=e.parentNode).insertBefore(Po(K,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(Po(K,o),e),w(e),n||t},bind:G,unbind:X,fire:function(e,t,n){return j.fire(e,t,n)},getContentEditable:T,getContentEditableParent:function(e){for(var t=c(),n=null;e&&e!==t&&null===(n=T(e));e=e.parentNode);return n},destroy:function(){if(0<I.length)for(var e=I.length;e--;){var t=I[e];j.unbind(t[0],t[1],t[2])}q(P,(function(e,t){L.unload(t),delete P[t]})),ea.setDocument&&ea.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}},Y=(_=V,D=function(){return K},A=(E=t).keep_values,R={set:function(e,t,n){E.url_converter&&(t=E.url_converter.call(E.url_converter_scope||D(),t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},M={style:{set:function(e,t){null===t||"object"!=typeof t?(A&&e.attr("data-mce-style",t),null!==t&&"string"==typeof t?(e.removeAttr("style"),e.css(_.parse(t))):e.attr("style",t)):e.css(t)},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return _.serialize(_.parse(t),e[0].nodeName)}}},A&&(M.href=M.src=R),M);return K};Ga.DOM=Ga(document),Ga.nodeIndex=Va;var Xa=Ga.DOM,Ka=ln.each,Ya=ln.grep,Ja=(Qa.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},Qa.prototype.loadScript=function(e,t,n){function r(){o.remove(i),a&&(a.onerror=a.onload=a=null)}var o=Xa,i=o.uniqueId(),a=document.createElement("script");a.id=i,a.type="text/javascript",a.src=ln._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy),a.onload=function(){r(),t()},a.onerror=function(){r(),be(n)&&n()},(document.getElementsByTagName("head")[0]||document.body).appendChild(a)},Qa.prototype.isDone=function(e){return 2===this.states[e]},Qa.prototype.markDone=function(e){this.states[e]=2},Qa.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e),void 0===o&&(this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},Qa.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},Qa.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},Qa.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},Qa.prototype.loadScripts=function(e,t,n,r){function o(e,t){Ka(i.scriptLoadedCallbacks[t],(function(t){be(t[e])&&t[e].call(t.scope)})),i.scriptLoadedCallbacks[t]=void 0}var i=this,a=[];i.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var u=function(){var t=Ya(e);e.length=0,Ka(t,(function(e){2!==i.states[e]?3!==i.states[e]?1!==i.states[e]&&(i.states[e]=1,i.loading++,i.loadScript(e,(function(){i.states[e]=2,i.loading--,o("success",e),u()}),(function(){i.states[e]=3,i.loading--,a.push(e),o("failure",e),u()}))):o("failure",e):o("success",e)})),i.loading||(t=i.queueLoadedCallbacks.slice(0),i.queueLoadedCallbacks.length=0,Ka(t,(function(e){0===a.length?be(e.success)&&e.success.call(e.scope):be(e.failure)&&e.failure.call(e.scope,a)})))};u()},Qa.ScriptLoader=new Qa,Qa);function Qa(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}function Za(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function eu(){return Q(tu,nu.get())}var tu={},nu=Za("en"),ru={getData:function(){return $(tu,(function(e){return De({},e)}))},setCode:function(e){e&&nu.set(e)},getCode:function(){return nu.get()},add:function(e,t){var n=tu[e];n||(tu[e]=n={}),q(t,(function(e,t){n[t.toLowerCase()]=e}))},translate:function(e){function t(e){return be(e)?Object.prototype.toString.call(e):a(e)?"":""+e}function n(e){return e=t(e),Q(i,e.toLowerCase()).map(t).getOr(e)}function r(e){return e.replace(/{context:\w+}$/,"")}var o,i=eu().getOr({}),a=function(e){return""===e||null==e};if(a(e))return"";if(me(o=e)&&_e(o,"raw"))return t(e.raw);if(ge(o=e)&&1<o.length){var u=e.slice(1);return r(n(e[0]).replace(/\{([0-9]+)\}/g,(function(e,n){return _e(u,n)?t(u[n]):e})))}return r(n(e))},isRtl:function(){return eu().bind((function(e){return Q(e,"_dir")})).exists((function(e){return"rtl"===e}))},hasCode:function(e){return _e(tu,e)}},ou=function(){function e(e,t){var n=M(a,(function(n){return n.name===e&&n.state===t}));z(n,(function(e){return e.callback()}))}function t(e){var t;return(t=i[e]?i[e].dependencies:t)||[]}function n(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}}var r=[],o={},i={},a=[],u=function(r,a,c,s,l){var f,d;o[r]||(0!==(f="string"==typeof a?a:a.prefix+a.resource+a.suffix).indexOf("/")&&-1===f.indexOf("://")&&(f=ou.baseURL+"/"+f),o[r]=f.substring(0,f.lastIndexOf("/")),d=function(){e(r,"loaded"),function(e,r,o,i){e=t(e),z(e,(function(e){e=n(r,e),u(e.resource,e,void 0,void 0)})),o&&(i?o.call(i):o.call(Ja))}(r,a,c,s)},i[r]?d():Ja.ScriptLoader.add(f,d,s,l))},c=function(e,t,n){void 0===n&&(n="added"),_e(i,e)&&"added"===n||_e(o,e)&&"loaded"===n?t():a.push({name:e,state:n,callback:t})};return{items:r,urls:o,lookup:i,_listeners:a,get:function(e){if(i[e])return i[e].instance},dependencies:t,requireLangPack:function(e,t){!1!==ou.languageLoad&&c(e,(function(){var n=ru.getCode();!n||t&&-1===(","+(t||"")+",").indexOf(","+n+",")||Ja.ScriptLoader.add(o[e]+"/langs/"+n+".js")}),"loaded")},add:function(t,n,o){return r.push(n),i[t]={instance:n,dependencies:o},e(t,"added"),n},remove:function(e){delete o[e],delete i[e]},createUrl:n,addComponents:function(e,t){var n=o[e];z(t,(function(e){Ja.ScriptLoader.add(n+"/"+e)}))},load:u,waitFor:c}};function iu(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===n&&(n=setTimeout((function(){e.apply(null,r),n=null}),t))}}}function au(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){e.apply(null,r),n=null}),t)}}}function uu(e,t){return void 0===(t=kt(e,t))||""===t?[]:t.split(" ")}function cu(e){return void 0!==e.dom.classList}function su(e,t){return function(e,t,n){return n=uu(e,t).concat([n]),Ct(e,t,n.join(" ")),!0}(e,"class",t)}function lu(e,t){return r=t,0<(e=M(uu(n=e,t="class"),(function(e){return e!==r}))).length?Ct(n,t,e.join(" ")):Tt(n,t),0;var n,r}function fu(e,t){cu(e)?e.dom.classList.add(t):su(e,t)}function du(e){0===(cu(e)?e.dom.classList:uu(e,"class")).length&&Tt(e,"class")}function mu(e,t){return cu(e)&&e.dom.classList.contains(t)}function gu(e,t){return function(e,t){return t=void 0===t?document:t.dom,Le(t)?[]:A(t.querySelectorAll(e),dn.fromDom)}(t,e)}function hu(e,t){function n(e,t){return function(e,t){return e=e.dom,!(!e||!e.hasAttribute)&&e.hasAttribute(t)}(e,t)?ce.some(kt(e,t)):ce.none()}var r=e.selection.getRng(),o=dn.fromDom(r.startContainer),i=dn.fromDom(e.getBody());t=t.fold((function(){return"."+Uu()}),(function(e){return"["+Wu()+'="'+e+'"]'})),o=Qe(o,r.startOffset).getOr(o);return(t=nr(o,t,(function(e){return Ie(e,i)}))).bind((function(t){return n(t,""+qu()).bind((function(r){return n(t,""+Wu()).map((function(t){var n=$u(e,r);return{uid:r,name:t,elements:n}}))}))}))}function pu(e,t){function n(e,t){o(e,(function(e){return t(e),e}))}var r=Za({}),o=function(e,t){var n=r.get();t=t(n.hasOwnProperty(e)?n[e]:{listeners:[],previous:Za(ce.none())});n[e]=t,r.set(n)},i=au((function(){var t=r.get();t=function(e,t){return e=we.call(e,0),e.sort(t),e}(ke(t));z(t,(function(t){o(t,(function(r){var o=r.previous.get();return hu(e,ce.some(t)).fold((function(){var e;o.isSome()&&(n(e=t,(function(t){z(t.listeners,(function(t){return t(!1,e)}))})),r.previous.set(ce.none()))}),(function(e){var t,i,a,u=e.uid,c=e.name;e=e.elements;o.is(u)||(i=u,a=e,n(t=c,(function(e){z(e.listeners,(function(e){return e(!0,t,{uid:i,nodes:A(a,(function(e){return e.dom}))})}))})),r.previous.set(ce.some(u)))})),{previous:r.previous,listeners:r.listeners}}))}))}),30);return e.on("remove",(function(){i.cancel()})),e.on("NodeChange",(function(){i.throttle()})),{addListener:function(e,t){o(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))}}}function vu(e,t){e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){z(e,(function(e){ce.from(e.attr(Wu())).bind(t.lookup).each((function(t){!1===t.persistent&&e.unwrap()}))}))}))}))}function bu(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Gu+String(t)}function yu(e,t){var n=We(e).dom,r=dn.fromDom(n.createDocumentFragment());n=function(e,t){return t=(t||document).createElement("div"),t.innerHTML=e,vn(dn.fromDom(t))}(t,n);ut(r,n),ct(e),xn(e,r)}function wu(e,t){return dn.fromDom(e.dom.cloneNode(t))}function xu(e){return wu(e,!1)}function Cu(e){return wu(e,!0)}function Su(e,t,n){function r(e){for(var t;(t=o[e]())&&!Dn(t)&&!n(t););return ce.from(t).filter(Dn)}void 0===n&&(n=b);var o=new Sr(e,t);return{current:function(){return ce.from(o.current()).filter(Dn)},next:function(){return r("next")},prev:function(){return r("prev")},prev2:function(){return r("prev2")}}}function ku(e,t){var n=t||function(t){return e.isBlock(t)||Mn(t)||Pn(t)},r=function(e,t,n,o){return Dn(e)&&(t=o(e,t,e.data),-1!==t)?ce.some({container:e,offset:t}):n().bind((function(e){return r(e.container,e.offset,n,o)}))};return{backwards:function(e,t,o,i){var a=Su(e,i,n);return r(e,t,(function(){return a.prev().map((function(e){return{container:e,offset:e.length}}))}),o).getOrNull()},forwards:function(e,t,o,i){var a=Su(e,i,n);return r(e,t,(function(){return a.next().map((function(e){return{container:e,offset:0}}))}),o).getOrNull()}}}function Ou(e,t,n){return e.isSome()&&t.isSome()?ce.some(n(e.getOrDie(),t.getOrDie())):ce.none()}function Tu(e){return e?{left:Xu(e.left),top:Xu(e.top),bottom:Xu(e.bottom),right:Xu(e.right),width:Xu(e.width),height:Xu(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function _u(e,t){return e=Tu(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e}function Eu(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2}function Du(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Eu(t.top-e.bottom,e,t)}function Au(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Eu(t.bottom-e.top,e,t)}function zu(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}function Ru(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null}function Mu(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e}function Nu(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&Ku.test(e)}function Bu(e){return"createRange"in e?e.createRange():Ga.DOM.createRng()}function Pu(e){return e&&/[\r\n\t ]/.test(e)}function Hu(e){return!!e.setStart&&!!e.setEnd}function Lu(e){var t=e.startContainer,n=e.startOffset;return!!(Pu(e.toString())&&Zu(t.parentNode)&&Dn(t)&&(t=t.data,Pu(t[n-1])||Pu(t[n+1])))}function Iu(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom}function Fu(e,t){return(t=_u(e,t)).width=1,t.right=t.left+1,t}function Vu(e){function t(e){var t,n;0!==e.height&&(0<o.length&&(t=e,n=o[o.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||o.push(e))}function n(e,n){var r=Bu(e.ownerDocument);if(n<e.data.length){if(Nu(e.data[n]))return o;if(Nu(e.data[n-1])&&(r.setStart(e,n),r.setEnd(e,n+1),!Lu(r)))return t(Fu(oc(r),!1)),o}0<n&&(r.setStart(e,n-1),r.setEnd(e,n),Lu(r)||t(Fu(oc(r),!1))),n<e.data.length&&(r.setStart(e,n),r.setEnd(e,n+1),Lu(r)||t(Fu(oc(r),!0)))}var r,o=[];if(ec(e.container()))return n(e.container(),e.offset()),o;if(Yu(e.container()))if(e.isAtEnd())r=rc(e.container(),e.offset()),ec(r)&&n(r,r.data.length),Qu(r)&&!tc(r)&&t(Fu(oc(r),!1));else{if(r=rc(e.container(),e.offset()),ec(r)&&n(r,0),Qu(r)&&e.isAtEnd())return t(Fu(oc(r),!1)),o;e=rc(e.container(),e.offset()-1),Qu(e)&&!tc(e)&&(!Ju(e)&&!Ju(r)&&Qu(r)||t(Fu(oc(e),!1))),Qu(r)&&t(Fu(oc(r),!0))}return o}ou.languageLoad=!0,ou.baseURL="",ou.PluginManager=ou(),ou.ThemeManager=ou();var ju=function(e,t){var n=[];return z(vn(e),(function(e){n=(n=t(e)?n.concat([e]):n).concat(ju(e,t))})),n},Uu=c("mce-annotation"),Wu=c("data-mce-annotation"),qu=c("data-mce-annotation-uid"),$u=function(e,t){return e=dn.fromDom(e.getBody()),gu(e,"["+qu()+'="'+t+'"]')},Gu=0,Xu=Math.round,Ku=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Yu=_n,Ju=(Jt=Br,le("display","block table")),Qu=(fe=le("float","left right"),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}(Yu,Jt,g(fe))),Zu=g(le("white-space","pre pre-line pre-wrap")),ec=Dn,tc=Mn,nc=Ga.nodeIndex,rc=Mu,oc=function(e){var t=e.getClientRects();t=0<t.length?Tu(t[0]):Tu(e.getBoundingClientRect());return!Hu(e)&&tc(e)&&Iu(t)?function(e){var t=e.ownerDocument,n=Bu(t),r=t.createTextNode("");t=e.parentNode;return t.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1),n=Tu(n.getBoundingClientRect()),t.removeChild(r),n}(e):Iu(t)&&Hu(e)?function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;return t===n&&Dn(n)&&0===r&&1===o?(e=e.cloneRange(),e.setEndAfter(n),oc(e)):null}(e):t},ic=function(e,t,n){function r(){return n=n||Vu(ic(e,t))}return{container:c(e),offset:c(t),toRange:function(){var n=Bu(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return ec(e),0===t},isAtEnd:function(){return ec(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return rc(e,n?t-1:t)}}};function ac(e,t){Dn(t)&&0===t.data.length&&e.remove(t)}function uc(e,t,n){var r,o,i,a,u;Rn(n)?(r=e,o=t,i=n,a=ce.from(i.firstChild),u=ce.from(i.lastChild),o.insertNode(i),a.each((function(e){return ac(r,e.previousSibling)})),u.each((function(e){return ac(r,e.nextSibling)}))):(e=e,n=n,t.insertNode(n),ac(e,n.previousSibling),ac(e,n.nextSibling))}function cc(e){return function(t){return e===t}}function sc(e){var t=is(e)?"text()":e.nodeName.toLowerCase();return t+"["+function(e){var t=ss(cs(e)),n=ie(t,cc(e),e);t=t.slice(0,n+1);var r=oe(t,(function(e,n,r){return is(n)&&is(t[r-1])&&e++,e}),0);return t=ne(t,vt([e.nodeName])),ie(t,cc(e),e)-r}(e)+"]"}function lc(e,t){var n,r=[],o=t.container(),i=t.offset();return is(o)?n=function(e,t){for(;(e=e.previousSibling)&&is(e);)t+=e.data.length;return t}(o,i):(i>=(t=o.childNodes).length?(n="after",i=t.length-1):n="before",o=t[i]),r.push(sc(o)),o=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r}(e,o),o=ne(o,g(bt)),(r=r.concat(te(o,sc))).reverse().join("/")+","+n}function fc(e,t){if(!t)return null;t=(n=t.split(","))[0].split("/");var n=1<n.length?n[1]:"before";return(e=oe(t,(function(e,t){var n,r=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return r?("text()"===r[1]&&(r[1]="#text"),t=e,e=r[1],r=parseInt(r[2],10),n=ss(t),n=ne(n,(function(e,t){return!is(e)||!is(n[t-1])})),(n=ne(n,vt([e])))[r]):null}),e))?is(e)?function(e,t){for(var n,r=e,o=0;is(r);){if(n=r.data.length,o<=t&&t<=o+n){e=r,t-=o;break}if(!is(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return is(e)&&t>e.data.length&&(t=e.data.length),ic(e,t)}(e,parseInt(n,10)):(n="after"===n?us(e)+1:us(e),ic(e.parentNode,n)):null}function dc(e,t,n,r,o){var i=r[o?"startContainer":"endContainer"],a=(r=r[o?"startOffset":"endOffset"],[]),u=(o=0,e.getRoot());for(Dn(i)?a.push(n?function(e,t,n){for(var r=e(t.data.slice(0,n)).length,o=t.previousSibling;o&&Dn(o);o=o.previousSibling)r+=e(o.data).length;return r}(t,i,r):r):(r>=(t=i.childNodes).length&&t.length&&(o=1,r=Math.max(0,t.length-1)),a.push(e.nodeIndex(t[r],n)+o));i&&i!==u;i=i.parentNode)a.push(e.nodeIndex(i,n));return a}function mc(e,t,n){var r=0;return ln.each(e.select(t),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++})),r}function gc(e,t){var n=t?"start":"end",r=e[n+"Container"],o=e[n+"Offset"];_n(r)&&"TR"===r.nodeName&&(r=(n=r.childNodes)[Math.min(t?o:o-1,n.length-1)])&&(o=t?0:r.childNodes.length,e["set"+(t?"Start":"End")](r,o))}function hc(e){return gc(e,!0),gc(e,!1),e}function pc(e,t){return _n(e)&&(e=Mu(e,t),ls(e))?e:Dr(e)?(t=(e=Dn(e)&&_r(e)?e.parentNode:e).previousSibling,ls(t)?t:(t=e.nextSibling,ls(t)?t:void 0)):void 0}function vc(e,t,n){var r,o=(r=n.getNode())?r.nodeName:null,i=n.getRng();return ls(r)||"IMG"===o?{name:o,index:mc(n.dom,o,r)}:(r=pc((r=i).startContainer,r.startOffset)||pc(r.endContainer,r.endOffset))?{name:o=r.tagName,index:mc(n.dom,o,r)}:(o=e,r=t,e=i,i=(t=n).dom,(n={}).start=dc(i,o,r,e,!0),t.isCollapsed()||(n.end=dc(i,o,r,e,!1)),n)}function bc(e,t,n){return t={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"},n?e.create("span",t,"&#xFEFF;"):e.create("span",t)}function yc(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;return"IMG"===u?{name:u,index:mc(n,u,a)}:(a=hc(r.cloneRange()),i||(a.collapse(!1),i=bc(n,o+"_end",t),uc(n,a,i)),(r=hc(r)).collapse(!0),t=bc(n,o+"_start",t),uc(n,r,t),e.moveToBookmark({id:o,keep:!0}),{id:o})}function wc(e,t,n){var r=e.getParam(t,n);return-1===r.indexOf("=")?r:(t=e.getParam(t,"","hash")).hasOwnProperty(e.id)?t[e.id]:n}function xc(e){return e.getParam("content_security_policy","")}function Cc(e){return e.getParam("force_p_newlines",!1)?"p":!1===(e=e.getParam("forced_root_block","p"))?"":!0===e?"p":e}function Sc(e){return e.getParam("forced_root_block_attrs",{})}function kc(e){return e.getParam("automatic_uploads",!0,"boolean")}function Oc(e){return e.getParam("icons","","string")}function Tc(e){return e.getParam("referrer_policy","","string")}function _c(e){return e.getParam("language","en","string")}function Ec(e){return e.getParam("indent_use_margin",!1)}function Dc(e){return e=e.getParam("font_css",[]),ge(e)?e:A(e.split(","),Xt)}function Ac(e){return!1!==(e=e.getParam("object_resizing"))&&!un.iOS&&(de(e)?e:"table,img,figure.image,div,video,iframe")}function zc(e){return e.getParam("event_root")}function Rc(e){return e.getParam("theme")}function Mc(e){return!1!==e.getParam("inline_boundaries")}function Nc(e){return e.getParam("plugins","","string")}function Bc(e){var t=e.parentNode;t&&t.removeChild(e)}function Pc(e){var t=bo(e);return{count:e.length-t.length,text:t}}function Hc(e){for(var t;-1!==(t=e.data.lastIndexOf(po));)e.deleteData(t,1)}function Lc(e,t){return hs(e),t}function Ic(e,t){var n=t.container(),r=function(e,t){return t=_(e,t),-1===t?ce.none():ce.some(t)}(Se(n.childNodes),e).map((function(e){return e<t.offset()?ic(n,t.offset()-1):t})).getOr(t);return hs(e),r}function Fc(e,t){return gs(e)&&t.container()===e?(r=t,o=Pc((n=e).data.substr(0,r.offset())),i=Pc(n.data.substr(r.offset())),0<(o.text+i.text).length?(Hc(n),ic(n,r.offset()-o.count)):r):Lc(e,t);var n,r,o,i}function Vc(e,t){return ic.isTextPosition(t)?Fc(e,t):(e=e,((t=t).container()===e.parentNode?Ic:Lc)(e,t))}function jc(e,t,n){var r,o,i=_u(t.getBoundingClientRect(),n),a="BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,e.scrollTop||r.scrollTop):(a=e.getBoundingClientRect(),o=e.scrollLeft-a.left,e.scrollTop-a.top);return i.left+=o,i.right+=o,i.top+=a,i.bottom+=a,i.width=1,0<(t=t.offsetWidth-t.clientWidth)&&(n&&(t*=-1),i.left+=t,i.right+=t),i}function Uc(e,t,n,r){var o,i,a=Za(ce.none()),u=0<(e=Cc(e)).length?e:"p",c=function(){!function(e){for(var t=gu(dn.fromDom(e),"*[contentEditable=false],video,audio,embed,object"),n=0;n<t.length;n++){var r,o=t[n].dom,i=o.previousSibling;Co(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(r.length-1,1)),i=o.nextSibling,xo(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))}}(t),i&&(hs(i),i=null),a.get().each((function(e){ja(e.caret).remove(),a.set(ce.none())})),o&&(xr.clearInterval(o),o=null)},s=function(){o=xr.setInterval((function(){r()?ja("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):ja("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)};return{show:function(e,r){var o;if(c(),ys(r))return null;if(!n(r))return i=function(e,t){var n,r=e.ownerDocument.createTextNode(po),o=e.parentNode;if(t){if(n=e.previousSibling,wo(n)){if(Dr(n))return n;if(Co(n))return n.splitText(n.data.length-1)}o.insertBefore(r,e)}else{if(n=e.nextSibling,wo(n)){if(Dr(n))return n;if(xo(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r)}return r}(r,e),o=r.ownerDocument.createRange(),ws(i.nextSibling)?(o.setStart(i,0),o.setEnd(i,0)):(o.setStart(i,1),o.setEnd(i,1)),o;i=Mr(u,r,e),l=jc(t,r,e),ja(i).css("top",l.top);var l=ja('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(t)[0];return a.set(ce.some({caret:l,element:r,before:e})),a.get().each((function(t){e&&ja(t.caret).addClass("mce-visual-caret-before")})),s(),(o=r.ownerDocument.createRange()).setStart(i,0),o.setEnd(i,0),o},hide:c,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.get().each((function(e){var n=jc(t,e.element,e.before);ja(e.caret).css(De({},n))}))},destroy:function(){return xr.clearInterval(o)}}}function Wc(){return ps.isIE()||ps.isEdge()||ps.isFirefox()}function qc(e){return ws(e)||yt(e)&&Wc()}function $c(e,t){for(var n;n=e(t);)if(!Os(n))return n;return null}function Gc(e,t,n,r,o){var i=new Sr(e,r);r=xs(e)||Os(e);if(t<0){if(r&&n(e=$c(i.prev.bind(i),!0)))return e;for(;e=$c(i.prev.bind(i),o);)if(n(e))return e}if(0<t){if(r&&n(e=$c(i.next.bind(i),!0)))return e;for(;e=$c(i.next.bind(i),o);)if(n(e))return e}return null}function Xc(e,t){for(;e&&e!==t;){if(Ss(e))return e;e=e.parentNode}return null}function Kc(e,t,n){return Xc(e.container(),n)===Xc(t.container(),n)}function Yc(e,t){if(!t)return null;var n=t.container();t=t.offset();return Ts(n)?n.childNodes[t+e]:null}function Jc(e,t,n){for(var r,o,i,a=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[a],ks(r)&&(r=r[a]),xs(r)||Cs(r)){if(i=n,Xc(r,o=t)===Xc(i,o))return r;break}if(_s(r))break;n=n.parentNode}return null}function Qc(e,t,n){var r,o=m(Jc,!0,t),i=m(Jc,!1,t),a=n.startContainer,u=n.startOffset;if(_r(a)){if("before"===(t=(a=Ts(a)?a:a.parentNode).getAttribute("data-mce-caret"))&&(r=a.nextSibling,qc(r)))return Es(r);if("after"===t&&(r=a.previousSibling,qc(r)))return Ds(r)}if(!n.collapsed)return n;if(Dn(a)){if(ks(a)){if(1===e){if(r=i(a))return Es(r);if(r=o(a))return Ds(r)}if(-1===e){if(r=o(a))return Ds(r);if(r=i(a))return Es(r)}return n}if(Co(a)&&u>=a.data.length-1)return 1===e&&(r=i(a))?Es(r):n;if(xo(a)&&u<=1)return-1===e&&(r=o(a))?Ds(r):n;if(u===a.data.length)return(r=i(a))?Es(r):n;if(0===u)return(r=o(a))?Ds(r):n}return n}function Zc(e,t){return ce.from(Yc(e?0:-1,t)).filter(xs)}function es(e,t,n){return n=Qc(e,t,n),-1===e?ic.fromRangeStart(n):ic.fromRangeEnd(n)}function ts(e){return ce.from(e.getNode()).map(dn.fromDom)}function ns(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function rs(e,t){return!((t=Kc(e,t))||!Mn(e.getNode()))||t}ic.fromRangeStart=function(e){return ic(e.startContainer,e.startOffset)},ic.fromRangeEnd=function(e){return ic(e.endContainer,e.endOffset)},ic.after=function(e){return ic(e.parentNode,nc(e)+1)},ic.before=function(e){return ic(e.parentNode,nc(e))},ic.isAbove=function(e,t){return Ou(U(t.getClientRects()),W(e.getClientRects()),Du).getOr(!1)},ic.isBelow=function(e,t){return Ou(W(t.getClientRects()),U(e.getClientRects()),Au).getOr(!1)},ic.isAtStart=function(e){return!!e&&e.isAtStart()},ic.isAtEnd=function(e){return!!e&&e.isAtEnd()},ic.isTextPosition=function(e){return!!e&&Dn(e.container())},ic.isElementPosition=function(e){return!1===ic.isTextPosition(e)};var os,is=Dn,as=bt,us=Ga.nodeIndex,cs=function(e){return e=e.parentNode,as(e)?cs(e):e},ss=function(e){return e?oe(e.childNodes,(function(e,t){return as(t)&&"BR"!==t.nodeName?e=e.concat(ss(t)):e.push(t),e}),[]):[]},ls=Pn,fs=(Gt=function(e,t,n){return 2===t?vc(bo,n,e):3===t?(n=(r=e).getRng(),{start:lc(r.dom.getRoot(),ic.fromRangeStart(n)),end:lc(r.dom.getRoot(),ic.fromRangeEnd(n))}):t?{rng:e.getRng()}:yc(e,!1);var r},m(vc,s,!0)),ds=Ga.DOM,ms=_n,gs=Dn,hs=function(e){ms(e)&&Dr(e)&&(Ar(e)?e.removeAttribute("data-mce-caret"):Bc(e)),gs(e)&&(Hc(e),0===e.data.length&&Bc(e))},ps=an().browser,vs=Pn,bs=Hn,ys=Qt,ws=function(e){return vs(e)||bs(e)},xs=Pn,Cs=Hn,Ss=le("display","block table table-cell table-caption list-item"),ks=Dr,Os=_r,Ts=_n,_s=Br,Es=(w=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},m(w,!0)),Ds=m(w,!1);function As(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function zs(e,t){if(0<e){if(Kl(t.previousSibling)&&!$l(t.previousSibling))return ic.before(t);if($l(t))return ic(t,0)}if(e<0){if(Kl(t.nextSibling)&&!$l(t.nextSibling))return ic.after(t);if($l(t))return ic(t,t.data.length)}return e<0&&!Xl(t)?ic.after(t):ic.before(t)}function Rs(e){return{next:function(t){return Ql(os.Forwards,t,e)},prev:function(t){return Ql(os.Backwards,t,e)}}}function Ms(e){return ic.isTextPosition(e)?0===e.offset():Br(e.getNode())}function Ns(e){if(ic.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Br(e.getNode(!0))}function Bs(e,t){return!ic.isTextPosition(e)&&!ic.isTextPosition(t)&&e.getNode()===t.getNode(!0)}function Ps(e,t,n){return e?!Bs(t,n)&&(e=t,!(!ic.isTextPosition(e)&&Mn(e.getNode())))&&Ns(t)&&Ms(n):!Bs(n,t)&&Ms(t)&&Ns(n)}function Hs(e,t,n){return Zl(e,t,n).bind((function(r){return Kc(n,r,t)&&Ps(e,n,r)?Zl(e,t,r):ce.some(r)}))}function Ls(e,t){var n,r=e?t.firstChild:t.lastChild;return Dn(r)?ce.some(ic(r,e?0:r.data.length)):r?Br(r)?ce.some(e?ic.before(r):Mn(n=r)?ic.before(n):ic.after(n)):function(e,t,n){return n=e?ic.before(n):ic.after(n),Zl(e,t,n)}(e,t,r):ce.none()}function Is(e){return _n(e)&&e.id===af}function Fs(e,t){for(;t&&t!==e;){if(t.id===af)return t;t=t.parentNode}return null}function Vs(e,t){return _n(t)&&e.isBlock(t)&&!t.innerHTML&&!un.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t}function js(e,t,n){return!(!1!==t.hasChildNodes()||!Fs(e,t))&&(e=n,t=(n=t).ownerDocument.createTextNode(po),n.appendChild(t),e.setStart(t,0),e.setEnd(t,0),!0)}function Us(e,t,n,r){var o,i,a,u=n[t?"start":"end"],c=e.getRoot();if(u){for(e=u[0],i=c,o=u.length-1;1<=o;o--){if(a=i.childNodes,js(c,i,r))return 1;if(u[o]>a.length-1)return!!js(c,i,r)||function(e,t){return of(e).fold(b,(function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0}))}(i,r);i=a[u[o]]}3===i.nodeType&&(e=Math.min(u[0],i.nodeValue.length)),1===i.nodeType&&(e=Math.min(u[0],i.childNodes.length)),t?r.setStart(i,e):r.setEnd(i,e)}return 1}function Ws(e){return Dn(e)&&0<e.data.length}function qs(e,t,n){var r,o,i,a,u=e.get(n.id+"_"+t),c=n.keep;if(u){if(o=u.parentNode,r="start"===t?c?u.hasChildNodes()?(o=u.firstChild,1):Ws(u.nextSibling)?(o=u.nextSibling,0):Ws(u.previousSibling)?(o=u.previousSibling,u.previousSibling.data.length):(o=u.parentNode,e.nodeIndex(u)+1):e.nodeIndex(u):c?u.hasChildNodes()?(o=u.firstChild,1):Ws(u.previousSibling)?(o=u.previousSibling,u.previousSibling.data.length):(o=u.parentNode,e.nodeIndex(u)):e.nodeIndex(u),i=o,a=r,!c){for(o=u.previousSibling,c=u.nextSibling,ln.each(ln.grep(u.childNodes),(function(e){Dn(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));u=e.get(n.id+"_"+t);)e.remove(u,!0);o&&c&&o.nodeType===c.nodeType&&Dn(o)&&!un.opera&&(r=o.nodeValue.length,o.appendData(c.nodeValue),e.remove(c),i=o,a=r)}return ce.some(ic(i,a))}return ce.none()}function $s(e,t){var n,r,o,i,a,u,c=e.dom;if(t){if(ln.isArray(t.start))return a=t,u=(e=c).createRng(),Us(e,!0,a,u)&&Us(e,!1,a,u)?ce.some(u):ce.none();if(de(t.start))return ce.some((a=t,o=(u=c).createRng(),i=fc(u.getRoot(),a.start),o.setStart(i.container(),i.offset()),i=fc(u.getRoot(),a.end),o.setEnd(i.container(),i.offset()),o));if(t.hasOwnProperty("id"))return o=qs(r=c,"start",i=t),i=qs(r,"end",i),Ou(o,i.or(o),(function(e,t){var n=r.createRng();return n.setStart(Vs(r,e.container()),e.offset()),n.setEnd(Vs(r,t.container()),t.offset()),n}));if(t.hasOwnProperty("name"))return n=c,c=t,ce.from(n.select(c.name)[c.index]).map((function(e){var t=n.createRng();return t.selectNode(e),t}));if(t.hasOwnProperty("rng"))return ce.some(t.rng)}return ce.none()}function Gs(e,t){$s(e,t).each((function(t){e.setRng(t)}))}function Xs(e){return _n(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}function Ks(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)}function Ys(e){return!Ks(e)&&!cf(e)}function Js(e){return!!e.nodeType}function Qs(e,t,n){var r,o,i,a=n.startOffset,u=n.startContainer;if(!(n.startContainer===n.endContainer&&(i=n.startContainer.childNodes[n.startOffset])&&/^(IMG)$/.test(i.nodeName)||1!==u.nodeType))for(a<(i=u.childNodes).length?(u=i[a],r=new Sr(u,e.getParent(u,e.isBlock))):(u=i[i.length-1],(r=new Sr(u,e.getParent(u,e.isBlock))).next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!sf(o))return n.setStart(o,0),t.setRng(n),0}function Zs(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(1===e.nodeType||!sf(e))return e}}function el(e,t){return Js(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]}function tl(e,t,n){return e.schema.isValidChild(t,n)}function nl(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e}function rl(e,t){return e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()}function ol(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),""+("fontFamily"===n?t.replace(/[\'\"]/g,"").replace(/,\s+/g,","):t)}function il(e,t,n){return ol(e,e.getStyle(t,n),n)}function al(e,t){var n;return e.getParent(t,(function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n})),n}function ul(e,t,n){return e.getParents(t,n,e.getRoot())}function cl(e,t){return D(e.formatter.get(t),(function(e){function t(e){return 1<e.length&&"%"===e.charAt(0)}return D(["styles","attributes"],(function(n){return Q(e,n).exists((function(e){return e=ge(e)?e:J(e),D(e,t)}))}))}))}function sl(e,t,n){function r(e){return Y(e,(function(e,t){return D(o,(function(e){return e===t}))}))}var o=["inline","block","selector","attributes","styles","classes"];return D(e.formatter.get(t),(function(t){var o=r(t);return D(e.formatter.get(n),(function(e){var t,n=r(e);return e=o,n=n,i(t=void 0===t?d:t).eq(e,n)}))}))}function ll(e){return Z(e,"block")}function fl(e){return Z(e,"selector")}function dl(e){return Z(e,"inline")}function ml(e,t){for(var n=t;n;){if(_n(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t}function gl(e,t,n,r){for(var o=t.data,i=n;e?0<=i:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1}function hl(e,t,n){return gl(e,t,n,(function(e){return cf(e)||Ks(e)}))}function pl(e,t,n){return gl(e,t,n,Ys)}function vl(e,t,n,r,o,i){function a(t,n,r){var i=ku(e);i=o?i.backwards:i.forwards;return ce.from(i(t,n,(function(e,t){return lf(e.parentNode)?-1:r(o,u=e,t)}),c))}var u,c=e.getParent(n,e.isBlock)||t;return a(n,r,hl).bind((function(e){return i?a(e.container,e.offset+(o?-1:0),pl):ce.some(e)})).orThunk((function(){return u?ce.some({container:u,offset:o?0:u.length}):ce.none()}))}function bl(e,t,n,r,o){Dn(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=ff(e,r),a=0;a<i.length;a++)for(var u=0;u<t.length;u++){var c=t[u];if((!("collapsed"in c)||c.collapsed===n.collapsed)&&e.is(i[a],c.selector))return i[a]}return r}function yl(e,t,n,r){var o,i,a=e.dom,u=a.getRoot();if((i=t[0].wrapper?i:a.getParent(n,t[0].block,u))||(o=a.getParent(n,"LI,TD,TH"),i=a.getParent(Dn(n)?n.parentNode:n,(function(t){return t!==u&&mf(e,t)}),o)),!(i=i&&t[0].wrapper&&ff(a,i,"ul,ol").reverse()[0]||i))for(i=n;i[r]&&!a.isBlock(i[r])&&(i=i[r],!rl(i,"br")););return i||n}function wl(e,t,n,r,o){var i,a,u=n,c=o?"previousSibling":"nextSibling",s=e.getRoot();if(Dn(n)&&!df(n)&&(o?0<r:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(u))return u;for(i=u[c];i;i=i[c]){var l=Dn(i)&&!gf(e,s,i,c);if(!lf(i)&&(!Mn(a=i)||!a.getAttribute("data-mce-bogus")||a.nextSibling)&&!df(i,l))return u}if(u===s||u.parentNode===s){n=u;break}u=u.parentNode}return n}function xl(e){return lf(e.parentNode)||lf(e)}function Cl(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset,c=e.dom;return _n(o)&&o.hasChildNodes()&&(o=Mu(o,i),Dn(o)&&(i=0)),_n(a)&&a.hasChildNodes()&&(a=Mu(a,t.collapsed?u:u-1),Dn(a)&&(u=a.nodeValue.length)),o=ml(c,o),a=ml(c,a),xl(o)&&(o=lf(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,Dn(o)&&(i=t.collapsed?o.length:0)),xl(a)&&(a=lf(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,Dn(a)&&(u=t.collapsed?0:a.length)),t.collapsed&&(vl(c,e.getBody(),o,i,!0,r).each((function(e){var t=e.container;e=e.offset;o=t,i=e})),vl(c,e.getBody(),a,u,!1,r).each((function(e){var t=e.container;e=e.offset;a=t,u=e}))),(n[0].inline||n[0].block_expand)&&(n[0].inline&&Dn(o)&&0!==i||(o=wl(c,n,o,i,!0)),n[0].inline&&Dn(a)&&u!==a.nodeValue.length||(a=wl(c,n,a,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=bl(c,n,t,o,"previousSibling"),a=bl(c,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=yl(e,n,o,"previousSibling"),a=yl(e,n,a,"nextSibling"),n[0].block&&(c.isBlock(o)||(o=wl(c,n,o,i,!0)),c.isBlock(a)||(a=wl(c,n,a,u,!1)))),_n(o)&&(i=c.nodeIndex(o),o=o.parentNode),_n(a)&&(u=c.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}}function Sl(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e}function kl(e,t,n){function r(e){var t=e[0];return 3===t.nodeType&&t===a&&u>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===s&&0<e.length&&t===c&&3===t.nodeType&&e.splice(e.length-1,1),e}function o(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r}function i(e,t,i){var a=i?"nextSibling":"previousSibling",u=e;for(u.parentNode;u&&u!==t;u=c){var c=u.parentNode,s=o(u===e?u:u[a],a);s.length&&(i||s.reverse(),n(r(s)))}}var a=t.startContainer,u=t.startOffset,c=t.endContainer,s=t.endOffset;t=function(e,t){do{if(e.parentNode===t)return e}while(e=e.parentNode)};if(1===a.nodeType&&a.hasChildNodes()&&(a=Sl(a,u)),1===c.nodeType&&c.hasChildNodes()&&(c=Sl(c,s-1)),a===c)return n(r([a]));for(var l=e.findCommonAncestor(a,c),f=a;f;f=f.parentNode){if(f===c)return i(a,l,!0);if(f===l)break}for(f=c;f;f=f.parentNode){if(f===a)return i(c,l);if(f===l)break}e=t(a,l)||a,t=t(c,l)||c,i(a,e,!0),(e=o(e===a?e:e.nextSibling,"nextSibling",t===c?t.nextSibling:t)).length&&n(r(e)),i(c,t)}function Ol(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t}function Tl(e){return M(L(e,(function(e){return e=Ru(e),e?[dn.fromDom(e)]:[]})),mo)}function _l(e,t){return 0<(t=gu(t,"td[data-mce-selected],th[data-mce-selected]")).length?t:Tl(e)}function El(e){return _l(Ol(e.selection.getSel()),dn.fromDom(e.getBody()))}function Dl(e,t){return Ou((r=(n=t).startContainer,n=n.startOffset,Dn(r)?0===n?ce.some(dn.fromDom(r)):ce.none():ce.from(r.childNodes[n]).map(dn.fromDom)),(t=(n=t).endContainer,n=n.endOffset,Dn(t)?n===t.data.length?ce.some(dn.fromDom(t)):ce.none():ce.from(t.childNodes[n-1]).map(dn.fromDom)),(function(t,n){return t=P(hf(e),m(Ie,t)),n=P(pf(e),m(Ie,n)),t.isSome()&&n.isSome()})).getOr(!1);var n,r}function Al(e,t,n,r){var o=n,i=new Sr(n,o),a=Y(e.schema.getMoveCaretBeforeOnEnterElements(),(function(e,t){return!E(["td","th","table"],t.toLowerCase())}));do{if(Dn(n)&&0!==ln.trim(n.nodeValue).length)return r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length),0;if(a[n.nodeName])return r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n),0}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))}function zl(e){return(e=e.selection.getSel())&&0<e.rangeCount}function Rl(e,t){var n=El(e);0<n.length?z(n,(function(n){var r=n.dom;n=e.dom.createRng();n.setStartBefore(r),n.setEndAfter(r),t(n,!0)})):t(e.selection.getRng(),!1)}function Ml(e,t,n){t=yc(e,t),n(t),e.moveToBookmark(t)}function Nl(e){return vf.get(e)}function Bl(e,t,n,r){return Ge(t).fold((function(){return"skipping"}),(function(o){return"br"===r||gn(i=t)&&Nl(i)===po?"valid":mn(i=t)&&mu(i,Uu())?"existing":Is(t.dom)?"caret":tl(e,n,r)&&tl(e,je(o),n)?"valid":"invalid-child";var i}))}function Pl(e,t,n,r){var o=void 0===(o=t.uid)?bu("mce-annotation"):o;t=function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}(t,["uid"]),e=dn.fromTag("span",e);fu(e,Uu()),Ct(e,""+qu(),o),Ct(e,""+Wu(),n);var i;t=(o=r(o,t)).attributes,o=void 0===(o=o.classes)?[]:o;return St(e,void 0===t?{}:t),i=e,z(o,(function(e){fu(i,e)})),e}function Hl(e,t,n,r,o){function i(){s.set(ce.none())}function a(e){z(e,l)}var u=[],c=Pl(e.getDoc(),o,n,r),s=Za(ce.none()),l=function(t){switch(Bl(e,t,"span",je(t))){case"invalid-child":i();var n=vn(t);a(n),i();break;case"valid":var r=s.get().getOrThunk((function(){var e=xu(c);return u.push(e),s.set(ce.some(e)),e}));ot(n=t,r=r),xn(r,n)}};return kl(e.dom,t,(function(e){i(),function(e){e=A(e,dn.fromDom),a(e)}(e)})),u}function Ll(e,t,n,r){e.undoManager.transact((function(){var o,i,a=e.selection,u=a.getRng(),c=0<El(e).length;u.collapsed&&!c&&(u=Cl(o=e,i=u,[{inline:!0}]),i.setStart(u.startContainer,u.startOffset),i.setEnd(u.endContainer,u.endOffset),o.selection.setRng(i)),a.getRng().collapsed&&!c?(c=Pl(e.getDoc(),r,t,n.decorate),yu(c,""),a.getRng().insertNode(c.dom),a.select(c.dom)):Ml(a,!1,(function(){Rl(e,(function(o){Hl(e,o,t,n.decorate,r)}))}))}))}function Il(e){var t,n=(t={},{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return t.hasOwnProperty(e)?ce.from(t[e]).map((function(e){return e.settings})):ce.none()}});vu(e,n);var r=pu(e);return{register:function(e,t){n.register(e,t)},annotate:function(t,r){n.lookup(t).each((function(n){Ll(e,t,n,r)}))},annotationChanged:function(e,t){r.addListener(e,t)},remove:function(t){hu(e,ce.some(t)).each((function(e){e=e.elements,z(e,st)}))},getAll:function(t){var n,r;n=e,t=t,n=dn.fromDom(e.getBody()),t=gu(n,"["+Wu()+'="'+t+'"]'),r={},z(t,(function(e){var t=kt(e,qu()),n=r.hasOwnProperty(t)?r[t]:[];r[t]=n.concat([e])})),t=r;return $(t,(function(e){return A(e,(function(e){return e.dom}))}))}}}function Fl(e){return{getBookmark:m(uf,e),moveToBookmark:m(Gs,e)}}(Jt=os=os||{})[Jt.Backwards=-1]="Backwards",Jt[Jt.Forwards=1]="Forwards";var Vl,jl,Ul,Wl,ql=Pn,$l=Dn,Gl=_n,Xl=Mn,Kl=Br,Yl=function(e){return Eo(e)||!!zo(e=e)&&!0!==B(Se(e.getElementsByTagName("*")),(function(e,t){return e||So(t)}),!1)},Jl=Pr,Ql=function(e,t,n){var r,o,i;if(!Gl(n)||!t)return null;if(t.isEqual(ic.after(n))&&n.lastChild){if(i=ic.after(n.lastChild),e<0&&Kl(n.lastChild)&&Gl(n.lastChild))return Xl(n.lastChild)?ic.before(n.lastChild):i}else i=t;var a,u=i.container(),c=i.offset();if($l(u)){if(e<0&&0<c)return ic(u,--c);if(0<e&&c<u.length)return ic(u,++c);r=u}else{if(e<0&&0<c&&(s=As(u,c-1),Kl(s)))return!Yl(s)&&(o=Gc(s,e,Jl,s))?$l(o)?ic(o,o.data.length):ic.after(o):$l(s)?ic(s,s.data.length):ic.before(s);if(0<e&&c<u.childNodes.length&&(s=As(u,c),Kl(s)))return Xl(s)?(a=n,(c=(t=s).nextSibling)&&Kl(c)?$l(c)?ic(c,0):ic.before(c):Ql(os.Forwards,ic.after(t),a)):!Yl(s)&&(o=Gc(s,e,Jl,s))?$l(o)?ic(o,0):ic.before(o):$l(s)?ic(s,0):ic.after(s);r=s||i.getNode()}if((0<e&&i.isAtEnd()||e<0&&i.isAtStart())&&(r=Gc(r,e,y,n,!0),Jl(r,n)))return zs(e,r);var s=Gc(r,e,Jl,n);n=ae(M(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(u,n),ql));return!n||s&&n.contains(s)?s?zs(e,s):null:i=0<e?ic.after(n):ic.before(n)},Zl=function(e,t,n){return t=Rs(t),ce.from(e?t.next(n):t.prev(n))},ef=function(e,t,n,r){return Hs(e,t,n).bind((function(n){return r(n)?ef(e,t,n,r):ce.some(n)}))},tf=m(Zl,!0),nf=m(Zl,!1),rf=m(Ls,!0),of=m(Ls,!1),af="_mce_caret",uf=Gt,cf=(Vl="",function(e){return Vl===e}),sf=function(e,t){return void 0===t&&(t=!1),!(!T(e)||!Dn(e))&&(e=t?e.data.replace(/ /g,""):e.data,Hr(e))},lf=Xs,ff=ul,df=sf,mf=el,gf=function(e,t,n,r){var o=n.parentNode;return!T(n[r])&&(!(o!==t&&!O(o)&&!e.isBlock(o))||gf(e,t,o,r))},hf=function(e){return Ze(e).fold(c([e]),(function(t){return[e].concat(hf(t))}))},pf=function(e){return et(e).fold(c([e]),(function(t){return"br"===je(t)?Xe(t).map((function(t){return[e].concat(pf(t))})).getOr([]):[e].concat(pf(t))}))},vf=(jl=gn,Ul="text",{get:function(e){if(!jl(e))throw new Error("Can only get "+Ul+" value of a "+Ul+" node");return Wl(e).getOr("")},getOption:Wl=function(e){return jl(e)?ce.from(e.dom.nodeValue):ce.none()},set:function(e,t){if(!jl(e))throw new Error("Can only set raw "+Ul+" value of a "+Ul+" node");e.dom.nodeValue=t}});function bf(e,t){for(;t&&t!==e;){if(Bn(t)||Pn(t))return t;t=t.parentNode}return null}function yf(e,t,n){if(!n.collapsed){if(un.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(_n(r))return D(r.getClientRects(),(function(n){return zu(n,e,t)}))}return D(n.getClientRects(),(function(n){return zu(n,e,t)}))}}function wf(e,t,n){return e.fire(t,n)}function xf(e,t){function n(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))}function r(e){return Hn(e)||D.hasClass(e,"mce-preview-object")}function o(e){var r=e.target;!function(e,t){if("longpress"!==e.type&&0!==e.type.indexOf("touch"))return n(e.target)&&!yf(e.clientX,e.clientY,t);var r=e.touches[0];return n(e.target)&&!yf(r.clientX,r.clientY,t)}(e,t.selection.getRng())||e.isDefaultPrevented()||t.selection.select(r)}function i(e){return D.is(e,"figure.image")?e.querySelector("img"):D.hasClass(e,"mce-preview-object")&&T(e.firstElementChild)?e.firstElementChild:e}function a(e){var n=Ac(t);return!!n&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(D.hasClass(e,"mce-preview-object")?He(dn.fromDom(e.firstElementChild),n):He(dn.fromDom(e),n))}function u(e,t,n){D.setStyles(i(e),{width:t,height:n})}function c(e){var o,i=e.screenX-p,a=e.screenY-v;S=i*g[2]+b,k=a*g[3]+y,S=S<5?5:S,k=k<5?5:k,((n(f)||r(f))&&!1!==t.getParam("resize_img_proportional",!0,"boolean")?!Mf.modifierPressed(e):Mf.modifierPressed(e))&&(M(i)>M(a)?(k=N(S*w),S=N(k/w)):(S=N(k/w),k=N(S*w))),u(d,S,k),o=g.startPos.x+i,e=g.startPos.y+a,D.setStyles(m,{left:o=0<o?o:0,top:e=0<e?e:0,display:"block"}),m.innerHTML=S+" &times; "+k,g[2]<0&&d.clientWidth<=S&&D.setStyle(d,"left",void 0+(b-S)),g[3]<0&&d.clientHeight<=k&&D.setStyle(d,"top",void 0+(y-k)),(i=B.scrollWidth-O)+(a=B.scrollHeight-_)!==0&&D.setStyles(m,{left:o-i,top:e-a}),x||(o=f,i=b,e=y,a="corner-"+g.name,t.fire("ObjectResizeStart",{target:o,width:i,height:e,origin:a}),x=!0)}function s(n){function r(e,t){if(e)do{if(e===t)return 1}while(e=e.parentNode)}x||t.removed||(A(D.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute(E)})),n="mousedown"===n.type?n.target:e.getNode(),r(n=D.$(n).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],B)&&(V(),r(e.getStart(!0),n)&&r(e.getEnd(!0),n))?L(n):I())}function l(e){return Nf(bf(t.getBody(),e))}var f,d,m,g,h,p,v,b,y,w,x,S,k,O,_,E="data-mce-selected",D=t.dom,A=ln.each,z=t.getDoc(),R=document,M=Math.abs,N=Math.round,B=t.getBody(),P={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},H=function(){var e=x;x=!1;var n,r,o=function(e,n){var r;n&&((r=i(f)).style[e]||!t.schema.isValid(r.nodeName.toLowerCase(),e)?D.setStyle(r,e,n):D.setAttrib(r,e,""+n))};e&&(o("width",S),o("height",k)),D.unbind(z,"mousemove",c),D.unbind(z,"mouseup",H),R!==z&&(D.unbind(R,"mousemove",c),D.unbind(R,"mouseup",H)),D.remove(d),D.remove(m),D.remove(h),L(f),e&&(n=f,r=S,o=k,e="corner-"+g.name,t.fire("ObjectResized",{target:n,width:r,height:o,origin:e}),D.setAttrib(f,"style",D.getAttrib(f,"style"))),t.nodeChanged()},L=function(e){F();var n=D.getPos(e,B),o=n.x,s=n.y,l=e.getBoundingClientRect(),x=l.width||l.right-l.left,C=l.height||l.bottom-l.top;f!==e&&(I(),f=e,S=k=0),n=t.fire("ObjectSelected",{target:e}),l=D.getAttrib(f,E,"1"),a(e)&&!n.isDefaultPrevented()?A(P,(function(e,t){function n(n){p=n.screenX,v=n.screenY,b=i(f).clientWidth,y=i(f).clientHeight,w=y/b,(g=e).name=t,g.startPos={x:x*e[0]+o,y:C*e[1]+s},O=B.scrollWidth,_=B.scrollHeight,h=D.add(B,"div",{class:"mce-resize-backdrop"}),D.setStyles(h,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),d=r(n=f)?D.create("img",{src:un.transparentSrc}):n.cloneNode(!0),D.addClass(d,"mce-clonedresizable"),D.setAttrib(d,"data-mce-bogus","all"),d.contentEditable="false",D.setStyles(d,{left:o,top:s,margin:0}),u(d,x,C),d.removeAttribute(E),B.appendChild(d),D.bind(z,"mousemove",c),D.bind(z,"mouseup",H),R!==z&&(D.bind(R,"mousemove",c),D.bind(R,"mouseup",H)),m=D.add(B,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},b+" &times; "+y)}var a=D.get("mceResizeHandle"+t);a&&D.remove(a),a=D.add(B,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===un.ie&&(a.contentEditable=!1),D.bind(a,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),n(e)})),e.elm=a,D.setStyles(a,{left:x*e[0]+o-a.offsetWidth/2,top:C*e[1]+s-a.offsetHeight/2})})):I(),D.getAttrib(f,E)||f.setAttribute(E,l)},I=function(){F(),f&&f.removeAttribute(E),q(P,(function(e,t){t=D.get("mceResizeHandle"+t),t&&(D.unbind(t),D.remove(t))}))},F=function(){q(P,(function(e){e.elm&&(D.unbind(e.elm),delete e.elm)}))},V=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(C){}};return t.on("init",(function(){var e;V(),(un.browser.isIE()||un.browser.isEdge())&&(t.on("mousedown click",(function(e){var n=e.target,r=n.nodeName;x||!/^(TABLE|IMG|HR)$/.test(r)||l(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())})),D.bind(B,"mscontrolselect",e=function(e){function n(e){xr.setEditorTimeout(t,(function(){return t.selection.select(e)}))}if(l(e.target)||Hn(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))}),t.on("remove",(function(){return D.unbind(B,"mscontrolselect",e)})));var n=xr.throttle((function(e){t.composing||s(e)}));t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",n),t.on("keyup compositionend",(function(e){f&&"TABLE"===f.nodeName&&n(e)})),t.on("hide blur",I),t.on("contextmenu longpress",o,!0)})),t.on("remove",F),{isResizable:a,showResizeRect:L,hideResizeRect:I,updateResizeRect:s,destroy:function(){f=d=h=null}}}function Cf(e){return Bn(e)||Pn(e)}function Sf(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=function(e,t,n){var r=n.elementFromPoint(e,t),o=n.body.createTextRange();if(r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),0<(r=(r=ln.toArray(o.getClientRects())).sort((function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-Math.abs(Math.max(n.top-t,n.bottom-t))}))).length){t=(r[0].bottom+r[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(e){}}return null}(e,t,n)}return e=r,t=n.body,n=e&&e.parentElement?e.parentElement():null,Pn(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(n,t,Cf))?null:e}return r}function kf(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}function Of(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)}function Tf(e){return e&&"TABLE"===e.nodeName}function _f(e,t,n){for(var r=new Sr(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(Mn(t))return 1}function Ef(e,t,n,r,o){var i,a,u=e.getRoot(),c=e.schema.getNonEmptyElements(),s=e.getParent(o.parentNode,e.isBlock)||u;if(r&&Mn(o)&&t&&e.isEmpty(s))return ce.some(ic(o.parentNode,e.nodeIndex(o)));for(var l,f,d=new Sr(o,s);a=d[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||(f=u,Dr(l=a)&&!1===Of(l,f,Is)))return ce.none();if(Dn(a)&&0<a.nodeValue.length)return!1===function(e,t,n){return Of(e,t,(function(e){return e.nodeName===n}))}(a,u,"A")?ce.some(ic(a,r?a.nodeValue.length:0)):ce.none();if(e.isBlock(a)||c[a.nodeName.toLowerCase()])return ce.none();i=a}return n&&i?ce.some(ic(i,0)):ce.none()}function Df(e,t,n,r){var o,i=e.getRoot(),a=!1,u=r[(n?"start":"end")+"Container"],c=r[(n?"start":"end")+"Offset"],s=(r=_n(u)&&c===u.childNodes.length,e.schema.getNonEmptyElements()),l=n;if(Dr(u))return ce.none();if(_n(u)&&c>u.childNodes.length-1&&(l=!1),zn(u)&&(u=i,c=0),u===i){if(l&&(f=u.childNodes[0<c?c-1:0])){if(Dr(f))return ce.none();if(s[f.nodeName]||Tf(f))return ce.none()}if(u.hasChildNodes()){if(c=Math.min(!l&&0<c?c-1:c,u.childNodes.length-1),u=u.childNodes[c],c=Dn(u)&&r?u.data.length:0,!t&&u===i.lastChild&&Tf(u))return ce.none();if(function(e,t){for(;t&&t!==e;){if(Pn(t))return!0;t=t.parentNode}return!1}(i,u)||Dr(u))return ce.none();if(u.hasChildNodes()&&!1===Tf(u)){var f=u,d=new Sr(u,i);do{if(Pn(f)||Dr(f)){a=!1;break}if(Dn(f)&&0<f.nodeValue.length){c=l?0:f.nodeValue.length,u=f,a=!0;break}if(s[f.nodeName.toLowerCase()]&&(!(o=f)||!/^(TD|TH|CAPTION)$/.test(o.nodeName))){c=e.nodeIndex(f),u=f.parentNode,l||c++,a=!0;break}}while(f=l?d.next():d.prev())}}}return t&&(Dn(u)&&0===c&&Ef(e,r,t,!0,u).each((function(e){u=e.container(),c=e.offset(),a=!0})),_n(u)&&(!(f=(f=u.childNodes[c])||u.childNodes[c-1])||!Mn(f)||(n="A",(i=f).previousSibling&&i.previousSibling.nodeName===n)||_f(e,f,!1)||_f(e,f,!0)||Ef(e,r,t,!0,f).each((function(e){u=e.container(),c=e.offset(),a=!0})))),l&&!t&&Dn(u)&&c===u.nodeValue.length&&Ef(e,r,t,!1,u).each((function(e){u=e.container(),c=e.offset(),a=!0})),a?ce.some(ic(u,c)):ce.none()}function Af(e,t){var n=t.collapsed,r=t.cloneRange(),o=ic.fromRangeStart(t);return Df(e,n,!0,r).each((function(e){n&&ic.isAbove(o,e)||r.setStart(e.container(),e.offset())})),n||Df(e,n,!1,r).each((function(e){r.setEnd(e.container(),e.offset())})),n&&r.collapse(!0),kf(t,r)?ce.none():ce.some(r)}function zf(e,t){return e.splitText(t)}function Rf(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer;e=e.endOffset;return t===r&&Dn(t)?0<n&&n<t.nodeValue.length&&(t=(r=zf(t,n)).previousSibling,n<e?(t=r=zf(r,e-=n).previousSibling,e=r.nodeValue.length,n=0):e=0):(Dn(t)&&0<n&&n<t.nodeValue.length&&(t=zf(t,n),n=0),Dn(r)&&0<e&&e<r.nodeValue.length&&(e=(r=zf(r,e).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:e}}Fl.isBookmarkNode=Xs;var Mf={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Mf.metaKeyPressed(e)},metaKeyPressed:function(e){return un.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Nf=Pn;fe=function(e){return{walk:function(t,n){return kl(e,t,n)},split:Rf,normalize:function(t){return Af(e,t).fold(b,(function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0}))}}};fe.compareRanges=kf,fe.getCaretRangeFromPoint=Sf,fe.getSelectedNode=Ru,fe.getNode=Mu;var Bf,Pf,Hf=(Bf="height",Pf=function(e){var t=e.dom;return Sn(e)?t.getBoundingClientRect().height:t.offsetHeight},{set:function(e,t){if(!ye(t)&&!t.match(/^[0-9]+$/))throw new Error(Bf+".set accepts only positive integer values. Value was "+t);e=e.dom,wt(e)&&(e.style[Bf]=t+"px")},get:Lf,getOuter:Lf,aggregate:If,max:function(e,t,n){return n=If(e,n),n<t?t-n:0}});function Lf(e){var t=Pf(e);return t<=0||null===t?(e=Et(e,Bf),parseFloat(e)||0):t}function If(e,t){return B(t,(function(t,n){return n=Et(e,n),n=void 0===n?0:parseInt(n,10),isNaN(n)?t:t+n}),0)}function Ff(e){var t=dn.fromDom(document),n=ft(t);t=function(e,t){return e=t.owner(e),Nd(t,e)}(e,Bd),e=Tn(e),t=N(t,(function(e,t){return t=Tn(t),{left:e.left+t.left,top:e.top+t.top}}),{left:0,top:0});return On(t.left+e.left+n.left,t.top+e.top+n.top)}function Vf(e){return"textarea"===je(e)}function jf(e,t){var n=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return On(n.offsetLeft,n.offsetTop);var i=lt(null==r?void 0:r.pageYOffset,o.scrollTop);t=lt(null==r?void 0:r.pageXOffset,o.scrollLeft),r=lt(o.clientTop,n.clientTop),n=lt(o.clientLeft,n.clientLeft);return Tn(e).translate(t-n,i-r)}(e),r=Hf.get(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}}function Uf(e,t){t=function(e,t){var n=vn(e);return 0===n.length||Vf(e)?{element:e,offset:t}:t<n.length&&!Vf(n[t])?{element:n[t],offset:0}:(n=n[n.length-1],Vf(n)?{element:e,offset:t}:"img"===je(n)?{element:n,offset:1}:gn(n)?{element:n,offset:Nl(n).length}:{element:n,offset:vn(n).length})}(e,t);var n=dn.fromHtml('<span data-mce-bogus="all">\ufeff</span>');return ot(t.element,n),jf(n,(function(){return Cn(n)}))}function Wf(e,t,n,r){Hd(e,(function(o,i){return Pd(e,t,n,r)}),n)}function qf(e,t,n,r,o){var i={elm:r.element.dom,alignToTop:o};e.fire("ScrollIntoView",i).isDefaultPrevented()||(n(t,ft(t).top,r,o),e.fire("AfterScrollIntoView",i))}function $f(e,t,n,r){var o=dn.fromDom(e.getDoc());qf(e,o,n,jf(dn.fromDom(t),a),r)}function Gf(e,t,n,r){var o=e.pos;n?dt(o.left,o.top,r):(e=o.top-t+e.height,dt(o.left,e,r))}function Xf(e,t,n,r,o){var i=n+t,a=r.pos.top,u=r.bottom,c=n<=u-a;a<t?Gf(r,n,!1!==o,e):i<a?Gf(r,n,c?!1!==o:!0===o,e):i<u&&!c&&Gf(r,n,!0===o,e)}function Kf(e,t,n,r){var o=e.dom.defaultView.innerHeight;Xf(e,t,o,n,r)}function Yf(e,t,n,r){var o=e.dom.defaultView.innerHeight;Xf(e,t,o,n,r),t=Ff(n.element),o=ht(window),t.top<o.y?mt(n.element,!1!==r):t.top>o.bottom&&mt(n.element,!0===r)}function Jf(e,t,n){return Wf(e,Kf,t,n)}function Qf(e,t,n){return $f(e,t,Kf,n)}function Zf(e,t,n){return Wf(e,Yf,t,n)}function ed(e,t,n){return $f(e,t,Yf,n)}function td(e,t,n){(e.inline?Jf:Zf)(e,t,n)}function nd(e){var t=yn(e).dom;return e.dom===t.activeElement}function rd(e){return void 0===e&&(e=dn.fromDom(document)),ce.from(e.dom.activeElement).map(dn.fromDom)}function od(e,t){return(t=gn(t)?Nl(t).length:vn(t).length+1)<e?t:e<0?0:e}function id(e){return Fd.range(e.start,od(e.soffset,e.start),e.finish,od(e.foffset,e.finish))}function ad(e,t){return!pt(t.dom)&&(Ve(e,t)||Ie(e,t))}function ud(e){return function(t){return ad(e,t.start)&&ad(e,t.finish)}}function cd(e){return!0===e.inline||Vd.isIE()}function sd(e){return Fd.range(dn.fromDom(e.startContainer),e.startOffset,dn.fromDom(e.endContainer),e.endOffset)}function ld(e){return function(e){return e=e.getSelection(),(e&&0!==e.rangeCount?ce.from(e.getRangeAt(0)):ce.none()).map(sd)}($e(e).dom).filter(ud(e))}function fd(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),ce.some(t)}catch(e){return ce.none()}}function dd(e){var t=cd(e)?ld(dn.fromDom(e.getBody())):ce.none();e.bookmark=t.isSome()?t:e.bookmark}function md(e){return(e.bookmark||ce.none()).bind((function(t){return n=dn.fromDom(e.getBody()),ce.from(t).filter(ud(n)).map(id);var n})).bind(fd)}function gd(e,t){var n,r;an().browser.isIE()?(r=e).on("focusout",(function(){dd(r)})):(n=t,e.on("mouseup touchend",(function(e){n.throttle()}))),e.on("keyup NodeChange",(function(t){"nodechange"===(t=t).type&&t.selectionChange||dd(e)}))}function hd(e){var t=iu((function(){dd(e)}),0);e.on("init",(function(){function n(){o.throttle()}var r,o;e.inline&&(r=e,o=t,Ga.DOM.bind(document,"mouseup",n),r.on("remove",(function(){Ga.DOM.unbind(document,"mouseup",n)}))),gd(e,t)})),e.on("remove",(function(){t.cancel()}))}function pd(e,t){var n=e.getParam("custom_ui_selector","","string");return null!==Ud.getParent(t,(function(t){return jd.isEditorUIElement(t)||!!n&&e.dom.is(t,n)}))}function vd(e,t){var n=t.editor;hd(n),n.on("focusin",(function(){var t=e.focusedEditor;t!==n&&(t&&t.fire("blur",{focusedEditor:n}),e.setActive(n),(e.focusedEditor=n).fire("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(function(){xr.setEditorTimeout(n,(function(){var t=e.focusedEditor;pd(n,function(e){try{var t=yn(dn.fromDom(e.getElement()));return rd(t).fold((function(){return document.body}),(function(e){return e.dom}))}catch(e){return document.body}}(n))||t!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Md||(Md=function(t){var n=e.activeEditor;n&&function(e){if(bn()&&T(e.target)){var t=dn.fromDom(e.target);if(mn(t)&&wn(t)&&e.composed&&e.composedPath&&(t=e.composedPath(),t))return U(t)}return ce.from(e.target)}(t).each((function(t){t.ownerDocument===document&&(t===document.body||pd(n,t)||e.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Ud.bind(document,"focusin",Md))}function bd(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Ud.unbind(document,"focusin",Md),Md=null)}function yd(e,t){return((t=t).collapsed?ce.from(Mu(t.startContainer,t.startOffset)).map(dn.fromDom):ce.none()).bind((function(t){return fo(t)?ce.some(t):!1===Ve(e,t)?ce.some(e):ce.none()}))}function wd(e,t){yd(dn.fromDom(e.getBody()),t).bind((function(e){return rf(e.dom)})).fold((function(){e.selection.normalize()}),(function(t){return e.selection.setRng(t.toRange())}))}function xd(e){if(e.setActive)try{e.setActive()}catch(C){e.focus()}else e.focus()}function Cd(e){return nd(e)||rd(yn(t=e)).filter((function(e){return t.dom.contains(e.dom)})).isSome();var t}function Sd(e){return e.inline?function(e){return e=e.getBody(),e&&Cd(dn.fromDom(e))}(e):(e=e).iframeElement&&nd(dn.fromDom(e.iframeElement))}function kd(e){return Sd(e)||(t=e,e=yn(dn.fromDom(t.getElement())),rd(e).filter((function(e){return!function(e){return e=e.classList,void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))}(e.dom)&&pd(t,e.dom)})).isSome());var t}function Od(e,t){e.removed||(t?Wd:function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===Sd(e)&&md(e).each((function(t){e.selection.setRng(t),r=t}));var o;o=e,t=t.getNode(),t=o.dom.getParent(t,(function(e){return"true"===o.dom.getContentEditable(e)}));if(e.$.contains(n,t))return xd(t),wd(e,r),void Wd(e);e.inline||(un.opera||xd(n),e.getWin().focus()),(un.gecko||e.inline)&&(xd(n),wd(e,r)),Wd(e)})(e)}function Td(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return ce.from(i).map(dn.fromDom).map((function(e){return r&&t.collapsed?e:Qe(e,o(e,a)).getOr(e)})).bind((function(e){return mn(e)?ce.some(e):Ge(e).filter(mn)})).map((function(e){return e.dom})).getOr(e)}function _d(e,t,n){return Td(e,t,!0,n,(function(e,t){return Math.min(e.dom.childNodes.length,t)}))}function Ed(e,t,n){return Td(e,t,!1,n,(function(e,t){return 0<t?t-1:t}))}function Dd(e,t){for(var n=e;e&&Dn(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}function Ad(e,t){return A(t,(function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))}function zd(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}}function Rd(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t}var Md,Nd=function(e,t){return e.view(t).fold(c([]),(function(t){var n=e.owner(t);n=Nd(e,n);return[t].concat(n)}))},Bd=Object.freeze({__proto__:null,view:function(e){return(e.dom===document?ce.none():ce.from(null===(e=e.dom.defaultView)||void 0===e?void 0:e.frameElement)).map(dn.fromDom)},owner:qe}),Pd=function(e,t,n,r){var o=dn.fromDom(e.getBody()),i=dn.fromDom(e.getDoc());o.dom.offsetWidth,n=Uf(dn.fromDom(n.startContainer),n.startOffset),qf(e,i,t,n,r),n.cleanup()},Hd=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(dn.fromDom(r),dn.fromDom(i)),t=e.dom.createRng(),t.setStart(r,o),t.setEnd(i,a),e.selection.setRng(n)},Ld=(le=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},w=se([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),w.before,w.on,w.after,function(e){return e.fold(s,s,s)}),Id=se([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Fd={domRange:Id.domRange,relative:Id.relative,exact:Id.exact,exactFromRange:function(e){return Id.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){return e=e.match({domRange:function(e){return dn.fromDom(e.startContainer)},relative:function(e,t){return Ld(e)},exact:function(e,t,n,r){return e}}),$e(e)},range:le},Vd=an().browser,jd={isEditorUIElement:function(e){return e=e.className.toString(),-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},Ud=Ga.DOM,Wd=function(e){return e.editorManager.setActive(e)},qd={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},$d=(Gd.create=function(e,t){var n=new Gd(e,qd[e]||1);return t&&q(t,(function(e,t){n.attr(t,e)})),n},Gd.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},Gd.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return null!=e&&q(e,(function(e,t){r.attr(t,e)})),r;if(n=r.attributes){if(void 0===t)return n.map[e];if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}},Gd.prototype.clone=function(){var e,t=new Gd(this.name,this.type);if(e=this.attributes){var n=[];n.map={};for(var r=0,o=e.length;r<o;r++){var i=e[r];"id"!==i.name&&(n[n.length]={name:i.name,value:i.value},n.map[i.name]=i.value)}t.attributes=n}return t.value=this.value,t.shortEnded=this.shortEnded,t},Gd.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},Gd.prototype.unwrap=function(){for(var e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()},Gd.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},Gd.prototype.append=function(e){e.parent&&e.remove();var t=this.lastChild;return t?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},Gd.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},Gd.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=zd(n,this))n.name===e&&t.push(n);return t},Gd.prototype.empty=function(){if(this.firstChild){for(var e=[],t=this.firstChild;t;t=zd(t,this))e.push(t);for(var n=e.length;n--;)(t=e[n]).parent=t.firstChild=t.lastChild=t.next=t.prev=null}return this.firstChild=this.lastChild=null,this},Gd.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this.firstChild;if(Rd(this))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(e[r.name])return!1;if(Rd(r))return!1}if(8===r.type)return!1;if(3===r.type&&!function(e){if(!Hr(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)}(r))return!1;if(3===r.type&&r.parent&&t[r.parent.name]&&Hr(r.value))return!1;if(n&&n(r))return!1}while(r=zd(r,this));return!0},Gd.prototype.walk=function(e){return zd(this,null,e)},Gd);function Gd(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}function Xd(e,t){return e.replace(t.re,(function(e){return Q(t.uris,e).getOr(e)}))}function Kd(e,t,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?(e=e.allow_svg_data_urls,n=n,!(O(e)?E(Qd,n):e)&&/^data:image\/svg\+xml/i.test(t)):/^data:/i.test(t))}function Yd(e,t,n){var r,o,i=1,a=e.getShortEndedElements(),u=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;for(u.lastIndex=r=n;o=u.exec(t);){if(r=u.lastIndex,"/"===o[1])i--;else if(!o[1]){if(o[2]in a)continue;i++}if(0===i)break}return r}function Jd(e,t){function n(n,a){void 0===a&&(a="html");for(var f,d,m,g,h,p,v,b,y,w,x,C,S,k,O,T,_,E,D=n.html,A=0,z=[],R=0,M=$o.decode,N=ln.makeMap("src,href,data,background,formaction,poster,xlink:href"),B=/((java|vb)script|mhtml):/i,P="html"===a?0:1,H=function(e){for(var t,n=z.length;n--&&z[n].name!==e;);if(0<=n){for(t=z.length-1;n<=t;t--)(e=z[t]).valid&&c(e.name);z.length=n}},L=function(e,t){return i(Xd(e,n),t)},I=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),r(Xd(t,n)))},F=function(e,t){var n=e||"",r=!$t(n,"--"),o=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&(i=n,/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(r.substr(i))))return i=r.indexOf("[endif]",n),r.indexOf(">",i);if(t){var o=r.indexOf(">",n);return-1!==o?o:r.length}o=/--!?>/g,o.lastIndex=n;var i;e=o.exec(e);return e?e.index+e[0].length:r.length}(D,r,t);return e=D.substr(t,o-t),I(r?n+e:e),o+1},V=function(t,r,o,i,a){var u,c;if(r=r.toLowerCase(),a=r in $?r:M(o||i||a||""),o=Xd(a,n),G&&!v&&0==(0===(s=r).indexOf("data-")||0===s.indexOf("aria-"))){if(!(u=S[r])&&k){for(c=k.length;c--&&!(u=k[c]).pattern.test(r););-1===c&&(u=null)}if(!u)return;if(u.validValues&&!(o in u.validValues))return}if(N[r]&&!e.allow_script_urls){var s=o.replace(/[\s\u0000-\u001F]+/g,"");try{s=decodeURIComponent(s)}catch(t){s=unescape(s)}if(B.test(s))return;if(Kd(e,s,t))return}v&&(r in N||0===r.indexOf("on"))||(m.map[r]=o,m.push({name:r,value:o}))},j=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),U=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,W=t.getShortEndedElements(),q=e.self_closing_elements||t.getSelfClosingElements(),$=t.getBoolAttrs(),G=e.validate,X=e.remove_internals,K=e.fix_self_closing,Y=t.getSpecialElements(),J=D+">";f=j.exec(J);){var Q=f[0];if(A<f.index&&L(M(D.substr(A,f.index-A))),d=f[7])H(d=":"===(d=d.toLowerCase()).charAt(0)?d.substr(1):d);else if(d=f[8]){if(f.index+Q.length>D.length){L(M(D.substr(f.index))),A=f.index+Q.length;continue}b=(d=":"===(d=d.toLowerCase()).charAt(0)?d.substr(1):d)in W,K&&q[d]&&0<z.length&&z[z.length-1].name===d&&H(d);var Z=function(e,t){return e=e.exec(t),e?(t=e[1],e=e[2],"string"==typeof t&&"data-mce-bogus"===t.toLowerCase()?e:null):null}(U,f[9]);if(null!==Z){if("all"===Z){A=Yd(t,D,j.lastIndex),j.lastIndex=A;continue}w=!1}if(!G||(y=t.getElementRule(d))){if(w=!0,G&&(S=y.attributes,k=y.attributePatterns),(C=f[9])?((v=-1!==C.indexOf("data-mce-type"))&&X&&(w=!1),(m=[]).map={},C.replace(U,(function(e,t,n,r,o){return V(d,t,n,r,o),""}))):(m=[]).map={},G&&!v){if(O=y.attributesRequired,T=y.attributesDefault,_=y.attributesForced,y.removeEmptyAttrs&&!m.length&&(w=!1),_)for(g=_.length;g--;)p=(x=_[g]).name,"{$uid}"===(E=x.value)&&(E="mce_"+R++),m.map[p]=E,m.push({name:p,value:E});if(T)for(g=T.length;g--;)(p=(x=T[g]).name)in m.map||("{$uid}"===(E=x.value)&&(E="mce_"+R++),m.map[p]=E,m.push({name:p,value:E}));if(O){for(g=O.length;g--&&!(O[g]in m.map););-1===g&&(w=!1)}if(x=m.map["data-mce-bogus"]){if("all"===x){A=Yd(t,D,j.lastIndex),j.lastIndex=A;continue}w=!1}}w&&u(d,m,b)}else w=!1;if(Z=Y[d]){Z.lastIndex=A=f.index+Q.length,A=(f=Z.exec(D))?(w&&(h=D.substr(A,f.index-A)),f.index+f[0].length):(h=D.substr(A),D.length),w&&(0<h.length&&L(h,!0),c(d)),j.lastIndex=A;continue}b||(C&&C.indexOf("/")===C.length-1?w&&c(d):z.push({name:d,valid:w}))}else if(d=f[1])I(d);else if(d=f[2]){if(!(1==P||e.preserve_cdata||0<z.length&&t.isValidChild(z[z.length-1].name,"#cdata"))){A=F("",f.index+2),j.lastIndex=A;continue}o(d)}else if(d=f[3])l(d);else{if((d=f[4])||"<!"===Q){A=F(d,f.index+Q.length),j.lastIndex=A;continue}if(d=f[5]){if(1!=P){A=F("?",f.index+2),j.lastIndex=A;continue}s(d,f[6])}}A=f.index+Q.length}for(A<D.length&&L(M(D.substr(A))),g=z.length-1;0<=g;g--)(d=z[g]).valid&&c(d.name)}void 0===t&&(t=Jr()),!1!==(e=e||{}).fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment||a,o=e.cdata||a,i=e.text||a,u=e.start||a,c=e.end||a,s=e.pi||a,l=e.doctype||a;return{parse:function(e,t){void 0===t&&(t="html"),n(function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],o={},i=bu("img"),a=0,u=0;t=n.exec(e);){var c=t[0],s=i+"_"+u++;o[s]=c,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(s),a=t.index+c.length}var l=new RegExp(i+"_[0-9]+","g");return 0===a?{prefix:i,uris:o,html:e,re:l}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join(""),re:l})}(e),t)}}}var Qd=["img","video"];function Zd(e,t){for(var n,r,o,i=t,a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=e.schema,c=(i=function(e,t){return e=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi"),t.replace(e,"")}(e.getTempAttrs(),i),u.getShortEndedElements());o=a.exec(i);)n=a.lastIndex,r=o[0].length,o=c[o[1]]?n:Jd.findEndTag(u,i,n),i=i.substring(0,n-r)+i.substring(o),a.lastIndex=n-r;return bo(i)}function em(e,t,n,r){return t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),n="raw"===t.format?ln.trim(Jg(e.serializer,r.innerHTML)):"text"===t.format?e.dom.isEmpty(r)?"":bo(r.innerText||r.textContent):"tree"===t.format?e.serializer.serialize(r,t):function(e,t){return e=Cc(e),e=new RegExp("^(<"+e+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+e+">[\r\n]*|<br \\/>[\r\n]*)$"),t.replace(e,"")}(e,e.serializer.serialize(r,t)),E(["text","tree"],t.format)||go(dn.fromDom(r))?t.content=n:t.content=ln.trim(n),t.no_events||e.fire("GetContent",t),t.content}function tm(e){return{compare:function(t,n){if(t.nodeName!==n.nodeName)return!1;function r(t){var n={};return Qg(e.getAttribs(t),(function(r){r=r.nodeName.toLowerCase(),0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=e.getAttrib(t,r))})),n}function o(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return;if(e[r]!==n)return;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return;return 1}return!!o(r(t),r(n))&&!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&!Xs(t)&&!Xs(n)}}}function nm(e){var t=[],n=(e=e||{}).indent,r=Zg(e.indent_before||""),o=Zg(e.indent_after||""),i=$o.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,u,c){var s,l,f,d;if(n&&r[e]&&0<t.length&&0<(d=t[t.length-1]).length&&"\n"!==d&&t.push("\n"),t.push("<",e),u)for(s=0,l=u.length;s<l;s++)f=u[s],t.push(" ",f.name,'="',i(f.value,!0),'"');t[t.length]=!c||a?">":" />",c&&n&&o[e]&&0<t.length&&0<(d=t[t.length-1]).length&&"\n"!==d&&t.push("\n")},end:function(e){var r;t.push("</",e,">"),n&&o[e]&&0<t.length&&0<(r=t[t.length-1]).length&&"\n"!==r&&t.push("\n")},text:function(e,n){0<e.length&&(t[t.length]=n?e:i(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",i(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}}function rm(e,t){void 0===t&&(t=Jr());var n=nm(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(r){var o=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;a(e),e=e.next;);}};n.reset();var a=function(e){var r,u,c,s,l,f,d,m,g=i[e.type];if(g)g(e);else{if(r=e.name,g=e.shortEnded,u=e.attributes,o&&u&&1<u.length&&((l=[]).map={},m=t.getElementRule(e.name))){for(f=0,d=m.attributesOrder.length;f<d;f++)(c=m.attributesOrder[f])in u.map&&(s=u.map[c],l.map[c]=s,l.push({name:c,value:s}));for(f=0,d=u.length;f<d;f++)(c=u[f].name)in l.map||(s=u.map[c],l.map[c]=s,l.push({name:c,value:s}));u=l}if(n.start(e.name,u,g),!g){if(e=e.firstChild)for(;a(e),e=e.next;);n.end(r)}}};return 1!==r.type||e.inner?i[11](r):a(r),n.getContent()}}}function om(e){return e=e.container(),Dn(e)&&(0===e.data.length||vo(e.data)&&Fl.isBookmarkNode(e.parentNode))}function im(e){var t=gu(e,"br");e=M(function(e){for(var t=[],n=e.dom;n;)t.push(dn.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),Tr);t.length===e.length&&z(e,Cn)}function am(e){ct(e),xn(e,dn.fromHtml('<br data-mce-bogus="1">'))}function um(e){et(e).each((function(t){Xe(t).each((function(n){uo(e)&&Tr(t)&&uo(n)&&Cn(t)}))}))}function cm(e,t,n){return Ve(t,e)?function(e,t){for(var n=be(t)?t:b,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=dn.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,(function(e){return n(e)||Ie(e,t)})).slice(0,-1):[]}function sm(e,t){return cm(e,t,b)}function lm(e,t){return[e].concat(sm(e,t))}function fm(e,t,n){return ef(e,t,n,om)}function dm(e,t){return P(lm(dn.fromDom(t.container()),e),uo)}function mm(e){return ts(e).exists(Tr)}function gm(e,t,n){var r=M(lm(dn.fromDom(n.container()),t),uo);t=U(r).getOr(t);return Zl(e,t.dom,n).filter(mm)}function hm(e,t){return ts(t).exists(Tr)||gm(!0,e,t).isSome()}function pm(e,t){return ce.from(t.getNode(!0)).map(dn.fromDom).exists(Tr)||gm(!1,e,t).isSome()}function vm(e){return ic.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()}function bm(e,t){return t=M(lm(dn.fromDom(t.container()),e),uo),U(t).getOr(e)}function ym(e,t){return vm(t)?th(t):th(t)||nf(bm(e,t).dom,t).exists(th)}function wm(e,t){return vm(t)?eh(t):eh(t)||tf(bm(e,t).dom,t).exists(eh)}function xm(e){return ts(e).bind((function(e){return Zn(e,mn)})).exists((function(e){return e=Et(e,"white-space"),E(["pre","pre-wrap"],e)}))}function Cm(e,t){return nf(e.dom,t).isNone()||tf(e.dom,t).isNone()||lh(e,t)||fh(e,t)||pm(e,t)||hm(e,t)}function Sm(e,t){return!xm(t)&&(lh(e,t)||dh(e,t)||pm(e,t)||ym(e,t))}function km(e,t){return!xm(t)&&(fh(e,t)||mh(e,t)||hm(e,t)||wm(e,t))}function Om(e,t){return Sm(e,t)||km(e,(e=(n=t).container(),t=n.offset(),Dn(e)&&t<e.data.length?ic(e,t+1):n));var n}function Tm(e,t){return cf(e.charAt(t))}function _m(e){return e=e.container(),Dn(e)&&Re(e.data,"")}function Em(e){var t,n=e.data,r=(t=n.split(""),A(t,(function(e,n){return cf(e)&&0<n&&n<t.length-1&&Ys(t[n-1])&&Ys(t[n+1])?" ":e})).join(""));return r!==n&&(e.data=r,!0)}function Dm(e,t){return ce.some(t).filter(_m).bind((function(t){var n,r,o,i,a=t.container();return n=e,o=(r=a).data,i=ic(r,0),(!Tm(o,0)||Om(n,i)?Em(a):(r.data=" "+o.slice(1),1))||(i=e,o=(r=a).data,a=ic(r,o.length-1),Tm(o,o.length-1)&&!Om(i,a)&&(r.data=o.slice(0,-1)+" ",1))?ce.some(t):ce.none()}))}function Am(e){var t=dn.fromDom(e.getBody());e.selection.isCollapsed()&&Dm(t,ic.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))}function zm(e,t,n){var r,o,i,a,u,c;0!==n&&(o=dn.fromDom(e),i=Qn(o,uo).getOr(o),r=e.data.slice(t,t+n),o=t+n>=e.data.length&&km(i,ic(e,e.data.length)),i=0===t&&Sm(i,ic(e,0)),e.replaceData(t,n,(u=i,c=o,B(a=r,(function(e,t){return Ks(t)||cf(t)?e.previousCharIsSpace||""===e.str&&u||e.str.length===a.length-1&&c?{previousCharIsSpace:!1,str:e.str+""}:{previousCharIsSpace:!0,str:e.str+" "}:{previousCharIsSpace:!1,str:e.str+t}}),{previousCharIsSpace:!1,str:""}).str)))}function Rm(e,t){var n=(n=e.data.slice(t)).length-Kt(n).length;return zm(e,t,n)}function Mm(e,t){var n=(n=e.data.slice(0,t)).length-Yt(n).length;return zm(e,t-n,n)}function Nm(e,t,n,r){void 0===r&&(r=!0);var o=Yt(e.data).length,i=r?e:t;e=r?t:e;return r?i.appendData(e.data):i.insertData(0,e.data),Cn(dn.fromDom(e)),n&&Rm(i,o),i}function Bm(e,t){return r=e,o=(n=t).container(),e=n.offset(),!1===ic.isTextPosition(n)&&o===r.parentNode&&e>ic.before(r).offset()?ic(t.container(),t.offset()-1):t;var n,r,o}function Pm(e){return Br(e.previousSibling)?ce.some((t=e.previousSibling,Dn(t)?ic(t,t.data.length):ic.after(t))):e.previousSibling?of(e.previousSibling):ce.none();var t}function Hm(e){return Br(e.nextSibling)?ce.some((t=e.nextSibling,Dn(t)?ic(t,0):ic.before(t))):e.nextSibling?rf(e.nextSibling):ce.none();var t}function Lm(e,t){return Pm(t).orThunk((function(){return Hm(t)})).orThunk((function(){return n=e,r=t,o=ic.before(r.previousSibling||r.parentNode),nf(n,o).fold((function(){return tf(n,ic.after(r))}),ce.some);var n,r,o}))}function Im(e,t){return Hm(t).orThunk((function(){return Pm(t)})).orThunk((function(){return r=t,tf(n=e,ic.after(r)).fold((function(){return nf(n,ic.before(r))}),ce.some);var n,r}))}function Fm(e,t,n){return(e?Im:Lm)(t,n).map(m(Bm,n))}function Vm(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))}function jm(e,t){return t&&_e(e.schema.getBlockElements(),je(t))}function Um(e){if(Fr(e)){var t=dn.fromHtml('<br data-mce-bogus="1">');return ct(e),xn(e,t),ce.some(ic.before(t.dom))}return ce.none()}function Wm(e,t,n){var r,o,i,a=Xe(e).filter(gn),u=Ke(e).filter(gn);return Cn(e),r=u,o=t,i=function(e,t,r){var o=e.dom;e=t.dom,t=o.data.length;return Nm(o,e,n),r.container()===e?ic(o,t):r},((e=a).isSome()&&r.isSome()&&o.isSome()?ce.some(i(e.getOrDie(),r.getOrDie(),o.getOrDie())):ce.none()).orThunk((function(){return n&&(a.each((function(e){return Mm(e.dom,e.dom.length)})),u.each((function(e){return Rm(e.dom,0)}))),t}))}function qm(e,t,n,r){void 0===r&&(r=!0);var o,i=Fm(t,e.getBody(),n.dom),a=Qn(n,m(jm,e),(o=e.getBody(),function(e){return e.dom===o})),u=Wm(n,i,(n=n,_e(e.schema.getTextInlineElements(),je(n))));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(Um).fold((function(){r&&Vm(e,t,u)}),(function(n){r&&Vm(e,t,ce.some(n))}))}function $m(e,t){return{start:e,end:t}}function Gm(e,t){return nr(dn.fromDom(e),"td,th",t)}function Xm(e,t){return er(e,"table",t)}function Km(e){return!Ie(e.start,e.end)}function Ym(e,t){return Xm(e.start,t).bind((function(n){return Xm(e.end,t).bind((function(e){return t=Ie(n,e),e=n,t?ce.some(e):ce.none();var t}))}))}function Jm(e){return gu(e,"td,th")}function Qm(e,t){var n=Gm(t.startContainer,e),r=Gm(t.endContainer,e);return t.collapsed?ce.none():Ou(n,r,$m).fold((function(){return n.fold((function(){return r.bind((function(t){return Xm(t,e).bind((function(e){return U(Jm(e)).map((function(e){return $m(e,t)}))}))}))}),(function(t){return Xm(t,e).bind((function(e){return W(Jm(e)).map((function(e){return $m(t,e)}))}))}))}),(function(t){return vh(e,t)?ce.none():Xm((n=t).start,e).bind((function(e){return W(Jm(e)).map((function(e){return $m(n.start,e)}))}));var n}))}function Zm(e,t,n){return e.filter((function(e){return Km(e)&&vh(n,e)})).orThunk((function(){return Qm(n,t)})).bind((function(e){return Ym(t=e,n).map((function(e){return{rng:t,table:e,cells:Jm(e)}}));var t}))}function eg(e,t){return H(e,(function(e){return Ie(e,t)}))}function tg(e,t,n){return e.filter((function(e){return o=n,!Km(r=e)&&Ym(r,o).exists((function(e){return e=e.dom.rows,1===e.length&&1===e[0].cells.length}))&&Dl(e.start,t);var r,o})).map((function(e){return e.start}))}function ng(e){return Ou(eg((t=e).cells,t.rng.start),eg(t.cells,t.rng.end),(function(e,n){return t.cells.slice(e,n+1)})).map((function(t){var n=e.cells;return t.length===n.length?ph.removeTable(e.table):ph.emptyCells(t)}));var t}function rg(e,t){var n,r,o,i=(n=e,function(e){return Ie(n,e)}),a=(o=i,e=Gm((r=t).startContainer,o),o=Gm(r.endContainer,o),Ou(e,o,$m));return tg(a,t,i).map((function(e){return ph.deleteCellSelection(t,e)})).orThunk((function(){return Zm(a,t,i).bind(ng)}))}function og(e,t){return z(t,am),e.selection.setCursorLocation(t[0].dom,0),!0}function ig(e,t,n){t.deleteContents();t=bh(n).getOr(n);var r,o=dn.fromDom(e.dom.getParent(t.dom,e.dom.isBlock));return Fr(o)&&(am(o),e.selection.setCursorLocation(o.dom,0)),Ie(n,o)||(e=Ge(o).is(n)?[]:Ge(r=o).map(vn).map((function(e){return M(e,(function(e){return!Ie(r,e)}))})).getOr([]),z(e.concat(vn(n)),(function(e){Ie(e,o)||Ve(e,o)||Cn(e)}))),!0}function ag(e,t){return qm(e,!1,t),!0}function ug(e,t,n,r){return yh(t,r).fold((function(){return r=e,rg(t,n).map((function(e){return e.fold(m(ag,r),m(og,r),m(ig,r))}));var r}),(function(t){return wh(e,t)})).getOr(!1)}function cg(e,t){return P(lm(t,e),mo)}function sg(e,t,n,r,o){return Hs(n,e.getBody(),o).bind((function(i){return c=n,s=o,l=i,rf((u=r).dom).bind((function(e){return of(u.dom).map((function(t){return c?s.isEqual(e)&&l.isEqual(t):s.isEqual(t)&&l.isEqual(e)}))})).getOr(!0)?wh(e,r):(a=r,yh(t,dn.fromDom(i.getNode())).map((function(e){return!1===Ie(e,a)})));var a,u,c,s,l})).or(ce.some(!0))}function lg(e,t,n,r){var o=ic.fromRangeStart(e.selection.getRng());return cg(n,r).bind((function(r){return Fr(r)?wh(e,r):(i=n,a=r,r=o,Hs(t,e.getBody(),r).bind((function(e){return cg(i,dn.fromDom(e.getNode())).map((function(e){return!1===Ie(e,a)}))})));var i,a})).getOr(!1)}function fg(e,t){return(e?ah:uh)(t)}function dg(e,t,n){var r=dn.fromDom(e.getBody());return yh(r,n).fold((function(){return lg(e,t,r,n)||(o=e,i=t,a=ic.fromRangeStart(o.selection.getRng()),fg(i,a)||Zl(i,o.getBody(),a).exists((function(e){return fg(i,e)})));var o,i,a}),(function(n){return o=e,i=t,a=r,u=n,n=ic.fromRangeStart(o.selection.getRng()),(Fr(u)?wh(o,u):sg(o,a,i,u,n)).getOr(!1);var o,i,a,u}))}function mg(e,t){var n,r=dn.fromDom(e.selection.getStart(!0)),o=El(e);return e.selection.isCollapsed()&&0===o.length?dg(e,t,r):(n=e,o=r,t=dn.fromDom(n.getBody()),e=n.selection.getRng(),0!==(r=El(n)).length?og(n,r):ug(n,t,e,o))}function gg(e){var t=ic.fromRangeStart(e),n=ic.fromRangeEnd(e),r=e.commonAncestorContainer;return Zl(!1,r,n).map((function(o){return!Kc(t,n,r)&&Kc(t,o,r)?(i=t.container(),a=t.offset(),u=o.container(),c=o.offset(),(o=document.createRange()).setStart(i,a),o.setEnd(u,c),o):e;var i,a,u,c})).getOr(e)}function hg(e){return e.collapsed?e:gg(e)}function pg(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&(""===(e=e.firstChild).data||Mn(e))}function vg(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||pg(t))?e.slice(0,-1):e;var t}function bg(e,t){return(e=e.getParent(t,e.isBlock))&&"LI"===e.nodeName?e:null}function yg(e,t){return e=ic.after(e),(e=Rs(t).prev(e))?e.toRange():null}function wg(e,t,n){var r=e.parentNode;return ln.each(t,(function(t){r.insertBefore(t,e)})),function(e,t){return e=ic.before(e),e=Rs(t).next(e),e?e.toRange():null}(e,n)}function xg(e,t,n,r){var o,i,a,u,c,s=function(e,t,n){return t=t.serialize(n),n=e.createFragment(t),t=(e=n).firstChild,n=e.lastChild,t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e}(t,e,r),l=bg(t,n.startContainer);r=vg((e=s.firstChild,ln.grep(e.childNodes,(function(e){return"LI"===e.nodeName})))),s=t.getRoot();return(e=function(e){var r=ic.fromRangeStart(n),o=Rs(t.getRoot());r=1===e?o.prev(r):o.next(r);return!r||bg(t,r.getNode())!==l})(1)?wg(l,r,s):e(2)?(i=l,a=r,u=s,t.insertAfter(a.reverse(),i),yg(a[0],u)):(i=r,a=s,u=o=l,r=(s=r=n).cloneRange(),s=s.cloneRange(),r.setStartBefore(u),s.setEndAfter(u),s=[r.cloneContents(),s.cloneContents()],(c=o.parentNode).insertBefore(s[0],o),ln.each(i,(function(e){c.insertBefore(e,o)})),c.insertBefore(s[1],o),c.removeChild(o),yg(i[i.length-1],a))}function Cg(e,t){var n,r=e.dom,o=e.selection;if(t){o.scrollIntoView(t);var i=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===r.getContentEditable(t))return t;return null}(t);if(i)return r.remove(t),o.select(i),0;var a=r.createRng();i=t.previousSibling;i&&3===i.nodeType?(a.setStart(i,i.nodeValue.length),un.ie||(u=t.nextSibling)&&3===u.nodeType&&(i.appendData(u.data),u.parentNode.removeChild(u))):(a.setStartBefore(t),a.setEndBefore(t));var u=r.getParent(t,r.isBlock);r.remove(t),u&&r.isEmpty(u)&&(e.$(u).empty(),a.setStart(u,0),a.setEnd(u,0),xh(u)||u.getAttribute("data-mce-fragment")||!(n=function(t){if(t=ic.fromRangeStart(t),t=Rs(e.getBody()).next(t))return t.toRange()}(a))?r.add(u,r.create("br",{"data-mce-bogus":"1"})):(a=n,r.remove(u))),o.setRng(a)}}function Sg(e){var t=e.dom,n=hg(e.selection.getRng());e.selection.setRng(n);var r,o,i=t.getParent(n.startContainer,xh);r=t,o=n,null!==(t=i)&&t===r.getParent(o.endContainer,xh)&&Dl(dn.fromDom(t),o)?ig(e,n,dn.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)}function kg(e,t,n){var r,o,i,a=e.selection,u=e.dom;/^ | $/.test(t)&&(t=function(e,t,n){return e=dn.fromDom(e.getRoot()),n=Sm(e,ic.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),km(e,ic.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")}(u,a.getRng(),t));var c=e.parser,s=n.merge,l=rm({validate:e.getParam("validate")},e.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',d={content:t,format:"html",selection:!0,paste:n.paste};if((d=e.fire("BeforeSetContent",d)).isDefaultPrevented())e.fire("SetContent",{content:d.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=d.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,f);var m,g=(m=a.getRng()).startContainer||(m.parentElement?m.parentElement():null),h=e.getBody();g===h&&a.isCollapsed()&&u.isBlock(h.firstChild)&&(v=e,(b=h.firstChild)&&!v.schema.getShortEndedElements()[b.nodeName])&&u.isEmpty(h.firstChild)&&((m=u.createRng()).setStart(h.firstChild,0),m.setEnd(h.firstChild,0),a.setRng(m)),a.isCollapsed()||Sg(e);var p,v,b,y,w,x,C,S,k={context:(p=a.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},O=c.parse(t,k);if(!0===n.paste&&(g=e.schema,b=(v=O).firstChild,h=v.lastChild,b&&"meta"===b.name&&(b=b.next),h&&"mce_marker"===h.attr("id")&&(h=h.prev),n=h,g=(v=g).getNonEmptyElements(),n&&(n.isEmpty(g)||(n=n,(v=v).getBlockElements()[n.name]&&(v=n).firstChild&&v.firstChild===v.lastChild&&("br"===(n=n.firstChild).name||""===n.value)))&&(h=h.prev),b&&b===h&&("ul"===b.name||"ol"===b.name))&&bg(u,p))return m=xg(l,u,a.getRng(),O),a.setRng(m),void e.fire("SetContent",d);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(O),"mce_marker"===(i=O.lastChild).attr("id"))for(i=(o=i).prev;i;i=i.walk(!0))if(3===i.type||!u.isBlock(i.name)){e.schema.isValidChild(i.parent.name,"span")&&i.parent.insert(o,i,"br"===i.name);break}if(e._selectionOverrides.showBlockCaretContainer(p),k.invalid){for(e.selection.setContent(f),p=a.getNode(),r=e.getBody(),9===p.nodeType?p=i=r:i=p;i!==r;)i=(p=i).parentNode;t=p===r?r.innerHTML:u.getOuterHTML(p),t=l.serialize(c.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return l.serialize(O)})))),p===r?u.setHTML(r,t):u.setOuterHTML(p,t)}else t=l.serialize(O),k=e,y=t,"all"===(f=p).getAttribute("data-mce-bogus")?f.parentNode.insertBefore(k.dom.createFragment(y),f):(c=f.firstChild,t=f.lastChild,!c||c===t&&"BR"===c.nodeName?k.dom.setHTML(f,y):k.selection.setContent(y));y=s,C=(s=e).schema.getTextInlineElements(),S=s.dom,y&&(w=s.getBody(),x=tm(S),ln.each(S.select("*[data-mce-fragment]"),(function(e){for(var t=e.parentNode;t&&t!==w;t=t.parentNode)C[e.nodeName.toLowerCase()]&&x.compare(t,e)&&S.remove(e,!0)}))),Cg(e,u.get("mce_marker")),s=e.getBody(),ln.each(s.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")})),s=u,a=a.getStart(),ce.from(s.getParent(a,"td,th")).map(dn.fromDom).each(um),e.fire("SetContent",d),e.addVisual()}}function Og(e,t,n){n=function(e,t,n){var r,o,i={},a={},u=[];for(r in n.firstChild&&Ch(n.firstChild,(function(n){z(e,(function(e){e.name===n.name&&(i[e.name]?i[e.name].nodes.push(n):i[e.name]={filter:e,nodes:[n]})})),z(t,(function(e){"string"==typeof n.attr(e.name)&&(a[e.name]?a[e.name].nodes.push(n):a[e.name]={filter:e,nodes:[n]})}))})),i)i.hasOwnProperty(r)&&u.push(i[r]);for(o in a)a.hasOwnProperty(o)&&u.push(a[o]);return u}(e,t,n),z(n,(function(e){z(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))}function Tg(e){return e instanceof $d}function _g(e,t){var n;e.dom.setHTML(e.getBody(),t),Sd(n=e)&&rf(n.getBody()).each((function(e){var t=e.getNode();e=yt(t)?rf(t).getOr(e):e;n.selection.setRng(e.toRange())}))}function Eg(e,t,n){return n.format=n.format||"html",n.set=!0,n.content=Tg(t)?"":t,n.no_events||e.fire("BeforeSetContent",n),Tg(t)||(t=n.content),ce.from(e.getBody()).fold(c(t),(function(r){return Tg(t)?function(e,t,n,r){Og(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=rm({validate:e.validate},e.schema).serialize(n);return r.content=go(dn.fromDom(t))?o:ln.trim(o),_g(e,r.content),r.no_events||e.fire("SetContent",r),n}(e,r,t,n):(o=e,i=r,u=n,0===(a=t).length||/^\s+$/.test(a)?(c='<br data-mce-bogus="1">',"TABLE"===i.nodeName?a="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(i.nodeName)&&(a="<li>"+c+"</li>"),a=(r=Cc(o))&&o.schema.isValidChild(i.nodeName.toLowerCase(),r.toLowerCase())?(a=c,o.dom.createHTML(r,Sc(o),a)):a||'<br data-mce-bogus="1">',_g(o,a),o.fire("SetContent",u)):("raw"!==u.format&&(a=rm({validate:o.validate},o.schema).serialize(o.parser.parse(a,{isRootContent:!0,insert:!0}))),u.content=go(dn.fromDom(i))?a:ln.trim(a),_g(o,u.content),u.no_events||o.fire("SetContent",u)),u.content);var o,i,a,u,c}))}function Dg(e,t){return r=t,((e=(n=e).dom).parentNode?cr(dn.fromDom(e.parentNode),(function(e){return!Ie(n,e)&&r(e)})):ce.none()).isSome();var n,r}function Ag(e){return be(e)?e:b}function zg(e,t,n){var r=t(e),o=Ag(n);return r.orThunk((function(){return o(e)?ce.none():function(e,t,n){for(var r=e.dom,o=Ag(n);r.parentNode;){r=r.parentNode;var i=dn.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return ce.none()}(e,t,o)}))}function Rg(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return 1}function Mg(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,(function(t){return!!Rg(e,t,n)||t.parentNode===o||!!kh(e,t,n,r,!0)})),kh(e,t,n,r))}function Ng(e,t,n){return!!Sh(t,n.inline)||!!Sh(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)}function Bg(e,t,n,r,o,i){var a,u,c,s=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(s)if(void 0===s.length){for(a in s)if(s.hasOwnProperty(a)){if(u="attributes"===r?e.getAttrib(t,a):il(e,t,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!Sh(u,ol(e,nl(s[a],i),a)))return}}else for(c=0;c<s.length;c++)if("attributes"===r?e.getAttrib(t,s[c]):il(e,t,s[c]))return n;return n}function Pg(e,t,n,r){if(r)return Mg(e,r,t,n);if(r=e.selection.getNode(),Mg(e,r,t,n))return!0;var o=e.selection.getStart();return!(o===r||!Mg(e,o,t,n))}function Hg(e,t){function n(t){return Ie(t,dn.fromDom(e.getBody()))}return ce.from(e.selection.getStart(!0)).bind((function(r){return zg(dn.fromDom(r),(function(n){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return ce.none()}(t,(function(t){return t=t,kh(e,n.dom,t)?ce.some(t):ce.none()}))}),n)})).getOrNull()}function Lg(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Oh||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length}function Ig(e){if(e){var t=new Sr(e,e);for(e=t.current();e;e=t.next())if(Dn(e))return e}return null}function Fg(e){var t=dn.fromTag("span");return St(t,{id:Th,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&xn(t,dn.fromText(Oh)),t}function Vg(e,t,n){void 0===n&&(n=!0);var r,o,i,a,u,c=e.dom,s=e.selection;Lg(t)?qm(e,!1,dn.fromDom(t),n):(r=s.getRng(),o=c.getParent(t,c.isBlock),i=r.startContainer,a=r.startOffset,u=r.endContainer,e=r.endOffset,n=function(e){return e=Ig(e),e&&e.nodeValue.charAt(0)===Oh&&e.deleteData(0,1),e}(t),c.remove(t,!0),i===n&&0<a&&r.setStart(n,a-1),u===n&&0<e&&r.setEnd(n,e-1),o&&c.isEmpty(o)&&am(dn.fromDom(o)),s.setRng(r))}function jg(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)Vg(e,t,n);else if(!(t=Fs(e.getBody(),o.getStart())))for(;t=r.get(Th);)Vg(e,t,!1)}function Ug(e,t){return e.appendChild(t),t}function Wg(e,t){return t=N(e,(function(e,t){return Ug(e,t.cloneNode(!1))}),t),Ug(t,t.ownerDocument.createTextNode(Oh))}function qg(e,t,n,r,o,i){var a,u,c=e.formatter,s=e.dom,l=M(ke(c.get()),(function(e){return e!==r&&!Re(e,"removeformat")}));a=e,u=n,l=B(l,(function(e,t){var n=cl(a,t);return a.formatter.matchNode(u,t,{},n)?e.concat([t]):e}),[]);return 0<M(l,(function(t){return!sl(e,t,r)})).length?(n=n.cloneNode(!1),s.add(t,n),c.remove(r,o,n,i),s.remove(n),ce.some(n)):ce.none()}function $g(e,t,n,r){var o,i,a,u,c,s=e.dom,l=e.selection,f=[],d=l.getRng(),g=d.startContainer,h=d.startOffset,p=g;for(3===g.nodeType&&(h!==g.nodeValue.length&&(o=!0),p=p.parentNode);p;){if(kh(e,p,t,n,r)){i=p;break}p.nextSibling&&(o=!0),f.push(p),p=p.parentNode}i&&(o?(c=l.getBookmark(),d.collapse(!0),u=Cl(e,d,e.formatter.get(t),!0),u=Rf(u),e.formatter.remove(t,n,u,r),l.moveToBookmark(c)):(a=Fs(e.getBody(),i),h=Fg(!1).dom,g=h,d=null!==a?a:i,(u=(c=(u=e).dom).getParent(d,m(el,u)))&&c.isEmpty(u)?d.parentNode.replaceChild(g,d):(im(dn.fromDom(d)),c.isEmpty(d)?d.parentNode.replaceChild(g,d):c.insertAfter(g,d)),d=qg(e,h,i,t,n,r),h=Wg(f.concat(d.toArray()),h),Vg(e,a,!1),l.setCursorLocation(h,1),s.isEmpty(i)&&s.remove(i)))}function Gg(e){e.on("mouseup keydown",(function(t){var n,r,o;n=e,r=t.keyCode,o=n.selection,t=n.getBody(),jg(n,null,!1),8!==r&&46!==r||!o.isCollapsed()||o.getStart().innerHTML!==Oh||jg(n,Fs(t,o.getStart())),37!==r&&39!==r||jg(n,Fs(t,o.getStart()))}))}function Xg(e,t){return e.schema.getTextInlineElements().hasOwnProperty(je(t))&&!Is(t.dom)&&!bt(t.dom)}Jd.findEndTag=Yd;var Kg,Yg,Jg=Zd,Qg=ln.each,Zg=ln.makeMap,eh=(Jt=function(e,t,n){return ce.from(n.container()).filter(Dn).exists((function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))}))},m(Jt,!0,Ks)),th=m(Jt,!1,Ks),nh=(Gt=function(e,t){return function(n){return ce.from(Yc(e?0:-1,n)).filter(t).isSome()}},w=function(e){return Nn(e)&&"block"===Et(dn.fromDom(e),"display")},le=function(e){return Pn(e)&&!(_n(e=e)&&"all"===e.getAttribute("data-mce-bogus"))},Gt(!0,w)),rh=Gt(!1,w),oh=Gt(!0,Hn),ih=Gt(!1,Hn),ah=Gt(!0,yt),uh=Gt(!1,yt),ch=Gt(!0,le),sh=Gt(!1,le),lh=(Jt=function(e,t,n){return fm(e,t.dom,n).forall((function(e){return dm(t,n).fold((function(){return!1===Kc(e,n,t.dom)}),(function(r){return!1===Kc(e,n,t.dom)&&Ve(r,dn.fromDom(e.container()))}))}))},w=function(e,t,n){return dm(t,n).fold((function(){return fm(e,t.dom,n).forall((function(e){return!1===Kc(e,n,t.dom)}))}),(function(t){return fm(e,t.dom,n).isNone()}))},m(w,!1)),fh=m(w,!0),dh=m(Jt,!1),mh=m(Jt,!0),gh=m(gm,!1),hh=m(gm,!0),ph=se([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),vh=function(e,t){return Ym(t,e).isSome()},bh=function(e){var t;return(8===Ue(t=e)||"#comment"===je(t)?Xe:et)(e).bind(bh).orThunk((function(){return ce.some(e)}))},yh=function(e,t){return P(lm(t,e),(function(e){return"caption"===je(e)}))},wh=function(e,t){return am(t),e.selection.setCursorLocation(t.dom,0),ce.some(!0)},xh=Qt,Ch=function(e,t){t(e),e.firstChild&&Ch(e.firstChild,t),e.next&&Ch(e.next,t)},Sh=rl,kh=function(e,t,n,r,o){var i,a,u,c,s=e.formatter.get(n),l=e.dom;if(s&&t)for(a=0;a<s.length;a++)if(i=s[a],Ng(e.dom,t,i)&&Bg(l,t,i,"attributes",o,r)&&Bg(l,t,i,"styles",o,r)){if(c=i.classes)for(u=0;u<c.length;u++)if(!e.dom.hasClass(t,c[u]))return;return i}},Oh=po,Th="_mce_caret",_h={},Eh=ne,Dh=ee;function Ah(e){return _n(e)&&!Xs(e)&&!Is(e)&&!bt(e)}function zh(e,t){for(var n=e;n;n=n[t]){if(Dn(n)&&0!==n.nodeValue.length)return e;if(_n(n)&&!Xs(n))return n}return e}function Rh(e,t,n){var r,o,i=tm(e);if(t&&n&&(t=zh(t,"previousSibling"),n=zh(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)r=(o=r).nextSibling,t.appendChild(o);return e.remove(n),ln.each(ln.grep(n.childNodes),(function(e){t.appendChild(e)})),t}return n}function Mh(e,t,n,r){r&&!1!==t.merge_siblings&&(r=Rh(e,Zs(r),r),Rh(e,r,Zs(r,!0)))}function Nh(e,t){return function(n){return!(!n||!il(e,n,t))}}function Bh(e,t,n){return function(r){var o;e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),o=e,"SPAN"===(r=r).nodeName&&0===o.getAttribs(r).length&&o.remove(r,!0)}}function Ph(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)}function Hh(e,t,n){var r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];return _n(r)&&(t=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[t<o?t:o]),Dn(r)&&n&&o>=r.nodeValue.length&&(r=new Sr(r,e.getBody()).next()||r),Dn(r)&&!n&&0===o&&new Sr(r,e.getBody()).prev()||r}function Lh(e,t){var n=t?"firstChild":"lastChild";return/^(TR|TH|TD)$/.test(e.nodeName)&&e[n]?(t=e[n],"TR"===e.nodeName&&t[n]||t):e}function Ih(e,t,n,r){return r=e.create(n,r),t.parentNode.insertBefore(r,t),r.appendChild(t),r}function Fh(e,t,n,r,o){return t=dn.fromDom(t),r=dn.fromDom(e.create(r,o)),o=(n?Je:Ye)(t),ut(r,o),n?(ot(t,r),at(r,t)):(it(t,r),xn(r,t)),r.dom}function Vh(e,t,n,r){return!(t=Zs(t,n,r))||"BR"===t.nodeName||e.isBlock(t)}function jh(e,t,n,r,o){var i,a,u,c,s=e.dom;if(a=s,!(jp(u=r,(c=t).inline)||jp(u,c.block)||(c.selector?_n(u)&&a.is(u,c.selector):void 0)||(c=r,t.links&&"A"===c.nodeName)))return Ip.keep();var l,f,d,m,g=r;if(t.inline&&"all"===t.remove&&ge(t.preserve_attributes)){var h=M(s.getAttribs(g),(function(e){return E(t.preserve_attributes,e.name.toLowerCase())}));if(s.removeAllAttribs(g),z(h,(function(e){return s.setAttrib(g,e.name,e.value)})),0<h.length)return Ip.rename("span")}if("all"!==t.remove){Vp(t.styles,(function(e,r){e=ol(s,nl(e,n),r+""),ye(r)&&(r=e,o=null),!t.remove_similar&&o&&!jp(il(s,o,r),e)||s.setStyle(g,r,""),i=!0})),i&&""===s.getAttrib(g,"style")&&(g.removeAttribute("style"),g.removeAttribute("data-mce-style")),Vp(t.attributes,(function(e,r){var i;e=nl(e,n),ye(r)&&(r=e,o=null),!t.remove_similar&&o&&!jp(s.getAttrib(o,r),e)||("class"===r&&(e=s.getAttrib(g,r))&&(i="",z(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)})),i)?s.setAttrib(g,r,i):("class"===r&&g.removeAttribute("className"),Fp.test(r)&&g.removeAttribute("data-mce-"+r),g.removeAttribute(r)))})),Vp(t.classes,(function(e){e=nl(e,n),o&&!s.hasClass(o,e)||s.removeClass(g,e)}));for(var p=s.getAttribs(g),v=0;v<p.length;v++){var b=p[v].nodeName;if(0!==b.indexOf("_")&&0!==b.indexOf("data-"))return Ip.keep()}}return"none"!==t.remove?(l=e,r=t,e=(h=g).parentNode,d=l.dom,m=Cc(l),r.block&&(m?e===d.getRoot()&&(r.list_block&&jp(h,r.list_block)||z(Se(h.childNodes),(function(e){tl(l,m,e.nodeName.toLowerCase())?f?f.appendChild(e):(f=Ih(d,e,m),d.setAttribs(f,l.settings.forced_root_block_attrs)):f=0}))):d.isBlock(h)&&!d.isBlock(e)&&(Vh(d,h,!1)||Vh(d,h.firstChild,!0,!0)||h.insertBefore(d.create("br"),h.firstChild),Vh(d,h,!0)||Vh(d,h.lastChild,!1,!0)||h.appendChild(d.create("br")))),r.selector&&r.inline&&!jp(r.inline,h)||d.remove(h,!0),Ip.removed()):Ip.keep()}function Uh(e,t,n,r,o){return jh(e,t,n,r,o).fold(b,(function(t){return e.dom.rename(r,t),!0}),y)}function Wh(e,t,n,r,o,i,a,u){var s,l,f=e.dom;if(n){for(var d=n.parentNode,m=r.parentNode;m&&m!==d;m=m.parentNode){for(var g=f.clone(m,!1),h=0;h<t.length&&null!==(g=function(e,t,n,r){return jh(e,t,n,r,r).fold(c(r),(function(t){return e.dom.createFragment().appendChild(r),e.dom.rename(r,t)}),c(null))}(e,t[h],u,g));h++);g&&(s&&g.appendChild(s),l=l||g,s=g)}!i||a.mixed&&f.isBlock(n)||(r=f.split(n,r)),s&&(o.parentNode.insertBefore(s,o),l.appendChild(o),a.inline&&Mh(f,a,0,s))}return r}function qh(e,t,n,r,o){function i(r){var i,a,u,c,f,d=(a=t,u=n,c=o,z(ul((i=e).dom,r.parentNode).reverse(),(function(e){var t;f||"_start"===e.id||"_end"===e.id||(t=kh(i,e,a,u,c))&&!1!==t.split&&(f=e)})),f);return Wh(e,s,d,r,r,!0,l,n)}function a(e){var t,n=d.get(e?"_start":"_end"),r=n[e?"firstChild":"lastChild"];return Xs(t=r)&&_n(t)&&("_start"===t.id||"_end"===t.id)&&(r=r[e?"firstChild":"lastChild"]),Dn(r)&&0===r.data.length&&(r=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),d.remove(n,!0),r}function u(t){var n=Cl(e,t,s,t.collapsed);if(l.split){if(n=Rf(n),(o=Hh(e,n,!0))!==(t=Hh(e,n))){if(o=Lh(o,!0),t=Lh(t,!1),Ph(d,o,t)){var r=ce.from(o.firstChild).getOr(o);return i(Fh(d,r,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void a(!0)}if(Ph(d,t,o))return r=ce.from(t.lastChild).getOr(t),i(Fh(d,r,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void a(!1);var o=Ih(d,o,"span",{id:"_start","data-mce-type":"bookmark"});t=Ih(d,t,"span",{id:"_end","data-mce-type":"bookmark"}),r=d.createRng();r.setStartAfter(o),r.setEndBefore(t),kl(d,r,(function(e){z(e,(function(e){Xs(e)||Xs(e.parentNode)||i(e)}))})),i(o),i(t),o=a(!0),t=a()}else o=t=i(o);n.startContainer=o.parentNode||o,n.startOffset=d.nodeIndex(o),n.endContainer=t.parentNode||t,n.endOffset=d.nodeIndex(t)+1}kl(d,n,(function(t){z(t,(function(t){g(t),z(["underline","line-through","overline"],(function(n){_n(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&al(d,t.parentNode)===n&&Uh(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)}))}))}))}var c,s=e.formatter.get(t),l=s[0],f=!0,d=e.dom,m=e.selection,g=function(t){var r,o;_n(t)&&d.getContentEditable(t)&&(r=f,f="true"===d.getContentEditable(t),o=!0);var i=Se(t.childNodes);if(f&&!o)for(var a=0;a<s.length&&!Uh(e,s[a],n,t,t);a++);if(l.deep&&i.length){for(a=0;a<i.length;a++)g(i[a]);o&&(f=r)}};if(r)Js(r)?((c=d.createRng()).setStartBefore(r),c.setEndAfter(r),u(c)):u(r);else if("false"!==d.getContentEditable(m.getNode()))m.isCollapsed()&&l.inline&&!El(e).length?$g(e,t,n,o):(Ml(m,!0,(function(){Rl(e,u)})),l.inline&&Pg(e,t,n,m.getStart())&&Qs(d,m,m.getRng()),e.nodeChanged());else{r=m.getNode();for(var h=0;h<s.length&&(!s[h].ceFalseOverride||!Uh(e,s[h],n,r,r));h++);}}function $h(e,t,n,r){function o(t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=al(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))}t.styles&&(t.styles.color||t.styles.textDecoration)&&(ln.walk(r,o,"childNodes"),o(r))}function Gh(e,t,n,r){Up(t,(function(t){var o,i,a,u;Up(e.dom.select(t.inline,r),(function(r){Ah(r)&&Uh(e,t,n,r,t.exact?r:null)})),o=e.dom,a=r,(i=t).clear_child_styles&&(u=i.links?"*:not(a)":"*",Hp(o.select(u,a),(function(e){Ah(e)&&Hp(i.styles,(function(t,n){o.setStyle(e,n,"")}))})))}))}function Xh(e,t,n,r,o){var i,a,u,c,s,l;return null===t.get()&&(a=e,u=Za({}),(i=t).set({}),a.on("NodeChange",(function(e){Gp(a,e.element,u,i.get())}))),e=n,c=r,s=o,l=(o=t).get(),z(e.split(","),(function(e){l[e]||(l[e]={similar:s,callbacks:[]}),l[e].callbacks.push(c)})),o.set(l),{unbind:function(){return o=n,i=r,a=(e=t).get(),z(o.split(","),(function(e){a[e].callbacks=M(a[e].callbacks,(function(e){return e!==i})),0===a[e].callbacks.length&&delete a[e]})),void e.set(a);var e,o,i,a}}}function Kh(e,t){var n=(t||document).createDocumentFragment();return z(e,(function(e){n.appendChild(e.dom)})),dn.fromDom(n)}function Yh(e,t,n){return{element:e,width:t,rows:n}}function Jh(e,t){return{element:e,cells:t}}function Qh(e,t){return t=parseInt(kt(e,t),10),isNaN(t)?1:t}function Zh(e){return B(e,(function(e,t){return t.cells.length>e?t.cells.length:e}),0)}function ep(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(Ie(o[i],t))return ce.some({x:i,y:r});return ce.none()}function tp(e,t,n,r,o){for(var i=[],a=e.rows,u=n;u<=o;u++){var c=a[u].cells;c=t<r?c.slice(t,r+1):c.slice(r,t+1);i.push(Jh(a[u].element,c))}return i}function np(e){var t=Yh(xu(e),0,[]);return z(gu(e,"tr"),(function(e,n){z(gu(e,"td,th"),(function(r,o){!function(e,t,n,r,o){for(var i=Qh(o,"rowspan"),a=Qh(o,"colspan"),u=e.rows,c=n;c<n+i;c++){u[c]||(u[c]=Jh(Cu(r),[]));for(var s=t;s<t+a;s++)u[c].cells[s]=c===n&&s===t?o:xu(o)}}(t,function(e,t,n){for(;function(e,t,n){return e=e.rows,!!(e[n]?e[n].cells:[])[t]}(e,t,n);)t++;return t}(t,o,n),n,e,r)}))})),Yh(t.element,Zh(t.rows),t.rows)}function rp(e){return n=A((t=e).rows,(function(e){var t=A(e.cells,(function(e){return e=Cu(e),Tt(e,"colspan"),Tt(e,"rowspan"),e}));e=xu(e.element);return ut(e,t),e})),e=xu(t.element),t=dn.fromTag("tbody"),ut(t,n),xn(e,t),e;var t,n}function op(e,t,n){return ep(e,t).bind((function(t){return ep(e,n).map((function(n){return r=e,i=n,a=(o=t).x,n=o.y,o=i.x,i=i.y,n=n<i?tp(r,a,n,o,i):tp(r,a,i,o,n),Yh(r.element,Zh(n),n);var r,o,i,a}))}))}function ip(e,t){return P(e,(function(e){return"li"===je(e)&&Dl(e,t)})).fold(c([]),(function(t){return P(e,(function(e){return"ul"===je(e)||"ol"===je(e)})).map((function(e){var t=dn.fromTag(je(e));e=Y(At(e),(function(e,t){return $t(t,"list-style")}));return _t(t,e),[dn.fromTag("li"),t]})).getOr([])}))}function ap(e,t){var n,r=dn.fromDom(t.commonAncestorContainer),o=lm(r,e);e=M(o,(function(e){return Or(e)||ao(e)})),t=ip(o,t),r=e.concat(t.length?t:lo(n=r)?Ge(n).filter(so).fold(c([]),(function(e){return[n,e]})):so(n)?[n]:[]);return A(r,xu)}function up(){return Kh([])}function cp(e,t){return function(e,t){return e=B(t,(function(e,t){return xn(t,e),t}),e),0<t.length?Kh([e]):e}(dn.fromDom(t.cloneContents()),ap(e,t))}function sp(e,t){return n=t[0],er(n,"table",m(Ie,e)).bind((function(e){var n=t[0],r=t[t.length-1];e=np(e);return op(e,n,r).map((function(e){return Kh([rp(e)])}))})).getOrThunk(up);var n}function lp(e,t){var n=_l(t,e);return 0<n.length?sp(e,n):(e=e,0<(t=t).length&&t[0].collapsed?up():cp(e,t[0]))}function fp(e,t){return 0<=t&&t<e.length&&Ks(e.charAt(t))}function dp(e,t){return e=bo(e.innerText),t?e.replace(/^[ \f\n\r\t\v]+/,""):e}function mp(e,t,n){if((n=void 0===n?{}:n).get=!0,n.format=t,n.selection=!0,(n=e.fire("BeforeGetContent",n)).isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return a=e,ce.from(a.selection.getRng()).map((function(e){var t=ce.from(a.dom.getParent(e.commonAncestorContainer,a.dom.isBlock)),n=a.getBody(),r=t.map((function(e){return e.nodeName})).getOr("div").toLowerCase(),o=un.browser.isIE()&&"pre"!==r,i=a.dom.add(n,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents());r=dp(i,o),e=bo(i.textContent);return a.dom.remove(i),fp(e,0)||fp(e,e.length-1)?(n=t.getOr(n),n=dp(n,o),o=n.indexOf(r),-1===o?r:(fp(n,o-1)?" ":"")+r+(fp(n,o+r.length)?" ":"")):r})).getOr("");n.getInner=!0;var r,o,i,a,u=(u=n,o=(r=e).selection.getRng(),i=r.dom.create("body"),t=r.selection.getSel(),t=Ad(r,Ol(t)),(o=u.contextual?lp(dn.fromDom(r.getBody()),t).dom:o.cloneContents())&&i.appendChild(o),r.selection.serializer.serialize(i,u));return"tree"===n.format?u:(n.content=e.selection.isCollapsed()?"":u,e.fire("GetContent",n),n.content)}function gp(e,t){function n(n,r,o,i){for(var a=n;a-r<i&&a<o&&e[a]===t[a-r];)++a;return{start:n,end:a,diag:r}}var r=e.length+t.length+2,o=new Array(r),i=new Array(r),a=function(n,r,o,i,c){var s=u(n,r,o,i);if(null===s||s.start===r&&s.diag===r-i||s.end===n&&s.diag===n-o)for(var l=n,f=o;l<r||f<i;)l<r&&f<i&&e[l]===t[f]?(c.push([0,e[l]]),++l,++f):i-o<r-n?(c.push([2,e[l]]),++l):(c.push([1,t[f]]),++f);else{a(n,s.start,o,s.start-s.diag,c);for(var d=s.start;d<s.end;++d)c.push([0,e[d]]);a(s.end,r,s.end-s.diag,i,c)}},u=function(r,a,u,c){var s=a-r,l=c-u;if(0==s||0==l)return null;var f,d,m,g,h,p=s-l,v=(s=l+s,(s%2==0?s:1+s)/2);for(o[1+v]=r,i[1+v]=a+1,f=0;f<=v;++f){for(d=-f;d<=f;d+=2){for(m=d+v,d===-f||d!==f&&o[m-1]<o[m+1]?o[m]=o[m+1]:o[m]=o[m-1]+1,h=(g=o[m])-r+u-d;g<a&&h<c&&e[g]===t[h];)o[m]=++g,++h;if(p%2!=0&&p-f<=d&&d<=p+f&&i[m-p]<=o[m])return n(i[m-p],d+r-u,a,c)}for(d=p-f;d<=p+f;d+=2){for(m=d+v-p,d===p-f||d!==p+f&&i[m+1]<=i[m-1]?i[m]=i[m+1]-1:i[m]=i[m-1],h=(g=i[m]-1)-r+u-d;r<=g&&u<=h&&e[g]===t[h];)i[m]=g--,h--;if(p%2==0&&-f<=d&&d<=f&&i[m]<=o[m+p])return n(i[m],d+r-u,a,c)}}};r=[];return a(0,e.length,0,t.length,r),r}function hp(e){return _n(e)?e.outerHTML:Dn(e)?$o.encodeRaw(e.data,!1):An(e)?"\x3c!--"+e.data+"--\x3e":""}function pp(e,t,n){t=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r}(t),e.hasChildNodes()&&n<e.childNodes.length?(n=e.childNodes[n]).parentNode.insertBefore(t,n):e.appendChild(t)}function vp(e,t){var n=0;z(e,(function(e){var r;0===e[0]?n++:1===e[0]?(pp(t,e[1],n),n++):2===e[0]&&(r=n,(e=t).hasChildNodes()&&r<e.childNodes.length&&(r=e.childNodes[r]).parentNode.removeChild(r))}))}function bp(e){var t=(n=e.getBody(),M(A(Se(n.childNodes),hp),(function(e){return 0<e.length}))),n=L(t,(function(t){return t=Zd(e.serializer,t),0<t.length?[t]:[]}));return-1!==(t=n.join("")).indexOf("</iframe>")?{type:"fragmented",fragments:n,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}}function yp(e,t,n){var r,o,i;"fragmented"===t.type?(r=t.fragments,o=e.getBody(),i=A(Se(o.childNodes),hp),vp(gp(i,r),o)):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)}function wp(e){return"fragmented"===e.type?e.fragments.join(""):e.content}function xp(e){var t=dn.fromTag("body",Kp.get().getOrThunk((function(){var e=document.implementation.createHTMLDocument("undo");return Kp.set(ce.some(e)),e})));return yu(t,wp(e)),z(gu(t,"*[data-mce-bogus]"),st),t.dom.innerHTML}function Cp(e,t){return!(!e||!t)&&(n=t,wp(e)===wp(n)||(t=t,xp(e)===xp(t)));var n}function Sp(e){return 0===e.get()}function kp(e,t,n){Sp(n)&&(e.typing=t)}function Op(e,t){e.typing&&(kp(e,!1,t),e.add())}function Tp(e){return{undoManager:{beforeChange:function(t,n){var r;r=e,n=n,Sp(t)&&n.set(ce.some(fs(r.selection)))},addUndoLevel:function(t,n,r,o,i,a){return function(e,t,n,r,o,i,a){var u=bp(e);if(i=ln.extend(i=i||{},u),!1===Sp(r)||e.removed)return null;if(r=t.data[n.get()],e.fire("BeforeAddUndo",{level:i,lastLevel:r,originalEvent:a}).isDefaultPrevented())return null;if(r&&Cp(r,i))return null;if(t.data[n.get()]&&o.get().each((function(e){t.data[n.get()].beforeBookmark=e})),o=e.getParam("custom_undo_redo_levels",0,"number"),o&&t.data.length>o){for(var c=0;c<t.data.length-1;c++)t.data[c]=t.data[c+1];t.data.length--,n.set(t.data.length)}return i.bookmark=fs(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1),a={level:i,lastLevel:r,originalEvent:a},0<n.get()?(e.setDirty(!0),e.fire("AddUndo",a),e.fire("change",a)):e.fire("AddUndo",a),i}(e,t,n,r,o,i,a)},undo:function(t,n,r){return o=e,n=n,r=r,(t=t).typing&&(t.add(),t.typing=!1,kp(t,!1,n)),0<r.get()&&(r.set(r.get()-1),i=t.data[r.get()],yp(o,i,!0),o.setDirty(!0),o.fire("Undo",{level:i})),i;var o,i},redo:function(t,n){return r=e,n=n,(t=t).get()<n.length-1&&(t.set(t.get()+1),o=n[t.get()],yp(r,o,!1),r.setDirty(!0),r.fire("Redo",{level:o})),o;var r,o},clear:function(t,n){return r=e,n=n,(t=t).data=[],n.set(0),t.typing=!1,void r.fire("ClearUndos");var r},reset:function(e){(e=e).clear(),e.add()},hasUndo:function(t,n){return r=e,t=t,0<n.get()||t.typing&&t.data[0]&&!Cp(bp(r),t.data[0]);var r},hasRedo:function(e,t){return e=e,t.get()<e.data.length-1&&!e.typing},transact:function(e,t,n){return n=n,Op(e=e,t),e.beforeChange(),e.ignore(n),e.add()},ignore:function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},extra:function(t,n,r,o){var i,a;i=e,a=n,n=r,r=o,(o=t).transact(n)&&(t=o.data[a.get()].bookmark,n=o.data[a.get()-1],yp(i,n,!0),o.transact(r)&&(o.data[a.get()-1].beforeBookmark=t))}},formatter:{match:function(t,n,r){return Pg(e,t,n,r)},matchAll:function(t,n){return o=t,i=n,a=[],u={},n=(r=e).selection.getStart(),r.dom.getParent(n,(function(e){for(var t=0;t<o.length;t++){var n=o[t];!u[n]&&kh(r,e,n,i)&&(u[n]=!0,a.push(n))}}),r.dom.getRoot()),a;var r,o,i,a,u},matchNode:function(t,n,r,o){return kh(e,t,n,r,o)},canApply:function(t){return function(e,t){var n,r,o,i,a=e.formatter.get(t),u=e.dom;if(a)for(e=e.selection.getStart(),n=ul(u,e),o=a.length-1;0<=o;o--){if(!(i=a[o].selector)||a[o].defaultBlock)return!0;for(r=n.length-1;0<=r;r--)if(u.is(n[r],i))return!0}return!1}(e,t)},closest:function(t){return Hg(e,t)},apply:function(t,n,r){return $p(e,t,n,r)},remove:function(t,n,r,o){return qh(e,t,n,r,o)},toggle:function(t,n,r){var o,i;o=t,i=n,t=r,r=(n=e).formatter.get(o),(!Pg(n,o,i,t)||"toggle"in r[0]&&!r[0].toggle?$p:qh)(n,o,i,t)},formatChanged:function(t,n,r,o){return Xh(e,t,n,r,o)}},editor:{getContent:function(t,n){return r=e,o=t,i=n,ce.from(r.getBody()).fold(c("tree"===o.format?new $d("body",11):""),(function(e){return em(r,o,i,e)}));var r,o,i},setContent:function(t,n){return Eg(e,t,n)},insertContent:function(t,n){return kg(e,t,n)},addVisual:function(t){return r=t,o=(n=e).dom,t=T(r)?r:n.getBody(),ve(n.hasVisual)&&(n.hasVisual=n.getParam("visual",!0,"boolean")),z(o.select("table,a",t),(function(e){switch(e.nodeName){case"TABLE":var t=n.getParam("visual_table_class","mce-item-table","string"),r=o.getAttrib(e,"border");r&&"0"!==r||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t);break;case"A":o.getAttrib(e,"href")||(r=o.getAttrib(e,"name")||e.id,t=n.getParam("visual_anchor_class","mce-item-anchor","string"),r&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t))}})),void n.fire("VisualAid",{element:r,hasVisual:n.hasVisual});var n,r,o}},selection:{getContent:function(t,n){return mp(e,t,n)}},raw:{getModel:function(){return ce.none()}}}}function _p(e){function t(e){return me(e)?e:{}}var n=h("Unimplemented feature for rtc"),r=e.undoManager,o=e.formatter,i=e.editor,u=e.selection,c=e.raw;return{undoManager:{beforeChange:a,addUndoLevel:n,undo:function(){return r.undo()},redo:function(){return r.redo()},clear:function(){return r.clear()},reset:function(){return r.reset()},hasUndo:function(){return r.hasUndo()},hasRedo:function(){return r.hasRedo()},transact:function(e,t,n){return r.transact(n)},ignore:function(e,t){return r.ignore(t)},extra:function(e,t,n,o){return r.extra(n,o)}},formatter:{match:function(e,n,r){return o.match(e,t(n))},matchAll:n,matchNode:n,canApply:function(e){return o.canApply(e)},closest:function(e){return o.closest(e)},apply:function(e,n,r){return o.apply(e,t(n))},remove:function(e,n,r,i){return o.remove(e,t(n))},toggle:function(e,n,r){return o.toggle(e,t(n))},formatChanged:function(e,t,n,r){return o.formatChanged(t,n,r)}},editor:{getContent:function(e,t){return i.getContent(e)},setContent:function(e,t){return i.setContent(e,t)},insertContent:function(e,t){return i.insertContent(e)},addVisual:a},selection:{getContent:function(e,t){return u.getContent(t)}},raw:{getModel:function(){return ce.some(c.getRawModel())}}}}function Ep(e){return _e(e.plugins,"rtc")}function Dp(e){var t=e;return Q(e.plugins,"rtc").fold((function(){return t.rtcInstance=Tp(e),ce.none()}),(function(e){return ce.some(e.setup().then((function(e){return t.rtcInstance=_p(e),e.rtc.isRemote}),(function(e){var n,r;return t.rtcInstance=(n=c(null),r=c(""),{undoManager:{beforeChange:a,addUndoLevel:n,undo:n,redo:n,clear:a,reset:a,hasUndo:b,hasRedo:b,transact:n,ignore:a,extra:a},formatter:{match:b,matchAll:c([]),matchNode:b,canApply:b,closest:r,apply:a,remove:a,toggle:a,formatChanged:c({unbind:a})},editor:{getContent:r,setContent:r,insertContent:a,addVisual:a},selection:{getContent:r},raw:{getModel:c(ce.none())}}),sr.reject(e)})))}))}function Ap(e){return e.rtcInstance||Tp(e)}function zp(e){if(e=e.rtcInstance)return e;throw new Error("Failed to get RTC instance not yet initialized.")}function Rp(e,t){var n;return n=n=(t=void 0===t?{}:t).format||"html",t=t,zp(e).selection.getContent(n,t)}function Mp(e){return 0===e.dom.length?(Cn(e),ce.none()):ce.some(e)}function Np(e,t,n,r){e.bind((function(e){return(r?Mm:Rm)(e.dom,r?e.dom.length:0),t.filter(gn).map((function(t){var o,i,a,u;i=t,a=n,u=r,t=(o=e).dom,o=i.dom,i=(u?t:o).length,u?(Nm(t,o,!1,!u),a.setStart(o,i)):(Nm(o,t,!1,!u),a.setEnd(o,i))}))})).orThunk((function(){var e;return(e=r,t.filter((function(e){return Fl.isBookmarkNode(e.dom)})).bind(e?Ke:Xe).or(t).filter(gn)).map((function(e){var t,n;n=r,Ge(t=e).each((function(e){var r=t.dom;n&&Sm(e,ic(r,0))?Rm(r,0):!n&&km(e,ic(r,r.length))&&Mm(r,r.length)}))}))}))}function Bp(e,t,n){var r;(r=t,t=De(De({format:"html"},n=void 0===n?{}:n),{set:!0,selection:!0,content:r})).no_events||!(t=e.fire("BeforeSetContent",t)).isDefaultPrevented()?(n.content=function(e,t){if("raw"===t.format)return t.content;var n=e.selection.getRng();n=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),n=n?{context:n.nodeName.toLowerCase()}:{},t=e.parser.parse(t.content,De(De({isRootContent:!0,forced_root_block:!1},n),t));return rm({validate:e.validate},e.schema).serialize(t)}(e,t),function(e,t){var n=ce.from(t.firstChild).map(dn.fromDom),r=ce.from(t.lastChild).map(dn.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(Xe).filter(gn).bind(Mp);t=r.bind(Ke).filter(gn).bind(Mp);Np(o,n,e,!0),Np(t,r,e,!1),e.collapse(!1)}(r=e.selection.getRng(),r.createContextualFragment(n.content)),e.selection.setRng(r),td(e,r),t.no_events||e.fire("SetContent",t)):e.fire("SetContent",t)}function Pp(e,t,n){var r;e&&e.hasOwnProperty(t)&&(0===(r=M(e[t],(function(e){return e!==n}))).length?delete e[t]:e[t]=r)}Yg=function(e){var t,n=e.selection.getRng(),r=vt(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),Dh(Eh(Eh(t,r),(function(e){return r(e.previousSibling)&&-1!==re(t,e.previousSibling)})),(function(e){var t;t=e.previousSibling,ja(e=e).remove(),ja(t).append("<br><br>").append(e.childNodes)})))},_h[Kg="pre"]||(_h[Kg]=[]),_h[Kg].push(Yg);var Hp=ln.each,Lp=function(e,t,n){Hp(e.childNodes,(function(e){Ah(e)&&(t(e)&&n(e),e.hasChildNodes()&&Lp(e,t,n))}))},Ip=se([{keep:[]},{rename:["name"]},{removed:[]}]),Fp=/^(src|href|style)$/,Vp=ln.each,jp=rl,Up=ln.each,Wp=ln.each,qp=Z,$p=function(e,t,n,r){function o(e,t){var o;t=t||f,e&&(t.onformat&&t.onformat(e,t,n,r),Wp(t.styles,(function(t,r){m.setStyle(e,r,nl(t,n))})),!t.styles||(o=m.getAttrib(e,"style"))&&m.setAttrib(e,"data-mce-style",o),Wp(t.attributes,(function(t,r){m.setAttrib(e,r,nl(t,n))})),Wp(t.classes,(function(t){t=nl(t,n),m.hasClass(e,t)||m.addClass(e,t)})))}function i(e,t){var n=!1;return!!fl(f)&&(Wp(e,(function(e){if(!("collapsed"in e)||e.collapsed===d)return m.is(t,e.selector)&&!Is(t)?(o(t,e),!(n=!0)):void 0})),n)}function a(r,a,u,c){var s=[],d=!0,m=f.inline||f.block,g=r.create(m);o(g),kl(r,a,(function(a){var u,h=function(a){var p=!1,v=d,b=a.nodeName.toLowerCase(),y=a.parentNode.nodeName.toLowerCase();if(_n(a)&&r.getContentEditable(a)&&(v=d,d="true"===r.getContentEditable(a),p=!0),Mn(a)&&!function(e,t,n,r){return!(!e.getParam("format_empty_lines",!1,"boolean")||!dl(t))&&(t=De(De({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),e=Dg(dn.fromDom(n),(function(e){return Is(e.dom)})),Z(t,r)&&Fr(dn.fromDom(n.parentNode),!1)&&!e)}(e,f,a,y))return u=null,void(ll(f)&&r.remove(a));if(f.wrapper&&kh(e,a,t,n))u=null;else{if(d&&!p&&ll(f)&&!f.wrapper&&el(e,b)&&tl(e,y,m)){var w=r.rename(a,m);return o(w),s.push(w),void(u=null)}if(fl(f)&&(w=i(l,a),!qp(f,"inline")||w))return void(u=null);!d||p||!tl(e,m,b)||!tl(e,y,m)||!c&&3===a.nodeType&&1===a.nodeValue.length&&65279===a.nodeValue.charCodeAt(0)||Is(a)||qp(f,"inline")&&r.isBlock(a)?(u=null,Wp(ln.grep(a.childNodes),h),p&&(d=v),u=null):(u||(u=r.clone(g,!1),a.parentNode.insertBefore(u,a),s.push(u)),u.appendChild(a))}};Wp(a,h)})),!0===f.links&&Wp(s,(function(e){var t=function(e){"A"===e.nodeName&&o(e,f),Wp(ln.grep(e.childNodes),t)};t(e)})),Wp(s,(function(i){function a(e){var t=!1;return Wp(e.childNodes,(function(e){if((n=e)&&1===n.nodeType&&!Xs(n)&&!Is(n)&&!bt(n))return t=e,!1;var n})),t}var u,c,d,m,g,h,p,v,b,y,w,x,C=(u=0,Wp(i.childNodes,(function(e){var t;T(t=e)&&Dn(t)&&0===t.length||Xs(e)||u++})),u);!(1<s.length)&&r.isBlock(i)||0!==C?(dl(f)||f.wrapper)&&(f.exact||1!==C||((x=a(y=i))&&!Xs(x)&&Ng(r,x,f)&&(w=r.clone(x,!1),o(w),r.replace(w,y,!0),r.remove(x,!0)),i=w||y),Gh(e,l,n,i),h=f,p=t,v=n,kh(g=e,(b=i).parentNode,p,v)&&Uh(g,h,v,b)||h.merge_with_parents&&g.dom.getParent(b.parentNode,(function(e){if(kh(g,e,p,v))return Uh(g,h,v,b),!0})),c=r,d=n,m=i,(C=f).styles&&C.styles.backgroundColor&&Lp(m,Nh(c,"fontSize"),Bh(c,"backgroundColor",nl(C.styles.backgroundColor,d))),$h(r,f,0,i),c=r,C=i,"sub"!==(d=f).inline&&"sup"!==d.inline||(Lp(C,Nh(c,"fontSize"),Bh(c,"fontSize","")),c.remove(c.select("sup"===d.inline?"sub":"sup",C),!0)),Mh(r,f,0,i)):r.remove(i,!0)}))}var u,c,s,l=e.formatter.get(t),f=l[0],d=!r&&e.selection.isCollapsed(),m=e.dom,g=e.selection;if("false"!==m.getContentEditable(g.getNode()))f&&(r?Js(r)?i(l,r)||((c=m.createRng()).setStartBefore(r),c.setEndAfter(r),a(m,Cl(e,c,l),0,!0)):a(m,r,0,!0):d&&dl(f)&&!El(e).length?function(e,t,n){var r,o=e.selection,i=o.getRng(),a=i.startOffset,u=i.startContainer.nodeValue,c=Fs(e.getBody(),o.getStart());c&&(r=Ig(c));var s,l,f=/[^\s\u00a0\u00ad\u200b\ufeff]/;u&&0<a&&a<u.length&&f.test(u.charAt(a))&&f.test(u.charAt(a-1))?(l=o.getBookmark(),i.collapse(!0),s=Cl(e,i,e.formatter.get(t)),s=Rf(s),e.formatter.apply(t,n,s),o.moveToBookmark(l)):(c&&r.nodeValue===Oh||(s=e.getDoc(),l=Fg(!0).dom,r=(c=s.importNode(l,!0)).firstChild,i.insertNode(c),a=1),e.formatter.apply(t,n,c),o.setCursorLocation(r,a))}(e,t,n):(u=g.getNode(),c=l[0],e.settings.forced_root_block||!c.defaultBlock||m.getParent(u,m.isBlock)||$p(e,c.defaultBlock),g.setRng(hg(g.getRng())),Ml(g,!0,(function(t){Rl(e,(function(t,n){t=n?t:Cl(e,t,l),a(m,t)}))})),Qs(m,g,g.getRng()),e.nodeChanged()),s=e,Dh(_h[t],(function(e){e(s)})));else{r=g.getNode();for(var h=0,p=l.length;h<p;h++){var v=l[h];if(v.ceFalseOverride&&fl(v)&&m.is(r,v.selector))return void o(r,v)}}},Gp=function(e,t,n,r){var o=ke(n.get()),i={},a={},u=M(ul(e.dom,t),(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}));q(r,(function(t,n){ln.each(u,(function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===o.indexOf(n)&&(z(t.callbacks,(function(e){e(!0,{node:r,format:n,parents:u})})),i[n]=t.callbacks),a[n]=t.callbacks,!1):!Rg(e,r,n)&&void 0}))})),t=Xp(n.get(),a,t,u),n.set(De(De({},i),t))},Xp=function(e,t,n,r){return K(e,(function(e,o){return!!_e(t,o)||(z(e,(function(e){e(!1,{node:n,format:o,parents:r})})),!1)})).t},Kp=Za(ce.none());function Yp(e){return!!e.select}function Jp(e){return!(!e||!e.ownerDocument)&&Ve(dn.fromDom(e.ownerDocument),dn.fromDom(e))}function Qp(e,t,n,r){function o(e,t){return Bp(r,e,t)}function i(){var t=g(),n=null==t?void 0:t.anchorNode,r=null==t?void 0:t.focusNode;if(!t||!n||!r||pt(n)||pt(r))return!0;var o=e.createRng();return o.setStart(n,t.anchorOffset),o.collapse(!0),(n=e.createRng()).setStart(r,t.focusOffset),n.collapse(!0),o.compareBoundaryPoints(o.START_TO_START,n)<=0}var a,u,c,s,l,f,d=function(e,t){return l||(l={},f={},s.on("NodeChange",(function(e){var t=e.element,n=c.getParents(t,null,c.getRoot()),r={};ln.each(l,(function(e,t){ln.each(n,(function(o){if(c.is(o,t))return f[t]||(ln.each(e,(function(e){e(!0,{node:o,selector:t,parents:n})})),f[t]=e),r[t]=e,!1}))})),ln.each(f,(function(e,o){r[o]||(delete f[o],ln.each(e,(function(e){e(!1,{node:t,selector:o,parents:n})})))}))}))),l[e]||(l[e]=[]),l[e].push(t),{unbind:function(){Pp(l,e,t),Pp(f,e,t)}}},m=function(e){var t=h();t.collapse(!!e),p(t)},g=function(){return t.getSelection?t.getSelection():t.document.selection},h=function(){function n(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}var o,i,c=t.document;if(void 0!==r.bookmark&&!1===Sd(r)){var s=md(r);if(s.isSome())return s.map((function(e){return Ad(r,[e])[0]})).getOr(c.createRange())}try{(o=g())&&!pt(o.anchorNode)&&(i=0<o.rangeCount?o.getRangeAt(0):(o.createRange?o:c).createRange(),i=Ad(r,[i])[0])}catch(n){}return(i=i||(c.createRange?c.createRange():c.body.createTextRange())).setStart&&9===i.startContainer.nodeType&&i.collapsed&&(c=e.getRoot(),i.setStart(c,0),i.setEnd(c,0)),a&&u&&(0===n(i.START_TO_START,i,a)&&0===n(i.END_TO_END,i,a)?i=u:u=a=null),i},p=function(e,t){var n;if((o=e)&&(Yp(o)||Jp(o.startContainer)&&Jp(o.endContainer))){var o=Yp(e)?e:null;if(o){u=null;try{o.select()}catch(e){}}else{if(o=g(),e=r.fire("SetSelectionRange",{range:e,forward:t}).range,o){u=e;try{o.removeAllRanges(),o.addRange(e)}catch(e){}!1===t&&o.extend&&(o.collapse(e.endContainer,e.endOffset),o.extend(e.startContainer,e.startOffset)),a=0<o.rangeCount?o.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!o.setBaseAndExtent||un.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(o.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),o.anchorNode===e.startContainer&&o.focusNode===e.endContainer||o.setBaseAndExtent(n,0,n,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},v={bookmarkManager:null,controlSelection:null,dom:c=e,win:t,serializer:n,editor:s=r,collapse:m,setCursorLocation:function(t,n){var o=e.createRng();T(t)&&T(n)?(o.setStart(t,n),o.setEnd(t,n),p(o),m(!1)):(Al(e,o,r.getBody(),!0),p(o))},getContent:function(e){return Rp(r,e)},setContent:o,getBookmark:function(e,t){return b.getBookmark(e,t)},moveToBookmark:function(e){return b.moveToBookmark(e)},select:function(t,n){var r,o;return r=e,o=n,ce.from(t).map((function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(Al(r,n,e,!0),Al(r,n,e,!1)),n})).each(p),t},isCollapsed:function(){var e=h(),t=g();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:i,setNode:function(t){return o(e.getOuterHTML(t)),t},getNode:function(){return function(e,t){if(!t)return e;var n=t.startContainer,r=t.endContainer,o=t.startOffset,i=t.endOffset;e=t.commonAncestorContainer;return!t.collapsed&&(n===r&&i-o<2&&n.hasChildNodes()&&(e=n.childNodes[o]),3===n.nodeType&&3===r.nodeType&&(n=n.length===o?Dd(n.nextSibling,!0):n.parentNode,r=0===i?Dd(r.previousSibling,!1):r.parentNode,n&&n===r))?n:e&&3===e.nodeType?e.parentNode:e}(r.getBody(),h())},getSel:g,setRng:p,getRng:h,getStart:function(e){return _d(r.getBody(),h(),e)},getEnd:function(e){return Ed(r.getBody(),h(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,r){var o=[],i=e.getRoot();if(n=e.getParent(n||_d(i,t,t.collapsed),e.isBlock),r=e.getParent(r||Ed(i,t,t.collapsed),e.isBlock),n&&n!==i&&o.push(n),n&&r&&n!==r)for(var a,u=new Sr(n,i);(a=u.next())&&a!==r;)e.isBlock(a)&&o.push(a);return r&&n!==r&&r!==i&&o.push(r),o}(e,h(),t,n)},normalize:function(){var t=h(),n=g();return 1<Ol(n).length||!zl(r)?t:(n=Af(e,t),n.each((function(e){p(e,i())})),n.getOr(t))},selectorChanged:function(e,t){return d(e,t),v},selectorChangedWithUnbind:d,getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){(r.inline?Qf:ed)(r,e,t)},placeCaretAt:function(e,t){return p(Sf(e,t,r.getDoc()))},getBoundingClientRect:function(){var e=h();return e.collapsed?ic.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=a=u=null,y.destroy()}},b=Fl(v),y=xf(v,r);return v.bookmarkManager=b,v.controlSelection=y,v}function Zp(e,t,n){e.addNodeFilter("font",(function(e){z(e,(function(e){var r,o=t.parse(e.attr("style")),i=e.attr("color"),a=e.attr("face"),u=e.attr("size");i&&(o.color=i),a&&(o["font-family"]=a),u&&(o["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(o)),r=e,z(["color","face","size"],(function(e){r.attr(e,null)}))}))}))}function ev(e,t){var n,r=Zr();t.convert_fonts_to_spans&&Zp(e,r,ln.explode(t.font_size_legacy_values)),n=r,e.addNodeFilter("strike",(function(e){z(e,(function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}))}))}function tv(e){var t,n=decodeURIComponent(e).split(",");e=/data:([^;]+)/.exec(n[0]);return{type:t=e?e[1]:t,data:n[1]}}function nv(e,t){var n;try{n=atob(t)}catch(e){return ce.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return ce.some(new Blob([r],{type:e}))}function rv(e){return 0===e.indexOf("blob:")?(t=e,new sr((function(e,n){function r(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")}try{var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){200===o.status?e(o.response):r()},o.onerror=r,o.send()}catch(e){r()}}))):0===e.indexOf("data:")?(n=e,new sr((function(e){var t=tv(n),r=t.type;t=t.data;nv(r,t).fold((function(){return e(new Blob([]))}),e)}))):null;var t,n}function ov(e){return(e||"blobid")+Hv++}function iv(e,t,n,r){var o,i,a,u;0!==t.src.indexOf("blob:")?(o=(i=tv(t.src)).data,i=i.type,a=o,(u=e.getByData(a,i))?n({image:t,blobInfo:u}):rv(t.src).then((function(r){u=e.create(ov(),r,a),e.add(u),n({image:t,blobInfo:u})}),(function(e){r(e)}))):(u=e.getByUri(t.src))?n({image:t,blobInfo:u}):rv(t.src).then((function(r){var o;o=r,new sr((function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(o)})).then((function(o){a=tv(o).data,u=e.create(ov(),r,a),e.add(u),n({image:t,blobInfo:u})}))}),(function(e){r(e)}))}function av(e,t){var n={};return{findAll:function(r,o){return o=o||y,r=M((r=r)?Se(r.getElementsByTagName("img")):[],(function(t){var n=t.src;return un.fileApi&&!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&n&&n!==un.transparentSrc&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t))})),r=A(r,(function(e){if(void 0!==n[e.src])return new sr((function(t){n[e.src].then((function(n){return"string"==typeof n?n:void t({image:e,blobInfo:n.blobInfo})}))}));var r=new sr((function(n,r){iv(t,e,n,r)})).then((function(e){return delete n[e.image.src],e})).catch((function(t){return delete n[e.src],t}));return n[e.src]=r})),sr.all(r)}}}function uv(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new $d("br",1)).shortEnded=!0:r.empty().append(new $d("#text",3)).value=""}function cv(e,t,n,r){return r.isEmpty(t,n,(function(t){return function(e,t){return t=e.getElementRule(t.name),t&&t.paddEmpty}(e,t)}))}function sv(e,t){function n(e){var n,o=e.attr("src");(n=e).attr("src")===un.transparentSrc||n.attr("data-mce-placeholder")||e.attr("data-mce-bogus")||function(e){return e=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e),e?ce.some({type:e[1],data:decodeURIComponent(e[2])}):ce.none()}(o).filter((function(){return function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),q(e.attributes.map,(function(e,t){n.setAttribute(t,e)})),t.images_dataimg_filter(n)}return!0}(e,t)})).bind((function(e){var t=e.type,n=e.data;return ce.from(r.getByData(n,t)).orThunk((function(){return nv(t,n).map((function(e){return e=r.create(ov(),e,n),r.add(e),e}))}))})).each((function(t){e.attr("src",t.blobUri())}))}var r=t.blob_cache;r&&e.addAttributeFilter("src",(function(e){return z(e,n)}))}function lv(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,r,o){var i,a,u,c,s,l,f,d,m=e.length,g=ln.extend({},n.getBlockElements()),h=n.getNonEmptyElements(),p=n.getWhiteSpaceElements();for(g.body=1,i=0;i<m;i++)if(u=(a=e[i]).parent,g[a.parent.name]&&a===u.lastChild){for(s=a.prev;s;){if("span"!==(l=s.name)||"bookmark"!==s.attr("data-mce-type")){"br"===l&&(a=null);break}s=s.prev}a&&(a.remove(),cv(n,h,p,u)&&(f=n.getElementRule(u.name))&&(f.removeEmpty?u.remove():f.paddEmpty&&uv(t,o,g,u)))}else{for(c=a;u&&u.firstChild===c&&u.lastChild===c&&!g[(c=u).name];)u=u.parent;c===u&&!0!==t.padd_empty_with_br&&((d=new $d("#text",3)).value="",a.replace(d))}})),e.addAttributeFilter("href",(function(e){var n=e.length;if(!t.allow_unsafe_link_target)for(;n--;){var r=e[n];"a"===r.name&&"_blank"===r.attr("target")&&r.attr("rel",function(e){return e=e?ln.trim(e):"",/\b(noopener)\b/g.test(e)?e:e.split(" ").filter((function(e){return 0<e.length})).concat(["noopener"]).sort().join(" ")}(r.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href"))for(r=o.parent,t=o.lastChild;n=t.prev,r.insert(t,o),t=n;);})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){for(var t,n,r=e.length;r--;)"ul"!==(n=(t=e[r]).parent).name&&"ol"!==n.name||(t.prev&&"li"===t.prev.name?t.prev.append(t):((n=new $d("li",1)).attr("style","list-style-type: none"),t.wrap(n)))})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){for(var t,r,o,i,a,u,c,s=e.length,l=n.getValidClasses();s--;){for(r=(t=e[s]).attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],c=!1,(u=l["*"])&&u[i]&&(c=!0),u=l[t.name],(c=!(c||!u||!u[i])||c)&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}})),sv(e,t)}function fv(e,t){void 0===t&&(t=Jr());var n={},r=[],o={},i={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a,u,c=function(e){var t,a,u=e.name;u in n&&((a=o[u])?a.push(e):o[u]=[e]),t=r.length;for(;t--;)(u=r[t].name)in e.attributes.map&&((a=i[u])?a.push(e):i[u]=[e]);return e},s={schema:t,addAttributeFilter:function(e,t){Fv(Vv(e),(function(e){for(var n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})}))},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(e,t){Fv(Vv(e),(function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)}))},getNodeFilters:function(){var e,t=[];for(e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},filterNode:c,parse:function(a,u){var s,l,f,d,m,g,h,p,v=[];function b(){function n(e){e&&((i=e.firstChild)&&3===i.type&&(i.value=i.value.replace(E,"")),(i=e.lastChild)&&3===i.type&&(i.value=i.value.replace(D,"")))}var r,o,i=B.firstChild;if(t.isValidChild(B.name,T.toLowerCase())){for(;i;)r=i.next,3===i.type||1===i.type&&"p"!==i.name&&!x[i.name]&&!i.attr("data-mce-type")?(o||((o=M(T,1)).attr(e.forced_root_block_attrs),B.insert(o,i)),o.append(i)):(n(o),o=null),i=r;n(o)}}function y(e){for(var n,r=t.getBlockElements(),o=e.prev;o&&3===o.type;){if(0<(n=o.value.replace(D,"")).length)return o.value=n,0;if(n=o.next){if(3===n.type&&n.value.length){o=o.prev;continue}if(!r[n.name]&&"script"!==n.name&&"style"!==n.name){o=o.prev;continue}}n=o.prev,o.remove(),o=n}}u=u||{},o={},i={};var w,x=jv(Iv("script,style,head,html,body,title,meta,param"),t.getBlockElements()),C=t.getNonEmptyElements(),S=t.children,k=e.validate,O=("forced_root_block"in u?u:e).forced_root_block,T=!1===(w=O)?"":!0===w?"p":w,_=t.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,A=/[ \t\r\n]+/g,z=/^[ \t\r\n]+$/,R=_.hasOwnProperty(u.context)||_.hasOwnProperty(e.root_name),M=function(e,t){var r=new $d(e,t);return e in n&&((t=o[e])?t.push(r):o[e]=[r]),r},N=Jd({validate:k,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){p.append(M("#cdata",4)).value=e},text:function(e,t){var n,r;R||(e=e.replace(A," "),n=p.lastChild,r=x,n&&(r[n.name]||"br"===n.name)&&(e=e.replace(E,""))),0!==e.length&&((n=M("#text",3)).raw=!!t,p.append(n).value=e)},comment:function(e){p.append(M("#comment",8)).value=e},pi:function(e,t){p.append(M(e,7)).value=t,y(p)},doctype:function(e){p.append(M("#doctype",10)).value=e,y(p)},start:function(e,n,o){var a,u,c,s=k?t.getElementRule(e):{};if(s){for((a=M(s.outputName||e,1)).attributes=n,a.shortEnded=o,p.append(a),(s=S[p.name])&&S[a.name]&&!s[a.name]&&v.push(a),u=r.length;u--;)(c=r[u].name)in n.map&&((g=i[c])?g.push(a):i[c]=[a]);x[e]&&y(a),o||(p=a),!R&&_[e]&&(R=!0)}},end:function(n){var r,o,i,a=k?t.getElementRule(n):{};if(a){if(x[n]&&!R){if((r=p.firstChild)&&3===r.type)if(0<(o=r.value.replace(E,"")).length)r.value=o,r=r.next;else for(i=r.next,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.next,0!==o.length&&!z.test(o)||(r.remove(),r=i),r=i;if((r=p.lastChild)&&3===r.type)if(0<(o=r.value.replace(D,"")).length)r.value=o,r=r.prev;else for(i=r.prev,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.prev,0!==o.length&&!z.test(o)||(r.remove(),r=i),r=i}if(R&&_[n]&&(R=!1),a.removeEmpty&&cv(t,C,_,p))return n=p.parent,x[p.name]?p.empty().remove():p.unwrap(),void(p=n);a.paddEmpty&&(Lv(a=p,"#text")&&""===a.firstChild.value||cv(t,C,_,p))&&uv(e,u,x,p),p=p.parent}}},t),B=p=new $d(u.context||e.root_name,11);if(N.parse(a,u.format),k&&v.length&&(u.context?u.invalid=!0:function(e){for(var n,r,o,i,a,u,s,l,f,d,m=Iv("tr,td,th,tbody,thead,tfoot,table"),g=t.getNonEmptyElements(),h=t.getWhiteSpaceElements(),p=t.getTextBlockElements(),v=t.getSpecialElements(),b=0;b<e.length;b++)if((n=e[b]).parent&&!n.fixed)if(p[n.name]&&"li"===n.parent.name){for(f=n.next;f&&p[f.name];)f.name="li",f.fixed=!0,n.parent.insert(f,n.parent),f=f.next;n.unwrap(n)}else{for(o=[n],r=n.parent;r&&!t.isValidChild(r.name,n.name)&&!m[r.name];r=r.parent)o.push(r);if(r&&1<o.length){for(o.reverse(),i=a=c(o[0].clone()),l=0;l<o.length-1;l++){for(t.isValidChild(a.name,o[l].name)?(u=c(o[l].clone()),a.append(u)):u=a,s=o[l].firstChild;s&&s!==o[l+1];)d=s.next,u.append(s),s=d;a=u}cv(t,g,h,i)?r.insert(n,o[0],!0):(r.insert(i,o[0],!0),r.insert(n,i)),r=o[0],(cv(t,g,h,r)||Lv(r,"br"))&&r.empty().remove()}else n.parent&&("li"!==n.name?t.isValidChild(n.parent.name,"div")&&t.isValidChild("div",n.name)?n.wrap(c(new $d("div",1))):v[n.name]?n.empty().remove():n.unwrap():!(f=n.prev)||"ul"!==f.name&&"ol"!==f.name?!(f=n.next)||"ul"!==f.name&&"ol"!==f.name?n.wrap(c(new $d("ul",1))):f.insert(n,f.firstChild,!0):f.append(n))}}(v)),T&&("body"===B.name||u.isRootContent)&&b(),!u.invalid){for(h in o)if(o.hasOwnProperty(h)){for(g=n[h],d=(s=o[h]).length;d--;)s[d].parent||s.splice(d,1);for(l=0,f=g.length;l<f;l++)g[l](s,h,u)}for(l=0,f=r.length;l<f;l++)if((g=r[l]).name in i){for(d=(s=i[g.name]).length;d--;)s[d].parent||s.splice(d,1);for(d=0,m=g.callbacks.length;d<m;d++)g.callbacks[d](s,g.name,u)}}return B}};return lv(s,e),a=s,(u=e).inline_styles&&ev(a,u),s}function dv(e,t,n){return o=n,(r=e)&&r.hasEventListeners("PreProcess")&&!o.no_events?function(e,t,n){var r,o,i=e.dom;t=t.cloneNode(!0);var a=document.implementation;return a.createHTMLDocument&&(r=a.createHTMLDocument(""),ln.each("BODY"===t.nodeName?t.childNodes:[t],(function(e){r.body.appendChild(r.importNode(e,!0))})),t="BODY"!==t.nodeName?r.body.firstChild:r.body,o=i.doc,i.doc=r),e=e,n=De(De({},n),{node:t}),e.fire("PreProcess",n),o&&(i.doc=o),t}(e,t,n):t;var r,o}function mv(e,t,n){-1===ln.inArray(t,n)&&(e.addAttributeFilter(n,(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),t.push(n))}function gv(e,t,n,r,o){return r=r,r=rm(t,n).serialize(r),e=e,r=r,(o=o).no_events||!e?r:(e=e,r=De(De({},o),{content:r}),e.fire("PostProcess",r)).content}function hv(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:Ga.DOM,o=t&&t.schema?t.schema:Jr(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var i,a,u,s=fv(e,o);return a=e,u=r,(i=s).addAttributeFilter("data-mce-tabindex",(function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)})),i.addAttributeFilter("src,href,style",(function(e,t){for(var n,r,o=e.length,i="data-mce-"+t,c=a.url_converter,s=a.url_converter_scope;o--;)void 0!==(r=(n=e[o]).attr(i))?(n.attr(t,0<r.length?r:null),n.attr(i,null)):(r=n.attr(t),"style"===t?r=u.serializeStyle(u.parseStyle(r),n.name):c&&(r=c.call(s,r,t,n.name)),n.attr(t,0<r.length?r:null))})),i.addAttributeFilter("class",(function(e){for(var t,n,r=e.length;r--;)(t=e[r]).attr("class")&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))})),i.addAttributeFilter("data-mce-type",(function(e,t,n){for(var r,o=e.length;o--;)"bookmark"!==(r=e[o]).attr("data-mce-type")||n.cleanup||(ce.from(r.firstChild).exists((function(e){return!vo(e.value)}))?r.unwrap():r.remove())})),i.addNodeFilter("noscript",(function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=$o.decode(t.value))})),i.addNodeFilter("script,style",(function(e,t){for(var n,r,o,i=e.length,u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};i--;)r=(n=e[i]).firstChild?n.firstChild.value:"","script"===t?((o=n.attr("type"))&&n.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===a.element_format&&0<r.length&&(n.firstChild.value="// <![CDATA[\n"+u(r)+"\n// ]]>")):"xhtml"===a.element_format&&0<r.length&&(n.firstChild.value="\x3c!--\n"+u(r)+"\n--\x3e")})),i.addNodeFilter("#comment",(function(e){for(var t,n=e.length;n--;)t=e[n],a.preserve_cdata&&0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=u.decode(t.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))})),i.addNodeFilter("xml:namespace,input",(function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))})),i.addAttributeFilter("data-mce-type",(function(e){z(e,(function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(i.schema.getNonEmptyElements())?e.remove():e.unwrap())}))})),i.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),{schema:o,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:function(n,i){return i=De({format:"html"},i=void 0===i?{}:i),n=dv(t,n,i),n=function(e,t,n){return e=bo(n.getInner?t.innerHTML:e.getOuterHTML(t)),n.selection||go(dn.fromDom(t))?e:ln.trim(e)}(r,n,i),n=function(e,t,n){return n=n.selection?De({forced_root_block:!1},n):n,e=e.parse(t,n),t=function(e){return e&&"br"===e.name},n=(n=e).lastChild,!t(n)||t(t=n.prev)&&(n.remove(),t.remove()),e}(s,n,i),"tree"===i.format?n:gv(t,e,o,n,i)},addRules:function(e){o.addValidElements(e)},setRules:function(e){o.setValidElements(e)},addTempAttr:m(mv,s,n),getTempAttrs:c(n),getNodeFilters:s.getNodeFilters,getAttributeFilters:s.getAttributeFilters}}function pv(e,t){return{schema:(t=hv(e,t)).schema,addNodeFilter:t.addNodeFilter,addAttributeFilter:t.addAttributeFilter,serialize:t.serialize,addRules:t.addRules,setRules:t.setRules,addTempAttr:t.addTempAttr,getTempAttrs:t.getTempAttrs,getNodeFilters:t.getNodeFilters,getAttributeFilters:t.getAttributeFilters}}function vv(e,t){var n=(t=void 0===t?{}:t).format||"html";return t=t,Ap(e).editor.getContent(t,n)}function bv(e,t,n){return n=n=void 0===n?{}:n,Ap(e).editor.setContent(t,n)}function yv(e){return ce.from(e).each((function(e){return e.destroy()}))}function wv(e){var t,n,r,o;e.removed||(t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement(),r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&Uv.remove(o.nextSibling),e.fire("remove"),e.editorManager.remove(e),!e.inline&&r&&Uv.setStyle(e.id,"display",e.orgDisplay),e.fire("detach"),Uv.remove(e.getContainer()),yv(t),yv(n),e.destroy())}function xv(e,t){var n=e.selection,r=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),yv(n),yv(r)),(r=(n=e).formElement)&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),Uv.unbind(r,"submit reset",n.formEventDelegate)),(n=e).contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),e.destroyed=!0):e.remove())}function Cv(e){return e=ge(e)?e.join(" "):e,e=A(de(e)?e.split(" "):[],Xt),M(e,(function(e){return 0<e.length}))}function Sv(e,t){var n=K(t,(function(t,n){return E(e,n)}));return t=n.t,n=n.f,{sections:c(t),settings:c(n)}}function kv(e,t){return e.sections().hasOwnProperty(t)}function Ov(e,t){return Q(e,"toolbar_mode").orThunk((function(){return Q(e,"toolbar_drawer").map((function(e){return!1===e?"wrap":e}))})).getOr(t)}function Tv(e,t,n,r){return e&&(a=i="mobile",u=(o=t).sections(),kv(o,i)&&u[i].theme===a)?M(r,m(E,Kv)):e&&kv(t,"mobile")?r:n;var o,i,a,u}function _v(e,t,n,r){var o,i=Cv(n.forced_plugins),a=Cv(r.plugins);n=(n=kv(o=t,n="mobile")?o.sections()[n]:{}).plugins?Cv(n.plugins):a,n=n=Tv(e,t,a,n),n=[].concat(Cv(i)).concat(Cv(n));if(un.browser.isIE()&&E(n,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return ln.extend(r,{plugins:n.join(" ")})}function Ev(e,t,n,r,o){return t=e?{mobile:function(e,t){return e={resize:!1,toolbar_mode:Ov(e,"scrolling"),toolbar_sticky:!1},De(De(De({},Yv),e),t?{menubar:!1}:{})}(o.mobile||{},t)}:{},o=Sv(["mobile"],qv(t,o)),n=ln.extend(n,r,o.settings(),(n=o,e&&kv(n,"mobile")?function(e,t,n){return void 0===n&&(n={}),e=e.sections(),t=e.hasOwnProperty(t)?e[t]:{},ln.extend({},n,t)}(o,"mobile"):{}),{validate:!0,external_plugins:function(e,t){return t=t.external_plugins||{},e&&e.external_plugins?ln.extend({},e.external_plugins,t):t}(r,o.settings())}),_v(e,o,r,n)}function Dv(e,t,n,r,o){return e=function(e,t,n,r,o){return o={id:t,theme:"silver",toolbar_mode:Ov(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o},De(De({},o),r?Yv:{})}(o,t,n,$v,e),Ev(Gv||Xv,Gv,e,r,o)}function Av(e,t,n){return ce.from(t.settings[n]).filter(e)}function zv(e,t,n,r){var o,i,a,u=t in e.settings?e.settings[t]:n;return"hash"===r?(a={},"string"==typeof(i=u)?z(0<i.indexOf("=")?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),(function(e){e=e.split("="),1<e.length?a[ln.trim(e[0])]=ln.trim(e[1]):a[ln.trim(e[0])]=ln.trim(e[0])})):a=i,a):"string"===r?Av(de,e,t).getOr(n):"number"===r?Av(ye,e,t).getOr(n):"boolean"===r?Av(pe,e,t).getOr(n):"object"===r?Av(me,e,t).getOr(n):"array"===r?Av(ge,e,t).getOr(n):"string[]"===r?Av((o=de,function(e){return ge(e)&&I(e,o)}),e,t).getOr(n):"function"===r?Av(be,e,t).getOr(n):u}function Rv(e,t,n){var r,o=dn.fromDom(e.getBody()),i=e.inline?o:dn.fromDom(qe(o).dom.documentElement);return n=(r=e.inline,o=t,e=n,n=(t=i).dom.getBoundingClientRect(),r={x:o-(r?n.left+t.dom.clientLeft+tb(t):0),y:e-(r?n.top+t.dom.clientTop+eb(t):0)}).x,t=r.y,i=Qv(r=i),r=Zv(r),0<=n&&0<=t&&n<=i&&t<=r}function Mv(e){return e=e.inline?e.getBody():e.getContentAreaContainer(),ce.from(e).map(dn.fromDom).map(Sn).getOr(!1)}function Nv(e){function t(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():{open:n,close:n,reposition:n,getArgs:n};function n(){throw new Error("Theme did not provide a NotificationManager implementation.")}}function n(){return ce.from(u[0])}function r(){0<u.length&&t().reposition(u)}function o(e){H(u,(function(t){return t===e})).each((function(e){u.splice(e,1)}))}function i(i,a){if(void 0===a&&(a=!0),!e.removed&&Mv(e))return a&&e.fire("BeforeOpenNotification",{notification:i}),P(u,(function(e){return n=t().getArgs(e),e=i,!(n.type!==e.type||n.text!==e.text||n.progressBar||n.timeout||e.progressBar||e.timeout);var n})).getOrThunk((function(){e.editorManager.setActive(e);var a=t().open(i,(function(){o(a),r(),n().fold((function(){return e.focus()}),(function(e){return dn.fromDom(e.getEl()).dom.focus()}))}));return u.push(a),r(),e.fire("OpenNotification",De({},a)),a}))}var a,u=[];return(a=e).on("SkinLoaded",(function(){var e=a.getParam("service_message");e&&i({text:e,type:"warning",timeout:0},!1)})),a.on("ResizeEditor ResizeWindow NodeChange",(function(){xr.requestAnimationFrame(r)})),a.on("remove",(function(){z(u.slice(),(function(e){t().close(e)}))})),{open:i,close:function(){n().each((function(e){t().close(e),o(e),r()}))},getNotifications:function(){return u}}}var Bv,Pv,Hv=0,Lv=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Iv=ln.makeMap,Fv=ln.each,Vv=ln.explode,jv=ln.extend,Uv=Ga.DOM,Wv=Object.prototype.hasOwnProperty,qv=(Bv=function(e,t){return me(e)&&me(t)?qv(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o,i=e[r];for(o in i)Wv.call(i,o)&&(n[o]=Bv(n[o],i[o]))}return n}),$v=(Gt=an().deviceType,Gt.isTouch()),Gv=Gt.isPhone(),Xv=Gt.isTablet(),Kv=["lists","autolink","autosave"],Yv={table_grid:!1,object_resizing:!1,resize:!1},Jv=(Pv={},{add:function(e,t){Pv[e]=t},get:function(e){return Pv[e]||{icons:{}}},has:function(e){return _e(Pv,e)}}),Qv=(le=function(e,t){return t.dom[e]},w=function(e,t){return parseInt(Et(t,e),10)},m(le,"clientWidth")),Zv=m(le,"clientHeight"),eb=m(w,"margin-top"),tb=m(w,"margin-left"),nb=ou.PluginManager,rb=ou.ThemeManager;function ob(e){function t(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():{open:n,openUrl:n,alert:n,confirm:n,close:n,getParams:n,setParams:n};function n(){throw new Error("Theme did not provide a WindowManager implementation.")}}function n(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t?t.apply(e,n):void 0}}function r(t){a.push(t),e.fire("OpenWindow",{dialog:t})}function o(t){e.fire("CloseWindow",{dialog:t}),0===(a=M(a,(function(e){return e!==t}))).length&&e.focus()}function i(t){return e.editorManager.setActive(e),dd(e),t=t(),r(t),t}var a=[];return e.on("remove",(function(){z(a,(function(e){t().close(e)}))})),{open:function(e,n){return i((function(){return t().open(e,n,o)}))},openUrl:function(e){return i((function(){return t().openUrl(e,o)}))},alert:function(e,r,o){var i=t();i.alert(e,n(o||i,r))},confirm:function(e,r,o){var i=t();i.confirm(e,n(o||i,r))},close:function(){ce.from(a[a.length-1]).each((function(e){t().close(e),o(e)}))}}}function ib(e,t){e.notificationManager.open({type:"error",text:t})}function ab(e,t){e._skinLoaded?ib(e,t):e.on("SkinLoaded",(function(){ib(e,t)}))}function ub(e,t,n){wf(e,t,{message:n})}function cb(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t}function sb(e,t,n){ub(e,"PluginLoadError",cb("plugin",t,n))}function lb(e){return yw(e,(e=(t=e).getParam("content_css"),de(e)?A(e.split(","),Xt):ge(e)?e:!1===e||t.inline?[]:["default"]));var t}function fb(e){e.contentCSS=e.contentCSS.concat(lb(e),yw(e,Dc(e)))}function db(){function e(e,t){return{status:e,resultUri:t}}function t(e){return e in n}var n={};return{hasBlobUri:t,getResultUri:function(e){return e=n[e],e?e.resultUri:null},isPending:function(e){return!!t(e)&&1===n[e].status},isUploaded:function(e){return!!t(e)&&2===n[e].status},markPending:function(t){n[t]=e(1,null)},markUploaded:function(t,r){n[t]=e(2,r)},removeFailed:function(e){delete n[e]},destroy:function(){n={}}}}function mb(e){return e+ww+++"s"+(new Date).getTime().toString(36)+t()+t()+t();function t(){return Math.round(4294967295*Math.random()).toString(36)}}function gb(){function e(e){return P(t,e).getOrUndefined()}var t=[],n=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var t=e.id||mb("blobid"),n=e.name||t,r=e.blob;return{id:c(t),name:c(n),filename:c(e.filename||n+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[r.type.toLowerCase()]||"dat")),blob:c(r),base64:c(e.base64),blobUri:c(e.blobUri||URL.createObjectURL(r)),uri:c(e.uri)}},r=function(t){return e((function(e){return e.id()===t}))};return{create:function(e,t,r,o,i){if(de(e))return n({id:e,name:o,filename:i,blob:t,base64:r});if(me(e))return n(e);throw new Error("Unknown input type")},add:function(e){r(e.id())||t.push(e)},get:r,getByUri:function(t){return e((function(e){return e.blobUri()===t}))},getByData:function(t,n){return e((function(e){return e.base64()===t&&e.blob().type===n}))},findFirst:e,removeByUri:function(e){t=M(t,(function(t){return t.blobUri()!==e||void URL.revokeObjectURL(t.blobUri())}))},destroy:function(){z(t,(function(e){URL.revokeObjectURL(e.blobUri())})),t=[]}}}function hb(e,t){function n(e,n,r,o){var i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=function(e){o(e.loaded/e.total*100)},i.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){var e,o;i.status<200||300<=i.status?r("HTTP Error: "+i.status):(o=JSON.parse(i.responseText))&&"string"==typeof o.location?n((e=t.basePath,o=o.location,e?e.replace(/\/$/,"")+"/"+o.replace(/^\//,""):o)):r("Invalid JSON: "+i.responseText)};var a=new FormData;a.append("file",e.blob(),e.filename()),i.send(a)}function r(e,t){return{url:t,blobInfo:e,status:!0}}function o(e,t,n){return{url:"",blobInfo:e,status:!1,error:{message:t,options:n}}}function i(e,t){ln.each(u[e],(function(e){e(t)})),delete u[e]}function a(n,a){return n=ln.grep(n,(function(t){return!e.isUploaded(t.blobUri())})),sr.all(ln.map(n,(function(n){return e.isPending(n.blobUri())?(f=n.blobUri(),new sr((function(e){u[f]=u[f]||[],u[f].push(e)}))):(c=n,s=t.handler,l=a,e.markPending(c.blobUri()),new sr((function(t){var a;try{var u=function(){a&&a.close()};s(c,(function(n){u(),e.markUploaded(c.blobUri(),n),i(c.blobUri(),r(c,n)),t(r(c,n))}),(function(n,r){r=r||{},u(),e.removeFailed(c.blobUri()),i(c.blobUri(),o(c,n,r)),t(o(c,n,r))}),(function(e){e<0||100<e||ce.from(a).orThunk((function(){return ce.from(l).map(p)})).each((function(t){(a=t).progressBar.value(e)}))}))}catch(n){t(o(c,n.message,{}))}})));var c,s,l,f})))}var u={};return!1===be(t.handler)&&(t.handler=n),{upload:function(e,r){return t.url||t.handler!==n?a(e,r):new sr((function(e){e([])}))}}}function pb(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}}function vb(e,t){return hb(t,{url:e.getParam("images_upload_url","","string"),basePath:e.getParam("images_upload_base_path","","string"),credentials:e.getParam("images_upload_credentials",!1,"boolean"),handler:e.getParam("images_upload_handler",null,"function")})}function bb(e){function t(t){return function(n){return e.selection?t(n):[]}}function n(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e}function r(e,t,r){var o='src="'+r+'"'+(r===un.transparentSrc?' data-mce-placeholder="1"':"");return e=n(e,'src="'+t+'"',o),n(e,'data-mce-src="'+t+'"','data-mce-src="'+r+'"')}function o(t,n){z(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=A(e.fragments,(function(e){return r(e,t,n)})):e.content=r(e.content,t,n)}))}function i(t,n){var r=e.convertURL(n,"src");o(t.src,n),e.$(t).attr({src:e.getParam("images_reuse_filename",!1,"boolean")?n+(-1===n.indexOf("?")?"?":"&")+(new Date).getTime():n,"data-mce-src":r})}function a(n){return l=l||vb(e,m),p().then(t((function(r){var a=A(r,(function(e){return e.blobInfo}));return l.upload(a,pb(e)).then(t((function(t){var a=[];t=A(t,(function(t,n){var u=r[n].blobInfo,c=r[n].image;return t.status&&e.getParam("images_replace_blob_uris",!0,"boolean")?(d.removeByUri(c.src),i(c,t.url)):t.error&&(t.error.options.remove&&(o(c.getAttribute("src"),un.transparentSrc),a.push(c)),n=t.error.message,ab(e,ru.translate(["Failed to upload image: {0}",n]))),{element:c,status:t.status,uploadUri:t.url,blobInfo:u}}));return 0<t.length&&h.fireIfChanged(),0<a.length&&(Ep(e)||e.undoManager.transact((function(){z(a,(function(t){e.dom.remove(t),d.removeByUri(t.src)}))}))),n&&n(t),t})))})))}function u(t){if(kc(e))return a(t)}function c(t){return!1!==I(g,(function(e){return e(t)}))&&(0!==t.getAttribute("src").indexOf("data:")||e.getParam("images_dataimg_filter",y,"function")(t))}function s(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var r=m.getResultUri(n);return r?'src="'+r+'"':(r=(r=d.getByUri(n))||B(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':t)}))}var l,f,d=gb(),m=db(),g=[],h=function(e){var t=Za(null);return e.on("change AddUndo",(function(e){t.set(De({},e.level))})),{fireIfChanged:function(){var n=e.undoManager.data;W(n).filter((function(e){return!Cp(t.get(),e)})).each((function(t){e.setDirty(!0),e.fire("change",{level:t,lastLevel:j(n,n.length-2).getOrNull()})}))}}}(e),p=function(){return(f=f||av(m,d)).findAll(e.getBody(),c).then(t((function(t){return t=M(t,(function(t){return"string"!=typeof t||void ab(e,t)})),z(t,(function(e){o(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))};return e.on("SetContent",(function(){(kc(e)?u:p)()})),e.on("RawSaveContent",(function(e){e.content=s(e.content)})),e.on("GetContent",(function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=s(e.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){z(e,(function(e){var t=e.attr("src");d.getByUri(t)||(t=m.getResultUri(t))&&e.attr("src",t)}))}))})),{blobCache:d,addFilter:function(e){g.push(e)},uploadImages:a,uploadImagesAuto:u,scanForImages:p,destroy:function(){d.destroy(),m.destroy(),f=l=null}}}function yb(e){var t,n,r={},o=function(e,t){e&&("string"!=typeof e?ln.each(e,(function(e,t){o(t,e)})):(ge(t)||(t=[t]),ln.each(t,(function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))})),r[e]=t))};return o((t=e.dom,n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return _n(e)&&e.hasAttribute("href")},onformat:function(e,n,r){ln.each(r,(function(n,r){t.setAttrib(e,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},ln.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(e){n[e]={block:e,remove:"all"}})),n)),o(e.getParam("formats")),{get:function(e){return e?r[e]:r},has:function(e){return _e(r,e)},register:o,unregister:function(e){return e&&r[e]&&delete r[e],r}}}function wb(e,t){function n(e){o="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t,n=Cw.create(o.name);return t=n,(e=o).classes.length&&Cw.addClass(t,e.classes.join(" ")),Cw.setAttribs(t,e.attrs),n}var r,o,i=t&&t.schema||Jr({}),a=function(e,t,r){var o,u,c=0<t.length&&t[0],s=c&&c.name,l=function(e,t){return e="string"!=typeof e?e.nodeName.toLowerCase():e,e=i.getElementRule(e),e=e&&e.parentsRequired,!(!e||!e.length)&&(t&&-1!==ln.inArray(e,t)?t:e[0])}(e,s);if(l)s===l?(u=t[0],t=t.slice(1)):u=l;else if(c)u=t[0],t=t.slice(1);else if(!r)return e;return u&&(o=n(u)).appendChild(e),r&&(o||(o=Cw.create("div")).appendChild(e),ln.each(r,(function(t){t=n(t),o.insertBefore(t,e)}))),a(o,t,u&&u.siblings)};return e&&e.length?(o=e[0],r=n(o),(t=Cw.create("div")).appendChild(a(r,e.slice(1),o.siblings)),t):""}function xb(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=ln.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==ln.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}return"["!==o||(i=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(n.attrs[i[1]]=i[2]),""}))),n.name=t||"div",n}function Cb(e,t){var n,r="",o=function(e){return e=e.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),de(e)?e:""}(e);if(""===o)return"";function i(e){return e.replace(/%(\w+)/g,"")}if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){var a=Q(t,"preview");if(a.is(!1))return"";o=a.getOr(o)}var u=t.block||t.inline||"span",c=(a=(a=(a=t.selector)&&"string"==typeof a?(a=(a=a.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ln.map(a.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=ln.map(e.split(/(?:~\+|~|\+)/),xb);e=t.pop();return t.length&&(e.siblings=t),e})).reverse()):[]).length?(a[0].name||(a[0].name=u),u=t.selector,wb(a,e)):wb([u],e),Cw.select(u,a)[0]||a.firstChild);return xw(t.styles,(function(e,t){e=i(e),e&&Cw.setStyle(c,t,e)})),xw(t.attributes,(function(e,t){e=i(e),e&&Cw.setAttrib(c,t,e)})),xw(t.classes,(function(e){e=i(e),Cw.hasClass(c,e)||Cw.addClass(c,e)})),e.fire("PreviewFormats"),Cw.setStyles(a,{position:"absolute",left:-65535}),e.getBody().appendChild(a),n=Cw.getStyle(e.getBody(),"fontSize",!0),n=/px$/.test(n)?parseInt(n,10):0,xw(o.split(" "),(function(t){var o=Cw.getStyle(c,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(o)&&(o=Cw.getStyle(e.getBody(),t,!0),"#ffffff"===Cw.toHex(o).toLowerCase())||"color"===t&&"#000000"===Cw.toHex(o).toLowerCase())){if("font-size"===t&&/em|%$/.test(o)){if(0===n)return;o=parseFloat(o)/(/%$/.test(o)?100:1)*n+"px"}"border"===t&&o&&(r+="padding:0 2px;"),r+=t+":"+o+";"}})),e.fire("AfterPreviewFormats"),Cw.remove(a),r}function Sb(e){var t=yb(e),n=Za(null);return function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}(e),Gg(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){t=t,n=n,r=r,zp(e).formatter.apply(t,n,r)},remove:function(t,n,r,o){t=t,n=n,r=r,o=o,zp(e).formatter.remove(t,n,r,o)},toggle:function(t,n,r){t=t,n=n,r=r,zp(e).formatter.toggle(t,n,r)},match:function(t,n,r){return t=t,n=n,r=r,zp(e).formatter.match(t,n,r)},closest:function(t){return t=t,zp(e).formatter.closest(t)},matchAll:function(t,n){return t=t,n=n,zp(e).formatter.matchAll(t,n)},matchNode:function(t,n,r,o){return t=t,n=n,r=r,o=o,zp(e).formatter.matchNode(t,n,r,o)},canApply:function(t){return t=t,zp(e).formatter.canApply(t)},formatChanged:function(t,r,o){return i=n,t=t,r=r,void 0===(o=o)&&(o=!1),zp(e).formatter.formatChanged(i,t,r,o);var i},getCssText:m(Cb,e)}}function kb(e,t,n){function r(e){kp(t,!1,n),t.add({},e)}var o=Za(!1);e.on("init",(function(){t.add()})),e.on("BeforeExecCommand",(function(e){e=e.command.toLowerCase(),"undo"!==e&&"redo"!==e&&"mcerepaint"!==e&&(Op(t,n),t.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&r(e)})),e.on("ObjectResizeStart cut",(function(){t.beforeChange()})),e.on("SaveContent ObjectResized blur",r),e.on("dragend",r),e.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((33<=i&&i<=36||37<=i&&i<=40||45===i||n.ctrlKey)&&(r(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),o.get()&&t.typing&&!1===Cp(bp(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),o.set(!1),e.nodeChanged()))})),e.on("keydown",(function(e){var i,a=e.keyCode;e.isDefaultPrevented()||(33<=a&&a<=36||37<=a&&a<=40||45===a?t.typing&&r(e):(i=e.ctrlKey&&!e.altKey||e.metaKey,!(a<16||20<a)||224===a||91===a||t.typing||i||(t.beforeChange(),kp(t,!0,n),t.add({},e),o.set(!0))))})),e.on("mousedown",(function(e){t.typing&&r(e)})),e.on("input",(function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||"insertFromPaste"===(t=e).inputType||"insertFromDrop"===t.inputType)&&r(e)})),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))}function Ob(e){var t,n=Za(ce.none()),r=Za(0),o=Za(0),i={data:[],typing:!1,beforeChange:function(){var t,o;t=r,o=n,zp(e).undoManager.beforeChange(t,o)},add:function(t,a){return u=i,c=o,s=r,l=n,t=t,a=a,zp(e).undoManager.addUndoLevel(u,c,s,l,t,a);var u,c,s,l},undo:function(){return t=i,n=r,a=o,zp(e).undoManager.undo(t,n,a);var t,n,a},redo:function(){return t=o,n=i.data,zp(e).undoManager.redo(t,n);var t,n},clear:function(){var t,n;t=i,n=o,zp(e).undoManager.clear(t,n)},reset:function(){var t;t=i,zp(e).undoManager.reset(t)},hasUndo:function(){return t=i,n=o,zp(e).undoManager.hasUndo(t,n);var t,n},hasRedo:function(){return t=i,n=o,zp(e).undoManager.hasRedo(t,n);var t,n},transact:function(t){return n=i,o=r,t=t,zp(e).undoManager.transact(n,o,t);var n,o},ignore:function(t){var n;n=r,t=t,zp(e).undoManager.ignore(n,t)},extra:function(t,n){var r,a;r=i,a=o,t=t,n=n,zp(e).undoManager.extra(r,a,t,n)}};return Ep(e)||kb(e,i,r),(t=e).addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),i}function Tb(e){return"keydown"===e.type||"keyup"===e.type}function _b(e){return(e=e.keyCode)===Mf.BACKSPACE||e===Mf.DELETE}function Eb(e){var t=e.dom,n=Cc(e),r=e.getParam("placeholder",ds.getAttrib(e.getElement(),"placeholder"),"string"),o=function(i,a){var u;!function(e){if(Tb(e)){var t=e.keyCode;return!_b(e)&&(Mf.metaKeyPressed(e)||e.altKey||112<=t&&t<=123||E(Sw,t))}return!1}(i)&&(u=e.getBody(),i=!(Tb(i=i)&&!(_b(i)||"keyup"===i.type&&229===i.keyCode))&&function(e,t,n){if(Fr(dn.fromDom(t),!1)){var r=""===n,o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return!1}(t,u,n),""!==t.getAttrib(u,kw)===i&&!a||(t.setAttrib(u,kw,i?r:null),t.setAttrib(u,"aria-placeholder",i?r:null),e.fire("PlaceholderToggle",{state:i}),e.on(i?"keydown":"keyup",o),e.off(i?"keyup":"keydown",o)))};r&&e.on("init",(function(t){o(t,!0),e.on("change SetContent ExecCommand",o),e.on("paste",(function(t){return xr.setEditorTimeout(e,(function(){return o(t)}))}))}))}function Db(e,t){return He(dn.fromDom(t),e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))}function Ab(e){return"rtl"===Ga.DOM.getStyle(e,"direction",!0)||(e=e.textContent,Ow.test(e))}function zb(e,t,n){return e=e,t=t,e=M(Ga.DOM.getParents(n.container(),"*",t),e),ce.from(e[e.length-1])}function Rb(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?Er(n)?Dn(n.nextSibling)?ic(n.nextSibling,0):ic.after(n):zr(t)?ic(n,r+1):t:Er(n)?Dn(n.previousSibling)?ic(n.previousSibling,n.previousSibling.data.length):ic.before(n):Rr(t)?ic(n,r-1):t}function Mb(e,t){return Ve(e,t)?Zn(t,(function(e){return co(e)||lo(e)}),(n=e,function(e){return Ie(n,dn.fromDom(e.dom.parentNode))})):ce.none();var n}function Nb(e){var t;e.dom.isEmpty(e.getBody())&&(e.setContent(""),e=(e=(t=e).getBody()).firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e,t.selection.setCursorLocation(e,0))}function Bb(e,t){return{from:e,to:t}}function Pb(e,t){var n=dn.fromDom(e);e=dn.fromDom(t.container());return Mb(n,e).map((function(e){return{block:e,position:t}}))}function Hb(e,t,n){var r=Pb(e,ic.fromRangeStart(n));n=r.bind((function(n){return Zl(t,e,n.position).bind((function(n){return Pb(e,n).map((function(n){return r=e,o=t,Mn((i=n).position.getNode())&&!1===Fr(i.block)?Ls(!1,i.block.dom).bind((function(e){return e.isEqual(i.position)?Zl(o,r,e).bind((function(e){return Pb(r,e)})):ce.some(i)})).getOr(i):i;var r,o,i}))}))}));return Ou(r,n,Bb).filter((function(e){return!1===Ie(e.from.block,e.to.block)&&Ge((t=e).from.block).bind((function(e){return Ge(t.to.block).filter((function(t){return Ie(e,t)}))})).isSome()&&!1===Pn((e=e).from.block.dom)&&!1===Pn(e.to.block.dom);var t}))}function Lb(e){var t;t=vn(e),e=H(t,uo).fold((function(){return t}),(function(e){return t.slice(0,e)}));return z(e,Cn),e}function Ib(e,t){return e=lm(t,e),P(e.reverse(),(function(e){return Fr(e)})).each(Cn)}function Fb(e,t,n,r){return Fr(n)?(am(n),rf(n.dom)):(0===M(Ye(r),(function(e){return!Fr(e)})).length&&Fr(t)&&ot(r,dn.fromTag("br")),n=nf(n.dom,ic.before(r.dom)),z(Lb(t),(function(e){ot(r,e)})),Ib(e,t),n)}function Vb(e,t,n){if(Fr(n))return Cn(n),Fr(t)&&am(t),rf(t.dom);var r=of(n.dom);return z(Lb(t),(function(e){xn(n,e)})),Ib(e,t),r}function jb(e,t){return Ve(t,e)?function(e,t){return e=lm(t,e),ce.from(e[e.length-1])}(t,e):ce.none()}function Ub(e,t){Ls(e,t.dom).map((function(e){return e.getNode()})).map(dn.fromDom).filter(Tr).each(Cn)}function Wb(e,t,n){return Ub(!0,t),Ub(!1,n),jb(t,n).fold(m(Vb,e,t,n),m(Fb,e,t,n))}function qb(e,t,n,r){return t?Wb(e,r,n):Wb(e,n,r)}function $b(e,t){var n,r,o=dn.fromDom(e.getBody()),i=(n=o.dom,r=t,((i=e.selection.getRng()).collapsed?Hb(n,r,i):ce.none()).bind((function(e){return qb(o,t,e.from.block,e.to.block)})));return i.each((function(t){e.selection.setRng(t.toRange())})),i.isSome()}function Gb(e,t){return t=dn.fromDom(t),e=m(Ie,e),Qn(t,mo,e).isSome()}function Xb(e,t){var n=nf(e.dom,ic.fromRangeStart(t)).isNone(),r=tf(e.dom,ic.fromRangeEnd(t)).isNone();return!(Gb(e=e,(t=t).startContainer)||Gb(e,t.endContainer))&&n&&r}function Kb(e){var t,n,r,o=dn.fromDom(e.getBody()),i=e.selection.getRng();return Xb(o,i)?((i=e).setContent(""),i.selection.setCursorLocation(),!0):(t=o,n=e.selection,r=n.getRng(),Ou(Mb(t,dn.fromDom(r.startContainer)),Mb(t,dn.fromDom(r.endContainer)),(function(e,o){return!1===Ie(e,o)&&(r.deleteContents(),qb(t,!0,e,o).each((function(e){n.setRng(e.toRange())})),!0)})).getOr(!1))}function Yb(e,t){return!e.selection.isCollapsed()&&Kb(e)}function Jb(e,t,n,r,o){return ce.from(t._selectionOverrides.showCaret(e,n,r,o))}function Qb(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?ce.none():ce.some(((t=(e=t).ownerDocument.createRange()).selectNode(e),t))}function Zb(e,t,n){var r=Qc(1,e.getBody(),t);r=(t=ic.fromRangeStart(r)).getNode();return ws(r)?Jb(1,e,r,!t.isAtEnd(),!1):(r=t.getNode(!0),ws(r)?Jb(1,e,r,!1,!1):(t=e.dom.getParent(t.getNode(),(function(e){return Dw(e)||Ew(e)})),ws(t)?Jb(1,e,t,!1,n):ce.none()))}function ey(e,t,n){return t.collapsed?Zb(e,t,n).getOr(t):t}function ty(e){return ch(e)||oh(e)}function ny(e){return sh(e)||ih(e)}function ry(e,t,n,r,o,i){return Jb(r,e,i.getNode(!o),o,!0).each((function(n){var r;t.collapsed?(r=t.cloneRange(),o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()):t.deleteContents(),e.selection.setRng(n)})),i=e.dom,Dn(n=n)&&0===n.data.length&&i.remove(n),!0}function oy(e,t){var n=e.selection.getRng();if(!Dn(n.commonAncestorContainer))return!1;var r=t?os.Forwards:os.Backwards,o=Rs(e.getBody()),i=m(ns,t?o.next:o.prev),a=t?ty:ny,u=es(r,e.getBody(),n);return!(!(o=Rb(t,i(u)))||!rs(u,o))&&(a(o)?ry(e,n,u.getNode(),r,t,o):!!((i=i(o))&&a(i)&&rs(o,i))&&ry(e,n,u.getNode(),r,t,i))}function iy(e,t,n,r){function o(t){return Or(dn.fromDom(t))&&!Kc(n,r,e)}return Zc(!t,n).fold((function(){return Zc(t,r).fold(b,o)}),o)}function ay(e,t,n,r){var o=r.getNode(!1===t);return Mb(dn.fromDom(e),dn.fromDom(n.getNode())).map((function(e){return Fr(e)?Aw.remove(e.dom):Aw.moveToElement(o)})).orThunk((function(){return ce.some(Aw.moveToElement(o))}))}function uy(e,t,n){return Zl(t,e,n).bind((function(r){return o=r.getNode(),mo(dn.fromDom(o))||lo(dn.fromDom(o))||iy(e,t,n,r)?ce.none():t&&Pn(r.getNode())||!1===t&&Pn(r.getNode(!0))?ay(e,t,n,r):t&&sh(n)||!1===t&&ch(n)?ce.some(Aw.moveToPosition(r)):ce.none();var o}))}function cy(e,t,n){return function(e,t){return t=t.getNode(!1===e),e=e?"after":"before",_n(t)&&t.getAttribute("data-mce-caret")===e}(t,n)?(r=t,o=n.getNode(!1===t),(r&&Pn(o.nextSibling)?ce.some(Aw.moveToElement(o.nextSibling)):!1===r&&Pn(o.previousSibling)?ce.some(Aw.moveToElement(o.previousSibling)):ce.none()).fold((function(){return uy(e,t,n)}),ce.some)):uy(e,t,n).bind((function(t){return r=e,o=n,t.fold((function(e){return ce.some(Aw.remove(e))}),(function(e){return ce.some(Aw.moveToElement(e))}),(function(e){return Kc(o,e,r)?ce.none():ce.some(Aw.moveToPosition(e))}));var r,o}));var r,o}function sy(e,t){return ce.from(bf(e.getBody(),t))}function ly(e,t){var n=e.selection.getNode();return sy(e,n).filter(Pn).fold((function(){return n=e.getBody(),r=t,o=e.selection.getRng(),i=Qc(r?1:-1,n,o),o=ic.fromRangeStart(i),i=dn.fromDom(n),(!1===r&&sh(o)?ce.some(Aw.remove(o.getNode(!0))):r&&ch(o)?ce.some(Aw.remove(o.getNode())):!1===r&&ch(o)&&pm(i,o)?gh(i,o).map((function(e){return Aw.remove(e.getNode())})):r&&sh(o)&&hm(i,o)?hh(i,o).map((function(e){return Aw.remove(e.getNode())})):cy(n,r,o)).exists((function(n){return n.fold((function(e){return a._selectionOverrides.hideFakeCaret(),qm(a,u,dn.fromDom(e)),!0}),(i=u=t,function(e){return e=i?ic.before(e):ic.after(e),o.selection.setRng(e.toRange()),!0}),(r=o=a=e,function(e){return r.selection.setRng(e.toRange()),!0}));var r,o,i,a,u}));var n,r,o,i}),y)}function fy(e,t){var n=e.selection.getNode();return!!Pn(n)&&sy(e,n.parentNode).filter(Pn).fold((function(){var n;return n=dn.fromDom(e.getBody()),z(gu(n,".mce-offscreen-selection"),Cn),qm(e,t,dn.fromDom(e.selection.getNode())),Nb(e),!0}),y)}function dy(e){var t=e.dom,n=e.selection,r=bf(e.getBody(),n.getNode());return Bn(r)&&t.isBlock(r)&&t.isEmpty(r)&&(e=t.create("br",{"data-mce-bogus":"1"}),t.setHTML(r,""),r.appendChild(e),n.setRng(ic.before(e).toRange())),!0}function my(e,t){return(e.selection.isCollapsed()?ly:fy)(e,t)}function gy(e,t){return!!e.selection.isCollapsed()&&(n=e,r=t,t=ic.fromRangeStart(n.selection.getRng()),Zl(r,n.getBody(),t).filter((function(e){return(r?nh:rh)(e)})).bind((function(e){return ce.from(Yc(r?0:-1,e))})).exists((function(e){return n.selection.select(e),!0})));var n,r}function hy(e){return zw(e)&&e.data[0]===po}function py(e){return zw(e)&&e.data[e.data.length-1]===po}function vy(e){return e.ownerDocument.createTextNode(po)}function by(e,t){return(e?function(e){if(zw(e.previousSibling))return py(e.previousSibling)||e.previousSibling.appendData(po),e.previousSibling;if(zw(e))return hy(e)||e.insertData(0,po),e;var t=vy(e);return e.parentNode.insertBefore(t,e),t}:function(e){if(zw(e.nextSibling))return hy(e.nextSibling)||e.nextSibling.insertData(0,po),e.nextSibling;if(zw(e))return py(e)||e.appendData(po),e;var t=vy(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t})(t)}function yy(e,t){return Dn(e.container())?by(t,e.container()):by(t,e.getNode())}function wy(e,t){return(t=t.get())&&e.container()===t&&Er(t)}function xy(e,t){return t.fold((function(t){return hs(e.get()),t=Rw(t),e.set(t),ce.some(ic(t,t.length-1))}),(function(t){return rf(t).map((function(t){return wy(t,e)?ic(e.get(),1):(hs(e.get()),t=yy(t,!0),e.set(t),ic(t,1))}))}),(function(t){return of(t).map((function(t){return wy(t,e)?ic(e.get(),e.get().length-1):(hs(e.get()),t=yy(t,!1),e.set(t),ic(t,t.length-1))}))}),(function(t){return hs(e.get()),t=Mw(t),e.set(t),ce.some(ic(t,1))}))}function Cy(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return ce.none()}function Sy(e,t){return(t=Xc(t,e))||e}function ky(e,t,n){var r=Tw(n),o=Sy(t,r.container());return zb(e,o,r).fold((function(){return tf(o,r).bind(m(zb,e,o)).map((function(e){return Nw.before(e)}))}),ce.none)}function Oy(e,t){return null===Fs(e,t)}function Ty(e,t,n){return zb(e,t,n).filter(m(Oy,t))}function _y(e,t,n){var r=_w(n);return Ty(e,t,r).bind((function(e){return nf(e,r).isNone()?ce.some(Nw.start(e)):ce.none()}))}function Ey(e,t,n){var r=Tw(n);return Ty(e,t,r).bind((function(e){return tf(e,r).isNone()?ce.some(Nw.end(e)):ce.none()}))}function Dy(e,t,n){var r=_w(n),o=Sy(t,r.container());return zb(e,o,r).fold((function(){return nf(o,r).bind(m(zb,e,o)).map((function(e){return Nw.after(e)}))}),ce.none)}function Ay(e){return!1===Ab(Bw(e))}function zy(e,t,n){return Cy([ky,_y,Ey,Dy],[e,t,n]).filter(Ay)}function Ry(e){return e.fold(c("before"),c("start"),c("end"),c("after"))}function My(e){return e.fold(Nw.before,Nw.before,Nw.after,Nw.after)}function Ny(e){return e.fold(Nw.start,Nw.start,Nw.end,Nw.end)}function By(e,t,n,r,o,i){return Ou(zb(t,n,r),zb(t,n,o),(function(t,r){return t!==r&&function(e,t,n){return t=Xc(t,e),e=Xc(n,e),t&&t===e}(n,t,r)?Nw.after(e?t:r):i})).getOr(i)}function Py(e,t){return e.fold(y,(function(e){return n=t,!(Ry(e=e)===Ry(n)&&Bw(e)===Bw(n));var n}))}function Hy(e,t){return e?t.fold(u(ce.some,Nw.start),ce.none,u(ce.some,Nw.after),ce.none):t.fold(ce.none,u(ce.some,Nw.before),ce.none,u(ce.some,Nw.end))}function Ly(e,t,n,r){var o=Rb(e,r),i=zy(t,n,o);return zy(t,n,o).bind(m(Hy,e)).orThunk((function(){return a=t,u=n,c=i,s=Rb(o=e,r),Zl(o,u,s).map(m(Rb,o)).fold((function(){return c.map(My)}),(function(e){return zy(a,u,e).map(m(By,o,a,u,s,e)).filter(m(Py,c))})).filter(Ay);var o,a,u,c,s}))}function Iy(e,t,n){var r=e?1:-1;return t.setRng(ic(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0}function Fy(e,t){var n=t.selection.getRng();n=e?ic.fromRangeEnd(n):ic.fromRangeStart(n);return!!be(t.selection.getSel().modify)&&(e&&zr(n)?Iy(!0,t.selection,n):!(e||!Rr(n))&&Iy(!1,t.selection,n))}function Vy(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)}function jy(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")}function Uy(e,t,n){return xy(t,n).map((function(t){return Vy(e,t),n}))}function Wy(e,t){var n,r;e.selection.isCollapsed()&&!0!==e.composing&&t.get()&&(n=ic.fromRangeStart(e.selection.getRng()),ic.isTextPosition(n)&&!1===(zr(r=n)||Rr(r))&&(Vy(e,Vc(t.get(),n)),t.set(null)))}function qy(e,t,n){return!!Mc(e)&&(o=t,i=n,t=(r=e).getBody(),n=ic.fromRangeStart(r.selection.getRng()),e=m(Db,r),Ly(i,e,t,n).bind((function(e){return Uy(r,o,e)})).isSome());var r,o,i}function $y(e){var t=Za(null),n=m(Db,e);return e.on("NodeChange",(function(r){var o,i,a;!Mc(e)||un.browser.isIE()&&r.initial||(function(e,t,n){t=A(gu(dn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom})),t=M(t,e),e=M(n,e),z(V(t,e),m(jy,!1)),z(V(e,t),m(jy,!0))}(n,e.dom,r.parents),Wy(e,t),o=n,i=e,a=t,r=r.parents,i.selection.isCollapsed()&&(r=M(r,o),z(r,(function(e){var t=ic.fromRangeStart(i.selection.getRng());zy(o,i.getBody(),t).bind((function(e){return Uy(i,a,e)}))}))))})),t}function Gy(e,t){return function(n){return xy(t,n).exists((function(t){return Vy(e,t),!0}))}}function Xy(e,t,n,r){var o=e.getBody(),i=m(Db,e);e.undoManager.ignore((function(){var a,u,c;e.selection.setRng((a=n,u=r,(c=document.createRange()).setStart(a.container(),a.offset()),c.setEnd(u.container(),u.offset()),c)),e.execCommand("Delete"),zy(i,o,ic.fromRangeStart(e.selection.getRng())).map(Ny).map(Gy(e,t))})),e.nodeChanged()}function Ky(e,t,n,r){var o=function(e,t){return t=Xc(t,e),t||e}(e.getBody(),r.container()),i=m(Db,e),a=zy(i,o,r);return a.bind((function(e){return n?e.fold(c(ce.some(Ny(e))),ce.none,c(ce.some(My(e))),ce.none):e.fold(ce.none,c(ce.some(My(e))),ce.none,c(ce.some(Ny(e))))})).map(Gy(e,t)).getOrThunk((function(){var u=Hs(n,o,r),c=u.bind((function(e){return zy(i,o,e)}));return Ou(a,c,(function(){return zb(i,o,r).exists((function(t){return!!Ou(rf(r=t),of(r),(function(e,t){e=Rb(!0,e);var n=Rb(!1,t);return tf(r,e).forall((function(e){return e.isEqual(n)}))})).getOr(!0)&&(qm(e,n,dn.fromDom(t)),!0);var r}))})).orThunk((function(){return c.bind((function(o){return u.map((function(o){return n?Xy(e,t,r,o):Xy(e,t,o,r),!0}))}))})).getOr(!1)}))}function Yy(e,t,n){if(e.selection.isCollapsed()&&Mc(e)){var r=ic.fromRangeStart(e.selection.getRng());return Ky(e,t,n,r)}return!1}function Jy(e){return 1===vn(e).length}function Qy(e,t,n,r){var o=m(Xg,t);0===(o=A(M(r,o),(function(e){return e.dom}))).length?qm(t,e,n):(e=n.dom,n=o,o=Fg(!1),n=Wg(n,o.dom),ot(dn.fromDom(e),o),Cn(dn.fromDom(e)),n=ic(n,0),t.selection.setRng(n.toRange()))}function Zy(e,t){var n,r=dn.fromDom(e.getBody()),o=dn.fromDom(e.selection.getStart()),i=M((n=lm(o,r),H(n,uo).fold(c(n),(function(e){return n.slice(0,e)}))),Jy);return W(i).exists((function(n){var r,o,a,u=ic.fromRangeStart(e.selection.getRng());return r=t,o=u,a=n.dom,!(!Ou(rf(a),of(a),(function(e,t){var n=Rb(!0,e),i=Rb(!1,t);t=Rb(!1,o);return r?tf(a,t).exists((function(e){return e.isEqual(i)&&o.isEqual(n)})):nf(a,t).exists((function(e){return e.isEqual(n)&&o.isEqual(i)}))})).getOr(!0)||Is((u=n).dom)&&Lg(u.dom))&&(Qy(t,e,n,i),!0)}))}function ew(e,t){return!!e.selection.isCollapsed()&&Zy(e,t)}function tw(e,t,n){return e._selectionOverrides.hideFakeCaret(),qm(e,t,dn.fromDom(n)),!0}function nw(e,t){return e.selection.isCollapsed()?(n=e,o=(r=t)?oh:ih,i=r?os.Forwards:os.Backwards,a=es(i,n.getBody(),n.selection.getRng()),o(a)?tw(n,r,a.getNode(!r)):ce.from(Rb(r,a)).filter((function(e){return o(e)&&rs(a,e)})).exists((function(e){return tw(n,r,e.getNode(!r))}))):(i=t,e=(t=e).selection.getNode(),!!Hn(e)&&tw(t,i,e));var n,r,o,i,a}function rw(e){return e=parseInt(e,10),isNaN(e)?0:e}function ow(e,t){return(e||"table"===je(t)?"margin":"padding")+("rtl"===Et(t,"direction")?"-right":"-left")}function iw(e){var t,n=Lw(e);return!e.mode.isReadOnly()&&(1<n.length||(t=e,I(n,(function(e){var n=ow(Ec(t),e);n=Dt(e,n).map(rw).getOr(0);return"false"!==t.dom.getContentEditable(e.dom)&&0<n}))))}function aw(e){return so(e)||lo(e)}function uw(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=e.getParam("indentation","40px","string"),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),c=Ec(e);i=Cc(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==i||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),z(Lw(e),(function(e){var r,o,i,s,l,f;r=n,o=t,i=c,s=u,l=a,e=e.dom,i=ow(i,dn.fromDom(e)),"outdent"===o?(f=Math.max(0,rw(e.style[i])-s),r.setStyle(e,i,f?f+l:"")):(f=rw(e.style[i])+s+l,r.setStyle(e,i,f))}))}function cw(e,t){if(e.selection.isCollapsed()&&iw(e)){var n=e.dom,r=e.selection.getRng(),o=ic.fromRangeStart(r);n=n.getParent(r.startContainer,n.isBlock);if(null!==n&&lh(dn.fromDom(n),o))return uw(e,"outdent"),!0}return!1}function sw(e,t){e.getDoc().execCommand(t,!1,null)}function lw(e,t){e.addCommand("delete",(function(){var n,r;r=t,cw(n=e)||my(n,!1)||oy(n,!1)||Yy(n,r,!1)||$b(n,!1)||mg(n)||gy(n,!1)||nw(n,!1)||Yb(n)||ew(n,!1)||(sw(n,"Delete"),Nb(n))})),e.addCommand("forwardDelete",(function(){var n,r;r=t,my(n=e,!0)||oy(n,!0)||Yy(n,r,!0)||$b(n,!0)||mg(n)||gy(n,!0)||nw(n,!0)||Yb(n)||ew(n,!0)||sw(n,"ForwardDelete")}))}function fw(e){return void 0===e.touches||1!==e.touches.length?ce.none():ce.some(e.touches[0])}function dw(e){var t=Za(ce.none()),n=Za(!1),r=au((function(t){e.fire("longpress",De(De({},t),{type:"longpress"})),n.set(!0)}),400);e.on("touchstart",(function(e){fw(e).each((function(o){r.cancel(),o={x:o.clientX,y:o.clientY,target:e.target},r.throttle(e),n.set(!1),t.set(ce.some(o))}))}),!0),e.on("touchmove",(function(o){r.cancel(),fw(o).each((function(r){t.get().each((function(o){var i,a;i=r,a=o,o=Math.abs(i.clientX-a.x),a=Math.abs(i.clientY-a.y),(5<o||5<a)&&(t.set(ce.none()),n.set(!1),e.fire("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&t.get().filter((function(e){return e.target.isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():e.fire("tap",De(De({},o),{type:"tap"}))}))}),!0)}function mw(e,t){return e.hasOwnProperty(t.nodeName)}function gw(e){var t,n,r,o=e.dom,i=e.selection,a=(p=e.schema).getBlockElements(),u=i.getStart(),c=e.getBody(),s=Cc(e);if(u&&_n(u)&&s){var l=c.nodeName.toLowerCase();if(p.isValidChild(l,s.toLowerCase())&&(f=a,b=c,v=u,!D(sm(dn.fromDom(v),dn.fromDom(b)),(function(e){return mw(f,e.dom)})))){var f,d,m,g=i.getRng(),h=g.startContainer,p=g.startOffset,v=(l=g.endContainer,g.endOffset),b=Sd(e);for(u=c.firstChild;u;)d=a,Dn(m=u)||_n(m)&&!mw(d,m)&&!Xs(m)?function(e,t){if(Dn(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||mw(e,t.nextSibling)))return!0}return!1}(a,u)?(u=(n=u).nextSibling,o.remove(n)):(t||(t=o.create(s,Sc(e)),u.parentNode.insertBefore(t,u),r=!0),u=(n=u).nextSibling,t.appendChild(n)):(t=null,u=u.nextSibling);r&&b&&(g.setStart(h,p),g.setEnd(l,v),i.setRng(g),e.nodeChanged())}}}function hw(e,t){t.hasAttribute("data-mce-caret")&&(Nr(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))}function pw(e,t){var n=tr(dn.fromDom(e.getBody()),"*[data-mce-caret]").fold(c(null),(function(e){return e.dom}));if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void hw(e,n)):void(Ar(n)&&(hw(e,n),e.undoManager.add()))}var vw,bw=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error||r.log).apply(r,Ae([e],t))},yw=function(e,t){var n=e.editorManager.baseURL+"/skins/content",r="content"+e.editorManager.suffix+".css",o=!0===e.inline;return A(t,(function(t){return/^[a-z0-9\-]+$/i.test(t)&&!o?n+"/"+t+"/"+r:e.documentBaseURI.toAbsolute(t)}))},ww=0,xw=ln.each,Cw=Ga.DOM,Sw=[9,27,Mf.HOME,Mf.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Mf.DOWN,Mf.UP,Mf.LEFT,Mf.RIGHT].concat(un.browser.isFirefox()?[224]:[]),kw="data-mce-placeholder",Ow=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Tw=m(Rb,!0),_w=m(Rb,!1),Ew=Bn,Dw=Pn,Aw=se([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),zw=Dn,Rw=m(by,!0),Mw=m(by,!1),Nw=se([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Bw=function(e){return e.fold(s,s,s,s)},Pw=(Jt=(m(Ly,!1),m(Ly,!0),function(e,t,n){return!!Mc(t)&&Fy(e,t)}),m(Jt,!0)),Hw=m(Jt,!1),Lw=function(e){return M(A(e.selection.getSelectedBlocks(),dn.fromDom),(function(e){return!aw(e)&&!Ge(e).map(aw).getOr(!1)&&Zn(e,(function(e){return Bn(e.dom)||Pn(e.dom)})).exists((function(e){return Bn(e.dom)}))}))};function Iw(e,t){return e===os.Backwards?F(t):t}function Fw(e,t){return B(e,(function(e,n){return e.fold((function(){return ce.some(n)}),(function(r){return Ou(U(r.getClientRects()),U(n.getClientRects()),(function(e,o){return e=Math.abs(t-e.left),Math.abs(t-o.left)<=e?n:r})).or(e)}))}),ce.none())}function Vw(e,t){return U(t.getClientRects()).bind((function(t){return Fw(e,t.left)}))}function jw(e){function t(t){return A(t,(function(t){return(t=Tu(t)).node=e,t}))}if(_n(e))return t(e.getClientRects());if(Dn(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}}function Uw(e){return L(e,jw)}(Qt=vw=vw||{})[Qt.Br=0]="Br",Qt[Qt.Block=1]="Block",Qt[Qt.Wrap=2]="Wrap",Qt[Qt.Eol=3]="Eol";Gt=function(e,t,n,r){for(var o,i,a=Rs(n),u=r,c=[];u&&(i=a,s=u,o=t===os.Forwards?i.next(s):i.prev(s));){if(Mn(o.getNode(!1)))return t===os.Forwards?{positions:Iw(t,c).concat([o]),breakType:vw.Br,breakAt:ce.some(o)}:{positions:Iw(t,c),breakType:vw.Br,breakAt:ce.some(o)};if(o.isVisible()){if(e(u,o)){var s=(i=u,Mn((s=o).getNode(t===os.Forwards))?vw.Br:!1===Kc(i,s)?vw.Block:vw.Wrap);return{positions:Iw(t,c),breakType:s,breakAt:ce.some(o)}}c.push(o),u=o}else u=o}return{positions:Iw(t,c),breakType:vw.Eol,breakAt:ce.none()}},le=function(e,t,n,r){return t(n,r).breakAt.map((function(r){var o=t(n,r).positions;return e===os.Backwards?o.concat(r):[r].concat(o)})).getOr([])};var Ww,qw=m(Gt,ic.isAbove,-1),$w=m(Gt,ic.isBelow,1),Gw=m(le,-1,qw),Xw=m(le,1,$w);function Kw(e,t,n,r){function o(e){return ae(e.getClientRects())}t=Rs(t);var i,a,u,c,s=[],l=0,f=1===e?(i=t.next,a=Au,u=Du,ic.after(r)):(i=t.prev,a=Du,u=Au,ic.before(r)),d=o(f);do{if(f.isVisible()&&!u(c=o(f),d)){if(0<s.length&&a(c,ae(s))&&l++,(c=Tu(c)).position=f,c.line=l,n(c))return s;s.push(c)}}while(f=i(f));return s}function Yw(e){return function(t){return t.line>e}}function Jw(e){return function(t){return t.line===e}}function Qw(e,t){return Math.abs(e.left-t)}function Zw(e,t){return Math.abs(e.right-t)}function ex(e,t){return e>=t.left&&e<=t.right}function tx(e,t){return e>=t.top&&e<=t.bottom}function nx(e,t){return oe(e,(function(e,n){var r=Math.min(Qw(e,t),Zw(e,t)),o=Math.min(Qw(n,t),Zw(n,t));return ex(t,n)||!ex(t,e)&&(o===r&&RC(n.node)||o<r)?n:e}))}function rx(e,t,n,r,o){var i=MC(r,e,Pr,t,!o);do{if(!i||n(i))return}while(i=MC(i,e,Pr,t))}function ox(e,t,n){function r(e,n){return n=M(Uw([n]),(function(n){return!e(n,t)})),o=o.concat(n),0===n.length}void 0===n&&(n=!0);var o=[];return o.push(t),rx(Ww.Up,e,m(r,Du),t.node,n),rx(Ww.Down,e,m(r,Au),t.node,n),o}function ix(e,t,n){var r=Uw(M(Se(e.getElementsByTagName("*")),qc));r=M(r,m(tx,n));return(n=nx(r,t))&&(r=!yt(n.node)&&!Hn(n.node),(n=nx(ox(e,n,r),t))&&qc(n.node))?(t=t,{node:(n=n).node,before:Qw(n,t)<Zw(n,t)}):null}function ax(e,t){e.selection.setRng(t),td(e,e.selection.getRng())}function ux(e,t,n){return ce.some(ey(e,t,n))}function cx(e,t,n,r,o,i){var a=t===os.Forwards,u=Rs(e.getBody());u=m(ns,a?u.next:u.prev),o=a?r:o;if(!n.collapsed){var c=Ru(n);if(i(c))return Jb(t,e,c,t===os.Backwards,!1)}return i=es(t,e.getBody(),n),o(i)?Qb(e,i.getNode(!a)):(c=Rb(a,u(i)),i=_r(n.startContainer),c?o(c)?Jb(t,e,c.getNode(!a),a,!1):(u=u(c))&&o(u)&&rs(c,u)?Jb(t,e,u.getNode(!a),a,!1):i?ux(e,c.toRange(),!1):ce.none():i?ce.some(n):ce.none())}function sx(e,t,n,r,o,i){var a=es(t,e.getBody(),n),u=ae(a.getClientRects()),c=t===Ww.Down;if(!u)return ce.none();var s=(c?zC:AC)(e.getBody(),Yw(1),a),l=M(s,Jw(1)),f=u.left;if((s=nx(l,f))&&i(s.node))return u=Math.abs(f-s.left),i=Math.abs(f-s.right),Jb(t,e,s.node,u<i,!1);if(n=r(a)?a.getNode():o(a)?a.getNode(!0):Ru(n)){if(n=Kw(t,e.getBody(),Yw(1),n),f=nx(M(n,Jw(1)),f),f)return ux(e,f.position.toRange(),!1);if(f=ae(M(n,Jw(0))))return ux(e,f.position.toRange(),!1)}return 0===l.length?NC(e,c).filter(c?o:r).map((function(t){return ey(e,t.toRange(),!1)})):ce.none()}function lx(e,t,n){return NC(e,t).filter(n).exists((function(t){return e.selection.setRng(t.toRange()),!0}))}function fx(e,t,n){var r=Rs(e.getBody()),o=m(ns,1===t?r.next:r.prev);!n.collapsed||""===Cc(e)||(r=e.dom.getParent(n.startContainer,"PRE"))&&(o(ic.fromRangeStart(n))||(n=function(e){return e=e.dom.create(Cc(e)),(!un.ie||11<=un.ie)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(e),1===t?e.$(r).after(n):e.$(r).before(n),e.selection.select(n,!0),e.selection.collapse()))}function dx(e,t){var n=t?os.Forwards:os.Backwards,r=e.selection.getRng();return cx(e,n,r,ch,sh,BC).orThunk((function(){return fx(e,n,r),ce.none()}))}function mx(e,t){var n=t?1:-1,r=e.selection.getRng();return sx(e,n,r,(function(e){return ch(e)||ah(e)}),(function(e){return sh(e)||uh(e)}),BC).orThunk((function(){return fx(e,n,r),ce.none()}))}function gx(e,t){return dx(e,t).exists((function(t){return ax(e,t),!0}))}function hx(e,t){return mx(e,t).exists((function(t){return ax(e,t),!0}))}function px(e,t){return lx(e,t,t?sh:ch)}function vx(e){return E(["figcaption"],je(e))}function bx(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t}function yx(e,t,n){(n?xn:at)(e,t)}function wx(e,t,n,r){return""===t?(o=e,i=r,a=dn.fromTag("br"),yx(o,a,i),bx(a)):(a=e,e=r,r=t,t=n,n=dn.fromTag(r),r=dn.fromTag("br"),St(n,t),xn(n,r),yx(a,n,e),bx(r));var o,i,a}function xx(e,t,n){return t?(t=e.dom,$w(t,n).breakAt.isNone()):(e=e.dom,qw(e,n).breakAt.isNone())}function Cx(e,t){var n=dn.fromDom(e.getBody()),r=ic.fromRangeStart(e.selection.getRng()),o=Cc(e),i=Sc(e);return function(e,t){return t=m(Ie,t),Zn(dn.fromDom(e.container()),uo,t).filter(vx)}(r,n).exists((function(){if(xx(n,t,r)){var a=wx(n,o,i,t);return e.selection.setRng(a),!0}return!1}))}function Sx(e,t){return!!e.selection.isCollapsed()&&Cx(e,t)}function kx(e,t){return L(A(e,(function(e){return De({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:a},e)})),(function(e){return n=e,(r=t).keyCode===n.keyCode&&r.shiftKey===n.shiftKey&&r.altKey===n.altKey&&r.ctrlKey===n.ctrlKey&&r.metaKey===n.metaKey?[e]:[];var n,r}))}function Ox(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}}function Tx(e,t){return P(kx(e,t),(function(e){return e.action()}))}function _x(e,t){var n=t?os.Forwards:os.Backwards;t=e.selection.getRng();return cx(e,n,t,oh,ih,Hn).exists((function(t){return ax(e,t),!0}))}function Ex(e,t){var n=t?1:-1;t=e.selection.getRng();return sx(e,n,t,oh,ih,Hn).exists((function(t){return ax(e,t),!0}))}function Dx(e,t){return lx(e,t,t?ih:oh)}function Ax(e,t){return L(t,(function(t){var n,r=(n=Tu(t.getBoundingClientRect()),r=-1,{left:n.left-r,top:n.top-r,right:n.right+2*r,bottom:n.bottom+2*r,width:n.width+r,height:n.height+r});return[{x:r.left,y:e(r),cell:t},{x:r.right,y:e(r),cell:t}]}))}function zx(e,t){return U(t.getClientRects()).bind((function(t){return PC(e,t.left,t.top)})).bind((function(e){return Vw(of(n=e).map((function(e){return qw(n,e).positions.concat(e)})).getOr([]),t);var n}))}function Rx(e,t){return W(t.getClientRects()).bind((function(t){return HC(e,t.left,t.top)})).bind((function(e){return Vw(rf(n=e).map((function(e){return[e].concat($w(n,e).positions)})).getOr([]),t);var n}))}function Mx(e,t,n,r){var o,i,a,u=e.selection.getRng(),c=t?1:-1;return!(!Wc()||(o=t,i=n,a=ic.fromRangeStart(u),!Ls(!o,i).exists((function(e){return e.isEqual(a)}))))&&(Jb(c,e,n,!t,!1).each((function(t){ax(e,t)})),!0)}function Nx(e,t){return e=t.getNode(e),_n(e)&&"TABLE"===e.nodeName?ce.some(e):ce.none()}function Bx(e,t,n){var r=Nx(!!t,n),o=!1===t;r.fold((function(){return ax(e,n.toRange())}),(function(r){return Ls(o,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return ax(e,n.toRange())}),(function(o){var i,a,u,c,s;i=t,u=r,c=n,(s=Cc(a=e))?a.undoManager.transact((function(){var e=dn.fromTag(s);St(e,Sc(a)),xn(e,dn.fromTag("br")),(i?it:ot)(dn.fromDom(u),e);var t=a.dom.createRng();t.setStart(e.dom,0),t.setEnd(e.dom,0),ax(a,t)})):ax(a,c.toRange())}))}))}function Px(e,t,n,r){var o,i,a,u,c,s,l=e.selection.getRng(),f=ic.fromRangeStart(l);l=e.getBody();if(!t&&LC(r,f)){var d=(u=l,zx(c=n,s=f).orThunk((function(){return U(s.getClientRects()).bind((function(e){return Fw(Gw(u,ic.before(c)),e.left)}))})).getOr(ic.before(c)));return Bx(e,t,d),!0}return!(!t||!IC(r,f))&&(o=l,d=Rx(i=n,a=f).orThunk((function(){return U(a.getClientRects()).bind((function(e){return Fw(Xw(o,ic.after(i)),e.left)}))})).getOr(ic.after(i)),Bx(e,t,d),!0)}function Hx(e,t,n){return ce.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(r){return ce.from(e.dom.getParent(r,"table")).map((function(o){return n(e,t,o,r)}))})).getOr(!1)}function Lx(e,t){return Hx(e,t,Mx)}function Ix(e,t){return Hx(e,t,Px)}function Fx(e,t){e.on("keydown",(function(n){var r,o,i;!1===n.isDefaultPrevented()&&(r=e,o=t,i=n,n=an().os,Tx([{keyCode:Mf.RIGHT,action:Ox(gx,r,!0)},{keyCode:Mf.LEFT,action:Ox(gx,r,!1)},{keyCode:Mf.UP,action:Ox(hx,r,!1)},{keyCode:Mf.DOWN,action:Ox(hx,r,!0)},{keyCode:Mf.RIGHT,action:Ox(Lx,r,!0)},{keyCode:Mf.LEFT,action:Ox(Lx,r,!1)},{keyCode:Mf.UP,action:Ox(Ix,r,!1)},{keyCode:Mf.DOWN,action:Ox(Ix,r,!0)},{keyCode:Mf.RIGHT,action:Ox(_x,r,!0)},{keyCode:Mf.LEFT,action:Ox(_x,r,!1)},{keyCode:Mf.UP,action:Ox(Ex,r,!1)},{keyCode:Mf.DOWN,action:Ox(Ex,r,!0)},{keyCode:Mf.RIGHT,action:Ox(qy,r,o,!0)},{keyCode:Mf.LEFT,action:Ox(qy,r,o,!1)},{keyCode:Mf.RIGHT,ctrlKey:!n.isOSX(),altKey:n.isOSX(),action:Ox(Pw,r,o)},{keyCode:Mf.LEFT,ctrlKey:!n.isOSX(),altKey:n.isOSX(),action:Ox(Hw,r,o)},{keyCode:Mf.UP,action:Ox(Sx,r,!1)},{keyCode:Mf.DOWN,action:Ox(Sx,r,!0)}],i).each((function(e){i.preventDefault()})))}))}function Vx(e,t){e.on("keydown",(function(n){var r,o,i;!1===n.isDefaultPrevented()&&(r=e,o=t,i=n,Tx([{keyCode:Mf.BACKSPACE,action:Ox(cw,r,!1)},{keyCode:Mf.BACKSPACE,action:Ox(my,r,!1)},{keyCode:Mf.DELETE,action:Ox(my,r,!0)},{keyCode:Mf.BACKSPACE,action:Ox(oy,r,!1)},{keyCode:Mf.DELETE,action:Ox(oy,r,!0)},{keyCode:Mf.BACKSPACE,action:Ox(Yy,r,o,!1)},{keyCode:Mf.DELETE,action:Ox(Yy,r,o,!0)},{keyCode:Mf.BACKSPACE,action:Ox(mg,r,!1)},{keyCode:Mf.DELETE,action:Ox(mg,r,!0)},{keyCode:Mf.BACKSPACE,action:Ox(gy,r,!1)},{keyCode:Mf.DELETE,action:Ox(gy,r,!0)},{keyCode:Mf.BACKSPACE,action:Ox(nw,r,!1)},{keyCode:Mf.DELETE,action:Ox(nw,r,!0)},{keyCode:Mf.BACKSPACE,action:Ox(Yb,r,!1)},{keyCode:Mf.DELETE,action:Ox(Yb,r,!0)},{keyCode:Mf.BACKSPACE,action:Ox($b,r,!1)},{keyCode:Mf.DELETE,action:Ox($b,r,!0)},{keyCode:Mf.BACKSPACE,action:Ox(ew,r,!1)},{keyCode:Mf.DELETE,action:Ox(ew,r,!0)}],i).each((function(e){i.preventDefault()})))})),e.on("keyup",(function(t){var n;!1===t.isDefaultPrevented()&&(n=e,t=t,Tx([{keyCode:Mf.BACKSPACE,action:Ox(dy,n)},{keyCode:Mf.DELETE,action:Ox(dy,n)}],t))}))}function jx(e,t){var n,r,o=t,i=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(t){!/^(LI|DT|DD)$/.test(t.nodeName)||(r=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild))&&/^(UL|OL|DL)$/.test(r.nodeName)&&t.insertBefore(i.doc.createTextNode(""),t.firstChild);var u=i.createRng();if(t.normalize(),t.hasChildNodes()){for(var c=new Sr(t,t);n=c.current();){if(Dn(n)){u.setStart(n,0),u.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}o=n,n=c.next()}n||(u.setStart(o,0),u.setEnd(o,0))}else Mn(t)?t.nextSibling&&i.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),td(e,u)}}function Ux(e){return ce.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))}function Wx(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t}function qx(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)}function $x(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e}function Gx(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!_n(r);)r=r[n?"nextSibling":"previousSibling"];return r===t}function Xx(e,t,n,r,o){var i,a,u,c=e.dom,s=e.selection.getRng();n!==e.getBody()&&(i=(o=qx(u=n)&&qx(u.parentNode)?"LI":o)?t(o):c.create("BR"),Gx(n,r,!0)&&Gx(n,r,!1)?Wx(n,"LI")?(a=$x(n),c.insertAfter(i,a),(null===(t=(u=n).parentNode)||void 0===t?void 0:t.firstChild)===u?c.remove(a):c.remove(n)):c.replace(i,n):(Gx(n,r,!0)?Wx(n,"LI")?(c.insertAfter(i,$x(n)),i.appendChild(c.doc.createTextNode(" ")),i.appendChild(n)):n.parentNode.insertBefore(i,n):Gx(n,r,!1)?c.insertAfter(i,$x(n)):(n=$x(n),(a=s.cloneRange()).setStartAfter(r),a.setEndAfter(n),s=a.extractContents(),"LI"===o&&(a="LI",(o=s).firstChild&&o.firstChild.nodeName===a)?(i=s.firstChild,c.insertAfter(s,n)):(c.insertAfter(s,n),c.insertAfter(i,n))),c.remove(r)),jx(e,i))}function Kx(e){e.innerHTML='<br data-mce-bogus="1">'}function Yx(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t}function Jx(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)}function Qx(e,t,n){return!1===Dn(t)?n:e?1===n&&t.data.charAt(n-1)===po?0:n:n===t.data.length-1&&t.data.charAt(n)===po?t.data.length:n}function Zx(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}function eC(e,t){var n=Cc(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&function(e,t,n){var r=e.dom;ce.from(n.style).map(r.parseStyle).each((function(e){var n=At(dn.fromDom(t));e=De(De({},n),e);r.setStyles(t,e)}));var o=ce.from(n.class).map((function(e){return e.split(/\s+/)}));e=ce.from(t.className).map((function(e){return M(e.split(/\s+/),(function(e){return""!==e}))}));Ou(o,e,(function(e,n){n=M(n,(function(t){return!E(e,t)})),n=Ae(e,n),r.setAttrib(t,"class",n.join(" "))}));var i=["style","class"];n=Y(n,(function(e,t){return!E(i,t)}));r.setAttribs(t,n)}(e,t,Sc(e))}function tC(e,t){function n(t){var n,r=o,i=s.getTextInlineElements(),a=t||"TABLE"===p||"HR"===p?c.create(t||b):g.cloneNode(!1),u=a;if(!1===e.getParam("keep_styles",!0))c.setAttrib(a,"style",null),c.setAttrib(a,"class",null);else for(;i[r.nodeName]&&(Is(r)||Xs(r)||(n=r.cloneNode(!1),c.setAttrib(n,"id",""),a.hasChildNodes()?n.appendChild(a.firstChild):u=n,a.appendChild(n))),(r=r.parentNode)&&r!==y;);return eC(e,a),Kx(u),a}function r(){a=/^(H[1-6]|PRE|FIGURE)$/.test(p)&&"HGROUP"!==v?n(b):n(),e.getParam("end_container_on_empty_block",!1)&&Jx(c,h)&&c.isEmpty(g)?a=c.split(h,g):c.insertAfter(a,g),jx(e,a)}var o,i,a,u,c=e.dom,s=e.schema,l=s.getNonEmptyElements(),f=e.selection.getRng(),d=function(e){var t,n,r=Qx(e,o,i);if(Dn(o)&&(e?0<r:r<o.nodeValue.length))return!1;if(o.parentNode===g&&u&&!e)return!0;if(e&&_n(o)&&o===g.firstChild)return!0;if(Yx(o,"TABLE")||Yx(o,"HR"))return u&&!e||!u&&e;var a=new Sr(o,g);for(Dn(o)&&(e&&0===r?a.prev():e||r!==o.nodeValue.length||a.next());t=a.current();){if(_n(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),l[n]&&"br"!==n))return!1}else if(Dn(t)&&!Hr(t.nodeValue))return!1;e?a.prev():a.next()}return!0};Af(c,f).each((function(e){f.setStart(e.startContainer,e.startOffset),f.setEnd(e.endContainer,e.endOffset)})),o=f.startContainer,i=f.startOffset,b=Cc(e);var m=!(!t||!t.shiftKey);t=!(!t||!t.ctrlKey);_n(o)&&o.hasChildNodes()&&(u=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,i=u&&Dn(o)?o.nodeValue.length:0);var g,h,p,v,b,y=Zx(c,o);y&&((b&&!m||!b&&m)&&(o=function(e,t,n,r,o){var i,a,u,c,s,l=t||"P",f=e.dom,d=(t=Zx(f,r),f.getParent(r,f.isBlock));if(!d||!Jx(f,d)){if(s=((d=d||t)===e.getBody()||(s=d)&&/^(TD|TH|CAPTION)$/.test(s.nodeName)?d:d.parentNode).nodeName.toLowerCase(),!d.hasChildNodes())return i=f.create(l),eC(e,i),d.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==d;)u=u.parentNode;for(;u&&!f.isBlock(u);)u=(a=u).previousSibling;if(a&&e.schema.isValidChild(s,l.toLowerCase())){for(i=f.create(l),eC(e,i),a.parentNode.insertBefore(i,a),u=a;u&&!f.isBlock(u);)c=u.nextSibling,i.appendChild(u),u=c;n.setStart(r,o),n.setEnd(r,o)}}return r}(e,b,f,o,i)),h=(g=c.getParent(o,c.isBlock))?c.getParent(g.parentNode,c.isBlock):null,p=g?g.nodeName.toUpperCase():"","LI"!==(v=h?h.nodeName.toUpperCase():"")||t||(h=(g=h).parentNode,p=v),/^(LI|DT|DD)$/.test(p)&&c.isEmpty(g)?Xx(e,n,h,g,b):b&&g===e.getBody()||(b=b||"P",_r(g)?(a=Nr(g),c.isEmpty(g)&&Kx(g),eC(e,a),jx(e,a)):d()?r():d(!0)?(a=g.parentNode.insertBefore(n(),g),jx(e,Yx(g,"HR")?a:g)):((d=(t=f).cloneRange()).setStart(t.startContainer,Qx(!0,t.startContainer,t.startOffset)),d.setEnd(t.endContainer,Qx(!1,t.endContainer,t.endOffset)),(d=d.cloneRange()).setEndAfter(g),d=d.extractContents(),z(ju(dn.fromDom(d),gn),(function(e){e=e.dom,e.nodeValue=bo(e.nodeValue)})),function(e){for(;Dn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(d),a=d.firstChild,c.insertAfter(d,g),function(e,t,n){var r,o,i,a=n,u=[];if(a){for(;a=a.firstChild;){if(e.isBlock(a))return;_n(a)&&!t[a.nodeName.toLowerCase()]&&u.push(a)}for(r=u.length;r--;)!(a=u[r]).hasChildNodes()||a.firstChild===a.lastChild&&""===a.firstChild.nodeValue?e.remove(a):(o=e,(i=a)&&"A"===i.nodeName&&o.isEmpty(i)&&e.remove(a))}}(c,l,a),function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")}(c,g),c.isEmpty(g)&&Kx(g),a.normalize(),c.isEmpty(a)?(c.remove(a),r()):(eC(e,a),jx(e,a))),c.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a})))}function nC(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),td(e,r)}function rC(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();Af(i,a).each((function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}));var u=a.startOffset,c=a.startContainer;1===c.nodeType&&c.hasChildNodes()&&(l=u>c.childNodes.length-1,c=c.childNodes[Math.min(u,c.childNodes.length-1)]||c,u=l&&3===c.nodeType?c.nodeValue.length:0);var s=i.getParent(c,i.isBlock),l=(o=s?i.getParent(s.parentNode,i.isBlock):null)?o.nodeName.toUpperCase():"";t=!(!t||!t.ctrlKey);"LI"!==l||t||(s=o),c&&3===c.nodeType&&u>=c.nodeValue.length&&!function(e,t,n){for(var r,o=new Sr(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||0<r.length)return!0}(e.schema,c,s)&&(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0),n=i.create("br"),uc(i,a,n),nC(e,n,r),e.undoManager.add()}function oC(e,t){var n=dn.fromTag("br");ot(dn.fromDom(t),n),e.undoManager.add()}function iC(e,t){FC(e.getBody(),t)||it(dn.fromDom(t),dn.fromTag("br"));var n=dn.fromTag("br");it(dn.fromDom(t),n),nC(e,n.dom,!1),e.undoManager.add()}function aC(e){return e&&"A"===e.nodeName&&"href"in e}function uC(e){return e.fold(b,aC,aC,b)}function cC(e,t){t.fold(a,m(oC,e),m(iC,e),a)}function sC(e,t){var n,r,o=(r=m(Db,n=e),o=ic.fromRangeStart(n.selection.getRng()),zy(r,n.getBody(),o).filter(uC));o.isSome()?o.each(m(cC,e)):rC(e,t)}function lC(e,t){return Ux(e).filter((function(e){return 0<t.length&&He(dn.fromDom(e),t)})).isSome()}function fC(e,t){return lC(e,e.getParam("no_newline_selector",""))}function dC(e){return function(t,n){return""===Cc(t)===e}}function mC(e){return function(t,n){return Ux(t).filter((function(e){return lo(dn.fromDom(e))})).isSome()===e}}function gC(e,t){return function(n,r){return Ux(n).fold(c(""),(function(e){return e.nodeName.toUpperCase()}))===e.toUpperCase()===t}}function hC(e){return gC("pre",e)}function pC(e){return function(t,n){return t.getParam("br_in_pre",!0)===e}}function vC(e,t){return lC(e,e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))}function bC(e,t){return t}function yC(e){var t=Cc(e),n=function(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")}function wC(e,t){return function(n,r){return B(e,(function(e,t){return e&&t(n,r)}),!0)?ce.some(t):ce.none()}}function xC(e,t){return Cy([wC([fC],VC.none()),wC([gC("summary",!0)],VC.br()),wC([hC(!0),pC(!1),bC],VC.br()),wC([hC(!0),pC(!1)],VC.block()),wC([hC(!0),pC(!0),bC],VC.block()),wC([hC(!0),pC(!0)],VC.br()),wC([mC(!0),bC],VC.br()),wC([mC(!0)],VC.block()),wC([dC(!0),bC,yC],VC.block()),wC([dC(!0)],VC.br()),wC([vC],VC.br()),wC([dC(!1),bC],VC.br()),wC([yC],VC.block())],[e,!(!t||!t.shiftKey)]).getOr(VC.none())}function CC(e,t){xC(e,t).fold((function(){sC(e,t)}),(function(){tC(e,t)}),a)}function SC(e){e.on("keydown",(function(t){var n,r;t.keyCode===Mf.ENTER&&(n=e,(r=t).isDefaultPrevented()||(r.preventDefault(),(t=n.undoManager).typing&&(t.typing=!1,t.add()),n.undoManager.transact((function(){!1===n.selection.isCollapsed()&&n.execCommand("Delete"),CC(n,r)}))))}))}function kC(e){e.on("keydown",(function(t){var n,r;!1===t.isDefaultPrevented()&&(n=e,r=t,Tx([{keyCode:Mf.END,action:Ox(px,n,!0)},{keyCode:Mf.HOME,action:Ox(px,n,!1)},{keyCode:Mf.END,action:Ox(Dx,n,!0)},{keyCode:Mf.HOME,action:Ox(Dx,n,!1)}],r).each((function(e){r.preventDefault()})))}))}function OC(e){var t,n;t=e,n=iu((function(){t.composing||Am(t)}),0),jC.isIE()&&(t.on("keypress",(function(e){n.throttle()})),t.on("remove",(function(e){n.cancel()}))),e.on("input",(function(t){!1===t.isComposing&&Am(e)}))}function TC(e,t){return function(n){return r=e,(!xm(n=n)&&(Cm(r,n)||ym(r,n)||wm(r,n))?UC:WC)(t);var r}}function _C(e){var t,n,r=ic.fromRangeStart(e.selection.getRng()),o=dn.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=m(Db,e),a=ic.fromRangeStart(e.selection.getRng());return zy(i,e.getBody(),a).bind((n=o,function(e){return e.fold((function(e){return nf(n.dom,ic.before(e))}),(function(e){return rf(e)}),(function(e){return of(e)}),(function(e){return tf(n.dom,ic.after(e))}))})).bind(TC(o,r)).exists((t=e,function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}))}return!1}function EC(e){e.on("keydown",(function(t){var n;!1===t.isDefaultPrevented()&&(n=t,Tx([{keyCode:Mf.SPACEBAR,action:Ox(_C,e)}],n).each((function(e){n.preventDefault()})))}))}function DC(e){var t=$y(e);return e.on("keyup compositionstart",m(pw,e)),Fx(e,t),Vx(e,t),SC(e),EC(e),OC(e),kC(e),t}(w=Ww=Ww||{})[w.Up=-1]="Up",w[w.Down=1]="Down";Jt=function(e,t,n,r,o,i){function a(r){var i,a,l=Uw([r]);for(-1===e&&(l=l.reverse()),i=0;i<l.length;i++)if(a=l[i],!n(a,s)){if(0<c.length&&t(a,ae(c))&&u++,a.line=u,o(a))return!0;c.push(a)}}var u=0,c=[],s=ae(i.getClientRects());return s?(i=i.getNode(),a(i),function(e,t,n,r){for(;r=Gc(r,e,Pr,t);)if(n(r))return}(e,r,a,i),c):c};var AC=m(Jt,Ww.Up,Du,Au),zC=m(Jt,Ww.Down,Au,Du),RC=Pn,MC=Gc,NC=function(e,t){var n=e.selection.getRng();e=e.getBody();if(t){var r=ic.fromRangeEnd(n),o=$w(e,r);return W(o.positions)}return r=ic.fromRangeStart(n),o=qw(e,r),U(o.positions)},BC=Pn,PC=(Qt=function(e,t,n,r,o){var i,a;n=gu(dn.fromDom(n),"td,th,caption").map((function(e){return e.dom})),n=M(Ax(e,n),(function(e){return t(e,o)}));return i=r,a=o,B(n,(function(e,t){return e.fold((function(){return ce.some(t)}),(function(e){var n=Math.sqrt(Math.abs(e.x-i)+Math.abs(e.y-a)),r=Math.sqrt(Math.abs(t.x-i)+Math.abs(t.y-a));return ce.some(r<n?t:e)}))}),ce.none()).map((function(e){return e.cell}))},m(Qt,(function(e){return e.bottom}),(function(e,t){return e.y<t}))),HC=m(Qt,(function(e){return e.top}),(function(e,t){return e.y>t})),LC=(Gt=function(e,t,n){var r,o,i,a=e(t,n);return(i=a).breakType===vw.Wrap&&0===i.positions.length||!Mn(n.getNode())&&(n=a).breakType===vw.Br&&1===n.positions.length?(r=e,o=t,!a.breakAt.exists((function(e){return r(o,e).breakAt.isSome()}))):a.breakAt.isNone()},m(Gt,qw)),IC=m(Gt,$w),FC=function(e,t){return n=ic.after(t),!!Mn(n.getNode())||tf(e,ic.after(t)).map((function(e){return Mn(e.getNode())})).getOr(!1);var n},VC=se([{br:[]},{block:[]},{none:[]}]),jC=an().browser,UC=(le=function(e,t){var n=t.container(),r=t.offset();return Dn(n)?(n.insertData(r,e),ce.some(ic(n,r+e.length))):ts(t).map((function(n){var r=dn.fromText(e);return(t.isAtEnd()?it:ot)(n,r),ic(r.dom,e.length)}))},m(le,"")),WC=m(le," "),qC=($C.prototype.nodeChanged=function(e){var t,n,r=this.editor.selection;this.editor.initialized&&r&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(n=this.editor.getBody(),(r=r.getStart(!0)||n).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,n)||(r=n),t=[],this.editor.dom.getParent(r,(function(e){return e===n||void t.push(e)})),(e=e||{}).element=r,e.parents=t,this.editor.fire("NodeChange",e))},$C.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;0<=t&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},$C);function $C(e){var t;this.lastPath=[],this.editor=e;var n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(n){var r=e.selection.getRng();r={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&kf(r,t)||e.fire("SelectionChange"),t=r})),e.on("contextmenu",(function(){e.fire("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);!t||!un.range&&e.selection.isCollapsed()||zl(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(function(t){!t.isDefaultPrevented()&&zl(e)&&("IMG"===e.selection.getNode().nodeName?xr.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}function GC(e){var t;(t=e).on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})),(e=e).parser.addNodeFilter("details",(function(e){z(e,(function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(function(e){z(e,(function(e){var t=e.attr("data-mce-open");e.attr("open",de(t)?t:null),e.attr("data-mce-open",null)}))}))}function XC(e){return _n(e)&&co(dn.fromDom(e))}function KC(e){e.on("click",(function(t){var n,r,o,i;3<=t.detail&&(o=(n=e).selection.getRng(),i=ic.fromRangeStart(o),t=ic.fromRangeEnd(o),ic.isElementPosition(i)&&(r=i.container(),XC(r)&&rf(r).each((function(e){return o.setStart(e.container(),e.offset())}))),ic.isElementPosition(t)&&(r=i.container(),XC(r)&&of(r).each((function(e){return o.setEnd(e.container(),e.offset())}))),n.selection.setRng(hg(o)))}))}function YC(e){var t=e.getBoundingClientRect(),n=(e=(n=e.ownerDocument).documentElement,n.defaultView);return{top:t.top+n.pageYOffset-e.clientTop,left:t.left+n.pageXOffset-e.clientLeft}}function JC(e,t){return n=(o=e).inline?YC(o.getBody()):{left:0,top:0},o=(r=e).getBody(),o=r.inline?{left:o.scrollLeft,top:o.scrollTop}:{left:0,top:0},{pageX:(t=function(e,t){if(t.target.ownerDocument===e.getDoc())return{left:t.pageX,top:t.pageY};var n,r,o=YC(e.getContentAreaContainer()),i=(r=(n=e).getBody(),i=n.getDoc().documentElement,e={left:r.scrollLeft,top:r.scrollTop},i={left:r.scrollLeft||i.scrollLeft,top:r.scrollTop||i.scrollTop},n.inline?e:i);return{left:t.pageX-o.left+i.left,top:t.pageY-o.top+i.top}}(e,t)).left-n.left+o.left,pageY:t.top-n.top+o.top};var n,r,o}function QC(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ZC(e,t){return function(n){var r,o,i,a;0===n.button&&(r=P(t.dom.getParents(n.target),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}(PS,HS)).getOr(null),i=t.getBody(),PS(a=r)&&a!==i&&(o=t.dom.getPos(r),a=t.getBody(),i=t.getDoc().documentElement,e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?a.scrollWidth:i.offsetWidth)-2,maxY:(t.inline?a.scrollHeight:i.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:function(e,t,n,r){var o=e.dom;e=t.cloneNode(!0);return o.setStyles(e,{width:n,height:r}),o.setAttrib(e,"data-mce-selected",null),t=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}),o.setStyles(t,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(e,{margin:0,boxSizing:"border-box"}),t.appendChild(e),t}(t,r,r.offsetWidth,r.offsetHeight)})))}}function eS(e,t){var n=xr.throttle((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return t.on("remove",n.stop),function(r){return e.on((function(e){var o,i,a,u,c,s,l=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&10<l){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}e.dragging&&(c=e,i={pageX:(s=JC(t,r)).pageX-c.relX,pageY:s.pageY+5},a=e.ghost,u=t.getBody(),a.parentNode!==u&&u.appendChild(a),o=e.ghost,l=i,c=e.width,s=e.height,u=e.maxX,a=e.maxY,e=i=0,o.style.left=l.pageX+"px",o.style.top=l.pageY+"px",l.pageX+c>u&&(i=l.pageX+c-u),l.pageY+s>a&&(e=l.pageY+s-a),o.style.width=c-i+"px",o.style.height=s-e+"px",n(r.clientX,r.clientY))}))}}function tS(e,t){return function(n){e.on((function(e){var r,o,i,a;e.dragging&&(i=function(e){return e=e.getSel().getRangeAt(0).startContainer,3===e.nodeType?e.parentNode:e}((o=t).selection),a=e.element,i===a||o.dom.isChildOf(i,a)||PS(i)||(r=function(e){return e=e.cloneNode(!0),e.removeAttribute("data-mce-selected"),e}(e.element),t.fire("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||t.undoManager.transact((function(){QC(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))))})),LS(e)}}function nS(e){var t,n,r,o=(t=Za(ce.none()),{clear:function(){return t.set(ce.none())},set:function(e){return t.set(ce.some(e))},isSet:function(){return t.get().isSome()},on:function(e){return t.get().each(e)}}),i=Ga.DOM,a=document,u=ZC(o,e),c=eS(o,e),s=tS(o,e),l=(n=o,function(){n.on((function(e){e.dragging&&r.fire("dragend")})),LS(n)});(r=e).on("mousedown",u),e.on("mousemove",c),e.on("mouseup",s),i.bind(a,"mousemove",c),i.bind(a,"mouseup",l),e.on("remove",(function(){i.unbind(a,"mousemove",c),i.unbind(a,"mouseup",l)}))}function rS(e){function t(t){var n;t.isDefaultPrevented()||(n=t.dataTransfer)&&(E(n.types,"Files")||0<n.files.length)&&(t.preventDefault(),"drop"===t.type&&ab(e,"Dropped file type is not supported"))}function n(n){pd(e,n.target)&&t(n)}function r(){var r=Ga.DOM,o=e.dom,i=document,a=e.inline?e.getBody():e.getDoc(),u=["drop","dragover"];z(u,(function(e){r.bind(i,e,n),o.bind(a,e,t)})),e.on("remove",(function(){z(u,(function(e){r.unbind(i,e,n),o.unbind(a,e,t)}))}))}e.on("init",(function(){xr.setEditorTimeout(e,r,0)}))}function oS(e){var t;nS(e),(t=e).on("drop",(function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;!PS(n)&&"false"!==t.dom.getContentEditableParent(n)||e.preventDefault()})),e.getParam("block_unsupported_drop",!0,"boolean")&&rS(e)}function iS(e,t){return bf(e.getBody(),t)}function aS(e){function t(e){return e!==f&&(FS(e)||Hn(e))&&s.isChildOf(e,f)}function n(e){e&&c.setRng(e)}function r(t,n,r,o){return void 0===o&&(o=!0),e.fire("ShowCaret",{target:n,direction:t,before:r}).isDefaultPrevented()?null:(o&&c.scrollIntoView(n,-1===t),d.show(r,n))}function o(){function o(e){var t=Rs(e);return!!e.firstChild&&(e=ic.before(e.firstChild),(e=t.next(e))&&!(ch(e=e)||sh(e)||oh(e)||ih(e)))}function i(t,n){var r=s.getParent(t,l);n=s.getParent(n,l);return!(!r||t===n||!s.isChildOf(r,n)||!1!==FS(iS(e,r)))||r&&(n=n,!(s.getParent(r,l)===s.getParent(n,l)))&&o(r)}var a,g,x;e.on("mouseup",(function(t){var r=h();r.collapsed&&Rv(e,t.clientX,t.clientY)&&Zb(e,r,!1).each(n)})),e.on("click",(function(t){var n=iS(e,t.target);n&&(FS(n)&&(t.preventDefault(),e.focus()),IS(n)&&s.isChildOf(n,c.getNode())&&y())})),e.on("blur NewBlock",y),e.on("ResizeWindow FullscreenStateChanged",d.reposition),e.on("tap",(function(n){var r=n.target,o=iS(e,r);FS(o)?(n.preventDefault(),Qb(e,o).each(b)):t(r)&&Qb(e,r).each(b)}),!0),e.on("mousedown",(function(o){var a,u=o.target;u!==f&&"HTML"!==u.nodeName&&!s.isChildOf(u,f)||!1===Rv(e,o.clientX,o.clientY)||((a=iS(e,u))?FS(a)?(o.preventDefault(),Qb(e,a).each(b)):(y(),IS(a)&&o.shiftKey||yf(o.clientX,o.clientY,c.getRng())||(w(),c.placeCaretAt(o.clientX,o.clientY))):t(u)?Qb(e,u).each(b):!1===qc(u)&&(y(),w(),(a=ix(f,o.clientX,o.clientY))&&(i(u,a.node)||(o.preventDefault(),a=r(1,a.node,a.before,!1),e.getBody().focus(),n(a)))))})),e.on("keypress",(function(e){Mf.modifierPressed(e)||FS(c.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(function(e){var t=e.range;u&&(u.parentNode?((t=t.cloneRange()).selectNode(u),e.range=t):u=null)})),e.on("SetSelectionRange",(function(e){e.range=v(e.range);var t=b(e.range,e.forward);t&&(e.range=t)})),e.on("AfterSetSelectionRange",(function(e){var t=e.range;e=t.startContainer.parentNode;p(t)||"mcepastebin"===e.id||w(),s.hasClass(e,"mce-offscreen-selection")||y()})),e.on("copy",(function(e){var t,n=e.clipboardData;e.isDefaultPrevented()||!e.clipboardData||un.ie||(t=(t=s.get(m))&&t.getElementsByTagName("*")[0])&&(e.preventDefault(),n.clearData(),n.setData("text/html",t.outerHTML),n.setData("text/plain",t.outerText||t.innerText))})),oS(e),g=iu((function(){var e;a.removed||!a.getBody().contains(document.activeElement)||(e=a.selection.getRng()).collapsed&&(e=ey(a,e,!1),a.selection.setRng(e))}),0),(a=e).on("focus",(function(){g.throttle()})),a.on("blur",(function(){g.cancel()})),(x=e).on("init",(function(){x.on("focusin",(function(e){var t=e.target;Hn(t)&&(e=bf(x.getBody(),t),t=Pn(e)?e:t,x.selection.getNode()!==t&&Qb(x,t).each((function(e){return x.selection.setRng(e)})))}))}))}function i(e){return Dr(e)||xo(e)||Co(e)}function a(t){var n=t.cloneNode(!0),r=e.fire("ObjectSelected",{target:t,targetClone:n});if(r.isDefaultPrevented())return null;n=function(t,n,r){var o=e.$,i=tr(dn.fromDom(e.getBody()),"#"+m).fold((function(){return o([])}),(function(e){return o([e.dom])}));0===i.length&&(i=o('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",m)).appendTo(e.getBody());var a=s.createRng();return n===r&&un.ie?(i.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(n),a.setStartAfter(i[0].firstChild.firstChild),a.setEndAfter(n)):(i.empty().append("").append(n).append(""),a.setStart(i[0].firstChild,1),a.setEnd(i[0].lastChild,0)),i.css({top:s.getPos(t,e.getBody()).y}),i[0].focus(),i=c.getSel(),i.removeAllRanges(),i.addRange(a),a}(t,r.targetClone,n);var o=dn.fromDom(t);return z(gu(dn.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){Ie(o,e)||Tt(e,g)})),s.getAttrib(t,g)||t.setAttribute(g,"1"),u=t,w(),n}var u,c=e.selection,s=e.dom,l=s.isBlock,f=e.getBody(),d=Uc(e,f,l,(function(){return Sd(e)})),m="sel-"+s.uniqueId(),g="data-mce-selected",h=c.getRng,p=function(e){return i(e.startContainer)||i(e.endContainer)},v=function(t){var n=e.schema.getShortEndedElements(),r=s.createRng(),o=t.startContainer,i=t.startOffset,a=t.endContainer;t=t.endOffset;return _e(n,o.nodeName.toLowerCase())?0===i?r.setStartBefore(o):r.setStartAfter(o):r.setStart(o,i),_e(n,a.nodeName.toLowerCase())?0===t?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,t),r},b=function(e,n){if(!e)return null;if(e.collapsed){if(!p(e)){var o=n?1:-1,i=es(o,f,e),u=i.getNode(!n);if(qc(u))return r(o,u,!!n&&!i.isAtEnd(),!1);if(u=i.getNode(n),qc(u))return r(o,u,!n&&!i.isAtEnd(),!1)}return null}return u=e.startContainer,n=e.startOffset,i=e.endOffset,3===u.nodeType&&0===n&&FS(u.parentNode)&&(u=u.parentNode,n=s.nodeIndex(u),u=u.parentNode),1!==u.nodeType?null:i===n+1&&u===e.endContainer&&(n=u.childNodes[n],t(n))?a(n):null},y=function(){u&&u.removeAttribute(g),tr(dn.fromDom(e.getBody()),"#"+m).each(Cn),u=null},w=function(){d.hide()};return un.ceFalse&&o(),{showCaret:r,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Nr(e),n(h()),c.scrollIntoView(e))},hideFakeCaret:w,destroy:function(){d.destroy(),u=null}}}function uS(e){function t(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(t){}}function n(e){return e.isDefaultPrevented()}function r(){e.shortcuts.add("meta+a",null,"SelectAll")}function o(){function t(){var t=g.getAttribs(h.getStart().cloneNode(!1));return function(){var n=h.getStart();n!==e.getBody()&&(g.setAttrib(n,"style",null),f(t,(function(e){n.setAttributeNode(e.cloneNode(!0))})))}}function r(){return!h.isCollapsed()&&g.getParent(h.getStart(),g.isBlock)!==g.getParent(h.getEnd(),g.isBlock)}e.on("keypress",(function(o){var i;if(!n(o)&&(8===o.keyCode||46===o.keyCode)&&r())return i=t(),e.getDoc().execCommand("delete",!1,null),i(),o.preventDefault(),!1})),g.bind(e.getDoc(),"cut",(function(o){var i;!n(o)&&r()&&(i=t(),xr.setEditorTimeout(e,(function(){i()})))}))}function i(){e.on("keydown",(function(e){if(!n(e)&&e.keyCode===d&&h.isCollapsed()&&0===h.getRng().startOffset){var t=h.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))}function u(){e.getParam("readonly")||e.on("BeforeExecCommand mousedown",(function(){t("StyleWithCSS",!1),t("enableInlineTableEditing",!1),Ac(e)||t("enableObjectResizing",!1)}))}function c(){e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||f(g.select("a"),(function(e){var t=e.parentNode,n=g.getRoot();if(t.lastChild===e){for(;t&&!g.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}g.add(t,"br",{"data-mce-bogus":1})}}))}))}function s(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){"HTML"===t.target.nodeName&&(11<un.ie?e.getBody().focus():(t=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(t),e.selection.normalize(),e.nodeChanged()))})))}function l(){e.on("dragstart",(function(t){var n;(n=t).dataTransfer&&(e.selection.isCollapsed()&&"IMG"===n.target.tagName&&h.select(n.target),0<(t=e.selection.getContent()).length&&(t=w+escape(e.id)+","+escape(t),n.dataTransfer.setData(x,t)))})),e.on("drop",(function(t){var r,o;n(t)||(r=(r=t).dataTransfer&&(o=r.dataTransfer.getData(x))&&0<=o.indexOf(w)?(o=o.substr(w.length).split(","),{id:unescape(o[0]),html:unescape(o[1])}):null)&&r.id!==e.id&&(t.preventDefault(),t=Sf(t.x,t.y,e.getDoc()),h.setRng(t),t=r.html,r=!0,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:r}):e.execCommand("mceInsertContent",!1,t))}))}var f=ln.each,d=Mf.BACKSPACE,m=Mf.DELETE,g=e.dom,h=e.selection,p=e.parser,v=un.gecko,b=un.ie,y=un.webkit,w="data:text/mce-internal,",x=b?"Text":"URL";b=a;function C(e){var t=g.create("body");e=e.cloneContents();return t.appendChild(e),h.serializer.serialize(t,{format:"html"})}return e.on("keydown",(function(t){if(!n(t)&&t.keyCode===Mf.BACKSPACE){var r,o=(r=h.getRng()).startContainer,i=(t=r.startOffset,g.getRoot()),a=o;if(r.collapsed&&0===t){for(;a&&a.parentNode&&a.parentNode.firstChild===a&&a.parentNode!==i;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(e.formatter.toggle("blockquote",null,a),(r=g.createRng()).setStart(o,0),r.setEnd(o,0),h.setRng(r))}}})),e.on("keydown",(function(t){var r,o,i=t.keyCode;n(t)||i!==m&&i!==d||(o=e.selection.isCollapsed(),r=e.getBody(),o&&!g.isEmpty(r)||!o&&(i=e.selection.getRng(),o=C(i),(i=g.createRng()).selectNode(e.getBody()),o!==C(i))||(t.preventDefault(),e.setContent(""),r.firstChild&&g.isBlock(r.firstChild)?e.selection.setCursorLocation(r.firstChild,0):e.selection.setCursorLocation(r,0),e.nodeChanged()))})),un.windowsPhone||e.on("keyup focusin mouseup",(function(e){Mf.modifierPressed(e)||h.normalize()}),!0),y&&(e.inline||g.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;t.target===e.getDoc().documentElement&&(n=h.getRng(),e.getBody().focus(),"mousedown"===t.type?Dr(n.startContainer)||h.placeCaretAt(t.clientX,t.clientY):h.setRng(n))})),e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==g.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&g.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),h.select(n))})),Cc(e)&&e.on("init",(function(){t("DefaultParagraphSeparator",Cc(e))})),e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))})),i(),p.addNodeFilter("br",(function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),un.iOS?(e.inline||e.on("keydown",(function(){document.activeElement===document.body&&e.getWin().focus()})),s(),e.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):r()),11<=un.ie&&(s(),i()),un.ie&&(r(),t("AutoUrlDetect",!1),l()),v&&(e.on("keydown",(function(t){if(!n(t)&&t.keyCode===d&&e.getBody().getElementsByTagName("hr").length&&h.isCollapsed()&&0===h.getRng().startOffset){var r=h.getNode(),o=r.previousSibling;if("HR"===r.nodeName)return g.remove(r),void t.preventDefault();o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(g.remove(o),t.preventDefault())}})),Range.prototype.getClientRects||e.on("mousedown",(function(t){var r;n(t)||"HTML"!==t.target.nodeName||((r=e.getBody()).blur(),xr.setEditorTimeout(e,(function(){r.focus()})))})),o(),u(),c(),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),un.mac&&e.on("keydown",(function(t){!Mf.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})),i()),{refreshContentEditable:b,isHidden:function(){if(!v||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}}function cS(e){return Y(e,(function(e){return!1===ve(e)}))}function sS(e){var t=e.settings,n=e.editorUpload.blobCache;return cS({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:(e=e).inline?e.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})}function lS(e){var t=e.dom.getRoot();e.inline||zl(e)&&e.selection.getStart(!0)!==t||rf(t).each((function(t){var n,r=t.getNode(),o=yt(r)?rf(r).getOr(t):t;un.browser.isIE()?(n=e,r=o.toRange(),t=dn.fromDom(n.getBody()),t=(cd(n)?ce.from(r):ce.none()).map(sd).filter(ud(t)),n.bookmark=t.isSome()?t:n.bookmark):e.selection.setRng(o.toRange())}))}function fS(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("Init"),e.focus(!0),lS(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&xr.setEditorTimeout(t,(function(){var e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus);e.destroyed||e.focus()}),100)}function dS(e){return(e.inline?e.ui:e.dom).styleSheetLoader}function mS(e,t){function n(){c.unloadAll(t),e.inline||e.ui.styleSheetLoader.unloadAll(s)}function r(){e.removed?n():(e.on("remove",n),fS(e))}var o,i,a,u,c=dS(e),s=Dc(e);sr.all((o=e,i=t,a=s,u=[new sr((function(e,t){return dS(o).loadAll(i,e,t)}))],o.inline?u:u.concat([new sr((function(e,t){return o.ui.styleSheetLoader.loadAll(a,e,t)}))]))).then(r).catch(r)}function gS(e,t){var n,r,o=e.settings,i=e.getDoc(),a=e.getBody();o.browser_spellcheck||o.gecko_spellcheck||(i.body.spellcheck=!1,VS.setAttrib(a,"spellcheck","false")),e.quirks=uS(e),e.fire("PostRender"),void 0!==(i=e.getParam("directionality",ru.isRtl()?"rtl":void 0))&&(a.dir=i),o.protect&&e.on("BeforeSetContent",(function(e){ln.each(o.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),!1===t&&e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type})),0<e.contentStyles.length&&(n="",ln.each(e.contentStyles,(function(e){n+=e+"\r\n"})),e.dom.addStyle(n)),mS(e,e.contentCSS),o.content_style&&(a=e,i=o.content_style,t=dn.fromDom(a.getBody()),t=nt(yn(t)),r=dn.fromTag("style"),Ct(r,"type","text/css"),xn(r,dn.fromText(i)),xn(t,r),a.on("remove",(function(){Cn(r)})))}function hS(e,t){var n,r=e.settings,o=e.getElement(),i=e.getDoc();r.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(i.open(),i.write(e.iframeHTML),i.close()),e.inline&&(VS.addClass(o,"mce-content-body"),e.contentDocument=i=document,e.contentWindow=window,e.bodyElement=o,e.contentAreaContainer=o),(o=e.getBody()).disabled=!0,e.readonly=!!r.readonly,e.readonly||(e.inline&&"static"===VS.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable=e.getParam("content_editable_state",!0)),o.disabled=!1,e.editorUpload=bb(e),e.schema=Jr(r),e.dom=Ga(i,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:e.getParam("content_css_cors",!1,"boolean"),referrerPolicy:Tc(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=((r=fv(sS(n=e),n.schema)).addAttributeFilter("src,href,style,tabindex",(function(e,t){for(var r,o,i=e.length,a=n.dom,u="data-mce-"+t;i--;)(o=(r=e[i]).attr(t))&&!r.attr(u)&&0!==o.indexOf("data:")&&0!==o.indexOf("blob:")&&("style"===t?((o=a.serializeStyle(a.parseStyle(o),r.name)).length||(o=null),r.attr(u,o),r.attr(t,o)):"tabindex"===t?(r.attr(u,o),r.attr(t,null)):r.attr(u,n.convertURL(o,t,r.name)))})),r.addNodeFilter("script",(function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),n.settings.preserve_cdata&&r.addNodeFilter("#cdata",(function(e){for(var t=e.length;t--;){var r=e[t];r.type=8,r.name="#comment",r.value="[CDATA["+n.dom.encode(r.value)+"]]"}})),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var t=e.length,r=n.schema.getNonEmptyElements();t--;){var o=e[t];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new $d("br",1)).shortEnded=!0)}})),r),e.serializer=pv((r=e.settings,De(De({},sS(e)),cS({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope,element_format:r.element_format,entities:r.entities,entity_encoding:r.entity_encoding,indent:r.indent,indent_after:r.indent_after,indent_before:r.indent_before,block_elements:r.block_elements,boolean_attributes:r.boolean_attributes,custom_elements:r.custom_elements,extended_valid_elements:r.extended_valid_elements,invalid_elements:r.invalid_elements,invalid_styles:r.invalid_styles,move_caret_before_on_enter_elements:r.move_caret_before_on_enter_elements,non_empty_elements:r.non_empty_elements,schema:r.schema,self_closing_elements:r.self_closing_elements,short_ended_elements:r.short_ended_elements,special:r.special,text_block_elements:r.text_block_elements,text_inline_elements:r.text_inline_elements,valid_children:r.valid_children,valid_classes:r.valid_classes,valid_elements:r.valid_elements,valid_styles:r.valid_styles,verify_html:r.verify_html,whitespace_elements:r.whitespace_elements}))),e),e.selection=Qp(e.dom,e.getWin(),e.serializer,e),e.annotator=Il(e),e.formatter=Sb(e),e.undoManager=Ob(e),e._nodeChangeDispatcher=new qC(e),e._selectionOverrides=aS(e),dw(e),GC(e),Ep(e)||KC(e),r=Ep(r=e)?Za(null):DC(r),lw(e,r),Cc(r=e)&&r.on("NodeChange",m(gw,r)),Eb(e),e.fire("PreInit"),Dp(e).fold((function(){gS(e,!1)}),(function(t){e.setProgressState(!0),t.then((function(t){e.setProgressState(!1),gS(e,t)}),(function(t){e.notificationManager.open({type:"error",text:String(t)}),gS(e,!0)}))}))}function pS(e){var t=e.getParam("doctype","<!DOCTYPE html>")+"<html><head>";e.getParam("document_base_url","")!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=wc(e,"body_id","tinymce"),r=wc(e,"body_class","");return xc(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+xc(e)+'" />'),t+'</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>'}function vS(e,t){var n,r,o,i=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),a=(n=e.id,r=i,t.height,o=e.getParam("iframe_attrs",{}),i=dn.fromTag("iframe"),St(i,o),St(i,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),fu(i,"tox-edit-area__iframe"),i.dom);return a.onload=function(){a.onload=null,e.fire("load")},i=function(e,t){if(document.domain!==window.location.hostname&&un.browser.isIE()){var n=mb("mce");return e[n]=function(){hS(e)},n='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()",jS.setAttrib(t,"src",n),!0}return!1}(e,a),e.contentAreaContainer=t.iframeContainer,e.iframeElement=a,e.iframeHTML=pS(e),jS.add(t.iframeContainer,a),i}function bS(e){return e.replace(/^\-/,"")}function yS(e){return{editorContainer:e,iframeContainer:e,api:{}}}function wS(e){var t=e.getElement();return e.inline?yS(null):(e=t,t=US.create("div"),US.insertAfter(t,e),yS(t))}function xS(e){var t,n,r=e.getElement();return e.orgDisplay=r.style.display,de(Rc(e))?e.theme.renderUI():be(Rc(e))?(n=(t=e).getElement(),(r=Rc(t)(t,n)).editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||t.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||t.id+"_iframecontainer"),r.height=r.iframeHeight||n.offsetHeight,r):wS(e)}function CS(e){var t,n,r,o,i;e.fire("ScriptsLoaded"),t=e,r=ln.trim(Oc(t)),n=t.ui.registry.getAll().icons,r=De(De({},Jv.get("default").icons),Jv.get(r).icons),q(r,(function(e,r){_e(n,r)||t.ui.registry.addIcon(r,e)})),s=Rc(l=e),de(s)?(l.settings.theme=bS(s),r=rb.get(s),l.theme=new r(l,rb.urls[s]),l.theme.init&&l.theme.init(l,rb.urls[s]||l.documentBaseUrl.replace(/\/$/,""),l.$)):l.theme={},o=e,i=[],ln.each(Nc(o).split(/[ ,]/),(function(e){WS(o,i,bS(e))}));var u,c,s=xS(e);u=e,c=ce.from(s.api).getOr({}),l={show:ce.from(c.show).getOr(a),hide:ce.from(c.hide).getOr(a),disable:ce.from(c.disable).getOr(a),isDisabled:ce.from(c.isDisabled).getOr(b),enable:function(){u.mode.isReadOnly()||ce.from(c.enable).map(v)}},u.ui=De(De({},u.ui),l);var l={editorContainer:s.editorContainer,iframeContainer:s.iframeContainer};return e.editorContainer=l.editorContainer||null,fb(e),e.inline?hS(e):(l=vS(s=e,e=l),e.editorContainer&&(jS.get(e.editorContainer).style.display=s.orgDisplay,s.hidden=jS.isHidden(e.editorContainer)),s.getElement().style.display="none",jS.setAttrib(s.id,"aria-hidden","true"),void(l||hS(s)))}function SS(e){return"-"===e.charAt(0)}function kS(e,t){var n,r=_c(t),o=t.getParam("language_url","","string");!1===ru.hasCode(r)&&"en"!==r&&(n=""!==o?o:t.editorManager.baseURL+"/langs/"+r+".js",e.add(n,a,void 0,(function(){ub(t,"LanguageLoadError",cb("language",n,r))})))}function OS(e,t,n){return ce.from(t).filter((function(e){return 0<e.length&&!Jv.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:ce.some(t)}}))}function TS(e,t,n){var r=OS(t,"default",n);n=ce.from(t.getParam("icons_url","","string")).filter((function(e){return 0<e.length})).map((function(e){return{url:e,name:ce.none()}})).orThunk((function(){return OS(t,Oc(t),"")}));z(function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}([r,n]),(function(n){e.add(n.url,a,void 0,(function(){var e,r,o;e=t,r=n.url,o=n.name.getOrUndefined(),ub(e,"IconsLoadError",cb("icons",r,o))}))}))}function _S(e,t){var n,r,o,i,u,c,s=Ja.ScriptLoader;n=s,o=t,i=function(){var n,r;kS(s,e),TS(s,e,t),n=e,r=t,ln.each(n.getParam("external_plugins"),(function(e,t){nb.load(t,e,a,void 0,(function(){sb(n,e,t)})),n.settings.plugins+=" "+t})),ln.each(Nc(n).split(/[ ,]/),(function(e){var t,o;(e=ln.trim(e))&&!nb.urls[e]&&(SS(e)?(e=e.substr(1,e.length),t=nb.dependencies(e),ln.each(t,(function(e){var t=nb.createUrl({prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"},e);nb.load(t.resource,t,a,void 0,(function(){sb(n,t.prefix+t.resource+t.suffix,t.resource)}))}))):(o={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"},nb.load(e,o,a,void 0,(function(){sb(n,o.prefix+o.resource+o.suffix,e)}))))})),s.loadQueue((function(){e.removed||CS(e)}),e,(function(){e.removed||CS(e)}))},c=Rc(r=e),de(c)?(SS(c)||rb.urls.hasOwnProperty(c)||((u=r.getParam("theme_url"))?rb.load(c,r.documentBaseURI.toAbsolute(u)):rb.load(c,"themes/"+c+"/theme"+o+".js")),n.loadQueue((function(){rb.waitFor(c,i)}))):i()}function ES(e){var t=e.id;ru.setCode(_c(e));var n,r,o,i,a=function(){qS.unbind(window,"ready",a),e.render()};oi.Event.domLoaded?e.getElement()&&un.contentEditable&&(n=dn.fromDom(e.getElement()),r=B(n.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{}),e.on("remove",(function(){R(n.dom.attributes,(function(e){return Tt(n,e.name),0})),St(n,r)})),e.ui.styleSheetLoader=(o=e,Cr.forElement(n,{contentCssCors:o.getParam("content_css_cors"),referrerPolicy:Tc(o)})),e.getParam("inline")?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden"),(i=e.getElement().form||qS.getParent(t,"form"))&&(e.formElement=i,e.getParam("hidden_input")&&!En(e.getElement())&&(qS.insertAfter(qS.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},qS.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.resetContent()})),!e.getParam("submit_patch")||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=ob(e),e.notificationManager=Nv(e),"xml"===e.getParam("encoding")&&e.on("GetContent",(function(e){e.save&&(e.content=qS.encode(e.content))})),e.getParam("add_form_submit_trigger")&&e.on("submit",(function(){e.initialized&&e.save()})),e.getParam("add_unload_trigger")&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),_S(e,e.suffix)):qS.bind(window,"ready",a)}function DS(e,t){return t=t,zp(e).editor.addVisual(t)}function AS(e,t,n){return zg(dn.fromDom(n),(function(t){return Dt(n=t,e).orThunk((function(){return"font"===je(n)?Q($S,e).bind((function(e){return Ot(n,e)})):ce.none()}));var n}),(function(e){return Ie(dn.fromDom(t),e)}))}function zS(e){return rf(e.getBody()).map((function(e){return e=e.container(),Dn(e)?e.parentNode:e}))}function RS(e,t){return n=e,ce.from(n.selection.getRng()).bind((function(e){var t=n.getBody();return e.startContainer===t&&0===e.startOffset?ce.none():ce.from(n.selection.getStart(!0))})).orThunk(m(zS,e)).map(dn.fromDom).filter(mn).map(t);var n}function MS(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(1<=n&&n<=7){var r=ln.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"));e=ln.explode(e.getParam("font_size_classes",""));return e?e[n-1]||t:r[n-1]||t}return t}return t}function NS(e,t){t=MS(e,t),e.formatter.toggle("fontname",{value:function(e){return e=e.split(/\s*,\s*/),A(e,(function(e){return-1===e.indexOf(" ")||$t(e,'"')||$t(e,"'")?e:"'"+e+"'"})).join(",")}(t)}),e.nodeChanged()}function BS(e,t){var n;t=(n="string"!=typeof(t=t)?(n=ln.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:n}):{content:t,details:{}}).content,n=n.details,Ap(e).editor.insertContent(t,n)}var PS=Pn,HS=Bn,LS=function(e){e.on((function(e){QC(e.ghost)})),e.clear()},IS=Bn,FS=Pn,VS=Ga.DOM,jS=Ga.DOM,US=Ga.DOM,WS=function(e,t,n){var r=nb.get(n),o=nb.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=ln.trim(n),r&&-1===ln.inArray(t,n)&&(ln.each(nb.dependencies(n),(function(n){WS(e,t,n)})),!e.plugins[n]))try{var i=new r(e,o,e.$);(e.plugins[n]=i).init&&(i.init(e,o),t.push(n))}catch(r){!function(e,t,n){t=ru.translate(["Failed to initialize plugin: {0}",t]),wf(e,"PluginLoadError",{message:t}),bw(t,n),ab(e,t)}(e,n,r)}},qS=Ga.DOM,$S={"font-size":"size","font-family":"face"},GS=(w=function(e){return function(t,n){return ce.from(n).map(dn.fromDom).filter(mn).bind((function(n){return AS(e,t,n.dom).or((n=n.dom,ce.from(Ga.DOM.getStyle(n,e,!0))))})).getOr("")}},w("font-size")),XS=u((function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),w("font-family")),KS=ln.each,YS=ln.map,JS=ln.inArray,QS=(ZS.prototype.execCommand=function(e,t,n,r){var o,i=!1,a=this;if(!a.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?(o=a.editor,md(o).each((function(e){return o.selection.setRng(e)}))):a.editor.focus(),(r=a.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n})).isDefaultPrevented())return!1;var u=e.toLowerCase();if(r=a.commands.exec[u])return r(u,t,n),a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(KS(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!(i=!0)})),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{i=a.editor.getDoc().execCommand(e,t,n)}catch(r){}return!!i&&(a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},ZS.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},ZS.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},ZS.prototype.addCommands=function(e,t){void 0===t&&(t="exec");var n=this;KS(e,(function(e,r){KS(r.toLowerCase().split(","),(function(r){n.commands[t][r]=e}))}))},ZS.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},ZS.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},ZS.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},ZS.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},ZS.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},ZS.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},ZS.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},ZS.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},ZS.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},ZS.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},ZS.prototype.setupCommands=function(e){var t=this;function n(t){return function(){var n=e.selection;n=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks(),n=YS(n,(function(n){return!!e.formatter.matchNode(n,t)}));return-1!==JS(n,!0)}}this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":a,"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o=e.getDoc();try{t.execNativeCommand(n)}catch(n){r=!0}!(r="paste"===n&&!o.queryCommandEnabled(n)||r)&&o.queryCommandSupported(n)||(n=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),un.mac&&(n=n.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:n,type:"error"}))},unlink:function(){var t;e.selection.isCollapsed()?(t=e.dom.getParent(e.selection.getStart(),"a"))&&e.dom.remove(t,!0):e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),KS("left,center,right,justify".split(","),(function(t){r!==t&&e.formatter.remove("align"+t)})),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){t.execNativeCommand(n);var r=e.dom.getParent(e.selection.getNode(),"ol,ul");r&&(n=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(t.storeSelection(),e.dom.split(n,r),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){NS(e,r)},FontSize:function(t,n,r){var o;(o=e).formatter.toggle("fontsize",{value:MS(o,r)}),o.nodeChanged()},LineHeight:function(t,n,r){var o,i;i=r,(o=e).undoManager.transact((function(){o.formatter.toggle("lineheight",{value:String(i)}),o.nodeChanged()}))},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){o=o||e.selection.getNode(),o!==e.getBody()&&(t.storeSelection(),e.dom.remove(o,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1}),e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){BS(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(t,n,r){CC(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){uw(e,t)},mceRepaint:a,InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"==typeof r&&(r={href:r});var o=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t,n=e.dom.getParent(e.selection.getStart(),Bn);n&&((t=e.dom.createRng()).selectNodeContents(n),e.selection.setRng(t))},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return sC(e,r),!0}}),t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return iw(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",(function(){return RS(t=e,(function(e){return XS(t.getBody(),e.dom)})).getOr("");var t}),this),t.addQueryValueHandler("FontSize",(function(){return RS(t=e,(function(e){return GS(t.getBody(),e.dom)})).getOr("");var t}),this),t.addQueryValueHandler("LineHeight",(function(){return RS(t=e,(function(e){var n=dn.fromDom(t.getBody());return zg(e,(function(e){return Dt(e,"line-height")}),m(Ie,n)).getOrThunk((function(){var t=parseFloat(Et(e,"line-height")),n=parseFloat(Et(e,"font-size"));return String(t/n)}))})).getOr("");var t}),this)},ZS);function ZS(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}function ek(e,t,n){var r,o;mu(e,t)&&!1===n?(o=t,cu(r=e)?r.dom.classList.remove(o):lu(r,o),du(r)):n&&fu(e,t)}function tk(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}}function nk(e,t){e.dom.contentEditable=t?"true":"false"}function rk(e,t){var n=dn.fromDom(e.getBody());ek(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),ce.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")})),e.readonly=!0,nk(n,!1),z(gu(n,'*[contenteditable="true"]'),(function(e){Ct(e,uk,"true"),nk(e,!1)}))):(e.readonly=!1,nk(n,!0),z(gu(n,"*["+uk+'="true"]'),(function(e){Tt(e,uk),nk(e,!0)})),tk(e,"StyleWithCSS",!1),tk(e,"enableInlineTableEditing",!1),tk(e,"enableObjectResizing",!1),kd(e)&&e.focus(),e.selection.setRng(e.selection.getRng()),e.nodeChanged())}function ok(e){return e.readonly}function ik(e){e.parser.addAttributeFilter("contenteditable",(function(t){ok(e)&&z(t,(function(e){e.attr(uk,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(uk,(function(t){ok(e)&&z(t,(function(e){e.attr("contenteditable",e.attr(uk))}))})),e.serializer.addTempAttr(uk)}function ak(e,t){var n,r;"click"!==t.type||Mf.metaKeyPressed(t)||(n=dn.fromDom(t.target),r=e,nr(n,"a",(function(e){return Ie(e,dn.fromDom(r.getBody()))})).bind((function(e){return Ot(e,"href")})).each((function(n){var r,o;t.preventDefault(),/^#/.test(n)?(r=e.dom.select(n+',[name="'+($t(r=n,o="#")?(o=o.length,r.substring(o)):r)+'"]')).length&&e.selection.scrollIntoView(r[0],!0):window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})))}var uk="data-mce-contenteditable",ck=ln.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),sk=(lk.isNative=function(e){return!!ck[e.toLowerCase()]},lk.prototype.fire=function(e,t){var n=e.toLowerCase(),r=t||{};r.type=n,r.target||(r.target=this.scope),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=y},r.stopPropagation=function(){r.isPropagationStopped=y},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=y},r.isDefaultPrevented=b,r.isPropagationStopped=b,r.isImmediatePropagationStopped=b),this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(u.once&&this.off(n,u.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}return r},lk.prototype.on=function(e,t,n,r){if(t=!1===t?b:t){var o={func:t};r&&ln.extend(o,r);for(var i=e.toLowerCase().split(" "),a=i.length;a--;){var u=i[a],c=this.bindings[u];c||(c=this.bindings[u]=[],this.toggleEvent(u,!0)),n?c.unshift(o):c.push(o)}}return this},lk.prototype.off=function(e,t){var n=this;if(e)for(var r=e.toLowerCase().split(" "),o=r.length;o--;){var i=r[o],a=this.bindings[i];if(!i)return q(this.bindings,(function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]})),this;if(a){if(t)for(var u=a.length;u--;)a[u].func===t&&(a=a.slice(0,u).concat(a.slice(u+1)),this.bindings[i]=a);else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}else q(this.bindings,(function(e,t){n.toggleEvent(t,!1)})),this.bindings={};return this},lk.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},lk.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},lk);function lk(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||b}function fk(e){return e._eventDispatcher||(e._eventDispatcher=new sk({scope:e,toggleEvent:function(t,n){sk.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher}function dk(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:(t=zc(e))?(e.eventRoot||(e.eventRoot=yk.select(t)[0]),e.eventRoot):e.getBody()}function mk(e,t,n){var r;(r=e).hidden||ok(r)?ok(e)&&ak(e,n):e.fire(t,n)}function gk(e,t){var n,r;e.delegates||(e.delegates={}),e.delegates[t]||e.removed||(r=dk(e,t),zc(e)?(bk||(bk={},e.editorManager.on("removeEditor",(function(){e.editorManager.activeEditor||bk&&(q(bk,(function(t,n){e.dom.unbind(dk(e,n))})),bk=null)}))),bk[t]||(bk[t]=n=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();a!==r&&!yk.isChildOf(r,a)||mk(o[i],t,n)}},yk.bind(r,t,n))):(yk.bind(r,t,n=function(n){mk(e,t,n)}),e.delegates[t]=n))}function hk(e,t,n,r){var o=n[t.get()];n=n[r];try{n.activate()}catch(e){return}o.deactivate(),o.editorReadOnly!==n.editorReadOnly&&rk(e,n.editorReadOnly),t.set(r),e.fire("SwitchMode",{mode:r})}function pk(e){var t,n,r=Za("design"),o=Za({design:{activate:a,deactivate:a,editorReadOnly:!1},readonly:{activate:a,deactivate:a,editorReadOnly:!0}});return(t=e).serializer?ik(t):t.on("PreInit",(function(){ik(t)})),(n=e).on("ShowCaret",(function(e){ok(n)&&e.preventDefault()})),n.on("ObjectSelected",(function(e){ok(n)&&e.preventDefault()})),{isReadOnly:function(){return ok(e)},set:function(t){return function(e,t,n,r){if(r!==n.get()){if(!_e(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?hk(e,n,t,r):e.on("init",(function(){return hk(e,n,t,r)}))}}(e,o.get(),r,t)},get:function(){return r.get()},register:function(e,t){o.set(function(e,t,n){if(E(xk,t))throw new Error("Cannot override default mode "+t);return De(De({},e),((e={})[t]=De(De({},n),{deactivate:function(){try{n.deactivate()}catch(e){}}}),e))}(o.get(),e,t))}}}function vk(e){var t,n={};Ck(Sk(e.toLowerCase(),"+"),(function(e){e in Ok?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=kk[e]||e.toUpperCase().charCodeAt(0))}));var r=[n.keyCode];for(t in Ok)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,un.mac?n.ctrl=!0:n.shift=!0),n.meta&&(un.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n}Jt={fire:function(e,t,n){if(this.removed&&"remove"!==e&&"detach"!==e)return t;var r=fk(this).fire(e,t);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(e,r,!1),o=o.parent();return r},on:function(e,t,n){return fk(this).on(e,t,n)},off:function(e,t){return fk(this).off(e,t)},once:function(e,t){return fk(this).once(e,t)},hasEventListeners:function(e){return fk(this).has(e)}};var bk,yk=Ga.DOM,wk=De(De({},Jt),{bindPendingEventDelegates:function(){var e=this;ln.each(e._pendingNativeEvents,(function(t){gk(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?gk(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(dk(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(q(e.delegates,(function(t,n){e.dom.unbind(dk(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),xk=["design","readonly"],Ck=ln.each,Sk=ln.explode,kk={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Ok=ln.makeMap("alt,ctrl,shift,meta,access"),Tk=(_k.prototype.add=function(e,t,n,r){var o=this,i=o.normalizeCommandFunc(n);return Ck(Sk(ln.trim(e)),(function(e){e=o.createShortcut(e,t,i,r),o.shortcuts[e.id]=e})),!0},_k.prototype.remove=function(e){return e=this.createShortcut(e),!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},_k.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return"string"==typeof n?function(){t.editor.execCommand(n,!1,null)}:ln.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},_k.prototype.createShortcut=function(e,t,n,r){return e=ln.map(Sk(e,">"),vk),e[e.length-1]=ln.extend(e[e.length-1],{func:n,scope:r||this.editor}),ln.extend(e[0],{desc:this.editor.translate(t),subpatterns:e.slice(1)})},_k.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},_k.prototype.isFunctionKey=function(e){return"keydown"===e.type&&112<=e.keyCode&&e.keyCode<=123},_k.prototype.matchShortcut=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},_k.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},_k);function _k(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",(function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(Ck(t.shortcuts,(function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}function Ek(){function e(e,t){return function(n,r){return e[n.toLowerCase()]=De(De({},r),{type:t})}}var t={},n={},r={},o={},i={},a={},u={};return{addButton:e(t,"button"),addGroupToolbarButton:e(t,"grouptoolbarbutton"),addToggleButton:e(t,"togglebutton"),addMenuButton:e(t,"menubutton"),addSplitButton:e(t,"splitbutton"),addMenuItem:e(n,"menuitem"),addNestedMenuItem:e(n,"nestedmenuitem"),addToggleMenuItem:e(n,"togglemenuitem"),addAutocompleter:e(r,"autocompleter"),addContextMenu:e(i,"contextmenu"),addContextToolbar:e(a,"contexttoolbar"),addContextForm:e(a,"contextform"),addSidebar:e(u,"sidebar"),addIcon:function(e,t){return o[e.toLowerCase()]=t},getAll:function(){return{buttons:t,menuItems:n,icons:o,popups:r,contextMenus:i,contextToolbars:a,sidebars:u}}}}var Dk=ln.each,Ak=ln.trim,zk="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Rk={ftp:21,http:80,https:443,mailto:25},Mk=(Nk.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(",");e=/data:([^;]+)/.exec(n[0]);return{type:t=e?e[1]:t,data:n[1]}},Nk.getDocumentBaseUrl=function(e){return e=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},Nk.prototype.setPath=function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},Nk.prototype.toRelative=function(e){if("./"===e)return e;var t=new Nk(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();var n=this.getURI();e=t.getURI();return n===e||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===e||(n=this.toRelPath(this.path,t.path),t.query&&(n+="?"+t.query),t.anchor&&(n+="#"+t.anchor)),n},Nk.prototype.toAbsolute=function(e,t){return e=new Nk(e,{base_uri:this}),e.getURI(t&&this.isSameOrigin(e))},Nk.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=Rk[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},Nk.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),u=t.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i},Nk.prototype.toAbsPath=function(e,t){var n,r=0,o=[],i=/\/$/.test(t)?"/":"",a=(e=e.split("/"),t.split("/"));for(Dk(e,(function(e){e&&o.push(e)})),e=o,n=a.length-1,o=[];0<=n;n--)0!==a[n].length&&"."!==a[n]&&(".."!==a[n]?0<r?r--:o.push(a[n]):r++);return 0!==(e=(n=e.length-r)<=0?F(o).join("/"):e.slice(0,n).join("/")+"/"+F(o).join("/")).indexOf("/")&&(e="/"+e),i&&e.lastIndexOf("/")!==e.length-1&&(e+=i),e},Nk.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},Nk);function Nk(e,t){e=Ak(e),this.settings=t||{};var n,r,o,i=this.settings.base_uri,a=this;/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)?a.source=e:(n=0===e.indexOf("//"),0!==e.indexOf("/")||n||(e=(i&&i.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(r=this.settings.base_uri?this.settings.base_uri.path:new Nk(document.location.href).directory,e=this.settings.base_uri&&""==this.settings.base_uri.protocol?"//mce_host"+a.toAbsPath(r,e):(t=/([^#?]*)([#?]?.*)/.exec(e),(i&&i.protocol||"http")+"://mce_host"+a.toAbsPath(r,t[1])+t[2])),e=e.replace(/@@/g,"(mce_at)"),o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),Dk(zk,(function(e,t){t=(t=o[t])&&t.replace(/\(mce_at\)/g,"@@"),a[e]=t})),i&&(a.protocol||(a.protocol=i.protocol),a.userInfo||(a.userInfo=i.userInfo),a.port||"mce_host"!==a.host||(a.port=i.port),a.host&&"mce_host"!==a.host||(a.host=i.host),a.source=""),n&&(a.protocol=""))}var Bk=Ga.DOM,Pk=ln.extend,Hk=ln.each,Lk=ln.resolve,Ik=un.ie,Fk=(Vk.prototype.render=function(){ES(this)},Vk.prototype.focus=function(e){Od(this,e)},Vk.prototype.hasFocus=function(){return Sd(this)},Vk.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this.settings[e];if(o)return this.callbackLookup&&(r=this.callbackLookup[e])&&(o=r.func,r=r.scope),"string"==typeof o&&(r=(r=o.replace(/\.\w+$/,""))?Lk(r):0,o=Lk(o),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:o,scope:r}),o.apply(r||this,t)},Vk.prototype.translate=function(e){return ru.translate(e)},Vk.prototype.getParam=function(e,t,n){return zv(this,e,t,n)},Vk.prototype.hasPlugin=function(e,t){return!!E(Nc(this).split(/[ ,]/),e)&&(!t||void 0!==nb.get(e))},Vk.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},Vk.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},Vk.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},Vk.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},Vk.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},Vk.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},Vk.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},Vk.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},Vk.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},Vk.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(Bk.show(this.getContainer()),Bk.hide(this.id)),this.load(),this.fire("show"))},Vk.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(Ik&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(Bk.hide(e.getContainer()),Bk.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},Vk.prototype.isHidden=function(){return!!this.hidden},Vk.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},Vk.prototype.load=function(e){var t=this.getElement();if(this.removed)return"";if(t){(e=e||{}).load=!0;var n=En(t)?t.value:t.innerHTML;n=this.setContent(n,e);return e.element=t,e.no_events||this.fire("LoadContent",e),e.element=t=null,n}},Vk.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,En(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=Bk.getParent(r.id,"form"))&&Hk(n.elements,(function(e){if(e.name===r.id)return e.value=t,!1}))),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},Vk.prototype.setContent=function(e,t){return bv(this,e,t)},Vk.prototype.getContent=function(e){return vv(this,e)},Vk.prototype.insertContent=function(e,t){t&&(e=Pk({content:e},t)),this.execCommand("mceInsertContent",!1,e)},Vk.prototype.resetContent=function(e){void 0===e?bv(this,this.startContent,{format:"raw"}):bv(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},Vk.prototype.isDirty=function(){return!this.isNotDirty},Vk.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},Vk.prototype.getContainer=function(){return this.container||(this.container=Bk.get(this.editorContainer||this.id+"_parent")),this.container},Vk.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},Vk.prototype.getElement=function(){return this.targetElm||(this.targetElm=Bk.get(this.id)),this.targetElm},Vk.prototype.getWin=function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},Vk.prototype.getDoc=function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},Vk.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},Vk.prototype.convertURL=function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)},Vk.prototype.addVisual=function(e){DS(this,e)},Vk.prototype.remove=function(){wv(this)},Vk.prototype.destroy=function(e){xv(this,e)},Vk.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},Vk.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},Vk.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},Vk.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},Vk.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},Vk.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},Vk);function Vk(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,Pk(this,wk),this.settings=Dv(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Ja.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ga.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),ou.languageLoad=this.settings.language_load,ou.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new Mk(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new Tk(this),this.editorCommands=new QS(this),this.settings.cache_suffix&&(un.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(e=Ek()).addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll},styleSheetLoader:void 0,show:a,hide:a,enable:a,disable:a,isDisabled:b},e=pk(this),this.mode=e,this.setMode=e.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ja.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}function jk(e){var t=e.type;Xk(tO.get(),(function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}}))}function Uk(e){e!==Jk&&(e?ja(window).on("resize scroll",jk):ja(window).off("resize scroll",jk),Jk=e)}function Wk(e){var t=Zk;delete Qk[e.id];for(var n=0;n<Qk.length;n++)if(Qk[n]===e){Qk.splice(n,1);break}return Zk=M(Zk,(function(t){return e!==t})),tO.activeEditor===e&&(tO.activeEditor=0<Zk.length?Zk[0]:null),tO.focusedEditor===e&&(tO.focusedEditor=null),t.length!==Zk.length}var qk,$k=Ga.DOM,Gk=ln.explode,Xk=ln.each,Kk=ln.extend,Yk=0,Jk=!1,Qk=[],Zk=[],eO="CSS1Compat"!==document.compatMode,tO=De(De({},Jt),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ja,majorVersion:"5",minorVersion:"7.0",releaseDate:"2021-02-10",editors:Qk,i18n:ru,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t="",n=Mk.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var r=window.tinymce||window.tinyMCEPreInit;if(r)e=r.base||r.baseURL,t=r.suffix;else{for(var o,i=document.getElementsByTagName("script"),a=0;a<i.length;a++)if(""!==(o=i[a].src||"")){var u=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==u.indexOf(".min")&&(t=".min"),e=o.substring(0,o.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!==(o=document.currentScript.src).indexOf(".min")&&(t=".min"),e=o.substring(0,o.lastIndexOf("/")))}this.baseURL=new Mk(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new Mk(this.baseURL),this.suffix=t,(n=this).on("AddEditor",m(vd,n)),n.on("RemoveEditor",m(bd,n))},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t),t=e.suffix,e.suffix&&(this.suffix=t),e=(this.defaultSettings=e).plugin_base_urls,void 0!==e&&q(e,(function(e,t){ou.PluginManager.urls[t]=e}))},init:function(e){function t(e){var t=e.id;return t||(t=Q(e,"name").filter((function(e){return!$k.get(e)})).getOrThunk($k.uniqueId),e.setAttribute("id",t)),t}function n(e,t){return t.constructor===RegExp?t.test(e.className):$k.hasClass(e,t)}var r,o=this,i=ln.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=function(e){r=e},u=function(){function r(e,t,n){t=new Fk(e,t,o),l.push(t),t.on("init",(function(){++s===c.length&&a(l)})),t.targetElm=t.targetElm||n,t.render()}var c,s=0,l=[];$k.unbind(window,"ready",u),function(t){t=e[t],t&&t.apply(o,[])}("onpageload"),c=ja.unique(function(e){var t=[];if(un.browser.isIE()&&un.browser.version.major<11)return bw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(eO)return bw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return Xk(e.types,(function(e){t=t.concat($k.select(e.selector))})),t;if(e.selector)return $k.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var r=e.elements||"";0<r.length&&Xk(Gk(r),(function(e){var n=$k.get(e);n?t.push(n):Xk(document.forms,(function(n){Xk(n.elements,(function(n){n.name===e&&(e="mce_editor_"+Yk++,$k.setAttrib(n,"id",e),t.push(n))}))}))}));break;case"textareas":case"specific_textareas":Xk($k.select("textarea"),(function(r){e.editor_deselector&&n(r,e.editor_deselector)||e.editor_selector&&!n(r,e.editor_selector)||t.push(r)}))}return t}(e)),e.types?Xk(e.types,(function(n){ln.each(c,(function(o){return!$k.is(o,n.selector)||(r(t(o),Kk({},e,n),o),!1)}))})):(ln.each(c,(function(e){(e=o.get(e.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(Wk(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)})),0===(c=ln.grep(c,(function(e){return!o.get(e.id)}))).length?a([]):Xk(c,(function(n){var o;o=n,e.inline&&o.tagName.toLowerCase()in i?bw("Could not initialize inline editor on invalid inline target element",n):r(t(n),e,n)})))};return o.settings=e,$k.bind(window,"ready",u),new sr((function(e){r?e(r):a=function(t){e(t)}}))},get:function(e){return 0===arguments.length?Zk.slice(0):de(e)?P(Zk,(function(t){return t.id===e})).getOr(null):ye(e)&&Zk[e]||null},add:function(e){var t=this;return Qk[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(Qk[e.id]=e),Qk.push(e),Zk.push(e)),Uk(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),qk||(qk=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",qk))),e},createEditor:function(e,t){return this.add(new Fk(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!de(e))return n=e,he(r.get(n.id))?null:(Wk(n)&&r.fire("RemoveEditor",{editor:n}),0===Zk.length&&window.removeEventListener("beforeunload",qk),n.remove(),Uk(0<Zk.length),n);Xk($k.select(e),(function(e){(n=r.get(e.id))&&r.remove(n)}))}else for(t=Zk.length-1;0<=t;t--)r.remove(Zk[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new Fk(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand("mceAddEditor",!1,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){Xk(Zk,(function(e){e.save()}))},addI18n:function(e,t){ru.add(e,t)},translate:function(e){return ru.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Mk(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Mk(this.baseURL)}});function nO(e,t,n){var r=t.x,o=t.y,i=e.w,a=e.h;e=t.w,t=t.h;return"b"===(n=(n||"").split(""))[0]&&(o+=t),"r"===n[1]&&(r+=e),"c"===n[0]&&(o+=lO(t/2)),"c"===n[1]&&(r+=lO(e/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=lO(a/2)),"c"===n[4]&&(r-=lO(i/2)),fO(r,o,i,a)}function rO(e,t,n){function r(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];o||(o=!0,null!==i&&(clearTimeout(i),i=null),e.apply(null,t))}}void 0===n&&(n=1e3);var o=!1,i=null,a=(e=r(e),r(t));return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||null!==i||(i=setTimeout((function(){return a.apply(null,e)}),n))},resolve:e,reject:a}}tO.setup();var oO,iO,aO,uO,cO=Math.min,sO=Math.max,lO=Math.round,fO=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},dO=(Qt={inflate:function(e,t,n){return fO(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:nO,findBestRelativePosition:function(e,t,n,r){for(var o,i=0;i<r.length;i++)if((o=nO(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n=sO(e.x,t.x),r=sO(e.y,t.y),o=cO(e.x+e.w,t.x+t.w);t=cO(e.y+e.h,t.y+t.h);return o-n<0||t-r<0?null:fO(n,r,o-n,t-r)},clamp:function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h,u=t.x+t.w,c=t.y+t.h;e=sO(0,t.x-r),t=sO(0,t.y-o),u=sO(0,i-u),c=sO(0,a-c);return r+=e,o+=t,n&&(i+=e,a+=t,r-=u,o-=c),fO(r,o,(i-=u)-r,(a-=c)-o)},create:fO,fromClientRect:function(e){return fO(e.left,e.top,e.width,e.height)}},Gt=(oO={},iO={},{load:function(e,t){var n='Script at URL "'+t+'" failed to load',r='Script at URL "'+t+"\" did not call `tinymce.Resource.add('"+e+"', data)` within 1 second";if(void 0!==oO[e])return oO[e];var o=new sr((function(o,i){var a=rO(o,i);iO[e]=a.resolve,Ja.ScriptLoader.loadScript(t,(function(){return a.start(r)}),(function(){return a.reject(n)}))}));return oO[e]=o},add:function(e,t){void 0!==iO[e]&&(iO[e](t),delete iO[e]),oO[e]=sr.resolve(t)}}),ln.each),mO=ln.extend;se=function(){};se.extend=aO=function(e){function t(){var e,t,n;if(!uO&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)}function n(){return this}var r=this.prototype;uO=!0;var o=new this;return uO=!1,e.Mixins&&(dO(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),r.Mixins&&(e.Mixins=r.Mixins.concat(e.Mixins))),e.Methods&&dO(e.Methods.split(","),(function(t){e[t]=n})),e.Properties&&dO(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}})),e.Statics&&dO(e.Statics,(function(e,n){t[n]=e})),e.Defaults&&r.Defaults&&(e.Defaults=mO({},r.Defaults,e.Defaults)),q(e,(function(e,t){var n,i;"function"==typeof e&&r[t]?o[t]=(n=t,i=e,function(){var e=this._super;this._super=r[n];var t=i.apply(this,arguments);return this._super=e,t}):o[t]=e})),t.prototype=o,(t.constructor=t).extend=aO,t};var gO,hO,pO,vO=Math.min,bO=Math.max,yO=Math.round,wO={serialize:function(e){return e=JSON.stringify(e),de(e)?e.replace(/[\u0080-\uFFFF]/g,(function(e){return e=e.charCodeAt(0).toString(16),"\\u"+"0000".substring(e.length)+e})):e},parse:function(e){try{return JSON.parse(e)}catch(e){}}},xO=(le={callbacks:{},count:0,send:function(e){var t=this,n=Ga.DOM,r=(void 0!==e.count?e:t).count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},De(De({},Jt),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):xr.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",xO.fire("beforeInitialize",{settings:e}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&ln.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)})),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=xO.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();xr.setTimeout(r,10)}})),CO=ln.extend;SO.sendRPC=function(e){return(new SO).send(e)},SO.prototype.send=function(e){var t=e.error,n=e.success,r=CO(this.settings,e);r.success=function(e,o){(e=void 0===(e=wO.parse(e))?{error:"JSON Parse error."}:e).error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=wO.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",xO.send(r)},w=SO;function SO(e){this.settings=CO({},e),this.count=0}try{var kO,OO="__storage_test__";(kO=window.localStorage).setItem(OO,OO),kO.removeItem(OO)}catch(C){gO={},hO=[],pO={getItem:function(e){return e=gO[e],e||null},setItem:function(e,t){hO.push(e),gO[e]=String(t)},key:function(e){return hO[e]},removeItem:function(e){hO=hO.filter((function(t){return t===e})),delete gO[e]},clear:function(){hO=[],gO={}},length:0},Object.defineProperty(pO,"length",{get:function(){return hO.length},configurable:!1,enumerable:!1}),kO=pO}var TO;Gt={geom:{Rect:Qt},util:{Promise:sr,Delay:xr,Tools:ln,VK:Mf,URI:Mk,Class:se,EventDispatcher:sk,Observable:Jt,I18n:ru,XHR:xO,JSON:wO,JSONRequest:w,JSONP:le,LocalStorage:kO,Color:function(e){function t(e){var t;return"object"==typeof e?"r"in e?(r=e.r,o=e.g,i=e.b):"v"in e&&function(e,t,n){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=bO(0,vO(t,1)),n=bO(0,vO(n,1)),0!==t){e=e/60;var a=n*t,u=a*(1-Math.abs(e%2-1));t=n-a;switch(Math.floor(e)){case 0:r=a,o=u,i=0;break;case 1:r=u,o=a,i=0;break;case 2:r=0,o=a,i=u;break;case 3:r=0,o=u,i=a;break;case 4:r=u,o=0,i=a;break;case 5:r=a,o=0,i=u;break;default:r=o=i=0}r=yO(255*(r+t)),o=yO(255*(o+t)),i=yO(255*(i+t))}else r=o=i=yO(255*n)}(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(r=parseInt(t[1],10),o=parseInt(t[2],10),i=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(r=parseInt(t[1],16),o=parseInt(t[2],16),i=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(r=parseInt(t[1]+t[1],16),o=parseInt(t[2]+t[2],16),i=parseInt(t[3]+t[3],16)),r=r<0?0:255<r?255:r,o=o<0?0:255<o?255:o,i=i<0?0:255<i?255:i,n}var n={},r=0,o=0,i=0;return e&&t(e),n.toRgb=function(){return{r:r,g:o,b:i}},n.toHsv=function(){return e=r,t=o,n=i,u=0,c=vO(e/=255,vO(t/=255,n/=255)),s=bO(e,bO(t,n)),c===s?{h:0,s:0,v:100*(u=c)}:(a=(s-c)/s,{h:yO(60*((e===c?3:n===c?1:5)-(e===c?t-n:n===c?e-t:n-e)/((u=s)-c))),s:yO(100*a),v:yO(100*u)});var e,t,n,a,u,c,s},n.toHex=function(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+e(r)+e(o)+e(i)},n.parse=t,n},ImageUploader:function(e){var t=db(),n=vb(e,t);return{upload:function(t,r){return n.upload(t,(r=void 0===r||r)?pb(e):void 0)}}}},dom:{EventUtils:oi,Sizzle:ea,DomQuery:ja,TreeWalker:Sr,TextSeeker:ku,DOMUtils:Ga,ScriptLoader:Ja,RangeUtils:fe,Serializer:pv,StyleSheetLoader:yr,ControlSelection:xf,BookmarkManager:Fl,Selection:Qp,Event:oi.Event},html:{Styles:Zr,Entities:$o,Node:$d,Schema:Jr,SaxParser:Jd,DomParser:fv,Writer:nm,Serializer:rm},Env:un,AddOnManager:ou,Annotator:Il,Formatter:Sb,UndoManager:Ob,EditorCommands:QS,WindowManager:ob,NotificationManager:Nv,EditorObservable:wk,Shortcuts:Tk,Editor:Fk,FocusManager:jd,EditorManager:tO,DOM:Ga.DOM,ScriptLoader:Ja.ScriptLoader,PluginManager:nb,ThemeManager:rb,IconManager:Jv,Resource:Gt,trim:ln.trim,isArray:ln.isArray,is:ln.is,toArray:ln.toArray,makeMap:ln.makeMap,each:ln.each,map:ln.map,grep:ln.grep,inArray:ln.inArray,extend:ln.extend,create:ln.create,walk:ln.walk,createNS:ln.createNS,resolve:ln.resolve,explode:ln.explode,_addCacheSuffix:ln._addCacheSuffix,isOpera:un.opera,isWebKit:un.webkit,isIE:un.ie,isGecko:un.gecko,isMac:un.mac},Gt=ln.extend(tO,Gt);TO=Gt,window.tinymce=TO,window.tinyMCE=TO,function(t){try{e.exports=t}catch(t){}}(Gt)}()}).call(this,n("c8ba"))},e8b0:function(e,t){!function(){"use strict";function e(e){return e}function t(e){for(var t=q,n=W.length,r=0;r<n;++r){var o=W[r];if(o&&o.test(e)){t=r;break}}return t}function n(e){var n,r;return function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}(e,(n=t,r={},function(e){if(r[e])return r[e];var t=n(e);return r[e]=t}))}function r(e,t){var n=function(e,t){for(var n=t;n<e.length&&!$.test(e[n]);n++);return n}(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t}function o(e,t,n,o){for(var i,a,u=[],c=[],s=0;s<n.length;++s)c.push(e[s]),function(e,t){var n=e[t],r=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===A&&r===A)return!1;var o=e[t+2];return(n!==A||r!==R&&r!==z&&r!==j||o!==A)&&(t=e[t-1],(n!==R&&n!==z&&r!==j||r!==A||t!==A)&&(n!==N&&n!==A||r!==N&&r!==A)&&(n!==M&&n!==z||r!==N||t!==N)&&(n!==N||r!==M&&r!==z||o!==N)&&n!==L&&n!==I&&t!==L&&t!==I&&r!==L&&r!==I&&(n!==B||r!==P)&&(n===H||n===B||n===P||r===H||r===B||r===P||(n!==F||r!==F)&&(r!==V||n!==A&&n!==N&&n!==F&&n!==V)&&(n!==V||r!==A&&r!==N&&r!==F)&&n!==j))}(n,s)&&(i=t[s],!o.includeWhitespace&&$.test(i)||!o.includePunctuation&&G.test(i)||(a=s-c.length+1,"http"!==(a=a=t.slice(a,i=s+1).join(""))&&"https"!==a||(a=r(t,s),i=e.slice(i,a),Array.prototype.push.apply(c,i),s=a),u.push(c)),c=[]);return u}function i(e,t){for(var n,r=t.getBlockElements(),o=t.getShortEndedElements(),i=[],a="",u=new K(e,e);e=u.next();)3===e.nodeType?a+=e.data.replace(/\uFEFF/g,""):(r[(n=e).nodeName]||o[n.nodeName])&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i}function a(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}function u(t,n){return n=i(t,n).join("\n"),X(n.split(""),e).length}function c(e,t){return t=i(e,t).join(""),a(t)}function s(e,t){return t=i(e,t).join("").replace(/\s/g,""),a(t)}function l(e,t){return function(){return t(e.getBody(),e.schema)}}function f(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}}function d(e){return l(e,u)}function m(e,t){t=t,e.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})}function g(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})}var h,p=tinymce.util.Tools.resolve("tinymce.PluginManager"),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b="[-'\\.]",y="[:]",w="[+*/,;;]",x="[0-9---------------------------------]",C="\\r",S="\\n",k="[\v\f\u2028\u2029]",O="[------------------------------------------------------------------------------------------------------]",T="[----\ufeff-]",_="[-------]",E="[=_--<>]",D="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]",A=0,z=1,R=2,M=3,N=4,B=5,P=6,H=7,L=8,I=9,F=10,V=11,j=12,U=13,W=(E=[new RegExp("[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),new RegExp(b),new RegExp(y),new RegExp(w),new RegExp(x),new RegExp(C),new RegExp(S),new RegExp(k),new RegExp(O),new RegExp(T),new RegExp(_),new RegExp(E),new RegExp("@")],D=new RegExp("^"+D+"$"),E),q=U,$=/^\s+$/,G=D,X=function(e,t,r){r=v(v({},{includeWhitespace:!1,includePunctuation:!1}),r);for(var i=[],a=[],u=0;u<e.length;u++){var c=t(e[u]);"\ufeff"!==c&&(i.push(e[u]),a.push(c))}var s=n(a);return o(i,a,s,r)},K=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Y=tinymce.util.Tools.resolve("tinymce.util.Delay");void 0===h&&(h=300),p.add("wordcount",(function(e){var t,n,r,o,i,a={body:{getWordCount:d(e),getCharacterCount:l(e,c),getCharacterCountWithoutSpaces:l(e,s)},selection:{getWordCount:f(e,u),getCharacterCount:f(e,c),getCharacterCountWithoutSpaces:f(e,s)},getCount:d(e)};return n=a,(t=e).ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return g(t,n)}}),t.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return g(t,n)}}),r=e,o=a,e=h,i=Y.debounce((function(){return m(r,o)}),e),r.on("init",(function(){m(r,o),Y.setEditorTimeout(r,(function(){r.on("SetContent BeforeAddUndo Undo Redo keyup",i)}),0)})),a}))}()},f4bc:function(e,t,n){"use strict";n("4e44")},fc39:function(e,t){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})}}]);