(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-06d43517"],{"7c59":function(e,t,n){},"82f9":function(e,t,n){"use strict";n("7c59")},a3f6:function(e,t,n){"use strict";n.d(t,"k",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"q",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"l",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"o",(function(){return O})),n.d(t,"d",(function(){return w})),n.d(t,"j",(function(){return S})),n.d(t,"p",(function(){return P})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return v})),n.d(t,"m",(function(){return A})),n.d(t,"b",(function(){return D})),n.d(t,"g",(function(){return N})),n.d(t,"n",(function(){return M})),n.d(t,"c",(function(){return U}));t=n("96cf");var r=n("1da1"),i=n("7424"),a=n("b775");function u(){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONLIST,a.a.GET));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e){return o.apply(this,arguments)}function o(){return(o=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.GETROLEPERMISSIONLIST,a.a.GET,{roleId:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.SAVEROLEPERMISSIONLIST,a.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONGETLIST,a.a.GET));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONSOFTDELETE,a.a.DELETE,{id:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONGETGROUP,a.a.GET,{id:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return R.apply(this,arguments)}function R(){return(R=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONUPDATEGROUP,a.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return E.apply(this,arguments)}function E(){return(E=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONADDGROUP,a.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONGETMENU,a.a.GET,{id:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return T.apply(this,arguments)}function T(){return(T=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONUPDATEMENU,a.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return y.apply(this,arguments)}function y(){return(y=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONADDMENU,a.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return I.apply(this,arguments)}function I(){return(I=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONGETAPI,a.a.GET,{id:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return x.apply(this,arguments)}function x(){return(x=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONUPDATEAPI,a.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return L.apply(this,arguments)}function L(){return(L=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONADDAPI,a.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return $.apply(this,arguments)}function $(){return($=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONGETDOT,a.a.GET,{id:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return G.apply(this,arguments)}function G(){return(G=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONUPDATEDOT,a.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.PERMISSIONADDDOT,a.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},a695d:function(e,t,n){"use strict";n.r(t),n("4160"),n("caad"),n("c975"),n("d81d"),n("45fc"),n("a434"),n("2532"),n("159b");var r=n("2909"),i=n("a3f6"),a=n("d378"),u=n("ca00"),c={name:"RolePermissions",i18n:n("9225"),data:function(){return{permissionData:[],loading:!0,roleList:[],listLoading:!0,roleId:0,checkedPermissions:[],chekedApis:[]}},created:function(){this.getRoleList(),this.getPermissionList()},methods:{getRoleList:function(){var e=this;this.listLoading=!0,Object(a.c)().then((function(t){1===t.data.code&&(e.roleList=t.data.data.list,e.listLoading=!1)}))},getPermissionList:function(){var e=this;this.loading=!0,Object(i.k)().then((function(t){1===t.data.code&&(e.permissionData=Object(u.g)(t.data.data),e.loading=!1)}))},getRolePermission:function(e){var t=this;this.loading=!0,this.roleId=e.target.value,this.onSelectAll([]),Object(i.a)(this.roleId).then((function(e){var n,r;1===e.data.code&&(n=e.data.data,Object(u.j)(t.permissionData).forEach((function(e){var r=n.includes(e.id);t.$refs.multipleTable.toggleRowSelection(e,r)})),t.checkedPermissions=t.$refs.multipleTable.selection.map((function(e){return e.id})),r=[],n.forEach((function(e){t.checkedPermissions.includes(e)||r.push(e)})),t.chekedApis=r,t.loading=!1)}))},selectApis:function(e,t){var n=this;t.apis&&t.apis.forEach((function(t){var r=n.chekedApis.indexOf(t.id);e?-1===r&&n.chekedApis.push(t.id):-1<r&&n.chekedApis.splice(r,1)}))},onSelectAll:function(e){var t=this,n=Object(u.j)(e),r=(e=Object(u.j)(this.permissionData),n.length===e.length);e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e,r),t.selectApis(r,e)})),this.checkedPermissions=this.$refs.multipleTable.selection.map((function(e){return e.id}))},onSelect:function(e,t){var n=this,r=e.some((function(e){return e.id===t.id}));t.children&&0<t.children.length?Object(u.j)(t.children).forEach((function(e){n.$refs.multipleTable.toggleRowSelection(e,r),n.selectApis(r,e)})):this.selectApis(r,t),Object(u.d)(this.permissionData,t.id).forEach((function(e){n.checkedPermissions.includes(e.id)||n.$refs.multipleTable.toggleRowSelection(e,!0)})),this.checkedPermissions=this.$refs.multipleTable.selection.map((function(e){return e.id}))},onChange:function(e,t){var n=this;e&&(Object(u.d)(this.permissionData,t).forEach((function(e){n.checkedPermissions.includes(e.id)||n.$refs.multipleTable.toggleRowSelection(e,!0)})),this.checkedPermissions=this.$refs.multipleTable.selection.map((function(e){return e.id})))},confirmSave:function(){var e,t=this;0!==this.roleId?0<this.checkedPermissions.length||0<this.chekedApis.length?(e=Object(r.a)(this.checkedPermissions),0<this.chekedApis.length&&e.push.apply(e,Object(r.a)(this.chekedApis)),e={roleId:this.roleId,permissionIds:e},Object(i.q)(e).then((function(e){1===e.data.code&&t.$message.success(t.$t("205"))}))):this.$message.info(this.$t("377")):this.$message.info(this.$t("376"))}}};n("82f9"),n=n("2877"),c=Object(n.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"RolePermissions"},[n("a-row",{attrs:{gutter:12}},[n("a-col",{staticClass:"gutter-row",attrs:{span:4}},[n("div",{staticClass:"gutter-box-left"},[n("a-list",{staticClass:"role-list",attrs:{header:e.$t("320"),loading:e.listLoading}},[n("a-radio-group",{attrs:{"button-style":"solid"},on:{change:e.getRolePermission}},e._l(e.roleList,(function(t,r){return n("a-radio-button",{key:r,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1)]),n("a-col",{staticClass:"gutter-row",attrs:{span:20}},[n("div",{staticClass:"gutter-box-right"},[n("a-page-header",[n("template",{slot:"extra"},[n("a-space",[n("a-popconfirm",{attrs:{title:e.$t("373")},on:{confirm:e.confirmSave}},[n("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:permission:assign",expression:"`api:admin:permission:assign`",arg:"permission"}],attrs:{type:"primary",size:"small",icon:"save"}},[e._v(e._s(e.$t("119")))])],1)],1)],1)],2),n("a-spin",{attrs:{spinning:e.loading}},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.permissionData,"default-expand-all":!1,"tree-props":{children:"children",hasChildren:"hasChildren"},"row-key":"id","highlight-current-row":""},on:{"select-all":e.onSelectAll,select:e.onSelect}},[n("el-table-column",{attrs:{type:"selection",width:"50"}}),n("el-table-column",{attrs:{prop:"label",label:e.$t("374"),width:"200"}}),n("el-table-column",{attrs:{label:e.$t("375"),width:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.apis&&0<r.apis.length?n("el-checkbox-group",{model:{value:e.chekedApis,callback:function(t){e.chekedApis=t},expression:"chekedApis"}},e._l(r.apis,(function(t){return n("el-checkbox",{key:t.id,attrs:{label:t.id},on:{change:function(t){return e.onChange(t,r.id)}}},[e._v(e._s(t.label))])})),1):e._e()]}}])})],1)],1)],1)])],1)],1)}),[],!1,null,null,null);t.default=c.exports},d378:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f}));t=n("96cf");var r=n("1da1"),i=n("7424"),a=n("b775");function u(e,t,n){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.ROLEGETPAGE,a.a.POST,{currentPage:t,pageSize:n,dynamicFilter:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e){return o.apply(this,arguments)}function o(){return(o=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.ROLEADD,a.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.ROLEUPDATE,a.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a.e)(i.ROLEBATCHSOFTDELETE,a.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);