(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5e749d8c"],{"12a2":function(e,t,n){"use strict";n("4e82"),n("d81d");var a=n("d882"),r=n("e41e"),i=n("ca00"),o=n("c32d"),s=n.n(o);o={name:"UpdateMoreMilestone",props:{type:{type:String,default:""}},data:function(){return{ids:[],milestoneCacheList:[],milestoneList:[],loading:!1,visible:!1,title:"编辑节点",form:{milestoneCode:"",actualDateTime:"",remark:""},actualDateTime:null,rules:{milestoneCode:[{required:!0,message:"请选择节点编码",trigger:"change"}],actualDateTime:[{required:!0,message:"请选择实际日期",trigger:"change"}]},save_loading:!1}},created:function(){},methods:{moment:s.a,getDictionary:function(){var e=this;Object(r.c)().then((function(t){1===t.data.code&&(e.milestoneCacheList=t.data.data,e.milestoneCacheList.sort(Object(i.a)("sort",!0)))}))},getOrderMilestoneSolution:function(){var e=this,t=(this.loading=!0,{milestoneCode:this.form.milestoneCode,relevanceIDs:[]});this.ids.map((function(e){t.relevanceIDs.push({relevanceID:e})})),"sea"==this.type?Object(a.c)(t).then((function(t){1===t.data.code&&(e.milestoneList=t.data.data,e.loading=!1)})):Object(a.a)(t).then((function(t){1===t.data.code&&(e.milestoneList=t.data.data,e.loading=!1)}))},change:function(){this.getOrderMilestoneSolution()},dateChange:function(e,t){e?(this.actualDateTime=s()(t,"YYYY-MM-DD  HH:mm"),this.form.actualDateTime=s()(t).format("YYYY-MM-DD HH:mm")):(this.actualDateTime=null,this.form.actualDateTime="")},show:function(e){this.ids=e,this.form={milestoneCode:"",actualDateTime:"",remark:""},this.milestoneList=[],this.visible=!0,this.getDictionary()},save:function(){var e=this;this.$refs.form.validate((function(t){if(t){if(0==e.milestoneList.length)return e.$message.error("没有可以保存的节点!"),!1;e.save_loading=!0;var n={actualDateTime:e.form.actualDateTime,remark:e.form.remark,ids:[]};e.milestoneList.map((function(e){n.ids.push({id:e.id})})),Object(a.e)(n).then((function(t){1===t.data.code?(e.save_loading=!1,e.$message.success("保存成功!"),e.getOrderMilestoneSolution()):(e.save_loading=!1,e.$message.error("保存失败!"))}))}}))}}},n("da1a"),n=n("2877"),n=Object(n.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"UpdateMoreMilestone"},[n("a-modal",{attrs:{width:900,visible:e.visible,title:e.title,maskClosable:!1,destroyOnClose:!0,footer:null,centered:""},on:{cancel:function(t){e.visible=!1}}},[n("template",{slot:"closeIcon"},[n("a-button",{attrs:{type:"danger",size:"small",shape:"circle",icon:"close-circle"}})],1),n("a-form-model",{ref:"form",attrs:{model:e.form,rules:e.rules}},[n("a-form-model-item",{attrs:{label:"节点编码",prop:"milestoneCode"}},[n("el-select",{attrs:{size:"small",filterable:"",placeholder:""},on:{change:e.change},model:{value:e.form.milestoneCode,callback:function(t){e.$set(e.form,"milestoneCode",t)},expression:"form.milestoneCode"}},e._l(e.milestoneCacheList,(function(t,a){return n("el-option",{key:a,attrs:{value:t.milestoneCode}},[e._v(" "+e._s(t.milestoneCode)+" - "+e._s(t.milestoneName)+" ")])})),1)],1),n("a-form-model-item",{attrs:{label:"实际日期",prop:"actualDateTime"}},[n("a-date-picker",{staticStyle:{width:"100%"},attrs:{showTime:"",format:"YYYY-MM-DD HH:mm"},on:{change:e.dateChange},model:{value:e.actualDateTime,callback:function(t){e.actualDateTime=t},expression:"actualDateTime"}})],1),n("a-form-model-item",{attrs:{label:"备注",prop:"remark"}},[n("a-input",{attrs:{"max-length":20},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),n("a-button",{staticStyle:{"margin-bottom":"30px"},attrs:{type:"primary",loading:e.save_loading},on:{click:e.save}},[e._v("保存")])],1),n("vxe-table",{ref:"xTable",attrs:{"keep-source":"",height:500,data:e.milestoneList,loading:e.loading,"show-overflow":"",resizable:"",border:"","highlight-hover-row":""}},[n("vxe-column",{attrs:{title:"业务编码"},scopedSlots:e._u([{key:"default",fn:function(t){return t=t.row,[e._v(" "+e._s(t.hawbextractinfo.orderNo)+" ")]}}])}),n("vxe-column",{attrs:{title:"分单号"},scopedSlots:e._u([{key:"default",fn:function(t){return t=t.row,[e._v(" "+e._s(t.hawbextractinfo.hawb)+" ")]}}])}),n("vxe-column",{attrs:{title:"主单号"},scopedSlots:e._u([{key:"default",fn:function(t){return t=t.row,[e._v(" "+e._s(t.hawbextractinfo.mawb)+" ")]}}])}),n("vxe-column",{attrs:{field:"milestoneCode",title:"节点编码"}}),n("vxe-column",{attrs:{field:"milestoneName",title:"节点名称"}}),n("vxe-column",{attrs:{field:"actualDateTime",title:"实际日期"},scopedSlots:e._u([{key:"default",fn:function(t){return t=t.row,[e._v(" "+e._s(t.actualDateTime?e.moment(t.actualDateTime).format("YYYY-MM-DD HH:mm"):"")+" ")]}}])}),n("vxe-column",{attrs:{field:"remark",title:"备注"}})],1)],2)],1)}),[],!1,null,"71ad99c7",null);t.a=n.exports},"40b8":function(e,t,n){},"7bda":function(e,t,n){"use strict";n("4e82");var a=n("d882"),r=n("ca00"),i=n("c32d"),o=n.n(i);i={name:"UpdateSingleMilestone",data:function(){return{ID:"0",milestoneList:[],loading:!1,visible:!1,title:"编辑节点",form:{},actualDateTime:null}},created:function(){},methods:{moment:o.a,getOrderMilestoneSolution:function(){var e=this;this.loading=!0,Object(a.b)(this.ID).then((function(t){1===t.data.code&&(e.milestoneList=t.data.data,e.milestoneList.sort(Object(r.a)("sort",!0)),e.loading=!1)}))},dateChange:function(e,t){e?(this.actualDateTime=o()(t,"YYYY-MM-DD  HH:mm"),this.form.actualDateTime=o()(t).format("YYYY-MM-DD HH:mm")):(this.actualDateTime=null,this.form.actualDateTime="")},show:function(e){this.ID=e,this.visible=!0,this.getOrderMilestoneSolution()},editRowEvent:function(e){this.$refs.xTable.setActiveRow(e),e.actualDateTime?this.actualDateTime=o()(e.actualDateTime,"YYYY-MM-DD  HH:mm"):this.actualDateTime=null,this.form={actualDateTime:e.actualDateTime,remark:e.remark,id:e.id,version:0}},saveRowEvent:function(e){var t=this;Object(a.d)(this.form).then((function(e){1===e.data.code?t.$message.success("保存成功!"):t.$message.error("保存失败!"),t.getOrderMilestoneSolution()}))},cancelRowEvent:function(e){var t=this.$refs.xTable;t.clearActived().then((function(){t.revertData(e)}))}}},n=n("2877"),n=Object(n.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"UpdateSingleMilestone"},[n("a-modal",{attrs:{width:800,visible:e.visible,title:e.title,maskClosable:!1,destroyOnClose:!0,footer:null,centered:""},on:{cancel:function(t){e.visible=!1}}},[n("template",{slot:"closeIcon"},[n("a-button",{attrs:{type:"danger",size:"small",shape:"circle",icon:"close-circle"}})],1),n("vxe-table",{ref:"xTable",attrs:{"keep-source":"",height:500,data:e.milestoneList,loading:e.loading,"show-overflow":"",resizable:"",border:"","highlight-hover-row":"","edit-config":{trigger:"manual",mode:"row",showStatus:!0}}},[n("vxe-column",{attrs:{field:"milestoneCode",title:"节点编码"}}),n("vxe-column",{attrs:{field:"milestoneName",title:"节点名称"}}),n("vxe-column",{attrs:{field:"actualDateTime",title:"实际日期","edit-render":{},width:"210px"},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("a-date-picker",{staticStyle:{width:"100%"},attrs:{showTime:"",format:"YYYY-MM-DD HH:mm"},on:{change:e.dateChange},model:{value:e.actualDateTime,callback:function(t){e.actualDateTime=t},expression:"actualDateTime"}})]}},{key:"default",fn:function(t){return t=t.row,[e._v(" "+e._s(t.actualDateTime?e.moment(t.actualDateTime).format("YYYY-MM-DD HH:mm"):"")+" ")]}}])}),n("vxe-column",{attrs:{field:"remark",title:"备注","edit-render":{}},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("a-input",{staticStyle:{width:"100%"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})]}}])}),n("vxe-column",{attrs:{title:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e.$refs.xTable.isActiveByRow(a)?[n("a-space",[n("a-tooltip",{attrs:{placement:"top",title:"保存"}},[n("a-button",{attrs:{type:"primary",size:"small",icon:"check-circle"},on:{click:function(t){return e.saveRowEvent(a)}}})],1),n("a-tooltip",{attrs:{placement:"top",title:"取消"}},[n("a-button",{attrs:{type:"primary",size:"small",icon:"close-circle"},on:{click:function(t){return e.cancelRowEvent(a)}}})],1)],1)]:[n("a-tooltip",{attrs:{placement:"top",title:"编辑"}},[n("a-button",{attrs:{type:"primary",size:"small",icon:"edit"},on:{click:function(t){return e.editRowEvent(a)}}})],1)]]}}])})],1)],2)],1)}),[],!1,null,null,null);t.a=n.exports},d882:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return p}));var a=n("1da1"),r=(n("96cf"),n("7424")),i=n("b775");function o(e){return s.apply(this,arguments)}function s(){return(s=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(r.ORDERMILESTONESOLUTIONGETBORDERIDASYNC,i.a.GET,{orderid:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(r.ORDERMILESTONESOLUTIONUPDATE,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return m.apply(this,arguments)}function m(){return(m=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(r.ORDERMILESTONESOLUTIONGETBYORDERIDANDMILESTIONASYNC,i.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(r.ORDERMILESTONESOLUTIONUPDATEMILESTIONSASYNC,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(r.ORDERMILESTONESOLUTIONGETSEABYORDERIDANDMILESTIONASYNC,i.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},da1a:function(e,t,n){"use strict";n("40b8")},e41e:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var a=n("1da1"),r=(n("96cf"),n("7424")),i=n("b775");function o(e,t,n){return s.apply(this,arguments)}function s(){return(s=Object(a.a)(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(r.MILESTONEGETPAGE,i.a.POST,{currentPage:t,pageSize:n,dynamicFilter:a}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(r.MILESTONEADD,i.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return m.apply(this,arguments)}function m(){return(m=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(r.MILESTONEUPDATE,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(r.MILESTONEBATCHSOFTDELETE,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(r.MILESTONEGETCACHEMILESTONE,i.a.GET));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);