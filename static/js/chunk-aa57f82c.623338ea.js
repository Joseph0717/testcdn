(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-aa57f82c"],{"09eb":function(e,t,r){},"4a67":function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return h}));t=r("96cf");var n=r("1da1"),a=r("7424"),i=r("b775");function o(e,t,r){return s.apply(this,arguments)}function s(){return(s=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.PORTGETPAGE,i.a.POST,{currentPage:t,pageSize:r,dynamicFilter:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return(c=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.PORTADD,i.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.PORTUPDATE,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.PORTBATCHSOFTDELETE,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.PORTGETCACHEPORT,i.a.GET,{type:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"7a6b":function(e,t,r){"use strict";r.r(t),r("a4d3"),r("e01a"),r("c975"),r("d81d"),r("96cf");var n=r("1da1"),a=r("aeb6"),i=r("4a67"),o=r("ca00"),s={name:"AirRouteDetail",i18n:r("9225"),computed:{},data:function(){return{minHeight:window.innerHeight-49-48-40-136-46,ID:this.$route.query.id,airRoute:{},airRouteDetail:[],portList:[],loading:!1,statusList:[{label:"禁用",value:0},{label:"启用",value:1}],validRules:{originalPlace:[{required:!0,message:"请选择起始地"}],destinationPlace:[{required:!0,message:"请选择目的地"}]}}},created:function(){this.getPortList(),this.getAirRouteGetHederAndDetailAsync()},methods:{getPortList:function(){var e=this;Object(i.d)().then((function(t){1===t.data.code&&(e.portList=t.data.data.list)}))},getAirRouteGetHederAndDetailAsync:function(){var e=this;this.loading=!0,Object(a.f)(this.ID).then((function(t){1===t.data.code&&(e.airRoute=t.data.data,e.airRouteDetail=e.airRoute.airRouteDetail,null!==e.airRouteDetail&&0<e.airRouteDetail.length&&e.airRouteDetail.sort(Object(o.a)("sort",!1)),e.loading=!1)}))},insert:function(){var e={isTransit:0,routeCode:this.airRoute.routeCode};this.$refs.xTable.insert(e)},save:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.$refs.xTable,i=r.getRecordset(),n=i.insertRecords,i.removeRecords,i=i.updateRecords,0==n.length&&0==i)return t.abrupt("return",!1);t.next=4;break;case 4:return t.next=6,r.validate(!0).catch((function(e){return e}));case 6:if(t.sent)return t.abrupt("return",!1);t.next=9;break;case 9:e.loading=!0,0<n.length&&(n.reverse(),n.map((function(t,r){t={status:t.status,originalPlace:t.originalPlace,destinationPlace:t.destinationPlace,isTransit:t.isTransit,sort:null==e.airRouteDetail?r+1:e.airRouteDetail.length+(r+1),description:t.description,routeCode:t.routeCode},Object(a.b)(t).then((function(t){1===t.data.code?(e.$message.success("保存成功!"),e.getAirRouteGetHederAndDetailAsync()):e.$message.error(t.data.msg)}))}))),0<i.length&&i.map((function(t){t={status:t.status,originalPlace:t.originalPlace,destinationPlace:t.destinationPlace,isTransit:t.isTransit,sort:t.sort,description:t.description,routeCode:t.routeCode,id:t.id,version:1},Object(a.i)(t).then((function(t){1===t.data.code?(e.$message.success("保存成功!"),e.getAirRouteGetHederAndDetailAsync()):e.$message.error(t.data.msg)}))}));case 12:case"end":return t.stop()}}),t)})))()},batchDelete:function(){var e=this,t=this.$refs.xTable.getCheckboxRecords();if(0==t.length)return!1;t=t.map((function(e){return e.id})),Object(a.d)(t).then((function(t){1===t.data.code&&e.getAirRouteGetHederAndDetailAsync()}))},filterOption:function(e,t){return 0<=t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())}}};r("e38c"),r=r("2877"),s=Object(r.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"AirRouteDetail"},[r("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"}},[r("a-descriptions",{attrs:{size:"small",column:3}},[r("a-descriptions-item",{attrs:{label:"线路代码"}},[e._v(" "+e._s(this.airRoute.routeCode)+" ")]),r("a-descriptions-item",{attrs:{label:"线路名称"}},[e._v(" "+e._s(this.airRoute.routeName)+" ")]),r("a-descriptions-item",{attrs:{label:"起始地"}},[e._v(" "+e._s(this.airRoute.originalPlace)+" ")]),r("a-descriptions-item",{attrs:{label:"目的地"}},[e._v(" "+e._s(this.airRoute.destinationPlace)+" ")]),r("a-descriptions-item",{attrs:{label:"描述"}},[e._v(" "+e._s(this.airRoute.description)+" ")]),r("a-descriptions-item",{attrs:{label:"状态"}},[0==this.airRoute.status?r("a-tag",{attrs:{color:"#f5222d"}},[e._v("禁用")]):e._e(),1==this.airRoute.status?r("a-tag",{attrs:{color:"#1890ff"}},[e._v("启用")]):e._e()],1),r("a-descriptions-item",{attrs:{label:"中转地"}},[e._v(" "+e._s(this.airRoute.transit)+" ")])],1)],1),r("vxe-toolbar",{attrs:{custom:"",print:""},scopedSlots:e._u([{key:"tools",fn:function(){return[r("a-space",[r("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:airroute:adddetail",expression:"`api:admin:airroute:adddetail`",arg:"permission"}],attrs:{type:"primary",size:"small",icon:"plus-circle"},on:{click:e.insert}},[e._v(e._s(e.$t("37")))]),r("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:airroute:updatedetail",expression:"`api:admin:airroute:updatedetail`",arg:"permission"}],attrs:{type:"primary",size:"small",icon:"save"},on:{click:e.save}},[e._v("保存")]),r("a-popconfirm",{attrs:{title:e.$t("47")},on:{confirm:e.batchDelete}},[r("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:airroute:batchsoftdeletedetail",expression:"`api:admin:airroute:batchsoftdeletedetail`",arg:"permission"}],attrs:{type:"danger",size:"small",icon:"delete"}},[e._v("删除")])],1)],1)]},proxy:!0}])}),r("vxe-table",{ref:"xTable",attrs:{"keep-source":"",data:e.airRouteDetail,loading:e.loading,"print-config":{},"show-overflow":"",resizable:"",border:"","highlight-hover-row":"",height:e.minHeight,"edit-config":{trigger:"click",mode:"row",showStatus:!0},"edit-rules":e.validRules}},[r("vxe-column",{attrs:{type:"checkbox",width:"50"},scopedSlots:e._u([{key:"header",fn:function(t){var n=t.checked;t=t.indeterminate;return[r("span",{staticClass:"custom-checkbox",on:{click:function(t){return t.stopPropagation(),e.$refs.xTable.toggleAllCheckboxRow()}}},[r("span",t?[r("a-checkbox",{attrs:{indeterminate:!0}})]:n?[r("a-checkbox",{attrs:{checked:!0}})]:[r("a-checkbox")],1)])]}},{key:"checkbox",fn:function(t){var n=t.row,a=t.checked;t=t.indeterminate;return[r("span",{staticClass:"custom-checkbox",on:{click:function(t){return t.stopPropagation(),e.$refs.xTable.toggleCheckboxRow(n)}}},[r("span",t?[r("a-checkbox",{attrs:{indeterminate:!0}})]:a?[r("a-checkbox",{attrs:{checked:!0}})]:[r("a-checkbox")],1)])]}}])}),r("vxe-column",{attrs:{field:"originalPlace",title:"起始地","edit-render":{}},scopedSlots:e._u([{key:"edit",fn:function(t){var n=t.row;return[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":""},model:{value:n.originalPlace,callback:function(t){e.$set(n,"originalPlace",t)},expression:"row.originalPlace"}},e._l(e.portList,(function(t,n){return r("a-select-option",{key:n,attrs:{value:t.portCode}},[e._v(" "+e._s(t.portCode)+" "+e._s(t.cnName)+" ")])})),1)]}},{key:"default",fn:function(t){var n=t.row;return[e._l(e.portList,(function(t){return[n.originalPlace==t.portCode?r("span",{key:t.id},[e._v(e._s(t.portCode)+" "+e._s(t.cnName))]):e._e()]}))]}}])}),r("vxe-column",{attrs:{field:"destinationPlace",title:"目的地","edit-render":{}},scopedSlots:e._u([{key:"edit",fn:function(t){var n=t.row;return[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":""},model:{value:n.destinationPlace,callback:function(t){e.$set(n,"destinationPlace",t)},expression:"row.destinationPlace"}},e._l(e.portList,(function(t,n){return r("a-select-option",{key:n,attrs:{value:t.portCode}},[e._v(" "+e._s(t.portCode)+" "+e._s(t.cnName)+" ")])})),1)]}},{key:"default",fn:function(t){var n=t.row;return[e._l(e.portList,(function(t){return[n.destinationPlace==t.portCode?r("span",{key:t.id},[e._v(e._s(t.portCode)+" "+e._s(t.cnName))]):e._e()]}))]}}])}),r("vxe-column",{attrs:{field:"isTransit",title:"是否中转地"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[r("a-switch",{attrs:{size:"small",checked:0!==t.isTransit},on:{click:function(e){t.isTransit=0===t.isTransit?1:0}}})]}}])}),r("vxe-column",{attrs:{field:"sort",title:"排序"}}),r("vxe-column",{attrs:{field:"description",title:"描述","edit-render":{name:"$input",defaultValue:"",props:{maxlength:50}}}}),r("vxe-column",{attrs:{field:"routeCode",title:"线路代码","edit-render":{name:"$input",props:{disabled:!0}}}}),r("vxe-column",{attrs:{field:"status",title:"状态","edit-render":{name:"$select",defaultValue:1,options:e.statusList,props:{clearable:!1}}},scopedSlots:e._u([{key:"default",fn:function(t){return t=t.row,[0==t.status?r("a-tag",{attrs:{color:"#f5222d"}},[e._v("禁用")]):e._e(),1==t.status?r("a-tag",{attrs:{color:"#1890ff"}},[e._v("启用")]):e._e()]}}])})],1)],1)}),[],!1,null,"49f6c9b0",null).exports;t.default=s},aeb6:function(e,t,r){"use strict";r.d(t,"g",(function(){return o})),r.d(t,"a",(function(){return u})),r.d(t,"h",(function(){return l})),r.d(t,"c",(function(){return p})),r.d(t,"b",(function(){return h})),r.d(t,"i",(function(){return b})),r.d(t,"d",(function(){return R})),r.d(t,"f",(function(){return T})),r.d(t,"e",(function(){return O}));t=r("96cf");var n=r("1da1"),a=r("7424"),i=r("b775");function o(e,t,r){return s.apply(this,arguments)}function s(){return(s=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.AIRROUTEGETPAGE,i.a.POST,{currentPage:t,pageSize:r,dynamicFilter:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return(c=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.AIRROUTEADD,i.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.AIRROUTEUPDATE,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.AIRROUTEBATCHSOFTDELETE,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.AIRROUTEADDDETAIL,i.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.AIRROUTEUPDATEDETAIL,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return v.apply(this,arguments)}function v(){return(v=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.AIRROUTEBATCHSOFTDETAILDELETE,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return w.apply(this,arguments)}function w(){return(w=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.AIRROUTEGETHEDERANDDETAILASYNC,i.a.GET,{id:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return k.apply(this,arguments)}function k(){return(k=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(a.AIRROUTEGETCACHEAIRROUTE,i.a.GET));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},e38c:function(e,t,r){"use strict";r("09eb")}}]);