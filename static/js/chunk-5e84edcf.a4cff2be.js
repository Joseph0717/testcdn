(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5e84edcf"],{"030f":function(e,t,n){(function(e){!function(){"use strict";function t(e){return function(t){return n=typeof(t=t),(null===t?"null":"object"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n)===e;var n}}function n(e){return function(t){return typeof t===e}}function r(e){return function(t){return e===t}}var o=t("string"),i=t("object"),a=t("array"),u=r(null),c=n("boolean"),s=r(void 0),l=function(e){return null==e},f=function(e){return!l(e)},d=n("function"),m=n("number"),g=function(e,t){if(a(e)){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},h=function(){},p=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},v=function(e){return function(){return e}},b=function(e){return e},y=function(e,t){return e===t};function w(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function x(e){return function(t){return!e(t)}}function C(e){return function(){throw new Error(e)}}var S=v(!1),k=v(!0),O=tinymce.util.Tools.resolve("tinymce.ThemeManager"),T=function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function _(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function E(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function D(){return A}var A={fold:function(e,t){return e()},isSome:S,isNone:k,getOr:Ln=b,getOrThunk:z,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:v(null),getOrUndefined:v(void 0),or:Ln,orThunk:z,map:D,each:h,bind:D,exists:S,forall:k,filter:function(){return A},toArray:function(){return[]},toString:v("none()")};function z(e){return e()}function M(e){function t(){return o}function n(t){return t(e)}var r=v(e),o={fold:function(t,n){return n(e)},isSome:k,isNone:S,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:t,orThunk:t,map:function(t){return M(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?o:A},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o}function R(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}function N(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=Nt.call(e,r,r+t);n.push(o)}return n}function B(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}}function H(e){return[e]}function L(e,t){return(e=Nt.call(e,0)).sort(t),e}function P(e){return tn(e,e.length-1)}function I(e,t){for(var n=an(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return Rt.some(a)}return Rt.none()}function F(e,t){return xn(e,t,0)?(t=t.length,e.substring(t)):e}function V(e,t){return-1!==e.indexOf(t)}function j(e){return 0<e.length}function U(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}function W(e){return function(t){return t.dom.nodeType===e}}function $(e,t){var n=Rn(e,t);return n?Nn(r(1),r(2)):{major:0,minor:0};function r(e){return Number(t.replace(n,"$"+e))}}function q(){return Nn(0,0)}function G(e){return function(t){return V(t,e)}}function X(e){function t(e){return function(){return n===e}}var n=e.current;e=e.version;return{current:n,version:e,isEdge:t(Fn),isChrome:t(Vn),isIE:t(jn),isOpera:t(Un),isFirefox:t(Wn),isSafari:t($n)}}function K(e){function t(e){return function(){return n===e}}var n=e.current;e=e.version;return{current:n,version:e,isWindows:t(Xn),isiOS:t(Kn),isAndroid:t(Yn),isOSX:t(Qn),isLinux:t(Jn),isSolaris:t(Zn),isFreeBSD:t(er),isChromeOS:t(tr)}}function Y(e){return window.matchMedia(e).matches}function J(e){return e.nodeType!==Tn&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount}function Q(e){return On.fromDom(hr(e).dom.defaultView)}function Z(e){return Rt.from(e.dom.offsetParent).map(On.fromDom)}function ee(e,t){return{element:e,offset:t}}function te(e,t){var n=br(e);return 0<n.length&&t<n.length?ee(n[t],0):ee(e,t)}function ne(e){return e=Sr(e),xr(e)?Rt.some(e):Rt.none()}function re(e){return On.fromDom(e.dom.host)}function oe(e,t){var n=e.dom;cn(t,(function(e,t){Ar(n,t,e)}))}function ie(e,t){var n=e.dom;cn(t,(function(e,t){e.fold((function(){Lr(n,t)}),(function(e){Hr(n,t,e)}))}))}function ae(e,t){function n(n){var r=t(n);return r<=0||null===r?(n=Fr(n,e),parseFloat(n)||0):r}function r(e,t){return $t(t,(function(t,n){return n=Fr(e,n),n=void 0===n?0:parseInt(n,10),isNaN(n)?t:t+n}),0)}return{set:function(t,n){if(!m(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);t=t.dom,kn(t)&&(t.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){return e=r(e,n),e<t?t-e:0}}}function ue(e,t){return{left:e,top:t,translate:function(n,r){return ue(e+n,t+r)}}}function ce(e,t){return void 0!==e?e:void 0!==t?t:0}function se(e){var t=e.dom,n=t.ownerDocument.body;return n===t?Kr(n.offsetLeft,n.offsetTop):_r(e)?Yr(t):Kr(0,0)}function le(e){function t(){return e.stopPropagation()}function n(){return e.preventDefault()}var r=On.fromDom(function(e){if(Cr()&&f(e.target)){var t=On.fromDom(e.target);if(En(t)&&Tr(t)&&e.composed&&e.composedPath&&(t=e.composedPath(),t))return nn(t)}return Rt.from(e.target)}(e).getOr(e.target)),o=p(n,t);return{target:r,x:e.clientX,y:e.clientY,stop:t,prevent:n,kill:o,raw:e}}function fe(e,t,n,r,o){function i(e){a(e)&&u(le(e))}var a,u;return a=n,u=r,e.dom.addEventListener(t,i,o),{unbind:w(de,e,t,i,o)}}function de(e,t,n,r){e.dom.removeEventListener(t,n,r)}function me(e,t){wr(e).fold((function(){oo(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))}function ge(e){var t=br(e);0<t.length&&io(e,t),co(e)}function he(e){var t=void 0===e?window:e,n=(e=t.document,so(On.fromDom(e)));return fo(t).fold((function(){var e=t.document.documentElement,r=e.clientWidth;e=e.clientHeight;return mo(n.left,n.top,r,e)}),(function(e){return mo(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)}))}function pe(e,t){return e.view(t).fold(v([]),(function(t){var n=e.owner(t);n=pe(e,n);return[t].concat(n)}))}function ve(e){return{isValue:k,isError:S,getOr:v(e),getOrThunk:v(e),getOrDie:v(e),or:function(t){return ve(e)},orThunk:function(t){return ve(e)},fold:function(t,n){return n(e)},map:function(t){return ve(t(e))},mapError:function(t){return ve(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return Rt.some(e)}}}function be(e){return{isValue:S,isError:k,getOr:b,getOrThunk:function(e){return e()},getOrDie:function(){return C(String(e))()},or:b,orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return be(e)},mapError:function(t){return be(t(e))},each:h,bind:function(t){return be(e)},exists:S,forall:k,toOptional:Rt.none}}function ye(e,t,n){return e.stype===zt.Error?t(e.serror):n(e.svalue)}function we(e){return{stype:zt.Value,svalue:e}}function xe(e){return{stype:zt.Error,serror:e}}function Ce(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i,a=t[o];for(i in a)hn(a,i)&&(r[i]=e(r[i],a[i]))}return r}}function Se(e){return{tag:"mergeWithThunk",process:e}}function ke(e){return p(So.serror,Kt)(e)}function Oe(e,t,n,r){return gn(t,n).fold((function(){return r=n,o=t,Bo(e,(function(){return'Could not find valid *required* value for "'+r+'" in '+Ro(o)}));var r,o}),r)}function Te(e,t,n,r){return r(gn(e,t).getOrThunk((function(){return n(e)})))}function _e(e){return{extract:function(t,n){return e().extract(t,n)},toString:function(){return e().toString()}}}function Ee(e){return{extract:function(t,n){for(var r=[],o=0,i=e;o<i.length;o++){var a=i[o].extract(t,n);if(a.stype===zt.Value)return a;r.push(a)}return Mo(r)},toString:function(){return"oneOf("+Ft(e,(function(e){return e.toString()})).join(", ")+")"}}}function De(e,t){return{extract:function(n,r){var o=an(r),i=(i=n,o=o,Vo(Lo(e)).extract(i,o));return So.bind(i,(function(e){return e=Ft(e,(function(e){return ko(e,e,Eo(),t)})),Fo(e).extract(n,r)}))},toString:function(){return"setOf("+t.toString()+")"}}}function Ae(e,t){return Lo((function(n){var r=typeof n;return e(n)?So.svalue(n):So.serror("Expected type: "+t+" but got: "+r)}))}function ze(e){if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(t){return ze(e[t])}));default:return!1}}function Me(e,t){return{extract:function(n,r){return gn(r,e).fold((function(){return Ho(n,e)}),(function(e){return Xo(n,r,t,e)}))},toString:function(){return"chooseOn("+e+"). Possible values: "+an(t)}}}function Re(e,t){return De((function(t){return So.fromResult(e(t))}),t)}function Ne(e,t){return Me(e,sn(t,Fo))}function Be(e){return Ko((function(t){return Pt(e,t)?Co.value(t):Co.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')}))}function He(e){return oi(e,$o)}function Le(e,t){return ti(e,e,Eo(),Be(t))}function Pe(e){return oi(e,Go)}function Ie(e,t){return ti(e,e,Eo(),Fo(t))}function Fe(e,t){return ti(e,e,Eo(),jo(t))}function Ve(e,t){return ti(e,e,Eo(),Vo(t))}function je(e){return ti(e,e,zo(),Uo())}function Ue(e){return ii(e,Wo)}function We(e){return ii(e,$o)}function $e(e){return ii(e,Go)}function qe(e,t){return ii(e,Vo(t))}function Ge(e,t){return si(e,t,Wo)}function Xe(e,t){return si(e,t,$o)}function Ke(e,t,n){return si(e,t,Be(n))}function Ye(e,t){return si(e,t,qo)}function Je(e,t){return si(e,t,Go)}function Qe(e,t,n){return si(e,t,Vo(n))}function Ze(e,t,n){return si(e,t,Fo(n))}function et(e,t){return n=t,r={},cn(e,(function(e,t){Pt(n,t)||(r[t]=e)})),r;var n,r}function tt(e){return d(e)?e:S}function nt(e,t,n){for(var r=e.dom,o=tt(n);r.parentNode;){r=r.parentNode;var i=On.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return Rt.none()}function rt(e){var t,n,r,o;return n=function(e){return e.can},r=t=e,o=function(e){return e.abort},{can:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return $t(t,(function(t,r){return t&&n(r).apply(void 0,e)}),!0)},abort:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $t(r,(function(t,n){return t||o(n).apply(void 0,e)}),!1)},run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Vt(e,(function(e){e.run.apply(void 0,t)}))}}}function ot(e){return v("alloy."+e)}function it(e,t){return{key:e,value:wi({abort:t})}}function at(e){return{key:e,value:wi({run:function(e,t){t.event.prevent()}})}}function ut(e,t,n){return{key:e,value:wi({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}}function ct(e,t,n){var r,o;t=t.partUids[n];return o=t,ya(r=e,(function(e,t){e.getSystem().getByUid(o).each((function(e){va(e,e.element,r,t)}))}))}function st(e,t){return wa(e)(t)}function lt(e){return e.dom.innerHTML}function ft(e,t){var n=gr(e).dom,r=On.fromDom(n.createDocumentFragment());t=_a(t,n);ao(r,t),uo(e),oo(e,r)}function dt(e,t){Object.defineProperty(e.dom,La,{value:t,writable:!0})}function mt(e){return e=En(e)?e.dom[La]:null,Rt.from(e)}function gt(e){function t(t){return"The component must be in a context to execute: "+t+(e?"\n"+Aa(e().element)+" is not in context.":"")}function n(e){return function(){throw new Error(t(e))}}function r(e){return function(){}}return{debugInfo:v("fake"),triggerEvent:r(),triggerFocus:r(),triggerEscape:r(),broadcast:r(),broadcastOn:r(),broadcastEvent:r(),build:n("build"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:S}}function ht(e,t){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:Va(i)}},e}function pt(e){return gi(Ua,e)}function vt(e){return ja((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,E([t.getApis(),t],n,!1))}),e)}function bt(e,t){var n={};return cn(e,(function(e,r){cn(e,(function(e,o){var i=gn(n,o).getOr([]);n[o]=i.concat([t(r,e)])}))})),n}function yt(e){return{classes:s(e.classes)?[]:e.classes,attributes:s(e.attributes)?{}:e.attributes,styles:s(e.styles)?{}:e.styles}}function wt(e,t,n,r){function o(e){return Wt(e,(function(e,t){return T(T({},t.modification),e)}),{})}var i=T({},t),a=(t=(Vt(n,(function(t){i[t.name()]=t.exhibit(e,r)})),bt(i,(function(e,t){return{name:e,modification:t}}))),n=Wt(t.classes,(function(e,t){return t.modification.concat(e)}),[]),o(t.attributes));t=o(t.styles);return yt({classes:n,attributes:a,styles:t})}function xt(e){return e.cHandler}function Ct(e,t){return{name:e,handler:t}}function St(e,t,n){var r,o;n=T(T({},n),(r=e,o={},Vt(t,(function(e){o[e.name()]=e.handlers(r)})),o));return bt(n,Ct)}function kt(e,t,n,r){var o;e=St(e,n,r);return o=t,n=dn(e,(function(e,t){return(1===e.length?Co.value(e[0].handler):Ka(e,o,t)).map((function(n){n=Xa(n);var r=1<e.length?Ut(o[t],(function(t){return It(e,(function(e){return e.name===t}))})).join(" > "):e[0].name;return gi(t,Ga(n,r))}))})),pi(n,{})}function Ot(e,t){return void 0===(e=Mr(e,t))||""===e?[]:e.split(" ")}function Tt(e,t){return n=e,t=Ft(e=t,(function(e){return ai(e.name(),[ri("config"),ci("state",$a)])})),t=Jo("component.behaviours",Fo(t),n.behaviours).fold((function(e){throw new Error(ei(e)+"\nComplete spec:\n"+JSON.stringify(n,null,2))}),b),{list:e,data:sn(t,(function(e){return e=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}})),v(e)}))};var n}function _t(e){t=gn(e,"behaviours").getOr({});var t,n=Yt(an(t),(function(e){return e=t[e],f(e)?[e.me]:[]}));return Tt(e,n)}function Et(e,t,n){var r=T(T({},(r=e).dom),{uid:r.uid,domChildren:Ft(r.components,(function(e){return e.element}))});e=e.domModification.fold((function(){return yt({})}),yt),n=0<t.length?wt(n,{"alloy.base.modification":e},t,r):e;return t=n,T(T({},e=r),{attributes:T(T({},e.attributes),t.attributes),styles:T(T({},e.styles),t.styles),classes:e.classes.concat(t.classes)})}function Dt(e){function t(){return l}var n,r=li(Fa),o=Qo(Jo("custom.definition",Ya,e)),i=(c=_t(e)).list,a=c.data,u=function(e){var t=On.fromTag(e.tag),n=(oe(t,e.attributes),ou(t,e.classes),Ir(t,e.styles),e.innerHtml.each((function(e){return ft(t,e)})),e.domChildren);return ao(t,n),e.value.each((function(e){uu(t,e)})),e.uid,dt(t,e.uid),t}(Et(o,i,a)),c=(c=a,n={"alloy.base.behaviour":o.events},kt(c,o.eventOrder,i,n).getOrDie()),s=li(o.components),l={uid:e.uid,getSystem:r.get,config:function(t){var n=a;return(d(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:function(e){return d(a[e.name()])},spec:e,readState:function(e){return a[e]().map((function(e){return e.state.readState()})).getOr("not enabled")},getApis:function(){return o.apis},connect:function(e){r.set(e)},disconnect:function(){r.set(gt(t))},element:u,syncComponents:function(){var e=br(u);e=Yt(e,(function(e){return r.get().getByDom(e).fold((function(){return[]}),H)}));s.set(e)},components:s.get,events:c};return l}var At,zt,Mt,Rt={some:M,none:D,from:function(e){return null==e?A:M(e)}},Nt=Array.prototype.slice,Bt=Array.prototype.indexOf,Ht=Array.prototype.push,Lt=function(e,t){return Bt.call(e,t)},Pt=function(e,t){return-1<Lt(e,t)},It=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},Ft=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},Vt=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},jt=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)},Ut=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Wt=function(e,t,n){return jt(e,(function(e,r){n=t(n,e,r)})),n},$t=function(e,t,n){return Vt(e,(function(e,r){n=t(n,e,r)})),n},qt=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return Rt.some(i);if(n(i,r))break}return Rt.none()},Gt=function(e,t){return qt(e,t,S)},Xt=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return Rt.some(n);return Rt.none()},Kt=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ht.apply(t,e[n])}return t},Yt=function(e,t){return Kt(Ft(e,t))},Jt=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},Qt=function(e){return e=Nt.call(e,0),e.reverse(),e},Zt=function(e,t){return Ut(e,(function(e){return!Pt(t,e)}))},en=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},tn=function(e,t){return 0<=t&&t<e.length?Rt.some(e[t]):Rt.none()},nn=function(e){return tn(e,0)},rn=d(Array.from)?Array.from:function(e){return Nt.call(e)},on=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return Rt.none()},an=Object.keys,un=Object.hasOwnProperty,cn=function(e,t){for(var n=an(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},sn=function(e,t){return ln(e,(function(e,n){return{k:n,v:t(e,n)}}))},ln=function(e,t){var n={};return cn(e,(function(e,r){e=t(e,r),n[e.k]=e.v})),n},fn=function(e,t){var n,r,o,i,a={};return n=t,i=a,r=function(e,t){i[t]=e},o=h,cn(e,(function(e,t){(n(e,t)?r:o)(e,t)})),a},dn=function(e,t){var n=[];return cn(e,(function(e,r){n.push(t(e,r))})),n},mn=function(e){return dn(e,b)},gn=function(e,t){return hn(e,t)?Rt.from(e[t]):Rt.none()},hn=function(e,t){return un.call(e,t)},pn=function(e,t){return hn(e,t)&&void 0!==e[t]&&null!==e[t]},vn=function(e,t,n){return void 0===n&&(n=y),e.exists((function(e){return n(e,t)}))},bn=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},yn=function(e,t,n){return e.isSome()&&t.isSome()?Rt.some(n(e.getOrDie(),t.getOrDie())):Rt.none()},wn=function(e,t){return e?Rt.some(t):Rt.none()},xn=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},Cn=function(e,t){return xn(e,t,e.length-t.length)},Sn=(At=/^\s+|\s+$/g,function(e){return e.replace(At,"")}),kn=function(e){return void 0!==e.style&&d(e.style.getPropertyValue)},On={fromHtml:function(e,t){if(t=(t||document).createElement("div"),t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw new Error("HTML must have a single root node");return U(t.childNodes[0])},fromTag:function(e,t){return t=(t||document).createElement(e),U(t)},fromText:function(e,t){return t=(t||document).createTextNode(e),U(t)},fromDom:U,fromPoint:function(e,t,n){return Rt.from(e.dom.elementFromPoint(t,n)).map(U)}},Tn=("undefined"!=typeof window||Function("return this;")(),1),_n=function(e){return e.dom.nodeName.toLowerCase()},En=W(Tn),Dn=W(3),An=W(9),zn=W(11),Mn=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Rn=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Nn=function(e,t){return{major:e,minor:t}},Bn={nu:Nn,detect:function(e,t){return t=String(t).toLowerCase(),0===e.length?q():$(e,t)},unknown:q},Hn=function(e,t){var n=String(t).toLowerCase();return Gt(e,(function(e){return e.search(n)}))},Ln=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pn=(Ln=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return V(e,"edge/")&&V(e,"chrome")&&V(e,"safari")&&V(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ln],search:function(e){return V(e,"chrome")&&!V(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return V(e,"msie")||V(e,"trident")}},{name:"Opera",versionRegexes:[Ln,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:G("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:G("firefox")},{name:"Safari",versionRegexes:[Ln,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(V(e,"safari")||V(e,"mobile/"))&&V(e,"applewebkit")}}],[{name:"Windows",search:G("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return V(e,"iphone")||V(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:G("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:G("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:G("linux"),versionRegexes:[]},{name:"Solaris",search:G("sunos"),versionRegexes:[]},{name:"FreeBSD",search:G("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:G("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]),In={browsers:v(Ln),oses:v(Pn)},Fn="Edge",Vn="Chrome",jn="IE",Un="Opera",Wn="Firefox",$n="Safari",qn=function(){return X({current:void 0,version:Bn.unknown()})},Gn=X,Xn=(v(Fn),v(Vn),v(jn),v(Un),v(Wn),v($n),"Windows"),Kn="iOS",Yn="Android",Jn="Linux",Qn="OSX",Zn="Solaris",er="FreeBSD",tr="ChromeOS",nr=function(){return K({current:void 0,version:Bn.unknown()})},rr=K,or=(v(Xn),v(Kn),v(Yn),v(Jn),v(Qn),v(Zn),v(er),v(tr),function(e,t,n){var r,o,i,a,u,c,s,l=In.browsers(),f=In.oses(),d=(t=t.bind((function(e){return t=l,on(e.brands,(function(e){var n=e.brand.toLowerCase();return Gt(t,(function(e){return n===(null===(e=e.brand)||void 0===e?void 0:e.toLowerCase())})).map((function(t){return{current:t.name,version:Bn.nu(parseInt(e.version,10),0)}}))}));var t})).orThunk((function(){return Hn(l,t=e).map((function(e){var n=Bn.detect(e.versionRegexes,t);return{current:e.name,version:n}}));var t})).fold(qn,Gn),f=Hn(f,r=e).map((function(e){var t=Bn.detect(e.versionRegexes,r);return{current:e.name,version:t}})).fold(nr,rr),i=t,a=e,n=n,d=(o=f).isiOS()&&!0===/ipad/i.test(a),u=o.isiOS()&&!d,c=o.isiOS()||o.isAndroid(),s=c||n("(pointer:coarse)"),n=d||!u&&c&&n("(min-device-width:768px)"),c=u||c&&!n,i=i.isSafari()&&o.isiOS()&&!1===/safari/i.test(a),a=!c&&!n&&!i,{isiPad:v(d),isiPhone:v(u),isTablet:v(n),isPhone:v(c),isTouch:v(s),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:v(i),isDesktop:v(a)});return{browser:t,os:f,deviceType:d}}),ir=Mn((function(){return or(navigator.userAgent,Rt.from(navigator.userAgentData),Y)})),ar=function(){return ir()},ur=function(e,t){if(e=e.dom,e.nodeType!==Tn)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},cr=function(e,t){return t=void 0===t?document:t.dom,J(t)?[]:Ft(t.querySelectorAll(e),On.fromDom)},sr=function(e,t){return t=void 0===t?document:t.dom,J(t)?Rt.none():Rt.from(t.querySelector(e)).map(On.fromDom)},lr=function(e,t){return e.dom===t.dom},fr=function(e,t){return e=e.dom,t=t.dom,e!==t&&e.contains(t)},dr=function(e,t){return e=e.dom,t=t.dom,n=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(e.compareDocumentPosition(t)&n);var n},mr=function(e,t){return(ar().browser.isIE()?dr:fr)(e,t)},gr=function(e){return On.fromDom(e.dom.ownerDocument)},hr=function(e){return An(e)?e:gr(e)},pr=function(e){return On.fromDom(hr(e).dom.documentElement)},vr=function(e){return Rt.from(e.dom.parentNode).map(On.fromDom)},br=function(e){return Ft(e.dom.childNodes,On.fromDom)},yr=function(e,t){return e=e.dom.childNodes,Rt.from(e[t]).map(On.fromDom)},wr=function(e){return yr(e,0)},xr=function(e){return zn(e)&&f(e.dom.host)},Cr=(Ln=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode),v(Ln)),Sr=Ln?function(e){return On.fromDom(e.dom.getRootNode())}:hr,kr=function(e){return xr(e)?e:On.fromDom(hr(e).dom.body)},Or=function(e){return ne(e).isSome()},Tr=function(e){return f(e.dom.shadowRoot)},_r=function(e){var t=Dn(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return ne(On.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=_r,r=re,function(e){return n(r(e))}))},Er=function(){return Dr(On.fromDom(document))},Dr=function(e){if(e=e.dom.body,null==e)throw new Error("Body is not available yet");return On.fromDom(e)},Ar=function(e,t,n){if(!(o(n)||c(n)||m(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")},zr=function(e,t,n){Ar(e.dom,t,n)},Mr=function(e,t){return e=e.dom.getAttribute(t),null===e?void 0:e},Rr=function(e,t){return Rt.from(Mr(e,t))},Nr=function(e,t){return e=e.dom,!(!e||!e.hasAttribute)&&e.hasAttribute(t)},Br=function(e,t){e.dom.removeAttribute(t)},Hr=function(e,t,n){if(!o(n))throw new Error("CSS value must be a string: "+n);kn(e)&&e.style.setProperty(t,n)},Lr=function(e,t){kn(e)&&e.style.removeProperty(t)},Pr=function(e,t,n){e=e.dom,Hr(e,t,n)},Ir=function(e,t){var n=e.dom;cn(t,(function(e,t){Hr(n,t,e)}))},Fr=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||_r(e)?r:Vr(n,t)},Vr=function(e,t){return kn(e)?e.style.getPropertyValue(t):""},jr=function(e,t){return e=e.dom,e=Vr(e,t),Rt.from(e).filter((function(e){return 0<e.length}))},Ur=function(e,t,n){return e=On.fromTag(e),Pr(e,t,n),jr(e,t).isSome()},Wr=function(e,t){var n=e.dom;Lr(n,t),vn(Rr(e,"style").map(Sn),"")&&Br(e,"style")},$r=function(e){return e.dom.offsetWidth},qr=ae("height",(function(e){var t=e.dom;return _r(e)?t.getBoundingClientRect().height:t.offsetHeight})),Gr=function(e){return qr.get(e)},Xr=function(e){return qr.getOuter(e)},Kr=ue,Yr=function(e){return e=e.getBoundingClientRect(),Kr(e.left,e.top)},Jr=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView;t=t.documentElement;if(n===e.dom)return Kr(n.offsetLeft,n.offsetTop);var o=ce(null==r?void 0:r.pageYOffset,t.scrollTop),i=(r=ce(null==r?void 0:r.pageXOffset,t.scrollLeft),ce(t.clientTop,n.clientTop));t=ce(t.clientLeft,n.clientLeft);return se(e).translate(r-t,o-i)},Qr=ae("width",(function(e){return e.dom.offsetWidth})),Zr=function(e){return Qr.get(e)},eo=function(e){return Qr.getOuter(e)},to=function(e,t,n,r){return fe(e,t,n,r,!1)},no=function(e,t){vr(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},ro=function(e,t){Rt.from(e.dom.nextSibling).map(On.fromDom).fold((function(){vr(e).each((function(e){oo(e,t)}))}),(function(e){no(e,t)}))},oo=function(e,t){e.dom.appendChild(t.dom)},io=function(e,t){Vt(t,(function(t){no(e,t)}))},ao=function(e,t){Vt(t,(function(t){oo(e,t)}))},uo=function(e){e.dom.textContent="",Vt(br(e),(function(e){co(e)}))},co=function(e){e=e.dom,null!==e.parentNode&&e.parentNode.removeChild(e)},so=function(e){e=void 0!==e?e.dom:document;var t=e.body.scrollLeft||e.documentElement.scrollLeft;e=e.body.scrollTop||e.documentElement.scrollTop;return Kr(t,e)},lo=function(e,t,n){n=(void 0!==n?n.dom:document).defaultView,n&&n.scrollTo(e,t)},fo=function(e){return e=void 0===e?window:e,ar().browser.isFirefox()?Rt.none():Rt.from(e.visualViewport)},mo=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},go=Object.freeze({__proto__:null,view:function(e){return(e.dom===document?Rt.none():Rt.from(null===(e=e.dom.defaultView)||void 0===e?void 0:e.frameElement)).map(On.fromDom)},owner:function(e){return gr(e)}}),ho=function(e){var t=On.fromDom(document),n=so(t);return function(e,t){return e=t.owner(e),t=pe(t,e),Rt.some(t)}(e,go).fold(w(Jr,e),(function(t){var r=se(e);t=Wt(t,(function(e,t){return t=se(t),{left:e.left+t.left,top:e.top+t.top}}),{left:0,top:0});return Kr(t.left+r.left+n.left,t.top+r.top+n.top)}))},po=function(e,t,n){return{point:e,width:t,height:n}},vo=function(e,t,n,r){return{x:e,y:t,width:n,height:r}},bo=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},yo=function(e){var t=Jr(e),n=eo(e);e=Xr(e);return bo(t.left,t.top,n,e)},wo=function(e){var t=ho(e),n=eo(e);e=Xr(e);return bo(t.left,t.top,n,e)},xo=function(){return he(window)},Co={value:ve,error:be,fromOption:function(e,t){return e.fold((function(){return be(t)}),ve)}},So=((Pn=zt=zt||{})[Pn.Error=0]="Error",Pn[Pn.Value=1]="Value",{fromResult:function(e){return e.fold(xe,we)},toResult:function(e){return ye(e,Co.error,Co.value)},svalue:we,partition:function(e){var t=[],n=[];return Vt(e,(function(e){ye(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},serror:xe,bind:function(e,t){return e.stype===zt.Value?t(e.svalue):e},bindError:function(e,t){return e.stype===zt.Error?t(e.serror):e},map:function(e,t){return e.stype===zt.Value?{stype:zt.Value,svalue:t(e.svalue)}:e},mapError:function(e,t){return e.stype===zt.Error?{stype:zt.Error,serror:t(e.serror)}:e},fold:ye}),ko=function(e,t,n,r){return{tag:"field",key:e,newKey:t,presence:n,prop:r}},Oo=function(e,t,n){switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},To=Ce((function(e,t){return i(e)&&i(t)?To(e,t):t})),_o=Ce((function(e,t){return t})),Eo=function(){return{tag:"required",process:{}}},Do=function(e){return{tag:"defaultedThunk",process:e}},Ao=function(e){return Do(v(e))},zo=function(){return{tag:"option",process:{}}},Mo=function(e){return e=So.partition(e),0<e.errors.length?ke(e.errors):So.svalue(e.values)},Ro=function(e){return i(e)&&100<an(e).length?" removed due to size":JSON.stringify(e,null,2)},No=function(e){return e=10<e.length?e.slice(0,10).concat([{path:[],getErrorInfo:v("... (only showing first ten failures)")}]):e,Ft(e,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))},Bo=function(e,t){return So.serror([{path:e,getErrorInfo:t}])},Ho=function(e,t){return Bo(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))},Lo=function(e){return{extract:function(t,n){return So.bindError(e(n),(function(e){return Bo(t,v(e))}))},toString:v("val")}},Po=(Ln=Lo(So.svalue),function(e,t,n,r,o){function i(e){return o.extract(t.concat([r]),e)}function a(e){return e.fold((function(){return So.svalue(Rt.none())}),(function(e){return e=o.extract(t.concat([r]),e),So.map(e,Rt.some)}))}var u,c;switch(e.tag){case"required":return Oe(t,n,r,i);case"defaultedThunk":return Te(n,r,e.process,i);case"option":return a(gn(n,r));case"defaultedOptionThunk":return u=n,c=e.process,a(gn(u,r).map((function(e){return!0===e?c(u):e})));case"mergeWithThunk":return Te(n,r,v({}),(function(t){return t=To(e.process(n),t),i(t)}))}}),Io=function(e){var t=Fo(e),n=Wt(e,(function(e,t){return Oo(t,(function(t){var n;return To(e,((n={})[t]=!0,n))}),v(e))}),{});return{extract:function(e,r){var o,i=c(r)?[]:an(fn(r,f));i=Ut(i,(function(e){return!pn(n,e)}));return 0===i.length?t.extract(e,r):(o=i,Bo(e,(function(){return"There are unsupported fields: ["+o.join(", ")+"] specified"})))},toString:t.toString}},Fo=function(e){return{extract:function(t,n){for(var r=t,o=n,i={},a=[],u=0,c=e;u<c.length;u++){var s=c[u];Oo(s,(function(e,t,n,u){n=Po(n,r,o,e,u),So.fold(n,(function(e){a.push.apply(a,e)}),(function(e){i[t]=e}))}),(function(e,t){i[e]=t(o)}))}return 0<a.length?So.serror(a):So.svalue(i)},toString:function(){return"obj{\n"+Ft(e,(function(e){return Oo(e,(function(e,t,n,r){return e+" -> "+r.toString()}),(function(e,t){return"state("+e+")"}))})).join("\n")+"}"}}},Vo=function(e){return{extract:function(t,n){return n=Ft(n,(function(n,r){return e.extract(t.concat(["["+r+"]"]),n)})),Mo(n)},toString:function(){return"array("+e.toString()+")"}}},jo=p(Vo,Fo),Uo=v(Ln),Wo=Ae(m,"number"),$o=Ae(o,"string"),qo=Ae(c,"boolean"),Go=Ae(d,"function"),Xo=(Pn=Lo((function(e){return ze(e)?So.svalue(e):So.serror("Expected value to be acceptable for sending via postMessage")})),function(e,t,n,r){return gn(n,r).fold((function(){return t=n,o=r,Bo(e,(function(){return'The chosen schema: "'+o+'" did not exist in branches: '+Ro(t)}));var t,o}),(function(n){return n.extract(e.concat(["branch: "+r]),t)}))}),Ko=function(e){return Lo((function(t){return e(t).fold(So.serror,So.svalue)}))},Yo=function(e,t,n){return t=t.extract([e],n),So.mapError(t,(function(e){return{input:n,errors:e}}))},Jo=function(e,t,n){return So.toResult(Yo(e,t,n))},Qo=function(e){return e.fold((function(e){throw new Error(ei(e))}),b)},Zo=function(e,t,n){return Qo(Jo(e,t,n))},ei=function(e){return"Errors: \n"+No(e.errors).join("\n")+"\n\nInput object: "+Ro(e.input)},ti=ko,ni=function(e,t){return{tag:"custom",newKey:e,instantiator:t}},ri=function(e){return ti(e,e,Eo(),Uo())},oi=function(e,t){return ti(e,e,Eo(),t)},ii=function(e,t){return ti(e,e,zo(),t)},ai=function(e,t){return ii(e,Fo(t))},ui=function(e,t){return ii(e,Io(t))},ci=function(e,t){return ti(e,e,Ao(t),Uo())},si=function(e,t,n){return ti(e,e,Ao(t),n)},li=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},fi=function(e){if(!a(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return Vt(e,(function(r,o){var i=an(r);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],c=r[u];if(void 0!==n[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!a(c))throw new Error("case arguments must be an array");t.push(u),n[u]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+i);return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:function(e){var r=an(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!Jt(t,(function(e){return Pt(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[u].apply(null,n)},log:function(e){}}}})),n},di=(fi([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e,t){var n={};return n[e]=t,n}),mi=function(e){var t={};return Vt(e,(function(e){t[e.key]=e.value})),t},gi=function(e,t){return di(e,t)},hi=function(e){return mi(e)},pi=function(e,t){n=[],r=[],Vt(e,(function(e){e.fold((function(e){n.push(e)}),(function(e){r.push(e)}))}));var n,r,o;e={errors:n,values:r};return 0<e.errors.length?(o=e.errors,Co.error(Kt(o))):(o=t,0===(t=e.values).length?Co.value(o):Co.value(To(o,_o.apply(void 0,t))))},vi=function(e,t,n){var r=t(e),o=tt(n);return r.orThunk((function(){return o(e)?Rt.none():nt(e,t,o)}))},bi=function(e,t){return lr(e.element,t.event.target)},yi={can:k,abort:S,run:h},wi=function(e){if(!pn(e,"can")&&!pn(e,"abort")&&!pn(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return T(T({},yi),e)},xi=v,Ci=xi("touchstart"),Si=xi("touchmove"),ki=xi("touchend"),Oi=xi("touchcancel"),Ti=xi("mousedown"),_i=xi("mousemove"),Ei=xi("mouseout"),Di=xi("mouseup"),Ai=xi("mouseover"),zi=xi("focusin"),Mi=xi("focusout"),Ri=xi("keydown"),Ni=xi("keyup"),Bi=xi("input"),Hi=xi("change"),Li=xi("click"),Pi=xi("transitioncancel"),Ii=xi("transitionend"),Fi=xi("transitionstart"),Vi=xi("selectstart"),ji=(xi={tap:ot("tap")},ot("focus")),Ui=ot("blur.post"),Wi=ot("paste.post"),$i=ot("receive"),qi=ot("execute"),Gi=ot("focus.item"),Xi=xi.tap,Ki=ot("longpress"),Yi=ot("sandbox.close"),Ji=ot("typeahead.cancel"),Qi=ot("system.init"),Zi=ot("system.touchmove"),ea=ot("system.touchend"),ta=ot("system.scroll"),na=ot("system.resize"),ra=ot("system.attached"),oa=ot("system.detached"),ia=ot("system.dismissRequested"),aa=(xi=ot("system.repositionRequested"),ot("focusmanager.shifted")),ua=ot("slotcontainer.visibility"),ca=ot("change.tab"),sa=ot("dismiss.tab"),la=ot("highlight"),fa=ot("dehighlight"),da=function(e,t){pa(e,e.element,t,{})},ma=function(e,t,n){pa(e,e.element,t,n)},ga=function(e){da(e,qi())},ha=function(e,t,n){pa(e,t,n,{})},pa=function(e,t,n,r){r=T({target:t},r),e.getSystem().triggerEvent(n,t,r)},va=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event)},ba=function(e){return hi(e)},ya=function(e,t){return{key:e,value:wi({run:t})}},wa=function(e){return function(t){return{key:e,value:wi({run:function(e,n){bi(e,n)&&t(e,n)}})}}},xa=function(e,t){return ya(e,(function(e,n){var r=n.event,o=e.getSystem().getByDom(r.target).getOrThunk((function(){return vi(r.target,(function(t){return e.getSystem().getByDom(t).toOptional()}),S).getOr(e)}));t(e,o,n)}))},Ca=function(e){return ya(e,(function(e,t){t.cut()}))},Sa=wa(ra()),ka=wa(oa()),Oa=wa(Qi()),Ta=(Mt=qi(),function(e){return ya(Mt,e)}),_a=function(e,t){return t=(t||document).createElement("div"),t.innerHTML=e,br(On.fromDom(t))},Ea=function(e){var t=On.fromTag("div");e=On.fromDom(e.dom.cloneNode(!0));return oo(t,e),lt(t)},Da=function(e){return t=!1,On.fromDom(e.dom.cloneNode(t));var t},Aa=function(e){return xr(e=e)?"#shadow-root":(e=Da(e),Ea(e))},za=ba([{key:ji(),value:wi({can:function(e,t){t=t.event;var n=t.originator;t=t.target;return t=t,!(lr(n=n,e.element)&&!lr(n,t))}})}]),Ma=Object.freeze({__proto__:null,events:za}),Ra=0,Na=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Ra+String(t)},Ba=(za=v("alloy-id-"),v("data-alloy-id")),Ha=za(),La=Ba(),Pa=function(e){return Na(e)},Ia=b,Fa=gt(),Va=function(e){return Ft(e,(function(e){return Cn(e,"/*")?e.substring(0,e.length-"/*".length):e}))},ja=function(e,t){t=t.toString();var n=t.indexOf(")")+1,r=t.indexOf("("),o=t.substring(r+1,n-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Va(o.slice(1))}},e},Ua=Na("alloy-premade"),Wa=function(e){return gn(e,Ua)},$a={init:function(){return qa({readState:v("No State required")})}},qa=function(e){return e},Ga=function(e,t){return{handler:e,purpose:t}},Xa=function(e){var t=d(e=e)?{can:k,abort:S,run:e}:e;return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];e=[e,n].concat(r),t.abort.apply(void 0,e)?n.stop():t.can.apply(void 0,e)&&t.run.apply(void 0,e)}},Ka=function(e,t,n){return t=t[n],t?function(e,t,n,r){try{var o=L(n,(function(n,o){n=n[t],o=o[t];var i=r.indexOf(n),a=r.indexOf(o);if(-1===i)throw new Error("The ordering for "+e+" does not have an entry for "+n+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===a)throw new Error("The ordering for "+e+" does not have an entry for "+o+".\nOrder specified: "+JSON.stringify(r,null,2));return i<a?-1:a<i?1:0}));return Co.value(o)}catch(n){return Co.error([n])}}("Event: "+n,"name",e,t).map((function(e){return e=Ft(e,(function(e){return e.handler})),rt(e)})):Co.error(["The event ("+n+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(Ft(e,(function(e){return e.name})),null,2)])},Ya=(za="alloy.base.behaviour",Fo([ti("dom","dom",Eo(),Fo([ri("tag"),ci("styles",{}),ci("classes",[]),ci("attributes",{}),je("value"),je("innerHtml")])),ri("components"),ri("uid"),ci("events",{}),ci("apis",{}),ti("eventOrder","eventOrder",((Ba={})[qi()]=["disabling",za,"toggling","typeaheadevents"],Ba[ji()]=[za,"focusing","keying"],Ba[Qi()]=[za,"disabling","toggling","representing"],Ba[Bi()]=[za,"representing","streaming","invalidating"],Ba[oa()]=[za,"representing","item-events","tooltipping"],Ba[Ti()]=["focusing",za,"item-type-events"],Ba[Ci()]=["focusing",za,"item-type-events"],Ba[Ai()]=["item-type-events","tooltipping"],Ba[$i()]=["receiving","reflecting","tooltipping"],Se(v(Ba))),Uo()),je("domModification")])),Ja=function(e){return void 0!==e.dom.classList},Qa=function(e,t){var n="class";return t=Ot(e,n).concat([t]),zr(e,n,t.join(" ")),!0},Za=function(e,t){return n=t,0<(r=Ut(Ot(t=e,e="class"),(function(e){return e!==n}))).length?zr(t,e,r.join(" ")):Br(t,e),!1;var n,r},eu=function(e,t){Ja(e)?e.dom.classList.add(t):Qa(e,t)},tu=function(e){0===(Ja(e)?e.dom.classList:Ot(e,"class")).length&&Br(e,"class")},nu=function(e,t){Ja(e)?e.dom.classList.remove(t):Za(e,t),tu(e)},ru=function(e,t){return Ja(e)&&e.dom.classList.contains(t)},ou=function(e,t){Vt(t,(function(t){eu(e,t)}))},iu=function(e,t){Vt(t,(function(t){nu(e,t)}))},au=function(e){return e.dom.value},uu=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},cu=function(e){e=Ia(e);var t=e.events,n=(e=_(e,["events"]),function(e){return e=gn(e,"components").getOr([]),Ft(e,mu)}(e));e=T(T({},e),{events:T(T({},Ma),t),components:n});return Co.value(Dt(e))},su=function(e){return e=On.fromText(e),lu({element:e})},lu=function(e){var t=Zo("external.component",Io([ri("element"),je("uid")]),e),n=li(gt()),r=t.uid.getOrThunk((function(){return Pa("external")})),o=(dt(t.element,r),{uid:r,getSystem:n.get,config:Rt.none,hasConfigured:S,connect:function(e){n.set(e)},disconnect:function(){n.set(gt((function(){return o})))},getApis:function(){return{}},element:t.element,spec:e,readState:v("No state"),syncComponents:h,components:v([]),events:{}});return pt(o)},fu=Pa,du=function(e){return hn(e,"uid")},mu=function(e){return Wa(e).getOrThunk((function(){var t=du(e)?e:T({uid:fu("")},e);return cu(t).getOrDie()}))},gu=pt;function hu(e,t,n,r,o){return e(n,r)?Rt.some(n):d(o)&&o(n)?Rt.none():t(n,r,o)}function pu(e,t,n){for(var r=e.dom,o=d(n)?n:S;r.parentNode;){r=r.parentNode;var i=On.fromDom(r);if(t(i))return Rt.some(i);if(o(i))break}return Rt.none()}function vu(e,t,n){return hu((function(e,t){return t(e)}),pu,e,t,n)}function bu(e,t,n){switch(gn(Nc.get(),e).orThunk((function(){var t=an(Nc.get());return on(t,(function(t){return-1<e.indexOf(t)?Rt.some(Nc.get()[t]):Rt.none()}))})).getOr(wc.NORMAL)){case wc.NORMAL:return n(Lc());case wc.LOGGING:var r=function(e){var t=[];return(new Date).getTime(),{logEventCut:function(e,n,r){t.push({outcome:"cut",target:n,purpose:r})},logEventStopped:function(e,n,r){t.push({outcome:"stopped",target:n,purpose:r})},logNoParent:function(e,n,r){t.push({outcome:"no-parent",target:n,purpose:r})},logEventNoHandlers:function(e,n){t.push({outcome:"no-handlers-left",target:n})},logEventResponse:function(e,n,r){t.push({outcome:"response",purpose:r,target:n})},write:function(){(new Date).getTime(),Pt(["mousemove","mouseover","mouseout",Qi()],e)}}}(e),o=n(r);return r.write(),o;case wc.STOP:return!0}}function yu(e,t,n){return bu(e,0,n)}function wu(){return Ie("markers",[ri("backgroundMenu")].concat(Pc()).concat(Ic()))}function xu(e){return Ie("markers",Ft(e,ri))}function Cu(e,t,n){return Hc(),ti(t,t,n,Ko((function(e){return Co.value((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)}))})))}function Su(e){return Cu(0,e,Ao(h))}function ku(e){return Cu(0,e,Ao(Rt.none))}function Ou(e){return Cu(0,e,Eo())}function Tu(e){return Cu(0,e,Eo())}function _u(e){return ni(e,b)}function Eu(e,t,n,r,o,i,a,u){return{x:e,y:t,bubble:n,direction:r,placement:o,restriction:i,label:a+"-"+o,alwaysFit:u=void 0!==u&&u}}function Du(e,t){return en(["left","right","top","bottom"],(function(n){return gn(t,n).map((function(t){return Qc(e,t)}))}))}function Au(e,t,n){function r(r,o){return t[r].map((function(t){var i="top"===r||"bottom"===r,a=i?n.top:n.left;t=("left"===r||"top"===r?Math.max:Math.min)(t,o)+a;return i?Jc(t,e.y,e.bottom):Jc(t,e.x,e.right)})).getOr(o)}var o=r("left",e.x),i=r("top",e.y),a=r("right",e.right),u=r("bottom",e.bottom);return bo(o,i,a-o,u-i)}function zu(e,t){return e.x+e.width/2-t.width/2}function Mu(e,t){return e.x+e.width-t.width}function Ru(e,t){return e.y-t.height}function Nu(e){return e.y+e.height}function Bu(e,t){return e.y+e.height/2-t.height/2}function Hu(){return[es,ts,ns,rs,is,os,as,us]}function Lu(){return[ts,es,rs,ns,is,os,as,us]}function Pu(e,t,n){return Oa((function(r,o){n(r,e,t)}))}function Iu(e,t,n){var r,o,i,a,u,c;return r=function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=[r].concat(o);return r.config({name:v(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(a,1);return t.apply(void 0,[r,e.config,e.state].concat(n))}))},o=n,i=(i=t).toString(),a=i.indexOf(")")+1,u=i.indexOf("("),c=i.substring(u+1,a-1).split(/,\s*/),r.toFunctionAnnotation=function(){return{name:o,parameters:Va(c.slice(0,1).concat(c.slice(3)))}},r}function Fu(e){return{key:e,value:void 0}}function Vu(e){var t,n,r,o,i,a;e=Zo("Creating behaviour: "+e.name,hs,e);return t=e.fields,n=e.name,r=e.active,o=e.apis,i=e.extra,e=e.state,a=Io(t),t=ai(n,[ui("config",t)]),ms(a,t,n,r,o,i,e)}function ju(e){var t,n,r,o,i,a;e=Zo("Creating behaviour: "+e.name,ps,e);return t=Ne(e.branchKey,e.branches),n=e.name,r=e.active,o=e.apis,i=e.extra,e=e.state,t=ai(n,[ii("config",a=t)]),ms(a,t,n,r,o,i,e)}function Uu(e){var t=Sr(e).dom;return e.dom===t.activeElement}function Wu(e,t){var n=Sr(t),r=xs(n).bind((function(e){function n(t){return lr(e,t)}return n(t)?Rt.some(t):kc(t,n)}));e=e(t);return r.each((function(e){xs(n).filter((function(t){return lr(t,e)})).fold((function(){ws(e)}),h)})),e}function $u(e,t,n,r,o){function i(e){return e+"px"}return{position:e,left:t.map(i),top:n.map(i),right:r.map(i),bottom:o.map(i)}}function qu(e,t){ie(e,T(T({},e=t),{position:Rt.some(e.position)}))}function Gu(e,t,n,r,o,i){var a,u,c,s=t.rect,l=(n=s.x-n,r=s.y-r,o=o-(n+s.width),i=i-(r+s.height),Rt.some(n)),f=Rt.some(r),d=Rt.some(o),m=Rt.some(i),g=Rt.none();return s=t.direction,n=function(){return $u(e,l,f,g,g)},r=function(){return $u(e,g,f,d,g)},o=function(){return $u(e,l,g,g,m)},i=function(){return $u(e,g,g,d,m)},t=function(){return $u(e,l,f,g,g)},a=function(){return $u(e,l,g,g,m)},u=function(){return $u(e,l,f,g,g)},c=function(){return $u(e,g,f,d,g)},s.fold(n,r,o,i,t,a,u,c)}function Xu(e,t){return e.fold((function(){var e=t.rect;return $u("absolute",Rt.some(e.x),Rt.some(e.y),Rt.none(),Rt.none())}),(function(e,n,r,o){return Gu("absolute",t,e,n,r,o)}),(function(e,n,r,o){return Gu("fixed",t,e,n,r,o)}))}function Ku(e,t){var n=w(ho,t),r=(e=e.fold(n,n,(function(){var e=so();return ho(t).translate(-e.left,-e.top)})),n=eo(t),Xr(t));return bo(e.left,e.top,n,r)}function Yu(e,t,n){var r=Kr(t,n);return e.fold(v(r),v(r),(function(){var e=so();return r.translate(-e.left,-e.top)}))}function Ju(e){return Rr(e,_s)}function Qu(e,t,n,r){var o,i,a,u=e.bubble,c=u.offset,s=Au(r,e.restriction,c),l=e.x+c.left,f=(c=e.y+c.top,l=bo(l,c,t,n),t=l,o=(n=s).x,a=n.y,d=n.right,n=n.bottom,m=l.x,h=l.y,g=l.right,i=l.bottom,f=l.width,t=l.height,{originInBounds:o<=m&&m<=d&&a<=h&&h<=n,sizeInBounds:g<=d&&o<=g&&i<=n&&a<=i,visibleW:Math.min(f,o<=m?d-m:g-o),visibleH:Math.min(t,a<=h?n-h:i-a)}),d=f.visibleW,m=f.visibleH,g=f.originInBounds&&f.sizeInBounds,h=g?l:(o=l,n=(t=s).x,h=t.y,i=t.right,t=t.bottom,a=o.x,f=o.y,l=o.width,o=o.height,s=Math.max(n,i-l),p=Math.max(h,t-o),a=Jc(a,n,s),n=Jc(f,h,p),s=Math.min(a+l,i)-a,f=Math.min(n+o,t)-n,bo(a,n,s,f)),p=0<h.width&&0<h.height;l=e.direction,i=r,t=v((o=h).bottom-i.y),a=v(i.bottom-o.y),t=l.fold(a,a,t,t,a,t,a,a),a=v(o.right-i.x),i=v(i.right-o.x),n={maxWidth:l.fold(i,a,i,a,i,i,i,a),maxHeight:t},s={rect:h,maxHeight:n.maxHeight,maxWidth:n.maxWidth,direction:e.direction,placement:e.placement,classes:{on:u.classesOn,off:u.classesOff},layout:e.label,testY:c};return g||e.alwaysFit?Es.fit(s):Es.nofit(s,d,m,p)}function Zu(e,t,n,r,o,i){function a(t,a,s,l,f){t=t(n,r,o,e,i);var d=Qu(t,u,c,i);return d.fold(v(d),(function(e,t,n,r){return(f===r?l<n||s<t:!f&&r)?d:Es.nofit(a,s,l,f)}))}var u=r.width,c=r.height;return $t(t,(function(e,t){return t=w(a,t),e.fold(v(e),t)}),Es.nofit({rect:n,maxHeight:r.height,maxWidth:r.width,direction:jc(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1)).fold(b,b)}function ec(){return Ds((function(e){return e.destroy()}))}function tc(e,t){return n=e,e=t.classes,Jt(e,(function(e){return ru(n,e)}));var n}function nc(e,t){function n(e){return parseFloat(e).toFixed(3)}return I(t,(function(t,r){var o;r=e[r].map(n),t=t.map(n);return!yn(r=r,t=t,o=void 0===o?y:o).getOr(r.isNone()&&t.isNone())})).isSome()}function rc(e){function t(t){return t=Fr(e,t),t=o(t)?t.split(/\s*,\s*/):[],Ut(t,j)}function n(e){var t;return o(e)&&/^[\d.]+/.test(e)?(t=parseFloat(e),Cn(e,"ms")?t:1e3*t):0}var r=t("transition-delay"),i=t("transition-duration");return $t(i,(function(e,t,o){return o=n(r[o])+n(t),Math.max(e,o)}),0)}function oc(e,t){function n(n){(l(n)||c(n))&&(a.clear(),u.clear(),n=null==n?void 0:n.raw.type,!l(n)&&n!==Ii()||(clearTimeout(o),Br(e,Ps),iu(e,t.classes)))}function r(){a.set(Ns(e,Ii(),n)),u.set(Ns(e,Pi(),n))}var o,i,a=As(),u=As(),c=function(t){var n=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return lr(t.target,e)&&!j(n)&&Pt(Ls,t.raw.propertyName)},s=("ontransitionstart"in e.dom?i=Ns(e,Fi(),(function(e){c(e)&&(i.unbind(),r())})):r(),rc(e));requestAnimationFrame((function(){o=setTimeout(n,s+17),zr(e,Ps,o)}))}function ic(e,t,n,r,o,i){var a,u,c,s,l;a=r,u=o,(i=i.exists((function(e){var t=a.mode;return"all"===t||e[t]!==u[t]})))||tc(e,r)?(Pr(e,"position",n.position),c=Ku(t,e),s=Xu(t,T(T({},o),{rect:c})),t=en(Ls,(function(e){return s[e]})),nc(n,t)&&(ie(e,t),i&&(ou(l=e,(o=r).classes),Rr(l,Ps).each((function(e){clearTimeout(parseInt(e,10)),Br(l,Ps)})),oc(l,o)),$r(e))):iu(e,r.classes)}function ac(e,t){t=Math.floor(t),t=qr.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]),Pr(e,"max-height",t+"px")}function uc(e,t,n){return void 0===e[t]?n:e[t]}function cc(){return ai("layouts",[ri("onLtr"),ri("onRtl"),je("onBottomLtr"),je("onBottomRtl")])}function sc(e){return e.fold(b,(function(e,t,n){return e.translate(-t,-n)}))}function lc(e){return e.fold(b,b)}function fc(e){return $t(e,(function(e,t){return e.translate(t.left,t.top)}),Kr(0,0))}function dc(e,t,n){var r=gr(e.element);r=so(r),e=sl(e,t,n).getOr(r);return cl(e,r.left,r.top)}function mc(e,t,n,r){return e=ul(Kr(e,t)),Rt.some(po(e,n,r))}function gc(e,t,n,r,o){return e.map((function(e){var i=[t,e.point],a=Ss(r,(function(){return al(i)}),(function(){return al(i)}),(function(){return il(i)})),u=(a=vo(a.left,a.top,e.width,e.height),e=(n.showAbove?cs:ls)(),(n.showAbove?ss:fs)());e=nl(o,n,e,u,e,u,Rt.none());return Js({anchorBox:a,bubble:n.bubble.getOr(Ys()),overrides:n.overrides,layouts:e,placer:Rt.none()})}))}function hc(e,t,n){var r,o;e=e.document.createRange();return r=e,t.fold((function(e){r.setStartBefore(e.dom)}),(function(e,t){r.setStart(e.dom,t)}),(function(e){r.setStartAfter(e.dom)})),o=e,n.fold((function(e){o.setEndBefore(e.dom)}),(function(e,t){o.setEnd(e.dom,t)}),(function(e){o.setEndAfter(e.dom)})),e}function pc(e,t,n,r,o){return(e=e.document.createRange()).setStart(t.dom,n),e.setEnd(r.dom,o),e}function vc(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}function bc(e,t,n){return t(On.fromDom(n.startContainer),n.startOffset,On.fromDom(n.endContainer),n.endOffset)}function yc(e,t){n=e;var n,r;e=t.match({domRange:function(e){return{ltr:v(e),rtl:Rt.none}},relative:function(e,t){return{ltr:Mn((function(){return hc(n,e,t)})),rtl:Mn((function(){return Rt.some(hc(n,t,e))}))}},exact:function(e,t,r,o){return{ltr:Mn((function(){return pc(n,e,t,r,o)})),rtl:Mn((function(){return Rt.some(pc(n,r,o,e,t))}))}}});return(r=(t=e).ltr()).collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return vl.rtl(On.fromDom(e.endContainer),e.endOffset,On.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return bc(0,vl.ltr,r)})):bc(0,vl.ltr,r)}var wc,xc,Cc,Sc,kc=function(e,t){function n(e){for(var r=0;r<e.childNodes.length;r++){var o=On.fromDom(e.childNodes[r]);if(t(o))return Rt.some(o);if(o=n(e.childNodes[r]),o.isSome())return o}return Rt.none()}return n(e.dom)},Oc=function(e,t,n){return vu(e,t,n).isSome()},Tc=function(e,t,n){return pu(e,(function(e){return ur(e,t)}),n)},_c=function(e,t){return n=function(e){return ur(e,t)},Gt(e.dom.childNodes,(function(e){return n(On.fromDom(e))})).map(On.fromDom);var n},Ec=function(e,t){return sr(t,e)},Dc=function(e,t,n){return hu((function(e,t){return ur(e,t)}),Tc,e,t,n)},Ac=function(){var e=Na("aria-owns");return{id:e,link:function(t){zr(t,"aria-owns",e)},unlink:function(e){Br(e,"aria-owns")}}},zc=function(e,t){return vu(t,(function(e){return!!En(e)&&(e=Mr(e,"id"),void 0!==e&&-1<e.indexOf("aria-owns"))})).bind((function(e){var t=Mr(e,"id");e=Sr(e);return Ec(e,'[aria-owns="'+t+'"]')})).exists((function(t){return Mc(e,t)}))},Mc=function(e,t){return Oc(t,(function(t){return lr(t,e.element)}),S)||zc(e,t)},Rc="unknown",Nc=((za=wc=wc||{})[za.STOP=0]="STOP",za[za.NORMAL=1]="NORMAL",za[za.LOGGING=2]="LOGGING",li({})),Bc=["alloy/data/Fields","alloy/debugging/Debugging"],Hc=function(){var e=new Error;return void 0!==e.stack?(e=e.stack.split("\n"),Gt(e,(function(e){return 0<e.indexOf("alloy")&&!It(Bc,(function(t){return-1<e.indexOf(t)}))})).getOr(Rc)):Rc},Lc=v({logEventCut:h,logEventStopped:h,logNoParent:h,logEventNoHandlers:h,logEventResponse:h,write:h}),Pc=v([ri("menu"),ri("selectedMenu")]),Ic=v([ri("item"),ri("selectedItem")]),Fc=(Ba=(v(Fo(Ic().concat(Pc()))),v(Fo(Ic()))),za=Ie("initSize",[ri("numColumns"),ri("numRows")]),function(e,t){return ni(e,v(t))}),Vc=(za=v(za),fi([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}])),jc=Vc.southeast,Uc=Vc.southwest,Wc=Vc.northeast,$c=Vc.northwest,qc=Vc.south,Gc=Vc.north,Xc=Vc.east,Kc=Vc.west,Yc=function(e,t,n,r){return e+=t,r<e?n:e<n?r:e},Jc=function(e,t,n){return Math.min(Math.max(e,t),n)},Qc=function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},Zc="layout",es=function(e,t,n){return Eu(e.x,Nu(e),n.southeast(),jc(),"southeast",Du(e,{left:1,top:3}),Zc)},ts=function(e,t,n){return Eu(Mu(e,t),Nu(e),n.southwest(),Uc(),"southwest",Du(e,{right:0,top:3}),Zc)},ns=function(e,t,n){return Eu(e.x,Ru(e,t),n.northeast(),Wc(),"northeast",Du(e,{left:1,bottom:2}),Zc)},rs=function(e,t,n){return Eu(Mu(e,t),Ru(e,t),n.northwest(),$c(),"northwest",Du(e,{right:0,bottom:2}),Zc)},os=function(e,t,n){return Eu(zu(e,t),Ru(e,t),n.north(),Gc(),"north",Du(e,{bottom:2}),Zc)},is=function(e,t,n){return Eu(zu(e,t),Nu(e),n.south(),qc(),"south",Du(e,{top:3}),Zc)},as=function(e,t,n){return Eu(e.x+e.width,Bu(e,t),n.east(),Xc(),"east",Du(e,{left:0}),Zc)},us=function(e,t,n){return Eu(e.x-t.width,Bu(e,t),n.west(),Kc(),"west",Du(e,{right:1}),Zc)},cs=function(){return[ns,rs,es,ts,os,is]},ss=function(){return[rs,ns,ts,es,os,is]},ls=function(){return[es,ts,ns,rs,is,os]},fs=function(){return[ts,es,rs,ns,is,os]},ds=(Vc=Object.freeze({__proto__:null,events:function(e){return ba([ya($i(),(function(t,n){var r,o=e.channels,i=an(o),a=n;n=i,i=(r=a).universal?n:Ut(n,(function(e){return Pt(r.channels,e)}));Vt(i,(function(e){var n=o[e],r=n.schema;e=Zo("channel["+e+"] data\nReceiver: "+Aa(t.element),r,a.data);n.onReceive(t,e)}))}))])}}),[oi("channels",Re(Co.value,Io([Ou("onReceive"),ci("schema",Uo())])))]),ms=function(e,t,n,r,o,i,a){function u(e){return pn(e,n)?e[n]():Rt.none()}o=sn(o,(function(e,t){return Iu(n,e,t)})),i=sn(i,ht);var c=T(T(T({},i),o),{revoke:w(Fu,n),config:function(t){var r=Zo(n+"-config",e,t);return{key:n,value:{config:r,me:c,configAsRaw:Mn((function(){return Zo(n+"-config",e,t)})),initialConfig:t,state:a}}},schema:v(t),exhibit:function(e,t){return yn(u(e),gn(r,"exhibit"),(function(e,n){return n(t,e.config,e.state)})).getOrThunk((function(){return yt({})}))},name:v(n),handlers:function(e){return u(e).map((function(e){return gn(r,"events").getOr((function(){return{}}))(e.config,e.state)})).getOr({})}});return c},gs=function(e){return hi(e)},hs=Io([ri("fields"),ri("name"),ci("active",{}),ci("apis",{}),ci("state",$a),ci("extra",{})]),ps=Io([ri("branchKey"),ri("branches"),ri("name"),ci("active",{}),ci("apis",{}),ci("state",$a),ci("extra",{})]),vs=v(void 0),bs=Vu({fields:ds,name:"receiving",active:Vc}),ys=(ds=Object.freeze({__proto__:null,exhibit:function(e,t){return yt({classes:[],styles:t.useFixed()?{}:{position:"relative"}})}}),function(){return On.fromDom(document)}),ws=function(e){return e.dom.focus()},xs=function(e){return void 0===e&&(e=ys()),Rt.from(e.dom.activeElement).map(On.fromDom)},Cs=function(e){return xs(Sr(e)).filter((function(t){return e.dom.contains(t.dom)}))},Ss=(Vc=fi([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),function(e,t,n,r){return e.fold(t,n,r)}),ks=(Vc.none,Vc.relative),Os=Vc.fixed,Ts=function(e,t){return{anchorBox:e,origin:t}},_s="data-alloy-placement",Es=fi([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ds=function(e){function t(){return n.get().each(e)}var n=li(Rt.none());return{clear:function(){t(),n.set(Rt.none())},isSet:function(){return n.get().isSome()},get:function(){return n.get()},set:function(e){t(),n.set(Rt.some(e))}}},As=function(){return Ds((function(e){return e.unbind()}))},zs=function(){var e=ec();return T(T({},e),{run:function(t){return e.get().each(t)}})},Ms=function(){var e=Ds(h);return T(T({},e),{on:function(t){return e.get().each(t)}})},Rs=k,Ns=function(e,t,n){return to(e,t,Rs,n)},Bs=function(e,t,n){return fe(e,t,Rs,n,!0)},Hs=le,Ls=["top","bottom","right","left"],Ps="data-alloy-transition-timer",Is=function(e,t,n,r){Wr(t,"max-height"),Wr(t,"max-width");var o={width:eo(o=t),height:Xr(o)};return Zu(t,r.preference,e,o,n,r.bounds)},Fs=function(e,t){t=t.classes,iu(e,t.off),ou(e,t.on)},Vs=function(e,t,n){(0,n.maxHeightFunction)(e,t.maxHeight)},js=function(e,t,n){(0,n.maxWidthFunction)(e,t.maxWidth)},Us=function(e,t,n){var r=Xu(n.origin,t);n.transition.each((function(o){ic(e,n.origin,r,o,t,n.lastPlacement)})),qu(e,r)},Ws=function(e,t){t=t.placement,zr(e,_s,t)},$s=v((function(e,t){ac(e,t),Ir(e,{"overflow-x":"hidden","overflow-y":"auto"})})),qs=v((function(e,t){ac(e,t)})),Gs=function(e,t,n,r,o,i,a,u){var c,s=uc(a,"maxHeightFunction",$s()),l=(a=uc(a,"maxWidthFunction",h),e.anchorBox);e=e.origin,i={bounds:(c=e,i.fold((function(){return c.fold(xo,xo,bo)}),(function(e){return c.fold(e,e,(function(){var t=e(),n=Yu(c,t.x,t.y);return bo(n.left,n.top,t.width,t.height)}))}))),origin:e,preference:r,maxHeightFunction:s,maxWidthFunction:a,lastPlacement:o,transition:u};return s=Is(l,e=t,n,r=i),Us(e,s,r),Ws(e,s),Fs(e,s),Vs(e,s,r),js(e,s,r),{layout:s.layout,placement:s.placement}},Xs=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Ks=function(e,t,n,r){function o(e){return gn(n,e).getOr([])}function i(e,t,n){var r=Zt(Xs,n);return{offset:Kr(e,t),classesOn:Yt(n,o),classesOff:Yt(r,o)}}var a=e*(r=void 0===r?1:r),u=t*r;return{southeast:function(){return i(-e,t,["top","alignLeft"])},southwest:function(){return i(e,t,["top","alignRight"])},south:function(){return i(-e/2,t,["top","alignCentre"])},northeast:function(){return i(-e,-t,["bottom","alignLeft"])},northwest:function(){return i(e,-t,["bottom","alignRight"])},north:function(){return i(-e/2,-t,["bottom","alignCentre"])},east:function(){return i(e,-t/2,["valignCentre","left"])},west:function(){return i(-e,-t/2,["valignCentre","right"])},insetNortheast:function(){return i(a,u,["top","alignLeft","inset"])},insetNorthwest:function(){return i(-a,u,["top","alignRight","inset"])},insetNorth:function(){return i(-a/2,u,["top","alignCentre","inset"])},insetSoutheast:function(){return i(a,-u,["bottom","alignLeft","inset"])},insetSouthwest:function(){return i(-a,-u,["bottom","alignRight","inset"])},insetSouth:function(){return i(-a/2,-u,["bottom","alignCentre","inset"])},insetEast:function(){return i(-a,-u/2,["valignCentre","right","inset"])},insetWest:function(){return i(a,-u/2,["valignCentre","left","inset"])}}},Ys=function(){return Ks(0,0,{})},Js=b,Qs=function(e,t){return function(n){return"rtl"===Zs(n)?t:e}},Zs=function(e){return"rtl"===Fr(e,"direction")?"rtl":"ltr"},el=((Vc=xc=xc||{}).TopToBottom="toptobottom",Vc.BottomToTop="bottomtotop","data-alloy-vertical-dir"),tl=function(e){return Oc(e,(function(e){return En(e)&&Mr(e,"data-alloy-vertical-dir")===xc.BottomToTop}))},nl=function(e,t,n,r,o,i,a){a=a.map(tl).getOr(!1);var u=t.layouts.map((function(t){return t.onLtr(e)})),c=t.layouts.map((function(t){return t.onRtl(e)}));o=a?t.layouts.bind((function(t){return t.onBottomLtr.map((function(t){return t(e)}))})).or(u).getOr(o):u.getOr(n),u=a?t.layouts.bind((function(t){return t.onBottomRtl.map((function(t){return t(e)}))})).or(c).getOr(i):c.getOr(r);return Qs(o,u)(e)},rl=(Vc=[ri("hotspot"),je("bubble"),ci("overrides",{}),cc(),Fc("placement",(function(e,t,n){var r=t.hotspot;n=Ku(n,r.element),r=nl(e.element,t,ls(),fs(),cs(),ss(),Rt.some(t.hotspot.element));return Rt.some(Js({anchorBox:n,bubble:t.bubble.getOr(Ys()),overrides:t.overrides,layouts:r,placer:Rt.none()}))}))],[ri("x"),ri("y"),ci("height",0),ci("width",0),ci("bubble",Ys()),ci("overrides",{}),cc(),Fc("placement",(function(e,t,n){return n=Yu(n,t.x,t.y),n=bo(n.left,n.top,t.width,t.height),e=nl(e.element,t,Hu(),Lu(),Hu(),Lu(),Rt.none()),Rt.some(Js({anchorBox:n,bubble:t.bubble,overrides:t.overrides,layouts:e,placer:Rt.none()}))}))]),ol=fi([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),il=function(e){return e=Ft(e,sc),fc(e)},al=function(e){return e=Ft(e,lc),fc(e)},ul=ol.screen,cl=ol.absolute,sl=function(e,t,n){return n=Q(n.root).dom,Rt.from(n.frameElement).map(On.fromDom).filter((function(t){t=gr(t);var n=gr(e.element);return lr(t,n)})).map(Jr)},ll=(ol=[ri("node"),ri("root"),je("bubble"),cc(),ci("overrides",{}),ci("showAbove",!1),Fc("placement",(function(e,t,n){var r=dc(e,n,t);return t.node.filter(_r).bind((function(o){o=o.dom.getBoundingClientRect(),o=mc(o.left,o.top,o.width,o.height);var i=t.node.getOr(e.element);return gc(o,r,t,n,i)}))}))],function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}}),fl=fi([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),dl={before:fl.before,on:fl.on,after:fl.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(b,b,b)}},ml=fi([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),gl={domRange:ml.domRange,relative:ml.relative,exact:ml.exact,exactFromRange:function(e){return ml.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){return e=e.match({domRange:function(e){return On.fromDom(e.startContainer)},relative:function(e,t){return dl.getStart(e)},exact:function(e,t,n,r){return e}}),Q(e)},range:ll},hl=function(e){var t=e.getClientRects();t=0<t.length?t[0]:e.getBoundingClientRect();return 0<t.width||0<t.height?Rt.some(t).map(vc):Rt.none()},pl=function(e){return e=e.getBoundingClientRect(),0<e.width||0<e.height?Rt.some(e).map(vc):Rt.none()},vl=fi([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),bl=function(e,t){return yc(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom,o),i.setEnd(t.dom,n),i}})},yl=(vl.ltr,vl.rtl,Cc=Dn,Sc="text",{get:function(e){if(!Cc(e))throw new Error("Can only get "+Sc+" value of a "+Sc+" node");return wl(e).getOr("")},getOption:wl,set:function(e,t){if(!Cc(e))throw new Error("Can only set raw "+Sc+" value of a "+Sc+" node");e.dom.nodeValue=t}});function wl(e){return Cc(e)?Rt.from(e.dom.nodeValue):Rt.none()}function xl(e){return yl.getOption(e)}function Cl(e){return xl(e).filter((function(e){return 0!==e.trim().length||-1<e.indexOf(" ")})).isSome()||Pt(Qd,_n(e))}function Sl(e,t,n,r){c=t,o=n,i=r,(a=gr(u=e).dom.createRange()).setStart(u.dom,c),a.setEnd(o.dom,i);var o,i,a,u=a,c=lr(e,n)&&t===r;return u.collapsed&&!c}function kl(e){var t;return 0<e.rangeCount?(t=e.getRangeAt(0),e=e.getRangeAt(e.rangeCount-1),Rt.some(ll(On.fromDom(t.startContainer),t.startOffset,On.fromDom(e.endContainer),e.endOffset))):Rt.none()}function Ol(e){var t,n;return null===e.anchorNode||null===e.focusNode?kl(e):(t=On.fromDom(e.anchorNode),n=On.fromDom(e.focusNode),Sl(t,e.anchorOffset,n,e.focusOffset)?Rt.some(ll(t,e.anchorOffset,n,e.focusOffset)):kl(e))}function Tl(e,t){return e=bl(e,t),hl(e)}function _l(e,t){return{element:e,offset:t}}function El(e,t){var n=br(e);return 0===n.length?_l(e,t):t<n.length?_l(n[t],0):(e=n[n.length-1],t=Dn(e)?yl.get(e).length:br(e).length,_l(e,t))}function Dl(e,t){return t.getSelection.getOrThunk((function(){return function(){return tm(e)}}))().map((function(e){var t=nm(e.start,e.soffset);e=nm(e.finish,e.foffset);return gl.range(t.element,t.offset,e.element,e.offset)}))}function Al(e){return e.x+e.width}function zl(e,t){return e.x-t.width}function Ml(e,t){return e.y-t.height+e.height}function Rl(){return[om,im,am,um]}function Nl(){return[im,om,um,am]}function Bl(e,t,n,r,o,i,a){return t=Ts(n.anchorBox,t),Gs(t,o.element,n.bubble,n.layouts,i,r,n.overrides,a)}function Hl(e,t,n,r,o,i){return i=i.map(yo),lm(e,t,n,r,o,i)}function Ll(e,t){var n=e.components();hm(e),n=Zt(n,t);Vt(n,(function(t){dm(t),e.getSystem().removeFromWorld(t)})),Vt(t,(function(t){t.getSystem().isConnected()?gm(e,t):(e.getSystem().addToWorld(t),gm(e,t),_r(e.element)&&mm(t)),e.syncComponents()}))}function Pl(e){var t=vr(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}));bm(e),t.each((function(e){e.syncComponents()}))}function Il(e,t){wm(e,t,oo)}function Fl(e){var t=br(e.element);Vt(t,(function(t){e.getByDom(t).each(dm)})),co(e.element)}function Vl(e,t,n,r){return n.get().each((function(t){ym(e)})),t=t.getAttachPoint(e),pm(t,e),t=e.getSystem().build(r),pm(e,t),n.set(t),t}function jl(e,t,n,r){return n=Vl(e,t,n,r),t.onOpen(e,n),n}function Ul(e,t,n){n.get().each((function(r){ym(e),Pl(e),t.onClose(e,r),n.clear()}))}function Wl(e,t,n){return n.isOpen()}function $l(e,t,n){var r,o,i=t.getAttachPoint(e);Pr(e.element,"position",fm.getMode(i)),r=e,i="visibility",o=t.cloakVisibilityAttr,e="hidden",jr(r.element,i).fold((function(){Br(r.element,o)}),(function(e){zr(r.element,o,e)})),Pr(r.element,i,e)}function ql(e,t,n){var r,o,i;r=e.element,It(["top","left","right","bottom"],(function(e){return jr(r,e).isSome()}))||Wr(e.element,"position"),o=e,i="visibility",e=t.cloakVisibilityAttr,Rr(o.element,e).fold((function(){return Wr(o.element,i)}),(function(e){return Pr(o.element,i,e)}))}function Gl(e,t,n){t.store.manager.onLoad(e,t,n)}function Xl(e,t,n){t.store.manager.onUnload(e,t,n)}function Kl(){var e=li(null);return qa({set:e.set,get:e.get,isNotSet:function(){return null===e.get()},clear:function(){e.set(null)},readState:function(){return{mode:"memory",value:e.get()}}})}function Yl(){var e=li({}),t=li({});return qa({readState:function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},lookup:function(n){return gn(e.get(),n).orThunk((function(){return gn(t.get(),n)}))},update:function(n){var r=e.get(),o=t.get(),i={},a={};Vt(n,(function(e){i[e.value]=e,gn(e,"meta").each((function(t){gn(t,"text").each((function(t){a[t]=e}))}))})),e.set(T(T({},r),i)),t.set(T(T({},o),a))},clear:function(){e.set({}),t.set({})}})}function Jl(e,t,n,r){var o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)}function Ql(e,t){return Ze(e,{},Ft(t,(function(t){return n=t.name(),r="Cannot configure "+t.name()+" for "+e,ti(n,n,zo(),Lo((function(e){return So.serror("The field: "+n+" is forbidden. "+r)})));var n,r})).concat([ni("dump",b)]))}function Zl(e){return hn(e,"uiType")}function ef(e,t,n,r){return Zl(n)&&n.uiType===Rm?(i=n,a=r,(o=e).exists((function(e){return e!==i.owner}))?Nm.single(!0,v(i)):gn(a,i.name).fold((function(){throw new Error("Unknown placeholder component: "+i.name+"\nKnown: ["+an(a)+"]\nNamespace: "+o.getOr("none")+"\nSpec: "+JSON.stringify(i,null,2))}),(function(e){return e.replace()}))):Nm.single(!1,v(n));var o,i,a}function tf(e,t,n,r){return ef(e,0,n,r).fold((function(o,i){i=Zl(n)?i(t,n.config,n.validated):i(t);var a=gn(i,"components").getOr([]);a=Yt(a,(function(n){return tf(e,t,n,r)}));return[T(T({},i),{components:a})]}),(function(e,r){var o;return Zl(n)?(o=r(t,n.config,n.validated),n.validated.preprocess.getOr(b)(o)):r(t)}))}function nf(e){return e.fold(Rt.some,Rt.none,Rt.some,Rt.some)}function rf(e){function t(e){return e.name}return e.fold(t,t,t,t)}function of(e,t){return function(n){return n=Zo("Converting part type",t,n),e(n)}}function af(e,t){var n={};return Vt(t,(function(t){nf(t).each((function(t){r=e,o=t.pname;var r,o,i={uiType:Im(),owner:r,name:o};n[t.name]=function(n){var r=Zo("Part: "+t.name+" in "+e,Fo(t.schema),n);return T(T({},i),{config:n,validated:r})}}))})),n}function uf(e,t,n){return{uiType:Im(),owner:e,name:t,config:n,validated:{}}}function cf(e){return Ft(e,rf)}function sf(e,t,n){return Jm(e,t,n).getOrDie("Could not find part: "+n)}function lf(e,t,n){var r={},o=t.partUids,i=e.getSystem();return Vt(n,(function(e){r[e]=v(i.getByUid(o[e]))})),r}function ff(e,t,n){var r={},o=t.partUids,i=e.getSystem();return Vt(n,(function(e){r[e]=v(i.getByUid(o[e]).getOrDie())})),r}function df(e,t){return t=cf(t),hi(Ft(t,(function(t){return{key:t,value:e+"-"+t}})))}function mf(e,t,n,r,o){o=ng(o);var i=Xm(n),a=eg(n);t=tg(e,t,o,i,[a]),i=Km(e,t,n);return r(t,Ym(e,t,i.internals()),o,i.externals())}function gf(e){var t=Zo("Sketcher for "+e.name,ig,e),n=(e=af(t.name,t.partFields),sn(t.apis,vt)),r=sn(t.extraApis,ht);return T(T({name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:function(e){return mf(t.name,t.configFields,t.partFields,t.factory,e)},parts:e},n),r)}function hf(e){return"input"===_n(e)&&"radio"!==Mr(e,"type")||"textarea"===_n(e)}function pf(e,t,n){(t.disabled()?Cf:Sf)(e,t)}function vf(e,t){return!0===t.useNative&&Pt(cg,_n(e.element))}function bf(e){zr(e.element,"disabled","disabled")}function yf(e){Br(e.element,"disabled")}function wf(e){zr(e.element,"aria-disabled","true")}function xf(e){zr(e.element,"aria-disabled","false")}function Cf(e,t,n){t.disableClass.each((function(t){eu(e.element,t)})),(vf(e,t)?bf:wf)(e),t.onDisabled(e)}function Sf(e,t,n){t.disableClass.each((function(t){nu(e.element,t)})),(vf(e,t)?yf:xf)(e),t.onEnabled(e)}function kf(e,t){return vf(e,t)?Nr(e.element,"disabled"):"true"===Mr(e.element,"aria-disabled")}function Of(e,t,n,r){var o=em(e.element,"."+t.highlightClass);Vt(o,(function(n){It(r,(function(e){return e.element===n}))||(nu(n,t.highlightClass),e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n),da(n,fa())})))}))}function Tf(e,t,n,r){Of(e,t,0,[r]),_f(0,t,0,r)||(eu(r.element,t.highlightClass),t.onHighlight(e,r),da(r,la()))}function _f(e,t,n,r){return ru(r.element,t.highlightClass)}function Ef(e,t,n){return Ec(e.element,"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}function Df(e,t,n){return(0<(t=em(e.element,"."+t.itemClass)).length?Rt.some(t[t.length-1]):Rt.none()).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}function Af(e,t,n,r){var o=em(e.element,"."+t.itemClass);return Xt(o,(function(e){return ru(e,t.highlightClass)})).bind((function(t){return t=Yc(t,r,0,o.length-1),e.getSystem().getByDom(o[t]).toOptional()}))}function zf(e,t,n){return t=em(e.element,"."+t.itemClass),bn(Ft(t,(function(t){return e.getSystem().getByDom(t).toOptional()})))}function Mf(e,t,n){var r=Qt(e.slice(0,t));e=Qt(e.slice(t+1));return Gt(r.concat(e),n)}function Rf(e,t,n){return e=Qt(e.slice(0,t)),Gt(e,n)}function Nf(e,t,n){var r=e.slice(0,t);e=e.slice(t+1);return Gt(e.concat(r),n)}function Bf(e,t,n){return e=e.slice(t+1),Gt(e,n)}function Hf(e){return function(t){return Jt(e,(function(e){return e(t)}))}}function Lf(e){return!0===e.raw.shiftKey}function Pf(e){return!0===e.raw.ctrlKey}function If(e,t){return{matches:e,classification:t}}function Ff(e,t,n,r,o){function i(e,t,n,r,o){return n=n(e,t,r,o),Cg(n,t.event).bind((function(n){return n(e,t,r,o)}))}var a={schema:function(){return e.concat([ci("focusManager",kg()),si("focusInside","onFocus",Ko((function(e){return Pt(["onFocus","onEnterOrSpace","onApi"],e)?Co.value(e):Co.error("Invalid value for focusInside")}))),Fc("handler",a),Fc("state",t),Fc("sendFocusIn",o)])},processKey:i,toEvents:function(e,t){var a=e.focusInside!==Kd.OnFocusMode?Rt.none():o(e).map((function(n){return ya(ji(),(function(r,o){n(r,e,t),o.stop()}))})),u=[ya(Ri(),(function(r,a){i(r,a,n,e,t).fold((function(){var n,i,u;n=r,i=a,u=wg(hg.concat(mg))(i.event),e.focusInside===Kd.OnEnterOrSpaceMode&&u&&bi(n,i)&&o(e).each((function(r){r(n,e,t),i.stop()}))}),(function(e){a.stop()}))})),ya(Ni(),(function(n,o){i(n,o,r,e,t).each((function(e){o.stop()}))}))];return ba(a.toArray().concat(u))}};return a}function Vf(e){function t(e,t,n){(function(e,t){return e=em(e.element,t.selector),e=Ut(e,(function(e){return r(t,e)})),Rt.from(e[t.firstTabstop])})(e,t).each((function(n){t.focusManager.set(e,n)}))}function n(e,t,n,r){var a=em(e.element,n.selector);return o(e,n).bind((function(t){return Xt(a,w(lr,t)).bind((function(t){return i(e,a,t,n,r)}))}))}e=[je("onEscape"),je("onEnter"),ci("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ci("firstTabstop",0),ci("useTabstopAt",k),je("visibilitySelector")].concat([e]);var r=function(e,t){return e=e.visibilitySelector.bind((function(e){return Dc(t,e)})).getOr(t),0<Gr(e)},o=function(e,t){return t.focusManager.get(e).bind((function(e){return Dc(e,t.selector)}))},i=function(e,t,n,o,i){return i(t,n,(function(e){return r(t=o,e=e)&&t.useTabstopAt(e);var t})).fold((function(){return o.cyclic?Rt.some(!0):Rt.none()}),(function(t){return o.focusManager.set(e,t),Rt.some(!0)}))},a=v([If(Hf([Lf,wg(dg)]),(function(e,t,r){var o=r.cyclic?Mf:Rf;return n(e,0,r,o)})),If(wg(dg),(function(e,t,r){var o=r.cyclic?Nf:Bf;return n(e,0,r,o)})),If(wg(gg),(function(e,t,n){return n.onEscape.bind((function(n){return n(e,t)}))})),If(Hf([xg,wg(mg)]),(function(e,t,n){return n.onEnter.bind((function(n){return n(e,t)}))}))]),u=v([]);return Ff(e,$a.init,a,u,(function(){return Rt.some(t)}))}function jf(e,t,n){return hf(n)&&wg(hg)(t.event)?Rt.none():(ha(e,n,qi()),Rt.some(!0))}function Uf(e,t){return Rt.some(!0)}function Wf(e,t,n){return n.execute(e,t,e.element)}function $f(){var e=Ms();return qa({readState:function(){return e.get().map((function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(t,n){e.set({numRows:t,numColumns:n})},getNumRows:function(){return e.get().map((function(e){return e.numRows}))},getNumColumns:function(){return e.get().map((function(e){return e.numColumns}))}})}function qf(e){return function(t,n,r,o){var i=e(t.element);return Tg(i,t,n,r,o)}}function Gf(e,t){return e=Qs(e,t),qf(e)}function Xf(e,t){return t=Qs(t,e),qf(t)}function Kf(e){return function(t,n,r,o){return Tg(e,t,n,r,o)}}function Yf(e,t){return Xt(e,(function(e){return lr(t,e)}))}function Jf(e,t,n,r,o){return Mg(e,t,r,(function(t,i){var a=t===n-1?e.length-t*r:r;i=Yc(i,o,0,a-1);return Rt.some({row:t,column:i})}))}function Qf(e,t,n,r,o){return Mg(e,t,r,(function(t,i){t=Yc(t,o,0,n-1);var a=t===n-1?e.length-t*r:r;i=Jc(i,0,a-1);return Rt.some({row:t,column:i})}))}function Zf(e,t,n){Ec(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))}function ed(e){return function(t,n,r,o){return zg(t,n,r.selector).bind((function(t){return e(t.candidates,t.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}}function td(e,t,n){return n.captureTab?Rt.some(!0):Rt.none()}function nd(e,t,n){t.getInitial(e).orThunk((function(){return Ec(e.element,t.selector)})).each((function(n){t.focusManager.set(e,n)}))}function rd(e,t,n){return Pg(e,n.selector,t,-1)}function od(e,t,n){return Pg(e,n.selector,t,1)}function id(e){return function(t,n,r,o){return e(t,n,r,o).bind((function(){return r.executeOnMove?Fg(t,n,r):Rt.some(!0)}))}}function ad(e,t,n){return n.onEscape(e,t)}function ud(e,t,n,r){var o=e[t].length;n=Yc(n,r,0,o-1);return Vg(e,t,n)}function cd(e,t,n,r){return n=Yc(n,r,0,e.length-1),r=e[n].length,t=Jc(t,0,r-1),Vg(e,n,t)}function sd(e,t,n,r){var o=e[t].length;n=Jc(n+r,0,o-1);return Vg(e,t,n)}function ld(e,t,n,r){return n=Jc(n+r,0,e.length-1),r=e[n].length,t=Jc(t,0,r-1),Vg(e,n,t)}function fd(e,t,n){t.previousSelector(e).orThunk((function(){var n=t.selectors;return Ec(e.element,n.cell)})).each((function(n){t.focusManager.set(e,n)}))}function dd(e,t){return function(n,r,o){var i=o.cycles?e:t;return Dc(r,o.selectors.row).bind((function(e){var t=em(e,o.selectors.cell);return Yf(t,r).bind((function(t){var r=em(n,o.selectors.row);return Yf(r,e).bind((function(e){n=o;var n,a=Ft(r,(function(e){return em(e,n.selectors.cell)}));return i(a,e,t).map((function(e){return e.cell}))}))}))}))}}function md(e,t,n){return n.focusManager.get(e).bind((function(r){return n.execute(e,t,r)}))}function gd(e,t,n){Ec(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))}function hd(e,t,n){return Pg(e,n.selector,t,-1)}function pd(e,t,n){return Pg(e,n.selector,t,1)}function vd(e,t,n,r){r=e.getSystem().build(r),vm(e,r,n)}function bd(e,t,n,r){e=yd(e),Gt(e,(function(e){return lr(r.element,e.element)})).each(Pl)}function yd(e,t){return e.components()}function wd(e,t,n,r,o){var i=yd(e);return Rt.from(i[r]).map((function(t){return bd(e,0,0,t),o.each((function(t){vd(e,0,(function(e,t){var n,o;o=t,yr(n=e,r).fold((function(){oo(n,o)}),(function(e){no(e,o)}))}),t)})),t}))}function xd(e,t){t.ignore||(ws(e.element),t.onFocus(e))}function Cd(e,t,n){(t=t.aria).update(e,t,n.get())}function Sd(e,t,n){t.toggleClass.each((function(t){(n.get()?eu:nu)(e.element,t)}))}function kd(e,t,n){Od(e,t,n,!n.get())}function Od(e,t,n,r){(r?Kg:Yg)(e,t,n)}function Td(e,t,n){Od(e,t,n,t.selected)}function _d(e,t,n){zr(e.element,"aria-expanded",n)}function Ed(e){return ba(Kt([e.map((function(e){return Ta((function(t,n){e(t),n.stop()}))})).toArray(),Qg()]))}function Dd(e){(Cs(e.element).isNone()||Xg.isFocused(e))&&(Xg.isFocused(e)||Xg.focus(e),ma(e,Zg,{item:e}))}function Ad(e){ma(e,eh,{item:e})}function zd(e){return"prepared"===e.type?Rt.some(e.menu):Rt.none()}function Md(e,t,n,r,o){function i(){return e.lazySink(t)}function a(e){return 2===e.length?u:{}}var u="horizontal"===r.type?{layouts:{onLtr:function(){return ls()},onRtl:function(){return fs()}}}:{};return mh.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return xm.close(t),e.onEscape.map((function(e){return e(t)})),Rt.some(!0)},onExecute:function(){return Rt.some(!0)},onOpenMenu:function(e,t){fm.positionWithinBounds(i().getOrDie(),t,n,o())},onOpenSubmenu:function(e,t,n,r){var o=i().getOrDie();fm.position(o,n,{anchor:T({type:"submenu",item:t},a(r))})},onRepositionMenu:function(e,t,r){var u=i().getOrDie();fm.positionWithinBounds(u,t,n,o()),Vt(r,(function(e){var t=a(e.triggeringPath);fm.position(u,e.triggeredMenu,{anchor:T({type:"submenu",item:e.triggeringItem},t)})}))}})}function Rd(e,t){return e.x+e.width/2-t.width/2}function Nd(e,t){return e.x+e.width-t.width}function Bd(e,t){return e.y+e.height-t.height}function Hd(e,t){return e.y+e.height/2-t.height/2}function Ld(e,t,n){return Eu(Nd(e,t),Bd(e,t),n.insetSouthwest(),$c(),"southwest",Du(e,{right:0,bottom:3}),hh)}function Pd(e,t,n){return Eu(e.x,Bd(e,t),n.insetSoutheast(),Wc(),"southeast",Du(e,{left:1,bottom:3}),hh)}function Id(e,t,n){return Eu(Nd(e,t),e.y,n.insetNorthwest(),Uc(),"northwest",Du(e,{right:0,top:2}),hh)}function Fd(e,t,n){return Eu(e.x,e.y,n.insetNortheast(),jc(),"northeast",Du(e,{left:1,top:2}),hh)}function Vd(e,t,n){return Eu(Nd(e,t),Hd(e,t),n.insetEast(),Kc(),"east",Du(e,{right:0}),hh)}function jd(e,t,n){return Eu(e.x,Hd(e,t),n.insetWest(),Xc(),"west",Du(e,{left:1}),hh)}function Ud(e){switch(e){case"north":return ph;case"northeast":return Fd;case"northwest":return Id;case"south":return vh;case"southeast":return Pd;case"southwest":return Ld;case"east":return Vd;case"west":return jd}}function Wd(e,t,n,r,o){return Ju(r).map(Ud).getOr(ph)(e,t,n,r,o)}function $d(e){switch(e){case"north":return vh;case"northeast":return Pd;case"northwest":return Ld;case"south":return ph;case"southeast":return Fd;case"southwest":return Id;case"east":return jd;case"west":return Vd}}function qd(e,t,n,r,o){return Ju(r).map($d).getOr(ph)(e,t,n,r,o)}function Gd(e,t){return t=t(),Th(e,t).getOrThunk(kh(t))}function Xd(){return Gg("add-focusable",[Sa((function(e){_c(e.element,"svg").each((function(e){return zr(e,"focusable","false")}))}))])}var Kd,Yd,Jd=function(e){return"img"===_n(e)?1:xl(e).fold((function(){return br(e).length}),(function(e){return e.length}))},Qd=["img","br"],Zd=function(e){return t=Cl,(n=function(e){for(var r=br(e),o=r.length-1;0<=o;o--){var i=r[o];if(t(i))return Rt.some(i);if(i=n(i),i.isSome())return i}return Rt.none()})(e);var t,n},em=function(e,t){return cr(t,e)},tm=function(e){return Rt.from(e.getSelection()).filter((function(e){return 0<e.rangeCount})).bind(Ol)},nm=function(e,t){return(Dn(e)?_l:El)(e,t)},rm=(fl=[je("getSelection"),ri("root"),je("bubble"),cc(),ci("overrides",{}),ci("showAbove",!1),Fc("placement",(function(e,t,n){var r=Q(t.root).dom,o=dc(e,n,t),i=Dl(r,t).bind((function(e){return function(e,t){return e=bl(e,t),pl(e)}(r,gl.exactFromRange(e)).orThunk((function(){var t=On.fromText("\ufeff"),n=(no(e.start,t),Tl(r,gl.exact(t,0,t,1)));return co(t),n})).bind((function(e){return mc(e.left,e.top,e.width,e.height)}))}));e=Dl(r,t).bind((function(e){return En(e.start)?Rt.some(e.start):(e=e.start,vr(e))})).getOr(e.element);return gc(i,o,t,n,e)}))],"link-layout"),om=function(e,t,n){return Eu(Al(e),e.y,n.southeast(),jc(),"southeast",Du(e,{left:0,top:2}),rm)},im=function(e,t,n){return Eu(zl(e,t),e.y,n.southwest(),Uc(),"southwest",Du(e,{right:1,top:2}),rm)},am=function(e,t,n){return Eu(Al(e),Ml(e,t),n.northeast(),Wc(),"northeast",Du(e,{left:0,bottom:3}),rm)},um=function(e,t,n){return Eu(zl(e,t),Ml(e,t),n.northwest(),$c(),"northwest",Du(e,{right:1,bottom:3}),rm)},cm=[ri("item"),cc(),ci("overrides",{}),Fc("placement",(function(e,t,n){return n=Ku(n,t.item.element),e=nl(e.element,t,Rl(),Nl(),Rl(),Nl(),Rt.none()),Rt.some(Js({anchorBox:n,bubble:Ys(),overrides:t.overrides,layouts:e,placer:Rt.none()}))}))],sm=(fl=Ne("type",{selection:fl,node:ol,hotspot:Vc,submenu:cm,makeshift:rl}),ol=[Ve("classes",$o),Ke("mode","all",["all","layout","placement"])],Vc=[ci("useFixed",S),je("getBounds")],[oi("anchor",fl),ai("transition",ol)]),lm=function(e,t,n,r,o,i){var a=Zo("placement.info",Fo(sm),o),u=a.anchor,c=r.element,s=n.get(r.uid);Wu((function(){Pr(c,"position","fixed");var o,l=jr(c,"visibility"),f=(Pr(c,"visibility","hidden"),t.useFixed()?(o=document.documentElement,Os(0,0,o.clientWidth,o.clientHeight)):(d=Jr((o=e).element),o=o.element.dom.getBoundingClientRect(),ks(d.left,d.top,o.width,o.height))),d=u.placement,m=i.map(v).or(t.getBounds);d(e,u,f).each((function(t){t=t.placer.getOr(Bl)(e,f,t,m,r,s,a.transition),n.set(r.uid,t)})),l.fold((function(){Wr(c,"visibility")}),(function(e){Pr(c,"visibility",e)})),jr(c,"left").isNone()&&jr(c,"top").isNone()&&jr(c,"right").isNone()&&jr(c,"bottom").isNone()&&vn(jr(c,"position"),"fixed")&&Wr(c,"position")}),c)},fm=Vu({fields:Vc,name:"positioning",active:ds,apis:Object.freeze({__proto__:null,position:function(e,t,n,r,o){Hl(e,t,n,r,o,Rt.none())},positionWithin:Hl,positionWithinBounds:lm,getMode:function(e,t,n){return t.useFixed()?"fixed":"absolute"},reset:function(e,t,n,r){var o=r.element;Vt(["position","left","right","top","bottom"],(function(e){return Wr(o,e)})),Br(o,_s),n.clear(r.uid)}}),state:Object.freeze({__proto__:null,init:function(){var e={};return qa({readState:function(){return e},clear:function(t){f(t)?delete e[t]:e={}},set:function(t,n){e[t]=n},get:function(t){return gn(e,t)}})}})}),dm=function(e){da(e,oa()),e=e.components(),Vt(e,dm)},mm=function(e){var t=e.components();Vt(t,mm),da(e,ra())},gm=function(e,t){oo(e.element,t.element)},hm=function(e){Vt(e.components(),(function(e){return co(e.element)})),uo(e.element),e.syncComponents()},pm=function(e,t){vm(e,t,oo)},vm=function(e,t,n){e.getSystem().addToWorld(t),n(e.element,t.element),_r(e.element)&&mm(t),e.syncComponents()},bm=function(e){dm(e),co(e.element),e.getSystem().removeFromWorld(e)},ym=function(e){var t=e.components();Vt(t,bm),uo(e.element),e.syncComponents()},wm=function(e,t,n){n(e,t.element),n=br(t.element),Vt(n,(function(e){t.getByDom(e).each(mm)}))},xm=(cm=Object.freeze({__proto__:null,cloak:$l,decloak:ql,open:jl,openWhileCloaked:function(e,t,n,r,o){$l(e,t),jl(e,t,n,r),o(),ql(e,t)},close:Ul,isOpen:Wl,isPartOf:function(e,t,n,r){return Wl(0,0,n)&&n.get().exists((function(n){return t.isPartOf(e,n,r)}))},getState:function(e,t,n){return n.get()},setContent:function(e,t,n,r){return n.get().map((function(){return Vl(e,t,n,r)}))}}),rl=Object.freeze({__proto__:null,events:function(e,t){return ba([ya(Yi(),(function(n,r){Ul(n,e,t)}))])}}),fl=[Su("onOpen"),Su("onClose"),ri("isPartOf"),ri("getAttachPoint"),ci("cloakVisibilityAttr","data-precloak-visibility")],Vu({fields:fl,name:"sandboxing",active:rl,apis:cm,state:Object.freeze({__proto__:null,init:function(){var e=Ms(),t=v("not-implemented");return qa({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}})})),Cm=v("dismiss.popups"),Sm=v("reposition.popups"),km=v("mouse.released"),Om=Io([ci("isExtraPart",S),ai("fireEventInstead",[ci("event",ia())])]),Tm=function(e){var t=Zo("Dismissal",Om,e);e={};return e[Cm()]={schema:Io([ri("target")]),onReceive:function(e,n){xm.isOpen(e)&&(xm.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold((function(){return xm.close(e)}),(function(t){return da(e,t.event)})))}},e},_m=Io([ai("fireEventInstead",[ci("event",xi())]),Pe("doReposition")]),Em=function(e){var t=Zo("Reposition",_m,e);e={};return e[Sm()]={onReceive:function(e){xm.isOpen(e)&&t.fireEventInstead.fold((function(){return t.doReposition(e)}),(function(t){return da(e,t.event)}))}},e},Dm=(ol=Object.freeze({__proto__:null,onLoad:Gl,onUnload:Xl,setValue:function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},getValue:function(e,t,n){return t.store.manager.getValue(e,t,n)},getState:function(e,t,n){return n}}),Vc=Object.freeze({__proto__:null,events:function(e,t){var n=e.resetOnDom?[Sa((function(n,r){Gl(n,e,t)})),ka((function(n,r){Xl(n,e,t)}))]:[Pu(e,t,Gl)];return ba(n)}}),ds=Object.freeze({__proto__:null,memory:Kl,dataset:Yl,manual:function(){return qa({readState:h})},init:function(e){return e.store.manager.state(e)}}),fl=[je("initialValue"),ri("getFallbackEntry"),ri("getDataKey"),ri("setValue"),Fc("manager",{setValue:Jl,getValue:function(e,t,n){var r=t.store,o=r.getDataKey(e);return n.lookup(o).getOrThunk((function(){return r.getFallbackEntry(o)}))},onLoad:function(e,t,n){t.store.initialValue.each((function(r){Jl(e,t,n,r)}))},onUnload:function(e,t,n){n.clear()},state:Yl})],rl=[ri("getValue"),ci("setValue",h),je("initialValue"),Fc("manager",{setValue:function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},getValue:function(e,t,n){return t.store.getValue(e)},onLoad:function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))},onUnload:h,state:$a.init})],cm=[je("initialValue"),Fc("manager",{setValue:function(e,t,n,r){n.set(r),t.onSetValue(e,r)},getValue:function(e,t,n){return n.get()},onLoad:function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))},onUnload:function(e,t,n){n.clear()},state:Kl})],cm=[si("store",{mode:"memory"},Ne("mode",{memory:cm,manual:rl,dataset:fl})),Su("onSetValue"),ci("resetOnDom",!1)],Vu({fields:cm,name:"representing",active:Vc,apis:ol,extra:{setValueFrom:function(e,t){t=Dm.getValue(t),Dm.setValue(e,t)}},state:ds})),Am=function(e){return e.dump},zm=function(e,t){return T(T({},gs(t)),e.dump)},Mm={field:Ql,augment:zm,get:Am},Rm="placeholder",Nm=fi([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Bm=function(e,t,n,r){return Yt(n,(function(n){return tf(e,t,n,r)}))},Hm=function(e,t){var n=!1;return{name:v(e),required:function(){return t.fold((function(e,t){return e}),(function(e,t){return e}))},used:function(){return n},replace:function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t}}},Lm=Nm.single,Pm=Nm.multiple,Im=v(Rm),Fm=(rl=fi([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),fl=ci("factory",{sketch:b}),cm=ci("schema",[]),Vc=ri("name"),ol=ti("pname","pname",Do((function(e){return"<alloy."+Na(e.name)+">"})),Uo()),ds=ni("schema",(function(){return[je("preprocess")]})),ci("defaults",v({}))),Vm=ci("overrides",v({})),jm=Fo([fl,cm,Vc,ol,Fm,Vm]),Um=Fo([fl,cm,Vc,Fm,Vm]),Wm=(cm=Fo([fl,cm,Vc,ol,Fm,Vm]),fl=Fo([fl,ds,Vc,ri("unit"),ol,Fm,Vm]),of(rl.required,jm)),$m=(ds=of(rl.external,Um),of(rl.optional,cm)),qm=(Vc=of(rl.group,fl),v("entirety")),Gm=(ol=Object.freeze({__proto__:null,required:Wm,external:ds,optional:$m,group:Vc,asNamedPart:nf,name:rf,asCommon:function(e){return e.fold(b,b,b,b)},original:qm}),function(e,t,n,r){return To(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))}),Xm=function(e){return Yt(e,(function(e){return e.fold(Rt.none,Rt.some,Rt.none,Rt.none).map((function(e){return Ie(e.name,e.schema.concat([_u(qm())]))})).toArray()}))},Km=function(e,t,n){return r=t,o={},i={},Vt(n,(function(e){e.fold((function(e){o[e.pname]=Lm(!0,(function(t,n,r){return e.factory.sketch(Gm(t,e,n,r))}))}),(function(e){var t=r.parts[e.name];i[e.name]=v(e.factory.sketch(Gm(r,e,t[qm()]),t))}),(function(e){o[e.pname]=Lm(!1,(function(t,n,r){return e.factory.sketch(Gm(t,e,n,r))}))}),(function(e){o[e.pname]=Pm(!0,(function(t,n,r){var o=t[e.name];return Ft(o,(function(n){return e.factory.sketch(To(e.defaults(t,n,r),n,e.overrides(t,n)))}))}))}))})),{internals:v(o),externals:v(i)};var r,o,i},Ym=function(e,t,n){var r=Rt.some(e),o=t;e=t.components,t=n;return t=sn(t,(function(e,t){return Hm(t,e)})),e=Bm(r,o,e,t),cn(t,(function(e){if(!1===e.used()&&e.required())throw new Error("Placeholder: "+e.name()+" was not found in components list\nNamespace: "+r.getOr("none")+"\nComponents: "+JSON.stringify(o.components,null,2))})),e},Jm=function(e,t,n){return t=t.partUids[n],e.getSystem().getByUid(t).toOptional()},Qm=function(e,t){var n=e.getSystem();return sn(t.partUids,(function(e,t){return v(n.getByUid(e))}))},Zm=function(e){return an(e.partUids)},eg=function(e){return ti("partUids","partUids",Se((function(t){return df(t.uid,e)})),Uo())},tg=(Fm=Object.freeze({__proto__:null,generate:af,generateOne:uf,schemas:Xm,names:cf,substitutes:Km,components:Ym,defaultUids:df,defaultUidsSchema:eg,getAllParts:Qm,getAllPartNames:Zm,getPart:Jm,getPartOrDie:sf,getParts:lf,getPartsOrDie:ff}),function(e,t,n,r,o){return o=o,r=(0<(r=r).length?[Ie("parts",r)]:[]).concat([ri("uid"),ci("dom",{}),ci("components",[]),_u("originalSpec"),ci("debug.sketcher",{})]).concat(o),Zo(e+" [SpecSchema]",Io(r.concat(t)),n)}),ng=function(e){return hn(e,"uid")?e:T(T({},e),{uid:Pa("uid")})},rg=function(e){return void 0!==e.uid},og=Io([ri("name"),ri("factory"),ri("configFields"),ci("apis",{}),ci("extraApis",{})]),ig=Io([ri("name"),ri("factory"),ri("configFields"),ri("partFields"),ci("apis",{}),ci("extraApis",{})]),ag=function(e){var t=Zo("Sketcher for "+e.name,og,e),n=(e=sn(t.apis,vt),sn(t.extraApis,ht));return T(T({name:t.name,configFields:t.configFields,sketch:function(e){var n=t.name,r=t.configFields,o=t.factory;return e=ng(e),o(tg(n,r,e,[],[]),e)}},e),n)},ug=(Vm=Object.freeze({__proto__:null,getCurrent:function(e,t,n){return t.find(e)}}),jm=[ri("find")],Vu({fields:jm,name:"composing",apis:Vm})),cg=["input","button","textarea","select"],sg=(Um=Object.freeze({__proto__:null,enable:Sf,disable:Cf,isDisabled:kf,onLoad:pf,set:function(e,t,n,r){(r?Cf:Sf)(e,t)}}),cm=Object.freeze({__proto__:null,exhibit:function(e,t){return yt({classes:t.disabled()?t.disableClass.toArray():[]})},events:function(e,t){return ba([it(qi(),(function(t,n){return kf(t,e)})),Pu(e,t,pf)])}}),rl=[Je("disabled",S),ci("useNative",!0),je("disableClass"),Su("onDisabled"),Su("onEnabled")],Vu({fields:rl,name:"disabling",active:cm,apis:Um})),lg=(fl=Object.freeze({__proto__:null,dehighlightAll:function(e,t,n){return Of(e,t,0,[])},dehighlight:function(e,t,n,r){_f(0,t,0,r)&&(nu(r.element,t.highlightClass),t.onDehighlight(e,r),da(r,fa()))},highlight:Tf,highlightFirst:function(e,t,n){Ef(e,t).each((function(r){Tf(e,t,n,r)}))},highlightLast:function(e,t,n){Df(e,t).each((function(r){Tf(e,t,n,r)}))},highlightAt:function(e,t,n,r){var o,i;o=r,i=em((r=e).element,"."+t.itemClass),Rt.from(i[o]).fold((function(){return Co.error(new Error("No element found with index "+o))}),r.getSystem().getByDom).fold((function(e){throw e}),(function(r){Tf(e,t,n,r)}))},highlightBy:function(e,t,n,r){var o=zf(e,t);Gt(o,r).each((function(r){Tf(e,t,n,r)}))},isHighlighted:_f,getHighlighted:function(e,t,n){return Ec(e.element,"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},getFirst:Ef,getLast:Df,getPrevious:function(e,t,n){return Af(e,t,0,-1)},getNext:function(e,t,n){return Af(e,t,0,1)},getCandidates:zf}),jm=[ri("highlightClass"),ri("itemClass"),Su("onHighlight"),Su("onDehighlight")],Vu({fields:jm,name:"highlighting",apis:fl})),fg=[8],dg=[9],mg=[13],gg=[27],hg=[32],pg=[37],vg=[38],bg=[39],yg=[40],wg=function(e){return function(t){return t=t.raw,Pt(e,t.which)}},xg=x(Lf),Cg=function(e,t){return Gt(e,(function(e){return e.matches(t)})).map((function(e){return e.classification}))},Sg=function(e,t,n){t.exists((function(e){return n.exists((function(t){return lr(t,e)}))}))||ma(e,aa(),{prevFocus:t,newFocus:n})},kg=function(){function e(e){return Cs(e.element)}return{get:e,set:function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element),n=e(t);Sg(t,r,n)}}},Og=function(){function e(e){return lg.getHighlighted(e).map((function(e){return e.element}))}return{get:e,set:function(t,n){var r=e(t);t.getSystem().getByDom(n).fold(h,(function(e){lg.highlight(t,e)})),n=e(t);Sg(t,r,n)}}},Tg=(rl=((Vm=Kd=Kd||{}).OnFocusMode="onFocus",Vm.OnEnterOrSpaceMode="onEnterOrSpace",Vm.OnApiMode="onApi",Vf(ni("cyclic",S))),cm=Vf(ni("cyclic",k)),Um=[ci("execute",jf),ci("useSpace",!1),ci("useEnter",!0),ci("useControlEnter",!1),ci("useDown",!1)],jm=Ff(Um,$a.init,(function(e,t,n,r){e=n.useSpace&&!hf(e.element)?hg:[];var o=n.useEnter?mg:[],i=n.useDown?yg:[];e=e.concat(o).concat(i);return[If(wg(e),Wf)].concat(n.useControlEnter?[If(Hf([Pf,wg(mg)]),Wf)]:[])}),(function(e,t,n,r){return n.useSpace&&!hf(e.element)?[If(wg(hg),Uf)]:[]}),(function(){return Rt.none()})),fl=Object.freeze({__proto__:null,flatgrid:$f,init:function(e){return e.state(e)}}),function(e,t,n,r,o){return r.focusManager.get(t).bind((function(n){return e(t.element,n,r,o)})).map((function(e){return r.focusManager.set(t,e),!0}))}),_g=(Vm=Kf,Um=Kf,Kf),Eg=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Dg=function(e){return!Eg(e.dom)},Ag=function(e,t){return Xt(e,t).map((function(t){return{index:t,candidates:e}}))},zg=function(e,t,n){return e=em(e,n),n=Ut(e,Dg),Ag(n,(function(e){return lr(e,t)}))},Mg=function(e,t,n,r){return r(Math.floor(t/n),t%n).bind((function(t){return t=t.row*n+t.column,0<=t&&t<e.length?Rt.some(e[t]):Rt.none()}))},Rg=[ri("selector"),ci("execute",jf),ku("onEscape"),ci("captureTab",!1),za()],Ng=ed((function(e,t,n,r){return Jf(e,t,n,r,-1)})),Bg=ed((function(e,t,n,r){return Jf(e,t,n,r,1)})),Hg=ed((function(e,t,n,r){return Qf(e,t,n,r,-1)})),Lg=ed((function(e,t,n,r){return Qf(e,t,n,r,1)})),Pg=(Ng=v([If(wg(pg),Gf(Ng,Bg)),If(wg(bg),Xf(Ng,Bg)),If(wg(vg),Vm(Hg)),If(wg(yg),Um(Lg)),If(Hf([Lf,wg(dg)]),td),If(Hf([xg,wg(dg)]),td),If(wg(gg),(function(e,t,n){return n.onEscape(e,t)})),If(wg(hg.concat(mg)),(function(e,t,n,r){return(o=n).focusManager.get(e).bind((function(e){return Dc(e,o.selector)})).bind((function(r){return n.execute(e,t,r)}));var o}))]),Bg=v([If(wg(hg),Uf)]),Hg=Ff(Rg,$f,Ng,Bg,(function(){return Rt.some(Zf)})),function(e,t,n,r){function o(e,t,n){var i;return(t=Yc(t,r,0,n.length-1))===e?Rt.none():(i=n[t],"button"===_n(i)&&"disabled"===Mr(i,"disabled")?o(e,t,n):Rt.from(n[t]))}return zg(e,n,t).bind((function(e){var t=e.index;e=e.candidates;return o(t,t,e)}))}),Ig=(Lg=[ri("selector"),ci("getInitial",Rt.none),ci("execute",jf),ku("onEscape"),ci("executeOnMove",!1),ci("allowVertical",!0)],function(e,t){return t.focusManager.get(e).bind((function(e){return Dc(e,t.selector)}))}),Fg=function(e,t,n){return Ig(e,n).bind((function(r){return n.execute(e,t,r)}))},Vg=(Rg=v([If(wg(hg),Uf)]),Ng=Ff(Lg,$a.init,(function(e,t,n,r){var o=pg.concat(n.allowVertical?vg:[]);n=bg.concat(n.allowVertical?yg:[]);return[If(wg(o),id(Gf(rd,od))),If(wg(n),id(Xf(rd,od))),If(wg(mg),Fg),If(wg(hg),Fg),If(wg(gg),ad)]}),Rg,(function(){return Rt.some(nd)})),function(e,t,n){return Rt.from(e[t]).bind((function(e){return Rt.from(e[n]).map((function(e){return{rowIndex:t,columnIndex:n,cell:e}}))}))}),jg=(Bg=[Ie("selectors",[ri("row"),ri("cell")]),ci("cycles",!0),ci("previousSelector",Rt.none),ci("execute",jf)],Lg=dd((function(e,t,n){return ud(e,t,n,-1)}),(function(e,t,n){return sd(e,t,n,-1)})),Rg=dd((function(e,t,n){return ud(e,t,n,1)}),(function(e,t,n){return sd(e,t,n,1)})),dd((function(e,t,n){return cd(e,n,t,-1)}),(function(e,t,n){return ld(e,n,t,-1)}))),Ug=dd((function(e,t,n){return cd(e,n,t,1)}),(function(e,t,n){return ld(e,n,t,1)})),Wg=(Lg=v([If(wg(pg),Gf(Lg,Rg)),If(wg(bg),Xf(Lg,Rg)),If(wg(vg),Vm(jg)),If(wg(yg),Um(Ug)),If(wg(hg.concat(mg)),(function(e,t,n){return Cs(e.element).bind((function(r){return n.execute(e,t,r)}))}))]),Rg=v([If(wg(hg),Uf)]),Vm=Ff(Bg,$a.init,Lg,Rg,(function(){return Rt.some(fd)})),jg=[ri("selector"),ci("execute",jf),ci("moveOnTab",!1)],Um=v([If(wg(vg),_g(hd)),If(wg(yg),_g(pd)),If(Hf([Lf,wg(dg)]),(function(e,t,n,r){return n.moveOnTab?_g(hd)(e,t,n,r):Rt.none()})),If(Hf([xg,wg(dg)]),(function(e,t,n,r){return n.moveOnTab?_g(pd)(e,t,n,r):Rt.none()})),If(wg(mg),md),If(wg(hg),md)]),Ug=v([If(wg(hg),Uf)]),Bg=Ff(jg,$a.init,Um,Ug,(function(){return Rt.some(gd)})),Lg=[ku("onSpace"),ku("onEnter"),ku("onShiftEnter"),ku("onLeft"),ku("onRight"),ku("onTab"),ku("onShiftTab"),ku("onUp"),ku("onDown"),ku("onEscape"),ci("stopSpaceKeyup",!1),je("focusIn")],Rg=Ff(Lg,$a.init,(function(e,t,n){return[If(wg(hg),n.onSpace),If(Hf([xg,wg(mg)]),n.onEnter),If(Hf([Lf,wg(mg)]),n.onShiftEnter),If(Hf([Lf,wg(dg)]),n.onShiftTab),If(Hf([xg,wg(dg)]),n.onTab),If(wg(vg),n.onUp),If(wg(yg),n.onDown),If(wg(pg),n.onLeft),If(wg(bg),n.onRight),If(wg(hg),n.onSpace),If(wg(gg),n.onEscape)]}),(function(e,t,n){return n.stopSpaceKeyup?[If(wg(hg),Uf)]:[]}),(function(e){return e.focusIn})),jg=rl.schema(),Um=cm.schema(),Ug=Ng.schema(),Lg=Hg.schema(),rl=Vm.schema(),cm=jm.schema(),Ng=Bg.schema(),Hg=Rg.schema(),ju({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:jg,cyclic:Um,flow:Ug,flatgrid:Lg,matrix:rl,execution:cm,menu:Ng,special:Hg}),name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element,e.element)}),(function(r){r(e,t,n)}))},setGridSize:function(e,t,n,r,o){pn(n,"setGridSize")&&n.setGridSize(r,o)}},state:fl})),$g=Vu({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(e,t,n,r){vd(e,0,oo,r)},prepend:function(e,t,n,r){vd(e,0,me,r)},remove:bd,replaceAt:wd,replaceBy:function(e,t,n,r,o){var i=yd(e);return Xt(i,r).bind((function(t){return wd(e,0,0,t,o)}))},set:function(e,t,n,r){Wu((function(){var t=Ft(r,e.getSystem().build);Ll(e,t)}),e.element)},contents:yd})}),qg=function(e,t){return t=ba(t),Vu({fields:[ri("enabled")],name:e,active:{events:v(t)}})},Gg=function(e,t){return{key:e,value:{config:{},me:qg(e,t),configAsRaw:v({}),initialConfig:{},state:$a}}},Xg=(Vm=Object.freeze({__proto__:null,focus:xd,blur:function(e,t){t.ignore||e.element.dom.blur()},isFocused:function(e){return Uu(e.element)}}),jm=Object.freeze({__proto__:null,exhibit:function(e,t){return t=t.ignore?{}:{attributes:{tabindex:"-1"}},yt(t)},events:function(e){return ba([ya(ji(),(function(t,n){xd(t,e),n.stop()}))].concat(e.stopMousedown?[ya(Ti(),(function(e,t){t.event.prevent()}))]:[]))}}),Bg=[Su("onFocus"),ci("stopMousedown",!1),ci("ignore",!1)],Vu({fields:Bg,name:"focusing",active:jm,apis:Vm})),Kg=function(e,t,n){n.set(!0),Sd(e,t,n),Cd(e,t,n)},Yg=function(e,t,n){n.set(!1),Sd(e,t,n),Cd(e,t,n)},Jg=(Rg=Object.freeze({__proto__:null,onLoad:Td,toggle:kd,isOn:function(e,t,n){return n.get()},on:Kg,off:Yg,set:Od}),jg=Object.freeze({__proto__:null,exhibit:function(){return yt({})},events:function(e,t){n=e,r=t,o=kd;var n,r,o,i=Ta((function(e){o(e,n,r)}));t=Pu(e,t,Td);return ba(Kt([e.toggleOnExecute?[i]:[],[t]]))}}),Um=[ci("selected",!1),je("toggleClass"),ci("toggleOnExecute",!0),si("aria",{mode:"none"},Ne("mode",{pressed:[ci("syncWithExpanded",!1),Fc("update",(function(e,t,n){zr(e.element,"aria-pressed",n),t.syncWithExpanded&&_d(e,0,n)}))],checked:[Fc("update",(function(e,t,n){zr(e.element,"aria-checked",n)}))],expanded:[Fc("update",_d)],selected:[Fc("update",(function(e,t,n){zr(e.element,"aria-selected",n)}))],none:[Fc("update",h)]}))],Vu({fields:Um,name:"toggling",active:jg,apis:Rg,state:(Yd=!1,{init:function(){var e=li(Yd);return{get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(Yd)},readState:function(){return e.get()}}}})})),Qg=function(){function e(e,t){t.stop(),ga(e)}return[ya(Li(),e),ya(Xi(),e),Ca(Ci()),Ca(Ti())]},Zg="alloy.item-hover",eh="alloy.item-focus",th=v(Zg),nh=v(eh),rh=(Ug=[ri("data"),ri("components"),ri("dom"),ci("hasSubmenu",!1),je("toggling"),Mm.field("itemBehaviours",[Jg,Xg,Wg,Dm]),ci("ignoreFocus",!1),ci("domModification",{}),Fc("builder",(function(e){return{dom:e.dom,domModification:T(T({},e.domModification),{attributes:T(T(T({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Mm.augment(e.itemBehaviours,[e.toggling.fold(Jg.revoke,(function(e){return Jg.config(T({aria:{mode:"checked"}},e))})),Xg.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){Ad(e)}}),Wg.config({mode:"execution"}),Dm.config({store:{mode:"memory",initialValue:e.data}}),Gg("item-type-events",E(E([],Qg(),!0),[ya(Ai(),Dd),ya(Gi(),Xg.focus)],!1))]),components:e.components,eventOrder:e.eventOrder}})),ci("eventOrder",{})],Lg=[ri("dom"),ri("components"),Fc("builder",(function(e){return{dom:e.dom,components:e.components,events:ba([(e=Gi(),ya(e,(function(e,t){t.stop()})))])}}))],v("item-widget")),oh=v([Wm({name:"widget",overrides:function(e){return{behaviours:gs([Dm.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:h}})])}}})]),ih=(rl=[ri("uid"),ri("data"),ri("components"),ri("dom"),ci("autofocus",!1),ci("ignoreFocus",!1),Mm.field("widgetBehaviours",[Dm,Xg,Wg]),ci("domModification",{}),eg(oh()),Fc("builder",(function(e){function t(t){return Jm(t,e,"widget").map((function(e){return Wg.focusIn(e),e}))}function n(t,n){return hf(n.event.target)||e.autofocus&&n.setSource(t.element),Rt.none()}var r=Km(rh(),e,oh());r=Ym(rh(),e,r.internals());return{dom:e.dom,components:r,domModification:e.domModification,events:ba([Ta((function(e,n){t(e).each((function(e){n.stop()}))})),ya(Ai(),Dd),ya(Gi(),(function(n,r){e.autofocus?t(n):Xg.focus(n)}))]),behaviours:Mm.augment(e.widgetBehaviours,[Dm.config({store:{mode:"memory",initialValue:e.data}}),Xg.config({ignore:e.ignoreFocus,onFocus:function(e){Ad(e)}}),Wg.config({mode:"special",focusIn:e.autofocus?function(e){t(e)}:vs(),onLeft:n,onRight:n,onEscape:function(t,n){return Xg.isFocused(t)||e.autofocus?(e.autofocus&&n.setSource(t.element),Rt.none()):(Xg.focus(t),Rt.some(!0))}})])}}))],Ne("type",{widget:rl,item:Ug,separator:Lg})),ah=(cm=v([Vc({factory:{sketch:function(e){return e=Zo("menu.spec item",ih,e),e.builder(e)}},name:"items",unit:"item",defaults:function(e,t){return hn(t,"uid")?t:T(T({},t),{uid:Pa("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),Ng=v([ri("value"),ri("items"),ri("dom"),ri("components"),ci("eventOrder",{}),Ql("menuBehaviours",[lg,Dm,ug,Wg]),si("movement",{mode:"menu",moveOnTab:!0},Ne("mode",{grid:[za(),Fc("config",(function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}}))],matrix:[Fc("config",(function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}})),ri("rowSelector")],menu:[ci("moveOnTab",!0),Fc("config",(function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}}))]})),oi("markers",Ba()),ci("fakeFocus",!1),ci("focusManager",kg()),Su("onHighlight")]),v("alloy.menu-focus")),uh=gf({name:"Menu",configFields:Ng(),partFields:cm(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:zm(e.menuBehaviours,[lg.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),Dm.config({store:{mode:"memory",initialValue:e.value}}),ug.config({find:Rt.some}),Wg.config(e.movement.config(e,e.movement))]),events:ba([ya(nh(),(function(e,t){var n=t.event;e.getSystem().getByDom(n.target).each((function(n){lg.highlight(e,n),t.stop(),ma(e,ah(),{menu:e,item:n})}))})),ya(th(),(function(e,t){t=t.event.item,lg.highlight(e,t)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}}}),ch=function(e){return ln(e,(function(e,t){return{k:e,v:t}}))},sh=function(e,t,n,r){return gn(n,r).bind((function(r){return gn(e,r).bind((function(r){var o=sh(e,t,n,r);return Rt.some([r].concat(o))}))})).getOr([])},lh=function(){function e(e){return gn(t.get(),e)}var t=li({}),n=li({}),r=li({}),o=Ms(),i=li({}),a=function(e){return I(t.get(),(function(t,n){return t===e}))},u=function(e){return c(e).bind(zd)},c=function(e){return gn(n.get(),e)};return{setMenuBuilt:function(e,t){var r;n.set(T(T({},n.get()),((r={})[e]={type:"prepared",menu:t},r)))},setContents:function(e,a,u,c){o.set(e),t.set(u),n.set(a),i.set(c),e=u,s={},cn(c,(function(e,t){Vt(e,(function(e){s[e]=t}))})),f=ch(l=e),d=sn(f,(function(e,t){return[t].concat(sh(s,l,f,t))}));var s,l,f,d;a=sn(s,(function(e){return gn(d,e).getOr([e])}));r.set(a)},expand:function(e){return gn(t.get(),e).map((function(t){var n=gn(r.get(),e).getOr([]);return[t].concat(n)}))},refresh:function(e){return gn(r.get(),e)},collapse:function(e){return gn(r.get(),e).bind((function(e){return 1<e.length?Rt.some(e.slice(1)):Rt.none()}))},lookupMenu:c,lookupItem:e,otherMenus:function(e){var t=i.get();return Zt(an(t),e)},getPrimary:function(){return o.get().bind(u)},getMenus:function(){return n.get()},clear:function(){t.set({}),n.set({}),r.set({}),o.clear()},isClear:function(){return o.get().isNone()},getTriggeringPath:function(t,n){var i=Ut(e(t).toArray(),(function(e){return u(e).isSome()}));return gn(r.get(),t).bind((function(e){for(var t=Qt(i.concat(e)),r=Yt(t,(function(e,r){return i=e,c=n,s=t.slice(0,r+1),u(i).bind((function(e){return a(i).bind((function(t){return c(t).map((function(t){return{triggeredMenu:e,triggeringItem:t,triggeringPath:s}}))}))})).fold((function(){return vn(o.get(),e)?[]:[Rt.none()]}),(function(e){return[Rt.some(e)]}));var i,c,s})),c=[],s=0;s<r.length;s++){var l=r[s];if(!l.isSome())return Rt.none();c.push(l.getOrDie())}return Rt.some(c)}))}}},fh=zd,dh=v("collapse-item"),mh=ag({name:"TieredMenu",configFields:[Tu("onExecute"),Tu("onEscape"),Ou("onOpenMenu"),Ou("onOpenSubmenu"),Su("onRepositionMenu"),Su("onCollapseMenu"),ci("highlightImmediately",!0),Ie("data",[ri("primary"),ri("menus"),ri("expansions")]),ci("fakeFocus",!1),Su("onHighlight"),Su("onHover"),wu(),ri("dom"),ci("navigateOnHover",!0),ci("stayInDom",!1),Ql("tmenuBehaviours",[Wg,lg,ug,$g]),ci("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:function(e,t){function n(t){n=t,r=e.data.primary,t=e.data.menus;t=sn(t,(function(t,o){function i(){return uh.sketch(T(T({},t),{value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:(e.fakeFocus?Og:kg)()}))}return o===r?{type:"prepared",menu:n.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}));var n,r,o=sn(e.data.menus,(function(e,t){return Yt(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}));return f.setContents(e.data.primary,t,e.data.expansions,o),f.getPrimary()}function r(e,t){e=v(e),cn(e,(function(e,n){n=Pt(t,n),zr(e.element,"aria-expanded",n)}))}function o(t,n,r){return Rt.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){var i;return"notbuilt"===o.type?Rt.none():(o=o.menu,i=g(n,r.slice(1)),Vt(i,(function(t){eu(t.element,e.markers.backgroundMenu)})),_r(o.element)||$g.append(t,gu(o)),iu(o.element,[e.markers.backgroundMenu]),m(t,o),p(t,n,r),Rt.some(o))}))}))}function i(t,n,i){var a;return void 0===i&&(i=s.HighlightSubmenu),n.hasConfigured(sg)&&sg.isDisabled(n)?Rt.some(n):(a=d(n),f.expand(a).bind((function(a){return r(t,a),Rt.from(a[0]).bind((function(r){return f.lookupMenu(r).bind((function(u){c=t,l=r;var c,l="notbuilt"===(u=u).type?(c=c.getSystem().build(u.nbMenu()),f.setMenuBuilt(l,c),c):u.menu;return _r(l.element)||$g.append(t,gu(l)),e.onOpenSubmenu(t,n,l,Qt(a)),i===s.HighlightSubmenu?(lg.highlightFirst(l),o(t,f,a)):(lg.dehighlightAll(l),Rt.some(n))}))}))})))}function a(t,n){var i=d(n);return f.collapse(i).bind((function(i){return r(t,i),o(t,f,i).map((function(r){return e.onCollapseMenu(t,n,r),r}))}))}function u(t){return function(n,r){return Dc(r.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOptional().bind((function(e){return t(n,e).map(k)}))}))}}function c(e){return lg.getHighlighted(e).bind(lg.getHighlighted)}var s,l=Ms(),f=lh(),d=function(e){return Dm.getValue(e).value},m=function(e,t){lg.highlight(e,t),lg.getHighlighted(t).orThunk((function(){return lg.getFirst(t)})).each((function(t){ha(e,t.element,Gi())}))},g=function(e,t){return bn(Ft(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?Rt.some(e.menu):Rt.none()}))})))},p=function(t,n,r){n=g(n,n.otherMenus(r)),Vt(n,(function(n){iu(n.element,[e.markers.backgroundMenu]),e.stayInDom||$g.remove(t,n)}))},v=function(t){return l.get().getOrThunk((function(){var n={},r=em(t.element,"."+e.markers.item);r=Ut(r,(function(e){return"true"===Mr(e,"aria-haspopup")}));return Vt(r,(function(e){t.getSystem().getByDom(e).each((function(e){var t=d(e);n[t]=e}))})),l.set(n),n}))},b=((b=s=s||{})[b.HighlightSubmenu=0]="HighlightSubmenu",b[b.HighlightParent=1]="HighlightParent",ba([ya(ah(),(function(e,t){var n=t.event.item;f.lookupItem(d(n)).each((function(){var n=t.event.menu;lg.highlight(e,n),n=d(t.event.item);f.refresh(n).each((function(t){return p(e,f,t)}))}))})),Ta((function(t,n){n=n.event.target,t.getSystem().getByDom(n).each((function(n){0===d(n).indexOf("collapse-item")&&a(t,n),i(t,n,s.HighlightSubmenu).fold((function(){e.onExecute(t,n)}),h)}))})),Sa((function(t,r){n(t).each((function(n){$g.append(t,gu(n)),e.onOpenMenu(t,n),e.highlightImmediately&&m(t,n)}))}))].concat(e.navigateOnHover?[ya(th(),(function(t,n){n=n.event.item;var a=t,u=n;u=d(n),f.refresh(u).bind((function(e){return r(a,e),o(a,f,e)})),i(t,n,s.HighlightParent),e.onHover(t,n)}))]:[]))),y={collapseMenu:function(e){c(e).each((function(t){a(e,t)}))},highlightPrimary:function(e){f.getPrimary().each((function(t){m(e,t)}))},repositionMenus:function(t){f.getPrimary().bind((function(e){return c(t).bind((function(e){e=d(e);var t=mn(f.getMenus()),n=bn(Ft(t,fh));return f.getTriggeringPath(e,(function(e){return t=e,on(n,(function(e){return e.getSystem().isConnected()?(e=lg.getCandidates(e),Gt(e,(function(e){return d(e)===t}))):Rt.none()}));var t}))})).map((function(t){return{primary:e,triggeringPath:t}}))})).fold((function(){Rt.from(t.components()[0]).filter((function(e){return"menu"===Mr(e.element,"role")})).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var r=n.primary;n=n.triggeringPath;e.onRepositionMenu(t,r,n)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:zm(e.tmenuBehaviours,[Wg.config({mode:"special",onRight:u((function(e,t){return hf(t.element)?Rt.none():i(e,t,s.HighlightSubmenu)})),onLeft:u((function(e,t){return hf(t.element)?Rt.none():a(e,t)})),onEscape:u((function(t,n){return a(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))})),focusIn:function(e,t){f.getPrimary().each((function(t){ha(e,t.element,Gi())}))}}),lg.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),ug.config({find:function(e){return lg.getHighlighted(e)}}),$g.config({})]),eventOrder:e.eventOrder,apis:y,events:b}},extraApis:{tieredData:function(e,t,n){return{primary:e,menus:t,expansions:n}},singleData:function(e,t){return{primary:e,menus:gi(e,t),expansions:{}}},collapseItem:function(e){return{value:Na(dh()),meta:{text:e}}}}}),gh=ag({name:"InlineView",configFields:[ri("lazySink"),Su("onShow"),Su("onHide"),$e("onEscape"),Ql("inlineBehaviours",[xm,Dm,bs]),ai("fireDismissalEventInstead",[ci("event",ia())]),ai("fireRepositionEventInstead",[ci("event",xi())]),ci("getRelated",Rt.none),ci("isExtraPart",S),ci("eventOrder",Rt.none)],factory:function(e,t){function n(e,t,n,r){i(e,t,n,(function(){return r.map((function(e){return yo(e)}))}))}function r(t,n,r,o){n=Md(e,t,n,r,o),xm.open(t,n),Dm.setValue(t,Rt.some({mode:"menu",menu:n}))}function o(t){xm.isOpen(t)&&Dm.getValue(t).each((function(n){switch(n.mode){case"menu":xm.getState(t).each(mh.repositionMenus);break;case"position":var r=e.lazySink(t).getOrDie();fm.positionWithinBounds(r,t,n.config,n.getBounds())}}))}var i=function(t,n,r,o){var i=e.lazySink(t).getOrDie();xm.openWhileCloaked(t,n,(function(){return fm.positionWithinBounds(i,t,r,o())})),Dm.setValue(t,Rt.some({mode:"position",config:r,getBounds:o}))},a={setContent:function(e,t){xm.setContent(e,t)},showAt:function(e,t,r){n(e,t,r,Rt.none())},showWithin:n,showWithinBounds:i,showMenuAt:function(e,t,n){r(e,t,n,Rt.none)},showMenuWithinBounds:r,hide:function(e){xm.isOpen(e)&&(Dm.setValue(e,Rt.none()),xm.close(e))},getContent:function(e){return xm.getState(e)},reposition:o,isOpen:xm.isOpen};return{uid:e.uid,dom:e.dom,behaviours:zm(e.inlineBehaviours,[xm.config({isPartOf:function(t,n,r){return Mc(n,r)||(o=r,e.getRelated(t).exists((function(e){return Mc(e,o)})));var o},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),Dm.config({store:{mode:"memory",initialValue:Rt.none()}}),bs.config({channels:T(T({},Tm(T({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),Em(T(T({},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{doReposition:o})))})]),eventOrder:e.eventOrder,apis:a}},apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showWithinBounds:function(e,t,n,r,o){e.showWithinBounds(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,o){e.showMenuWithinBounds(t,n,r,o)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),hh="layout-inset",ph=function(e,t,n){return Eu(Rd(e,t),e.y,n.insetNorth(),qc(),"north",Du(e,{top:2}),hh)},vh=function(e,t,n){return Eu(Rd(e,t),Bd(e,t),n.insetSouth(),Gc(),"south",Du(e,{bottom:3}),hh)},bh=tinymce.util.Tools.resolve("tinymce.util.Delay"),yh=ag({name:"Button",factory:function(e){function t(t){return gn(e.dom,"attributes").bind((function(e){return gn(e,t)}))}var n=Ed(e.action),r=e.dom.tag;return{uid:e.uid,dom:e.dom,components:e.components,events:n,behaviours:Mm.augment(e.buttonBehaviours,[Xg.config({}),Wg.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:"button"===r?(n=t("type").getOr("button"),r=t("role").map((function(e){return{role:e}})).getOr({}),T({type:n},r)):{role:t("role").getOr("button")}},eventOrder:e.eventOrder}},configFields:[ci("uid",void 0),ri("dom"),ci("components",[]),Mm.field("buttonBehaviours",[Xg,Wg]),je("action"),je("role"),ci("eventOrder",{})]}),wh=function(e){var t=rg(e)&&pn(e,"uid")?e.uid:Pa("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOptional()},asSpec:function(){return T(T({},e),{uid:t})}}},xh=tinymce.util.Tools.resolve("tinymce.util.I18n"),Ch={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Sh="temporary-placeholder",kh=function(e){return function(){return gn(e,Sh).getOr("!not found!")}},Oh=function(e,t){var n,r;e=e.toLowerCase();return xh.isRtl()?(n=Cn(n=e,r="-rtl")?n:n+r,hn(t,n)?n:e):e},Th=function(e,t){return gn(t,Oh(e,t))},_h=function(e,t,n,r){o=t;var o=xh.isRtl()&&hn(Ch,o)?["tox-icon--flip"]:[];t=gn(n,Oh(t,n)).or(r).getOrThunk(kh(n));return{dom:{tag:e.tag,attributes:null!==(r=e.attributes)&&void 0!==r?r:{},classes:e.classes.concat(o),innerHtml:t},behaviours:gs(E(E([],null!==(n=e.behaviours)&&void 0!==n?n:[],!0),[Xd()],!1))}},Eh=function(e,t,n,r){return void 0===r&&(r=Rt.none()),_h(t,e,n(),r)},Dh={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Ah=ag({name:"Notification",factory:function(e){function t(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}}function n(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}}var r=wh({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:gs([$g.config({})])}),o=wh({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[t(0)]},n(0)],behaviours:gs([$g.config({})])}),i={updateProgress:function(e,r){e.getSystem().isConnected()&&o.getOpt(e).each((function(e){$g.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[t(r)]},n(r)])}))},updateText:function(e,t){e.getSystem().isConnected()&&(e=r.get(e),$g.set(e,[su(t)]))}},a=Kt([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return Rt.from(Dh[e])})).toArray()]),u=wh(yh.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Eh("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:function(t){e.onAction(t)}}));a=a,c={tag:"div",classes:["tox-notification__icon"]},s=e.iconProvider,l=s(),s=Gt(a,(function(e){return hn(l,Oh(e,l))}));var c,s,l;a=[_h(c,s.getOr(Sh),l,Rt.none()),{dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:gs([$g.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]})).getOr(["tox-notification","tox-notification--in"])},behaviours:gs([Xg.config({}),Gg("notification-events",[ya(zi(),(function(e){u.getOpt(e).each(Xg.focus)}))])]),components:a.concat(e.progress?[o.asSpec()]:[]).concat(e.closeButton?[u.asSpec()]:[]),apis:i}},configFields:[je("level"),ri("progress"),ri("icon"),ri("onAction"),ri("text"),ri("iconProvider"),ri("translationProvider"),Ye("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}});function zh(e,t,n){var r=t.backstage.shared;return{open:function(t,o){function i(){o(),gh.hide(s)}function a(){var t=yo(On.fromDom(e.getContentAreaContainer())),n=xo(),r=Jc(n.x,t.x,t.right),o=Jc(n.y,t.y,t.bottom),i=Math.max(t.right,n.right);t=Math.max(t.bottom,n.bottom);return Rt.some(bo(r,o,i-r,t-o))}var u=!t.closeButton&&t.timeout&&(0<t.timeout||t.timeout<0),c=mu(Ah.sketch({text:t.text,level:Pt(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:Rt.from(t.icon),closeButton:!u,onAction:i,iconProvider:r.providers.icons,translationProvider:r.providers.translate})),s=mu(gh.sketch(T({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:r.getSink,fireDismissalEventInstead:{}},r.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(s),0<t.timeout&&bh.setTimeout((function(){i()}),t.timeout),{close:i,moveTo:function(e,t){gh.showAt(s,gu(c),{anchor:{type:"makeshift",x:e,y:t}})},moveRel:function(e,t){var n,o=gu(c),i={maxHeightFunction:qs()};"banner"!==t&&f(e)?(n=function(e){switch(e){case"bc-bc":return vh;case"tc-tc":return ph;case"tc-bc":return os;default:return is}}(t),t={type:"node",root:Er(),node:Rt.some(On.fromDom(e)),overrides:i,layouts:{onRtl:function(){return[n]},onLtr:function(){return[n]}}},gh.showWithinBounds(s,o,{anchor:t},a)):(e=T(T({},r.anchors.banner()),{overrides:i}),gh.showWithinBounds(s,o,{anchor:e},a))},text:function(e){Ah.updateText(c,e)},settings:t,getEl:function(){return c.element.dom},progressBar:{value:function(e){Ah.updateProgress(c,e)}}}},close:function(e){e.close()},reposition:function(e){0<e.length&&Vt(e,(function(t,n){0===n?t.moveRel(null,"banner"):t.moveRel(e[n-1].getEl(),"bc-tc")}))},getArgs:function(e){return e.settings}}}function Mh(e,t){function n(){u(r)||(clearTimeout(r),r=null)}var r=null;return{cancel:n,throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n(),r=setTimeout((function(){r=null,e.apply(null,o)}),t)}}}function Rh(e,t,n,r,o){var i=Cp(e,(function(t){return t=t,(n=e).isBlock(t)||Pt(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===n.getContentEditable(t);var n}));return Rt.from(i.backwards(t,n,r,o))}function Nh(e){return""!==e&&-1!=="  \f\n\r\t\v".indexOf(e)}function Bh(e,t,n,r){return void 0===r&&(r=0),kp(On.fromDom(t.startContainer)).fold((function(){return _p(e,t,n,r)}),(function(t){var r=e.createRng();r.selectNode(t.dom),t=Op(r);return Rt.some({range:r,text:Tp(t,n),triggerChar:n})}))}function Hh(e,t){return{container:e,offset:t}}function Lh(e){var t;return 3===e.nodeType?Hh(e,e.data.length):0<(t=e.childNodes).length?Lh(t[t.length-1]):Hh(e,t.length)}function Ph(e,t){var n=e.childNodes;return 0<n.length&&t<n.length?Ph(n[t],0):0<n.length&&e.nodeType===Tn&&n.length===t?Lh(n[n.length-1]):Hh(e,t)}function Ih(e){return Jo("toolbarbutton",Ip,e)}function Fh(e){return Jo("ToggleButton",Fp,e)}function Vh(e,t){return function(n){return n=N(n,t),Ft(n,(function(t){return{dom:e,components:t}}))}}function jh(e,t){var n=[],r=[];return Vt(e,(function(e,o){t(e,o)?(0<r.length&&n.push(r),r=[],hn(e.dom,"innerHtml")&&r.push(e)):r.push(e)})),0<r.length&&n.push(r),Ft(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))}function Uh(e,t,n,r,o){i=n;var i,a={dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[uh.parts.items({preprocess:function(e){return jh(e,(function(e,t){return"separator"===i[t].type}))}})]};return{value:e,dom:a.dom,components:a.components,items:n}}function Wh(e,t){return gs([Gg(e,t)])}function $h(e,t,n){e.getSystem().broadcastOn([_v],{})}function qh(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))}function Gh(e){return e.getParam("width",Mv.DOM.getStyle(e.getElement(),"width"))}function Xh(e){return Rt.from(e.getParam("min_width")).filter(m)}function Kh(e){return Rt.from(e.getParam("min_height")).filter(m)}function Yh(e){return Rt.from(e.getParam("max_height")).filter(m)}function Jh(e,t){e.on("init",(function(){e.mode.isReadOnly()&&eb(t,!0)})),e.on("SwitchMode",(function(){return eb(t,e.mode.isReadOnly())})),Nv(e)&&e.setMode("readonly")}function Qh(e,t,n,r){var o=li(h);return{type:"item",dom:t.dom,components:cb(t.optComponents),data:e.data,eventOrder:ub,hasSubmenu:e.triggersSubmenu,itemBehaviours:gs([Gg("item-events",[ab(e,n),ob(e,o),ib(e,o)]),nb.item((function(){return e.disabled||r.isDisabled()})),tb(),$g.config({})].concat(e.itemBehaviours))}}function Zh(e){return{value:e.value,meta:T({text:e.text.getOr("")},e.meta)}}function ep(e){return{dom:{tag:"div",classes:[Jp]},components:[su(xh.translate(e))]}}function tp(e,t){return{dom:{tag:"div",classes:[Jp]},components:[{dom:{tag:e.tag,styles:e.styles},components:[su(xh.translate(t))]}]}}function np(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:(e=e,t=sb.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},e=e.split("+"),e=Ft(e,(function(e){var n=e.toLowerCase().trim();return hn(t,n)?t[n]:e})),sb.mac?e.join(""):e.join("+"))}};var t}function rp(e){return lb("checkmark",e,[Zp])}function op(e){return e=e.map((function(e){return{attributes:{title:xh.translate(e)}}})).getOr({}),T({tag:"div",classes:[$p,qp]},e)}function ip(e,t,n,r){return void 0===r&&(r=Rt.none()),"color"===e.presets?gb(e,t,r):hb(e,t,n,r)}function ap(e){return{value:e}}function up(e){return xb.test(e)||Cb.test(e)}function cp(e){return up(e)?Rt.some({value:F(e,"#").toUpperCase()}):Rt.none()}function sp(e){return e={value:e.value.replace(xb,(function(e,t,n,r){return t+t+n+n+r+r}))},null===(e=Cb.exec(e.value))?["FFFFFF","FF","FF","FF"]:e}function lp(e){return(1===(e=e.toString(16)).length?"0"+e:e).toUpperCase()}function fp(e){return e=lp(e.red)+lp(e.green)+lp(e.blue),ap(e)}function dp(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}}function mp(e){var t=parseInt(e,10);return t.toString()===e&&0<=t&&t<=255}function gp(e){var t,n,r,o=(e.hue||0)%360,i=e.saturation/100;e=e.value/100,i=kb(0,Sb(i,1)),e=kb(0,Sb(e,1));if(0===i)return t=n=r=Ob(255*e),dp(t,n,r,1);o/=60;var a=e*i,u=a*(1-Math.abs(o%2-1));i=e-a;switch(Math.floor(o)){case 0:t=a,n=u,r=0;break;case 1:t=u,n=a,r=0;break;case 2:t=0,n=a,r=u;break;case 3:t=0,n=u,r=a;break;case 4:t=u,n=0,r=a;break;case 5:t=a,n=0,r=u;break;default:t=n=r=0}return t=Ob(255*(t+i)),n=Ob(255*(n+i)),r=Ob(255*(r+i)),dp(t,n,r,1)}function hp(e,t,n,r){return e=parseInt(e,10),t=parseInt(t,10),n=parseInt(n,10),r=parseFloat(r),dp(e,t,n,r)}function pp(e){if("transparent"===e)return Rt.some(dp(0,0,0,0));var t=Tb.exec(e);return null!==t?Rt.some(hp(t[1],t[2],t[3],"1")):null!==(t=_b.exec(e))?Rt.some(hp(t[1],t[2],t[3],t[4])):Rt.none()}function vp(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"}var bp,yp,wp,xp,Cp=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Sp="[data-mce-autocompleter]",kp=function(e){return Dc(e,Sp)},Op=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},Tp=function(e,t){return e.substring(t.length)},_p=function(e,t,n,r){if(void 0===r&&(r=0),!(o=t).collapsed||3!==o.startContainer.nodeType)return Rt.none();var o=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Rh(e,t.startContainer,t.startOffset,(function(e,t,r){return function(e,t,n){for(var r=t-1;0<=r;r--){var o=e.charAt(r);if(Nh(o))return Rt.none();if(o===n)break}return Rt.some(r)}(r,t,n).getOr(t)}),o).bind((function(e){var o=t.cloneRange();return o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed?Rt.none():(e=Op(o),0!==e.lastIndexOf(n)||Tp(e,n).length<r?Rt.none():Rt.some({text:Tp(e,n),range:o,triggerChar:n}))}))},Ep=function(e,t){function n(e,t){ma(e,Ri(),{raw:t})}t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel),t.on("keydown",(function(t){function r(){return e.getView().bind(lg.getHighlighted)}8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(r().each(ga),t.preventDefault()):40===t.which?(r().fold((function(){e.getView().each(lg.highlightFirst)}),(function(e){n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||r().each((function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())})),t.on("NodeChange",(function(t){e.isActive()&&!e.isProcessingAction()&&kp(On.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))},Dp=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ap=function(e){return function(t){return t=Ph(t.startContainer,t.startOffset),!Rh(e,t.container,t.offset,(function(e,t){return 0===t?-1:t}),e.getRoot()).filter((function(e){return e=e.container.data.charAt(e.offset-1),!Nh(e)})).isSome()}},zp=function(e,t,n){return on(n.triggerChars,(function(n){return Bh(e,t,n)}))},Mp=function(e,t,n,r){void 0===r&&(r={});t=t();var o=e.selection.getRng().startContainer.nodeValue;t=Ut(t.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return Ap(e.dom)}))(n.range,o,n.text)}));return 0===t.length?Rt.none():(t=Dp.all(Ft(t,(function(e){return e.fetch(n.text,e.maxResults,r).then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}}))}))),Rt.some({lookupData:t,context:n}))},Rp=Fo([He("type"),We("text")]),Np=Fo([ci("type","autocompleteitem"),ci("active",!1),ci("disabled",!1),ci("meta",{}),He("value"),We("text"),We("icon")]),Bp=Fo([He("type"),He("ch"),Ge("minChars",1),ci("columns",1),Ge("maxResults",10),$e("matches"),Pe("fetch"),Pe("onAction"),Qe("highlightOn",[],$o)]),Hp=function(e){return Jo("Autocompleter.Separator",Rp,e)},Lp=function(e){return Jo("Autocompleter.Item",Np,e)},Pp=function(e){return Jo("Autocompleter",Bp,e)},Ip=(Hg=[Ye("disabled",!1),We("tooltip"),We("icon"),We("text"),Je("onSetup",(function(){return h}))],Fo([He("type"),Pe("onAction")].concat(Hg))),Fp=(fl=[Ye("active",!1)].concat(Hg),Fo(fl.concat([He("type"),Pe("onAction")]))),Vp=(Bg=[Je("predicate",S),Ke("scope","node",["node","editor"]),Ke("position","selection",["node","selection","line"])],jm=Hg.concat([ci("type","contextformbutton"),ci("primary",!1),Pe("onAction"),ni("original",b)]),Vm=fl.concat([ci("type","contextformbutton"),ci("primary",!1),Pe("onAction"),ni("original",b)]),Um=Hg.concat([ci("type","contextformbutton")]),jg=fl.concat([ci("type","contextformtogglebutton")]),Rg=Ne("type",{contextformbutton:jm,contextformtogglebutton:Vm}),Fo([ci("type","contextform"),Je("initValue",v("")),We("label"),Ve("commands",Rg),ii("launch",Ne("type",{contextformbutton:Um,contextformtogglebutton:jg}))].concat(Bg))),jp=Fo([ci("type","contexttoolbar"),He("items")].concat(Bg)),Up=function(e){var t={};return Vt(e,(function(e){t[e]={}})),an(t)},Wp=((rl=ex=ex||{})[rl.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",rl[rl.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX",ex),$p="tox-menu-nav__js",qp="tox-collection__item",Gp="tox-swatch",Xp={normal:$p,color:Gp},Kp="tox-collection__item--enabled",Yp="tox-collection__item-icon",Jp="tox-collection__item-label",Qp="tox-collection__item-caret",Zp="tox-collection__item-checkmark",ev="tox-collection__item--active",tv="tox-collection__item-container",nv="tox-collection__item-container--row",rv=function(e){return gn(Xp,e).getOr($p)},ov=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:"color"===e?"tox-swatches":"tox-menu",tieredMenu:"tox-tiered-menu"}},iv=function(e){var t=ov(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:rv(e)}},av=function(e,t,n){return n=ov(n),{tag:"div",classes:Kt([[n.menu,"tox-menu-"+t+"-column"],e?[n.hasIcons]:[]])}},uv=[uh.parts.items({})],cv=function(e,t,n){var r=ov(n);return{dom:{tag:"div",classes:Kt([[r.tieredMenu]])},markers:iv(n)}},sv=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[uh.parts.items({preprocess:"auto"!==e?Vh({tag:"div",classes:["tox-swatches__row"]},e):b})]}]}},lv=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[uh.parts.items({preprocess:Vh({tag:"div",classes:["tox-collection__group"]},e)})]}},fv=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[uh.parts.items({preprocess:function(n){return"auto"!==e&&1<e?Vh({tag:"div",classes:["tox-collection__group"]},e)(n):jh(n,(function(e,n){return"separator"===t[n].type}))}})]}},dv=function(e){return It(e,(function(e){return"icon"in e&&void 0!==e.icon}))},mv=function(e){return Rt.none()},gv=function(e,t,n,r,o){var i;return"color"===o?{value:e,dom:(i=sv(r)).dom,components:i.components,items:n}:"normal"===o&&"auto"===r?{value:e,dom:(i=fv(r,n)).dom,components:i.components,items:n}:"normal"===o&&1===r?{value:e,dom:(i=fv(1,n)).dom,components:i.components,items:n}:"normal"===o?{value:e,dom:(i=fv(r,n)).dom,components:i.components,items:n}:"listpreview"!==o||"auto"===r?{value:e,dom:av(t,r,o),components:uv,items:n}:{value:e,dom:(i=lv(r)).dom,components:i.components,items:n}},hv=(Ug=[He("type"),He("src"),We("alt"),Qe("classes",[],$o)],Fo(Ug)),pv=(Lg=[He("type"),He("text"),We("name"),Qe("classes",["tox-collection__item-label"],$o)],Fo(Lg)),vv=(za=_e((function(){return Me("type",{cardimage:hv,cardtext:pv,cardcontainer:vv})})),Fo([He("type"),Xe("direction","horizontal"),Xe("align","left"),Xe("valign","middle"),Ve("items",za)])),bv=(Ba=[Ye("disabled",!1),We("text"),We("shortcut"),ti("value","value",Do((function(){return Na("menuitem-value")})),Uo()),ci("meta",{})],Fo([He("type"),We("label"),Ve("items",za),Je("onSetup",(function(){return h})),Je("onAction",h)].concat(Ba))),yv=function(e){return Jo("cardmenuitem",bv,e)},wv=Fo([He("type"),Ye("active",!1),We("icon")].concat(Ba)),xv=(Ng=[He("type"),He("fancytype"),Je("onAction",h)],cm=[ci("initData",{})].concat(Ng),xi=[Ze("initData",{},[Ye("allowCustomColors",!0),qe("colors",Uo())])].concat(Ng),Ne("fancytype",{inserttable:cm,colorswatch:xi})),Cv=Fo([He("type"),Je("onSetup",(function(){return h})),Je("onAction",h),We("icon")].concat(Ba)),Sv=Fo([He("type"),Pe("getSubmenuItems"),Je("onSetup",(function(){return h})),We("icon")].concat(Ba)),kv=Fo([He("type"),We("icon"),Ye("active",!1),Je("onSetup",(function(){return h})),Pe("onAction")].concat(Ba)),Ov=function(e,t,n){var r=em(e.element,"."+n);return 0<r.length?(e=Xt(r,(function(e){e=e.dom.getBoundingClientRect().top;var n=r[0].dom.getBoundingClientRect().top;return Math.abs(e-n)>t})).getOr(r.length),Rt.some({numColumns:e,numRows:Math.ceil(r.length/e)})):Rt.none()},Tv={namedEvents:Wh,unnamedEvents:function(e){return Wh(Na("unnamed-events"),e)}},_v=Na("tooltip.exclusive"),Ev=Na("tooltip.show"),Dv=Na("tooltip.hide"),Av=(fl=Object.freeze({__proto__:null,hideAllExclusive:$h,setComponents:function(e,t,n,r){n.getTooltip().each((function(e){e.getSystem().isConnected()&&$g.set(e,r)}))}}),jm=Object.freeze({__proto__:null,events:function(e,t){function n(n){t.getTooltip().each((function(r){Pl(r),e.onHide(n,r),t.clearTooltip()})),t.clearTimer()}return ba(Kt([[ya(Ev,(function(n){t.resetTimer((function(){var r,o,i;r=n,t.isShowing()||($h(r),o=e.lazySink(r).getOrDie(),i=r.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:ba("normal"===e.mode?[ya(Ai(),(function(e){da(r,Ev)})),ya(Ei(),(function(e){da(r,Dv)}))]:[]),behaviours:gs([$g.config({})])}),t.setTooltip(i),pm(o,i),e.onShow(r,i),fm.position(o,i,{anchor:e.anchor(r)}))}),e.delay)})),ya(Dv,(function(r){t.resetTimer((function(){n(r)}),e.delay)})),ya($i(),(function(e,t){t.universal||Pt(t.channels,_v)&&n(e)})),ka((function(e){n(e)}))],"normal"===e.mode?[ya(zi(),(function(e){da(e,Ev)})),ya(Ui(),(function(e){da(e,Dv)})),ya(Ai(),(function(e){da(e,Ev)})),ya(Ei(),(function(e){da(e,Dv)}))]:[ya(la(),(function(e,t){da(e,Ev)})),ya(fa(),(function(e){da(e,Dv)}))]]))}}),Vm=[ri("lazySink"),ri("tooltipDom"),ci("exclusive",!0),ci("tooltipComponents",[]),ci("delay",300),Ke("mode","normal",["normal","follow-highlight"]),ci("anchor",(function(e){return{type:"hotspot",hotspot:e,layouts:{onLtr:v([is,os,es,ns,ts,rs]),onRtl:v([is,os,es,ns,ts,rs])}}})),Su("onHide"),Su("onShow")],Vu({fields:Vm,name:"tooltipping",active:jm,state:Object.freeze({__proto__:null,init:function(){function e(){t.on(clearTimeout)}var t=Ms(),n=Ms(),r=v("not-implemented");return qa({getTooltip:n.get,isShowing:n.isSet,setTooltip:n.set,clearTooltip:n.clear,clearTimer:e,resetTimer:function(n,r){e(),t.set(setTimeout(n,r))},readState:r})}}),apis:fl})),zv=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},Mv=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Rv=tinymce.util.Tools.resolve("tinymce.EditorManager"),Nv=function(e){return e.getParam("readonly",!1,"boolean")},Bv=function(e){return Rt.from(e.getParam("max_width")).filter(m)},Hv=function(e){return!1!==e.getParam("menubar",!0,"boolean")},Lv=function(e){var t=e.getParam("toolbar",!0),n=!0===t,r=o(t);t=a(t)&&0<t.length;return!Iv(e)&&(t||r||n)},Pv=function(e){var t=R(9,(function(t){return e.getParam("toolbar"+(t+1),!1,"string")}));t=Ut(t,(function(e){return"string"==typeof e}));return 0<t.length?Rt.some(t):Rt.none()},Iv=function(e){return Pv(e).fold((function(){return 0<e.getParam("toolbar",[],"string[]").length}),k)},Fv=((Rg=bp=bp||{}).default="wrap",Rg.floating="floating",Rg.sliding="sliding",Rg.scrolling="scrolling",function(e){return e.getParam("toolbar_mode","","string")}),Vv=((Um=yp=yp||{}).auto="auto",Um.top="top",Um.bottom="bottom",function(e){return e.getParam("toolbar_groups",{},"object")}),jv=function(e){return e.getParam("toolbar_location",yp.auto,"string")},Uv=function(e){return jv(e)===yp.bottom},Wv=function(e){if(!e.inline)return Rt.none();var t=e.getParam("fixed_toolbar_container","","string");return 0<t.length?Ec(Er(),t):(t=e.getParam("fixed_toolbar_container_target"),f(t)?Rt.some(On.fromDom(t)):Rt.none())},$v=function(e){return e.inline&&Wv(e).isSome()},qv=function(e){return Wv(e).getOrThunk((function(){return kr(Sr(On.fromDom(e.getElement())))}))},Gv=function(e){return e.inline&&!Hv(e)&&!Lv(e)&&!Iv(e)},Xv=function(e){return(e.getParam("toolbar_sticky",!1,"boolean")||e.inline)&&!$v(e)&&!Gv(e)},Kv=function(e){return e=e.getParam("menu"),e?sn(e,(function(e){return T(T({},e),{items:e.items})})):{}},Yv=function(e){return e.getParam("menubar")},Jv=function(e){return e.getParam("toolbar",!0)},Qv="silver.readonly",Zv=Fo([oi("readonly",qo)]),eb=function(e,t){var n=e.outerContainer.element;t&&(e.mothership.broadcastOn([Cm()],{target:n}),e.uiMothership.broadcastOn([Cm()],{target:n})),e.mothership.broadcastOn([Qv],{readonly:t}),e.uiMothership.broadcastOn([Qv],{readonly:t})},tb=function(){var e;return bs.config({channels:((e={})[Qv]={schema:Zv,onReceive:function(e,t){sg.set(e,t.readonly)}},e)})},nb={item:function(e){return sg.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},button:function(e){return sg.config({disabled:e})},splitButton:function(e){return sg.config({disabled:e,disableClass:"tox-tbtn--disabled"})},toolbarButton:function(e){return sg.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})}},rb=function(e,t){var n=e.getApi(t);return function(e){e(n)}},ob=function(e,t){return Sa((function(n){rb(e,n)((function(n){n=e.onSetup(n),d(n)&&t.set(n)}))}))},ib=function(e,t){return ka((function(n){return rb(e,n)(t.get())}))},ab=function(e,t){return Ta((function(n,r){rb(e,n)(e.onAction),e.triggersSubmenu||t!==Wp.CLOSE_ON_EXECUTE||(da(n,Yi()),r.stop())}))},ub=((jg={})[qi()]=["disabling","alloy.base.behaviour","toggling","item-events"],jg),cb=bn,sb=tinymce.util.Tools.resolve("tinymce.Env"),lb=function(e,t,n){return Eh(e,{tag:"div",classes:n=void 0===n?[Yp]:n},t)},fb=function(e,t){return{dom:{tag:"div",classes:t,innerHtml:e}}},db=function(e,t){var n="vertical"===e.direction?"tox-collection__item-container--column":nv,r="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[tv,n,r,function(){switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}}()]},components:t}},mb=function(e,t,n){return{dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}},gb=function(e,t,n){var r,o=e.ariaLabel,i=e.value;e=e.iconContent.map((function(e){var r=t.icons,o=n;return r=r(),Th(e,r).or(o).getOrThunk(kh(r))}));return{dom:(r=Gp,e=e.getOr(""),r={tag:"div",attributes:o.map((function(e){return{title:t.translate(e)}})).getOr({}),classes:[r]},T(T({},r),"custom"===i?{tag:"button",classes:E(E([],r.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:e}:"remove"===i?{classes:E(E([],r.classes,!0),["tox-swatch--remove"],!1),innerHtml:e}:{attributes:T(T({},r.attributes),{"data-mce-color":i}),styles:{"background-color":i}})),optComponents:[]}},hb=function(e,t,n,r){var o={tag:"div",classes:[Yp]},i=(n=n?e.iconContent.map((function(e){return Eh(e,o,t.icons,r)})).orThunk((function(){return Rt.some({dom:o})})):Rt.none(),e.checkMark),a=Rt.from(e.meta).fold((function(){return ep}),(function(e){return hn(e,"style")?w(tp,e.style):ep})),u=e.htmlContent.fold((function(){return e.textContent.map(a)}),(function(e){return Rt.some(fb(e,[Jp]))}));return{dom:op(e.ariaLabel),optComponents:[n,u,e.shortcutContent.map(np),i,e.caret]}},pb=function(e,t){return gn(e,"tooltipWorker").map((function(e){return[Av.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{type:"submenu",item:e,overrides:{maxHeightFunction:qs}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){Av.setComponents(t,[lu({element:On.fromDom(e)})])}))}})]})).getOr([])},vb=function(e){return Mv.DOM.encode(e)},bb=function(e,t){return e=xh.translate(e),e=vb(e),0<t.length?(t=new RegExp(zv(t),"gi"),e.replace(t,(function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"}))):e},yb=function(e,t){return Ft(e,(function(e){switch(e.type){case"cardcontainer":return db(e,yb(e.items,t));case"cardimage":return mb(e.src,e.classes,e.alt);case"cardtext":var n=e.name.exists((function(e){return Pt(t.cardText.highlightOn,e)}))?Rt.from(t.cardText.matchText).getOr(""):"";return fb(bb(e.text,n),e.classes)}}))},wb=af(rh(),oh()),xb=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Cb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Sb=Math.min,kb=Math.max,Ob=Math.round,Tb=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,_b=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Eb=function(e){e=sp(e);var t=parseInt(e[1],16),n=parseInt(e[2],16);e=parseInt(e[3],16);return dp(t,n,e,1)},Db=dp(255,0,0,1),Ab=function(e){return e.fire("SkinLoaded")},zb=function(e,t){return e.fire("SkinLoadError",t)},Mb=function(e,t){return e.fire("ResizeContent",t)},Rb=function(e,t){return e.fire("ScrollContent",t)},Nb=function(e,t,n){return{hue:e,saturation:t,value:n}},Bb=function(e){var t=0,n=e.red/255,r=e.green/255,o=(e=e.blue/255,Math.min(n,Math.min(r,e))),i=Math.max(n,Math.max(r,e));if(o===i)return Nb(0,0,100*(t=o));var a=n===o?3:e===o?1:5,u=(i-o)/i;t=i;return Nb(Math.round(60*(a-(n===o?r-e:e===o?n-r:e-n)/(i-o))),Math.round(100*u),Math.round(100*t))},Hb=function(e){return Bb(Eb(e))},Lb=function(e){return fp(gp(e))},Pb=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Ib="tinymce-custom-colors",Fb="choiceitem",Vb=[{type:Fb,text:"Light Green",value:"#BFEDD2"},{type:Fb,text:"Light Yellow",value:"#FBEEB8"},{type:Fb,text:"Light Red",value:"#F8CAC6"},{type:Fb,text:"Light Purple",value:"#ECCAFA"},{type:Fb,text:"Light Blue",value:"#C2E0F4"},{type:Fb,text:"Green",value:"#2DC26B"},{type:Fb,text:"Yellow",value:"#F1C40F"},{type:Fb,text:"Red",value:"#E03E2D"},{type:Fb,text:"Purple",value:"#B96AD9"},{type:Fb,text:"Blue",value:"#3598DB"},{type:Fb,text:"Dark Turquoise",value:"#169179"},{type:Fb,text:"Orange",value:"#E67E23"},{type:Fb,text:"Dark Red",value:"#BA372A"},{type:Fb,text:"Dark Purple",value:"#843FA1"},{type:Fb,text:"Dark Blue",value:"#236FA1"},{type:Fb,text:"Light Gray",value:"#ECF0F1"},{type:Fb,text:"Medium Gray",value:"#CED4D9"},{type:Fb,text:"Gray",value:"#95A5A6"},{type:Fb,text:"Dark Gray",value:"#7E8C8D"},{type:Fb,text:"Navy Blue",value:"#34495E"},{type:Fb,text:"Black",value:"#000000"},{type:Fb,text:"White",value:"#ffffff"}],jb=(void 0===(wp=10)&&(wp=10),Bg=Pb.getItem(Ib),Bg=o(Bg)?JSON.parse(Bg):[],xp=wp-(Bg=Bg).length<0?Bg.slice(0,wp):Bg,{add:function(e){(function(e,t){return e=Lt(e,t),-1===e?Rt.none():Rt.some(e)})(xp,e).each(Ub),xp.unshift(e),xp.length>wp&&xp.pop(),Pb.setItem(Ib,JSON.stringify(xp))},state:function(){return xp.slice(0)}});function Ub(e){xp.splice(e,1)}function Wb(e){for(var t=[],n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+function(e){return cp(e).orThunk((function(){return pp(e).map(fp)})).getOrThunk((function(){var t=document.createElement("canvas"),n=(t.height=1,t.width=1,t.getContext("2d")),r=(t=(n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1),n.getImageData(0,0,1,1).data),n=t[0],t[1]),o=t[2];t=t[3];return fp(dp(n,r,o,t))}))}(e[n]).value,type:"choiceitem"});return t}function $b(e){return!1!==e.getParam("custom_colors")}function qb(e){return void 0!==(e=e.getParam("color_map"))?Wb(e):Vb}function Gb(e){jb.add(e)}function Xb(e){e.addCommand("mceApplyTextcolor",(function(t,n){var r,o,i;o=t,i=n,(r=e).undoManager.transact((function(){r.focus(),r.formatter.apply(o,{value:i}),r.nodeChanged()}))})),e.addCommand("mceRemoveTextcolor",(function(t){var n,r;r=t,(n=e).undoManager.transact((function(){n.focus(),n.formatter.remove(r,{value:null},null,!0),n.nodeChanged()}))}))}function Kb(e){t=(t=qb(e)).length;var t=Math.max(5,Math.ceil(Math.sqrt(t)));return e.getParam("color_cols",t,"number")}function Yb(e,t,n,r){"custom"===n?ty(e)((function(n){n.each((function(n){Gb(n),e.execCommand("mceApplyTextcolor",t,n),r(n)}))}),Dw):"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))}function Jb(e,t){return function(n){n(zw(e,t))}}function Qb(e,t,n){e.setIconFill("forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",n)}function Zb(e,t,n,r,o){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){var r,o;return r=n,e.dom.getParents(e.selection.getStart(),(function(e){(e=e.style["forecolor"===r?"color":"background-color"])&&(o=o||e)})),Rt.from(o).bind((function(e){return pp(e).map((function(e){return e=fp(e).value,V(t.toLowerCase(),e)}))})).getOr(!1)},columns:Kb(e),fetch:Jb(qb(e),$b(e)),onAction:function(t){Yb(e,n,o.get(),h)},onItemAction:function(r,i){Yb(e,n,i,(function(n){o.set(n),n={name:t,color:n},e.fire("TextColorChange",n)}))},onSetup:function(n){function r(e){e.name===t&&Qb(n,e.name,e.color)}return Qb(n,t,o.get()),e.on("TextColorChange",r),function(){e.off("TextColorChange",r)}}})}function ey(e,t,n,r){e.ui.registry.addNestedMenuItem(t,{text:r,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){Yb(e,n,t.value,h)}}]}})}function ty(e){return function(t,n){var r=!1;e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{colorpicker:n},onAction:function(e,t){"hex-valid"===t.name&&(r=t.value)},onSubmit:function(n){var o=n.getData().colorpicker;r?(t(Rt.from(o)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",o]))},onClose:h,onCancel:function(){t(Rt.none())}})}}function ny(e,t){return su(t+"x"+e)}function ry(e,t,n,r,o){function i(e){return o?T(T({},e),{shortcut:Rt.none(),icon:e.text.isSome()?Rt.none():e.icon}):e}var a=n.shared.providers;switch(e.type){case"menuitem":return Jo("menuitem",Cv,e).fold(mv,(function(e){return Rt.some(Vw(i(e),t,a,r))}));case"nestedmenuitem":return Jo("nestedmenuitem",Sv,e).fold(mv,(function(e){return Rt.some(jw(i(e),t,a,r,o))}));case"togglemenuitem":return Jo("togglemenuitem",kv,e).fold(mv,(function(e){return Rt.some(Uw(i(e),t,a,r))}));case"separator":return Jo("separatormenuitem",Rp,e).fold(mv,(function(e){return Rt.some(Fw(e))}));case"fancymenuitem":return Jo("fancymenuitem",xv,e).fold(mv,(function(e){return Ww(i(e),n)}));default:return Rt.none()}}function oy(e,t,n){return Dc(e,t,n).isSome()}function iy(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},schedule:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n=setTimeout((function(){e.apply(null,r),n=null}),t)}}}function ay(e){return void 0===(e=e.raw).touches||1!==e.touches.length?Rt.none():Rt.some(e.touches[0])}function uy(e){var t=Ms(),n=li(!1),r=iy((function(t){e.triggerEvent(Ki(),t),n.set(!0)}),400),o=hi([{key:Ci(),value:function(e){return ay(e).each((function(o){r.cancel(),o={x:o.clientX,y:o.clientY,target:e.target},r.schedule(e),n.set(!1),t.set(o)})),Rt.none()}},{key:Si(),value:function(e){return r.cancel(),ay(e).each((function(e){t.on((function(n){var r,o;r=e,n=n,o=Math.abs(r.clientX-n.x),r=Math.abs(r.clientY-n.y),(5<o||5<r)&&t.clear()}))})),Rt.none()}},{key:ki(),value:function(o){return r.cancel(),t.get().filter((function(e){return lr(e.target,o.target)})).map((function(t){return n.get()?(o.prevent(),!1):e.triggerEvent(Xi(),o)}))}}]);return{fireIfReady:function(e,t){return gn(o,t).bind((function(t){return t(e)}))}}}function cy(){return ar().browser.isFirefox()}function sy(e,t){var n,r=T({stopBackspace:!0},t),o=uy(r),i=Ft(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return Ns(e,t,(function(e){o.fireIfReady(e,t).each((function(t){t&&e.kill()})),r.triggerEvent(t,e)&&e.kill()}))})),a=Ms(),u=Ns(e,"paste",(function(e){o.fireIfReady(e,"paste").each((function(t){t&&e.kill()})),r.triggerEvent("paste",e)&&e.kill(),a.set(setTimeout((function(){r.triggerEvent(Wi(),e)}),0))})),c=Ns(e,"keydown",(function(e){var t;r.triggerEvent("keydown",e)?e.kill():!r.stopBackspace||(t=e).raw.which!==fg[0]||Pt(["input","textarea"],_n(t.target))||oy(t.target,'[contenteditable="true"]')||e.prevent()})),s=(t=e,n=function(e){r.triggerEvent("focusin",e)&&e.kill()},cy()?Bs(t,"focus",n):Ns(t,"focusin",n)),l=Ms(),f=(t=e,n=function(e){r.triggerEvent("focusout",e)&&e.kill(),l.set(setTimeout((function(){r.triggerEvent(Ui(),e)}),0))},cy()?Bs(t,"blur",n):Ns(t,"focusout",n));return{unbind:function(){Vt(i,(function(e){e.unbind()})),c.unbind(),s.unbind(),f.unbind(),u.unbind(),a.on(clearTimeout),l.on(clearTimeout)}}}function ly(e,t,n,r,o,i){e=e(t,r);var a,u,c=(n=n,o=o,a=li(!1),u=li(!1),{stop:function(){a.set(!0)},cut:function(){u.set(!0)},isStopped:a.get,isCut:u.get,event:n,setSource:o.set,getSource:o.get});return e.fold((function(){return i.logEventNoHandlers(t,r),Yw.complete()}),(function(e){var n=e.descHandler;return xt(n)(c),c.isStopped()?(i.logEventStopped(t,e.element,n.purpose),Yw.stopped()):c.isCut()?(i.logEventCut(t,e.element,n.purpose),Yw.complete()):vr(e.element).fold((function(){return i.logNoParent(t,e.element,n.purpose),Yw.complete()}),(function(r){return i.logEventResponse(t,e.element,n.purpose),Yw.resume(r)}))}))}function fy(e,t,n){t=t,r=li(!1);var r,o={stop:function(){r.set(!0)},cut:h,isStopped:r.get,isCut:S,event:t,setSource:C("Cannot set source of a broadcasted event"),getSource:C("Cannot get source of a broadcasted event")};return Vt(e,(function(e){e=e.descHandler,xt(e)(o)})),o.isStopped()}function dy(e,t,n,r,o){var i=Kw(n,r);return Jw(e,t,n,r,i,o)}function my(){var e={};return{registerId:function(t,n,r){cn(r,(function(r,o){var i=void 0!==e[o]?e[o]:{};i[n]={cHandler:w.apply(void 0,[(r=r).handler].concat(t)),purpose:r.purpose},e[o]=i}))},unregisterId:function(t){cn(e,(function(e,n){hn(e,t)&&delete e[t]}))},filterByType:function(t){return gn(e,t).map((function(e){return dn(e,(function(e,t){return{id:t,descHandler:e}}))})).getOr([])},find:function(t,n,r){return gn(e,n).bind((function(e){return vi(r,(function(t){return n=e,mt(r=t).bind((function(e){return gn(n,e)})).map((function(e){return{element:r,descHandler:e}}));var n,r}),t)}))}}}function gy(){function e(e){var t=e.element;return mt(t).getOrThunk((function(){var t="uid-",n=e.element;return t=Na(Ha+t),dt(n,t),t}))}var t=my(),n={},r=function(e){mt(e.element).each((function(e){delete n[e],t.unregisterId(e)}))};return{find:function(e,n,r){return t.find(e,n,r)},filter:function(e){return t.filterByType(e)},register:function(o){var i=e(o);if(pn(n,i)){var a=o,u=i,c=n[u];if(c!==a)throw new Error('The tagId "'+u+'" is already used by: '+Aa(c.element)+"\nCannot use it for: "+Aa(a.element)+"\nThe conflicting element is"+(_r(c.element)?" ":" not ")+"already in the DOM");r(a)}t.registerId([o],i,o.events),n[i]=o},unregister:r,getById:function(e){return gn(n,e)}}}function hy(e,t){function n(e){return function(t,n){Dc(n.event.target,"[data-collection-item-value]").each((function(r){e(t,n,r,Mr(r,"data-collection-item-value"))}))}}function r(e,t){return Ft(em(e.element,".tox-collection__item"),t)}var o,i=e.label.map((function(e){return ux(e,t)})),a=n((function(n,r,o,i){r.stop(),t.isDisabled()||ma(n,fx,{name:e.name,value:i})})),u=(a=[ya(Ai(),n((function(e,t,n){ws(n)}))),ya(Li(),a),ya(Xi(),a),ya(zi(),n((function(e,t,n){Ec(e.element,"."+ev).each((function(e){nu(e,ev)})),eu(n,ev)}))),ya(Mi(),n((function(e){Ec(e.element,"."+ev).each((function(e){nu(e,ev)}))}))),Ta(n((function(t,n,r,o){ma(t,fx,{name:e.name,value:o})})))],tx.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:b},behaviours:gs([sg.config({disabled:t.isDisabled,onDisabled:function(e){r(e,(function(e){eu(e,"tox-collection__item--state-disabled"),zr(e,"aria-disabled",!0)}))},onEnabled:function(e){r(e,(function(e){nu(e,"tox-collection__item--state-disabled"),Br(e,"aria-disabled")}))}}),tb(),$g.config({}),Dm.config({store:{mode:"memory",initialValue:[]},onSetValue:function(n,r){var o=n;r=Ft(r,(function(n){var r=xh.translate(n.text),o=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",i='<div class="tox-collection__item-icon">'+n.icon+"</div>",a={_:" "," - ":" ","-":" "};r=r.replace(/\_| \- |\-/g,(function(e){return a[e]}));return'<div class="tox-collection__item'+(t.isDisabled()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+rx.encodeAllRaw(n.value)+'" title="'+r+'" aria-label="'+r+'">'+i+o+"</div>"})),r="auto"!==e.columns&&1<e.columns?N(r,e.columns):[r],r=Ft(r,(function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"})),ft(o.element,r.join("")),"auto"===e.columns&&Ov(n,5,"tox-collection__item").each((function(e){var t=e.numRows;e=e.numColumns;Wg.setGridSize(n,t,e)})),da(n,px)}}),nx.config({}),Wg.config((o=e.columns,u="normal",1===o?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===o?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===u?".tox-swatches__row":".tox-collection__group",cell:"color"===u?"."+Gp:"."+qp}})),Gg("collection-events",a)]),eventOrder:((o={})[qi()]=["disabling","alloy.base.behaviour","collection-events"],o)}));return ox(i,u,["tox-form__group--collection"],[])}function py(e){return{tag:e.tag,attributes:T({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}}function vy(e){function t(e){n()?i(e):o.push(e)}function n(){return r.isSome()}var r=Rt.none(),o=[],i=function(e){r.each((function(t){setTimeout((function(){e(t)}),0)}))};return e((function(e){n()||(r=Rt.some(e),Vt(o,i),o=[])})),{get:t,map:function(e){return vy((function(n){t((function(t){n(e(t))}))}))},isReady:n}}function by(e){return e=_n(e),Pt(Tx,e)}function yy(e,t){var n=t.getRoot(e).getOr(e.element);nu(n,t.invalidClass),t.notify.each((function(t){by(e.element)&&zr(e.element,"aria-invalid",!1),t.getContainer(e).each((function(e){ft(e,t.validHtml)})),t.onValid(e)}))}function wy(e,t,n,r){var o=t.getRoot(e).getOr(e.element);eu(o,t.invalidClass),t.notify.each((function(t){by(e.element)&&zr(e.element,"aria-invalid",!0),t.getContainer(e).each((function(e){ft(e,r)})),t.onInvalid(e,r)}))}function xy(e,t,n){return t.validator.fold((function(){return Ox.pure(Co.value(!0))}),(function(t){return t.validate(e)}))}function Cy(e,t,n){return t.notify.each((function(t){t.onValidate(e)})),xy(e,t).map((function(n){return e.getSystem().isConnected()?n.fold((function(n){return wy(e,t,0,n),Co.error(n)}),(function(n){return yy(e,t),Co.value(n)})):Co.error("No longer in system")}))}function Sy(e,t,n,r,o,i){var a=Ex.getCoupled(n,"sandbox");return(xm.isOpen(a)?Rx:Mx)(e,t,n,a,r,o,i)}function ky(e,t,n){var r=Ac(),o=Bx(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:Mm.augment(e.sandboxBehaviours,[Dm.config({store:{mode:"memory",initialValue:t}}),xm.config({onOpen:function(o,i){var a=Ax(e,t);r.link(t.element),e.matchWidth&&Nx(a.hotspot,i,e.useMinWidth),e.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},onClose:function(e,o){r.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},isPartOf:function(e,n,r){return Mc(n,r)||Mc(t,r)},getAttachPoint:function(){return o().getOrDie()}}),ug.config({find:function(e){return xm.getState(e).bind((function(e){return ug.getCurrent(e)}))}}),bs.config({channels:T(T({},Tm({isExtraPart:S})),Em({doReposition:Hx}))})])}}function Oy(e){e=Ex.getCoupled(e,"sandbox"),Hx(e)}function Ty(){return[ci("sandboxClasses",[]),Mm.field("sandboxBehaviours",[ug,bs,xm,Dm])]}function _y(e,t,n){function r(e,t){ma(e,Fx,{value:t})}var o,i,a=tx.parts.field({factory:bx,inputClasses:["tox-textfield"],onSetValue:function(e){return _x.run(e).get(h)},inputBehaviours:gs([sg.config({disabled:t.providers.isDisabled}),tb(),nx.config({}),_x.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return vr(e.element)},notify:{onValid:function(e){var t=Dm.getValue(e);ma(e,Ix,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=Dm.getValue(e);return 0===t.length?Ox.pure(Co.value(!0)):(e=On.fromTag("span"),Pr(e,"background-color",t),e=jr(e,"background-color").fold((function(){return Co.error("blah")}),(function(e){return Co.value(t)})),Ox.pure(e))}}})]),selectOnFocus:!1}),u=e.label.map((function(e){return ux(e,t.providers)})),c=wh((o={dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[ts,es,is]},onLtr:function(){return[es,ts,is]}},components:[],fetch:Jb(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:function(e,t){c.getOpt(e).each((function(e){"custom"===t?n.colorPicker((function(t){t.fold((function(){return da(e,Vx)}),(function(t){r(e,t),Gb(t)}))}),"#ffffff"):r(e,"remove"===t?"":t)}))}},i=t,Lx.sketch({dom:o.dom,components:o.components,toggleClass:"mce-active",dropdownBehaviours:gs([nb.button(i.providers.isDisabled),tb(),Px.config({}),nx.config({})]),layouts:o.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:i.getSink,fetch:function(e){return Ox.nu((function(e){return o.fetch(e)})).map((function(t){return Rt.from(Gw(To(Mw(Na("menu-value"),t,(function(t){o.onItemAction(e,t)}),o.columns,o.presets,Wp.CLOSE_ON_EXECUTE,S,i.providers),{movement:Nw(o.columns,o.presets)})))}))},parts:{menu:cv(!1,1,o.presets)}})));return tx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:u.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[a,c.asSpec()]}]),fieldBehaviours:gs([Gg("form-field-events",[ya(Ix,(function(t,n){c.getOpt(t).each((function(e){Pr(e.element,"background-color",n.event.color)})),ma(t,cx,{name:e.name})})),ya(Fx,(function(e,t){tx.getField(e).each((function(n){Dm.setValue(n,t.event.value),ug.getCurrent(e).each(Xg.focus)}))})),ya(Vx,(function(e,t){tx.getField(e).each((function(t){ug.getCurrent(e).each(Xg.focus)}))}))])])})}function Ey(e){return $m({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold((function(){return{}}),(function(e){return{events:ba([ut(Ci(),(function(t,n,r){return e(t,r)}),[t]),ut(Ti(),(function(t,n,r){return e(t,r)}),[t]),ut(_i(),(function(t,n,r){r.mouseIsDown.get()&&e(t,r)}),[t])])}}))}})}function Dy(e){return e=e.event.raw,Ux(e)?void 0!==e.touches&&1===e.touches.length?Rt.some(e.touches[0]).map((function(e){return Kr(e.clientX,e.clientY)})):Rt.none():void 0!==e.clientX?Rt.some(e).map((function(e){return Kr(e.clientX,e.clientY)})):Rt.none()}function Ay(e){return e.model.minX-1}function zy(e){return e.model.minY-1}function My(e){return e.model.maxX+1}function Ry(e){return e.model.maxY+1}function Ny(e,t,n){return t(e)-n(e)}function By(e){return Xx(e)/2}function Hy(e){return Kx(e)/2}function Ly(e,t){return void 0!==e[t+"-edge"]}function Py(e,t){return{x:e,y:t}}function Iy(e,t){ma(e,jx(),{value:t})}function Fy(e,t,n){return Math.max(t,Math.min(n,e))}function Vy(e,t,n){return n={min:Wx(t),max:qx(t),range:Xx(t),value:n,step:Yx(t),snap:Jx(t),snapStart:Qx(t),rounded:Zx(t),hasMinEdge:eC(t),hasMaxEdge:tC(t),minBound:mC(e),maxBound:gC(e),screenRange:vC(e)},uC(n)}function jy(e){return function(t,n){return function(e,t,n){return e=(0<e?aC:iC)(oC(n).x,Wx(n),qx(n),Yx(n)),xC(t,CC(e)),Rt.some(e)}(e,t,n).map(k)}}function Uy(e,t,n,r,o,i){i=i,n=n,r=r,o=o,u=vC(a=t),r=r.bind((function(e){return Rt.some(yC(e,a))})).getOr(0),o=o.bind((function(e){return Rt.some(yC(e,a))})).getOr(u),n={min:Wx(i),max:qx(i),range:Xx(i),value:n,hasMinEdge:eC(i),hasMaxEdge:tC(i),minBound:mC(a),minOffset:0,maxBound:gC(a),maxOffset:u,centerMinEdge:r,centerMaxEdge:o};var a,u;i=cC(n);return mC(t)-mC(e)+i}function Wy(e,t,n){return n={min:$x(t),max:Gx(t),range:Kx(t),value:n,step:Yx(t),snap:Jx(t),snapStart:Qx(t),rounded:Zx(t),hasMinEdge:nC(t),hasMaxEdge:rC(t),minBound:hC(e),maxBound:pC(e),screenRange:bC(e)},uC(n)}function $y(e){return function(t,n){return function(e,t,n){return e=(0<e?aC:iC)(oC(n).y,$x(n),Gx(n),Yx(n)),SC(t,kC(e)),Rt.some(e)}(e,t,n).map(k)}}function qy(e,t,n,r,o,i){i=i,n=n,r=r,o=o,u=bC(a=t),r=r.bind((function(e){return Rt.some(wC(e,a))})).getOr(0),o=o.bind((function(e){return Rt.some(wC(e,a))})).getOr(u),n={min:$x(i),max:Gx(i),range:Kx(i),value:n,hasMinEdge:nC(i),hasMaxEdge:rC(i),minBound:hC(a),minOffset:0,maxBound:pC(a),maxOffset:u,centerMinEdge:r,centerMaxEdge:o};var a,u;i=cC(n);return hC(t)-hC(e)+i}function Gy(e,t){return function(n,r){return n=n,r=r,o=0<(o=e)?aC:iC,a=(i=t)?oC(r).x:o(oC(r).x,Wx(r),qx(r),Yx(r)),i=i?o(oC(r).y,$x(r),Gx(r),Yx(r)):oC(r).y,OC(n,TC(a,i)),Rt.some(a).map(k);var o,i,a}}function Xy(e){return"<alloy.field."+e+">"}function Ky(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:zm(e.formBehaviours,[Dm.config({store:{mode:"manual",getValue:function(t){return t=Qm(t,e),sn(t,(function(e,t){return e().bind((function(e){var n=ug.getCurrent(e);return RC(n,new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+Aa(e.element)))})).map(Dm.getValue)}))},setValue:function(t,n){cn(n,(function(n,r){Jm(t,e,r).each((function(e){ug.getCurrent(e).each((function(e){Dm.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return Jm(t,e,n).bind(ug.getCurrent)}}}}function Yy(e,t){return ag({name:"ColourPicker",configFields:[ri("dom"),ci("onValidHex",h),ci("onInvalidHex",h)],factory:function(n){function r(e,t,n){p.getOpt(e).each((function(e){d.setHue(e,n)}))}function o(e,t){v.getOpt(e).each((function(e){f.updateHex(e,t)}))}function i(e,t,n){h.getOpt(e).each((function(e){_C.setValue(e,{y:m(n)})}))}function a(e,t){p.getOpt(e).each((function(e){d.setThumb(e,t)}))}function u(e,t,n,r){b(t,n),Vt(r,(function(r){r(e,t,n)}))}var c,s,l,f=IC(e,t,n.onValidHex,n.onInvalidHex),d=FC(e,t),m=function(e){return 100-e/360*100},g={paletteRgba:li(Db),paletteHue:li(0)},h=wh(zC(e,t)),p=wh(d.sketch({})),v=wh(f.sketch({})),b=function(e,t){e=Eb(e),g.paletteRgba.set(e),g.paletteHue.set(t)};return{uid:n.uid,dom:n.dom,components:[p.asSpec(),h.asSpec(),v.asSpec()],behaviours:gs([Gg("colour-picker-events",[ya(EC,(l=[r,i,a],function(e,t){t=t.event.hex;var n=Hb(t);u(e,t,n.hue,l)})),ya(AC,(s=[o],function(e,t){t=t.event.value;var n=g.paletteHue.get();t=Nb(n,t.x,100-t.y),t=Lb(t);u(e,t,n,s)})),ya(DC,(c=[r,o],function(e,t){t=(100-t.event.value.y)/100*360;var n=g.paletteRgba.get();n=Bb(n),n=Nb(t,n.saturation,n.value),n=Lb(n);u(e,n,t,c)}))]),ug.config({find:function(e){return v.getOpt(e)}}),Wg.config({mode:"acyclic"})])}}})}function Jy(e){return UC(e)}function Qy(e,t,n){return Dm.config(To({store:{mode:"manual",getValue:t,setValue:n}},e.map((function(e){return{store:{initialValue:e}}})).getOr({})))}function Zy(e,t,n){return Qy(e,(function(e){return t(e.element)}),(function(e,t){return n(e.element,t)}))}function ew(e,t){function n(e,t){t.stop()}function r(e){return function(t,n){Vt(e,(function(e){e(t,n)}))}}function o(e,t){sg.isDisabled(e)||(t=t.event.raw,a(e,t.dataTransfer.files))}function i(e,t){t=t.event.raw.target,a(e,t.files)}var a=function(n,r){var o;Dm.setValue(n,(r=r,o=$C.explode(t.getSetting("images_file_types",JC,"string")),Ut(rn(r),(function(e){return It(o,(function(t){return Cn(e.name.toLowerCase(),"."+t.toLowerCase())}))})))),ma(n,cx,{name:e.name})},u=wh({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:gs([Gg("input-file-events",[Ca(Li()),Ca(Xi())])])}),c=e.label.map((function(e){return ux(e,t)})),s=tx.parts.field({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:gs([YC([]),VC.self(),sg.config({}),Jg.config({toggleClass:"dragenter",toggleOnExecute:!1}),Gg("dropzone-events",[ya("dragenter",r([n,Jg.toggle])),ya("dragleave",r([n,Jg.toggle])),ya("dragover",n),ya("drop",r([n,o])),ya(Hi(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},yh.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(e){u.get(e).element.dom.click()},buttonBehaviours:gs([nx.config({}),nb.button(t.isDisabled),tb()])})]}]}}}});return ox(c,s,["tox-form__group--stretched"],[])}function tw(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[eS([QC]),e,eS([ZC])],behaviours:gs([VC.childAt(1)])}}function nw(e,t){ma(e,Ri(),{raw:{which:9,shiftKey:t}})}function rw(e){return oy(e,["."+QC,"."+ZC].join(","),S)}function ow(e,t){var n,r,o=nS&&e.sandboxed,i=T(T({},e.label.map((function(e){return{title:e}})).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),a=(n=o,r=li(""),{getValue:function(e){return r.get()},setValue:function(e,t){n?zr(e.element,"srcdoc",t):(zr(e.element,"src","javascript:''"),(e=e.element.dom.contentWindow.document).open(),e.write(t),e.close()),r.set(t)}});o=e.label.map((function(e){return ux(e,t)})),e=tx.parts.field({factory:{sketch:function(e){return tw({uid:e.uid,dom:{tag:"iframe",attributes:i},behaviours:gs([nx.config({}),Xg.config({}),XC(Rt.none(),a.getValue,a.setValue)])})}}});return ox(o,e,["tox-form__group--stretched"],[])}function iw(e){var t=rS(e.width,e.height);return oS(t).drawImage(e,0,0),t}function aw(e){return new xx((function(t,n){(function(e){e=e.split(",");var t=/data:([^;]+)/.exec(e[0]);if(!t)return Rt.none();t=t[1],e=e[1];for(var n=atob(e),r=n.length,o=Math.ceil(r/1024),i=new Array(o),a=0;a<o;++a){for(var u=1024*a,c=Math.min(1024+u,r),s=new Array(c-u),l=u,f=0;l<c;++f,++l)s[f]=n[l].charCodeAt(0);i[a]=new Uint8Array(s)}return Rt.some(new Blob(i,{type:t}))})(e).fold((function(){n("uri is not base64: "+e)}),t)}))}function uw(e){return t=e,new xx((function(e,n){function r(){u(),e(a)}function o(){u(),n("Unable to load data of type "+t.type+": "+i)}var i=URL.createObjectURL(t),a=new Image,u=function(){a.removeEventListener("load",r),a.removeEventListener("error",o)};a.addEventListener("load",r),a.addEventListener("error",o),a.src=i,a.complete&&setTimeout(r,0)})).then((function(e){URL.revokeObjectURL(e.src);var t=rS(iS(e),aS(e));return oS(t).drawImage(e,0,0),t}));var t}function cw(e,t,n){return e="string"==typeof e?parseFloat(e):e,n<e?e=n:e<t&&(e=t),e}function sw(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function lw(e,t){for(var n=[],r=new Array(25),o=0;o<5;o++){for(var i=0;i<5;i++)n[i]=t[i+5*o];for(i=0;i<5;i++){for(var a=0,u=0;u<5;u++)a+=e[i+5*u]*n[u];r[i+5*o]=a}}return r}function fw(e,t){return e.toCanvas().then((function(n){return dS(n,e.getType(),t)}))}function dw(e){return function(t,n){return fw(t,e(sw(),n))}}function mw(e,t,n){var r,o,i,a=iS(e),u=aS(e),c=!1;((a=t/a)<.5||2<a)&&(a=a<.5?.5:2,c=!0),((u=n/u)<.5||2<u)&&(u=u<.5?.5:2,c=!0),r=e,o=a,i=u,e=new xx((function(e){var t=iS(r),n=aS(r),a=Math.floor(t*o),u=Math.floor(n*i),c=rS(a,u);oS(c).drawImage(r,0,0,t,n,0,0,a,u),e(c)}));return c?e.then((function(e){return mw(e,t,n)})):e}function gw(e,t,n){return Eh(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t)}function hw(e){return"separator"===e.type}function pw(e,t,n,r){return LS({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t,r){e.fetch((function(e){r(US(e,Wp.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:WS,columns:1,presets:"normal",classes:[],dropdownBehaviours:[nx.config({})]},t,n.shared)}function vw(e,t,n){return function(r){r(Ft(e,(function(e){var r,o,i=e.text.fold((function(){return{}}),(function(e){return{text:e}}));return T(T({type:e.type,active:!1},i),{onAction:function(e){var r=!e.isActive();e.setActive(r),o.storage.set(r),n.shared.getSink().each((function(e){t().getOpt(e).each((function(e){ws(e.element),ma(e,fx,{name:o.name,value:o.storage.get()})}))}))},onSetup:(r=o=e,function(e){e.setActive(r.storage.get())})})})))}}function bw(e,t,n,r){void 0===r&&(r=[]);var o={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({})},i=e.icon.map((function(e){return AS(e,n.icons)}));i=cb([i]);return $S(e,t,r,o,i,n)}function yw(e,t){return function(n){"custom"===t?ma(n,fx,{name:e,value:{}}):"submit"===t?da(n,dx):"cancel"===t&&da(n,lx)}}function ww(e,t,n){var r,o,i;return"menu"===t?(i=T(T({},i=e),{onSetup:function(t){return t.setDisabled(e.disabled),h},fetch:vw(i.items,(function(){return r}),n)}),(r=wh(pw(i,"tox-tbtn",n,Rt.none()))).asSpec()):"custom"===(i=t)||"cancel"===i||"submit"===i?(t=yw(e.name,t),o=T(T({},e),{borderless:!1}),XS(o,t,n.shared.providers,[])):void 0}function xw(e,t){var n,r=yw(e.name,"custom");return n=Rt.none(),e=tx.parts.field(T({factory:yh},GS(e,Rt.some(r),t,[YC(""),VC.self()]))),ox(n,e,[],[])}function Cw(e,t){return Wm({factory:tx,name:e,overrides:function(e){return{fieldBehaviours:gs([Gg("coupled-input-behaviour",[ya(Bi(),(function(n){Jm(n,e,t).bind(ug.getCurrent).each((function(t){Jm(n,e,"lock").each((function(r){Jg.isOn(r)&&e.onLockedChange(n,t,r)}))}))}))])])}}})}function Sw(e,t){function n(e,n,r,o){return wh(XS({name:e,text:e,disabled:r,primary:o,icon:Rt.none(),borderless:!1},n,t))}function r(e,n,r,o){return wh(qS({name:e,icon:Rt.some(e),tooltip:Rt.some(n),disabled:o,primary:!1,borderless:!1},r,t))}function o(e,t){e.map((function(e){e=e.get(t),e.hasConfigured(sg)&&sg.disable(e)}))}function i(e,t){e.map((function(e){e=e.get(t),e.hasConfigured(sg)&&sg.enable(e)}))}function a(e,t){x(e),w(e,tk.transform(),{transform:t}),C(e)}function u(e){return function(){X.getOpt(e).each((function(e){$g.set(e,[G])}))}}function c(e,t){x(e),w(e,tk.transformApply(),{transform:t,swap:u(e)}),C(e)}function s(){return wh({dom:{tag:"div",classes:["tox-spacer"]},behaviours:gs([sg.config({})])})}function l(e,t){return function(n){return e(n,t)}}function f(e,t){t=t,x(e=e),w(e,tk.tempTransform(),{transform:t}),C(e)}function d(e,n,r,o,i){e=_C.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}});var a=_C.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),u=_C.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return wh(_C.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:i,getInitialValue:v({x:o})},components:[e,a,u],sliderBehaviours:gs([Xg.config({})]),onChoose:n}))}function m(e,t,n,r,a){e=e,t=t,n=n,r=r,a=a;var u=[S(),H(e,t,n,r,a),k()];return Qw.sketch({dom:b,components:u.map((function(e){return e.asSpec()})),containerBehaviours:gs([Gg("image-tools-filter-panel-buttons-events",[ya(nk.disable(),(function(e,t){o(u,e)})),ya(nk.enable(),(function(e,t){i(u,e)}))])])})}function g(e){return d(e,(function(e,t,n){var r=V.getOpt(e),o=U.getOpt(e),i=j.getOpt(e);r.each((function(t){o.each((function(n){i.each((function(r){var o,i,u,c=Dm.getValue(t).x/100,s=(r=Dm.getValue(r).x/100,Dm.getValue(n).x/100);o=c,i=r,u=s,a(e,(function(e){return SS(e,o,i,u)}))}))}))}))}),0,100,200)}function p(e,t,n){return function(r){w(r,tk.swap(),{transform:t,swap:function(){X.getOpt(r).each((function(t){$g.set(t,[e]),n(t)}))}})}}var b={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},y=h,w=function(e,t,n){ma(e,t,n)},x=function(e){return da(e,nk.disable())},C=function(e){return da(e,nk.enable())},S=function(){return n("Back",(function(e){return w(e,tk.back(),{swap:u(e)})}),!1,!1)},k=function(){return n("Apply",(function(e){return w(e,tk.apply(),{swap:u(e)})}),!0,!0)},O=[S(),s(),n("Apply",(function(t){c(t,(function(t){var n=e.getRect();return _S(t,n.x,n.y,n.w,n.h)})),e.hideCrop()}),!1,!0)],T=Qw.sketch({dom:b,components:O.map((function(e){return e.asSpec()})),containerBehaviours:gs([Gg("image-tools-crop-buttons-events",[ya(nk.disable(),(function(e,t){o(O,e)})),ya(nk.enable(),(function(e,t){i(O,e)}))])])}),_=wh(ek({name:"size",label:Rt.none(),constrain:!0,disabled:!1},t)),E=[S(),s(),_,s(),n("Apply",(function(e){_.getOpt(e).each((function(t){t=Dm.getValue(t);var n,r,o=parseInt(t.width,10);t=parseInt(t.height,10);n=o,r=t,c(e,(function(e){return ES(e,n,r)}))}))}),!1,!0)],D=Qw.sketch({dom:b,components:E.map((function(e){return e.asSpec()})),containerBehaviours:gs([Gg("image-tools-resize-buttons-events",[ya(nk.disable(),(function(e,t){o(E,e)})),ya(nk.enable(),(function(e,t){i(E,e)}))])])}),A=l(TS,"h"),z=l(TS,"v"),M=l(DS,-90),R=l(DS,90),N=[S(),s(),r("flip-horizontally","Flip horizontally",(function(e){f(e,A)}),!1),r("flip-vertically","Flip vertically",(function(e){f(e,z)}),!1),r("rotate-left","Rotate counterclockwise",(function(e){f(e,M)}),!1),r("rotate-right","Rotate clockwise",(function(e){f(e,R)}),!1),s(),k()],B=Qw.sketch({dom:b,components:N.map((function(e){return e.asSpec()})),containerBehaviours:gs([Gg("image-tools-fliprotate-buttons-events",[ya(nk.disable(),(function(e,t){o(N,e)})),ya(nk.enable(),(function(e,t){i(N,e)}))])])}),H=function(e,t,n,r,o){return d(e,(function(e,n,r){r=l(t,r.x/100),a(e,r)}),n,r,o)},L=[S(),s(),k()],P=(L=Qw.sketch({dom:b,components:L.map((function(e){return e.asSpec()}))}),m("Brightness",kS,-100,0,100)),I=m("Contrast",OS,-100,0,100),F=m("Gamma",CS,-100,0,100),V=g("R"),j=g("G"),U=g("B"),W=[S(),V,j,U,k()],$=(W=Qw.sketch({dom:b,components:W.map((function(e){return e.asSpec()}))}),Rt.some(xS)),q=Rt.some(wS),G=(T=[r("crop","Crop",p(T,Rt.none(),(function(t){e.showCrop()})),!1),r("resize","Resize",p(D,Rt.none(),(function(t){_.getOpt(t).each((function(t){var n=e.getMeasurements(),r=n.width;n=n.height;Dm.setValue(t,{width:r,height:n})}))})),!1),r("orientation","Orientation",p(B,Rt.none(),y),!1),r("brightness","Brightness",p(P,Rt.none(),y),!1),r("sharpen","Sharpen",p(L,$,y),!1),r("contrast","Contrast",p(I,Rt.none(),y),!1),r("color-levels","Color levels",p(W,Rt.none(),y),!1),r("gamma","Gamma",p(F,Rt.none(),y),!1),r("invert","Invert",p(L,q,y),!1)],Qw.sketch({dom:b,components:T.map((function(e){return e.asSpec()}))})),X=(D=Qw.sketch({dom:{tag:"div"},components:[G],containerBehaviours:gs([$g.config({})])}),wh(D));return{memContainer:X,getApplyButton:function(e){return X.getOpt(e).map((function(e){return e=e.components()[0],e.components()[e.components().length-1]}))}}}var kw,Ow,Tw,_w,Ew,Dw="#000000",Aw=function(e){var t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[n,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[n]},zw=function(e,t){return e.concat(Ft(jb.state(),(function(e){return{type:Fb,text:e,value:e}})).concat(Aw(t)))},Mw=function(e,t,n,r,o,i,a,u){var c=dv(t);t=Rw(t,n,r,"color"!==o?"normal":"color",i,a,u);return gv(e,c,t,r,o)},Rw=function(e,t,n,r,o,i,a){return bn(Ft(e,(function(u){return"choiceitem"===u.type?Jo("choicemenuitem",wv,u).fold(mv,(function(c){return Rt.some(function(e,t,n,r,o,i,a,u){return void 0===u&&(u=!0),n=ip({presets:n,textContent:t?e.text:Rt.none(),htmlContent:Rt.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:Rt.none(),checkMark:t?Rt.some(rp(a.icons)):Rt.none(),caret:Rt.none(),value:e.value},a,u),To(Qh({data:Zh(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){Jg.set(e,t)},isActive:function(){return Jg.isOn(e)},isDisabled:function(){return sg.isDisabled(e)},setDisabled:function(t){return sg.set(e,t)}}},onAction:function(t){return r(e.value)},onSetup:function(e){return e.setActive(o),h},triggersSubmenu:!1,itemBehaviours:[]},n,i,a),{toggling:{toggleClass:Kp,toggleOnExecute:!1,selected:e.active}})}(c,1===n,r,t,i(u.value),o,a,dv(e)))})):Rt.none()})))},Nw=function(e,t){var n=iv(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}},Bw=Na("cell-over"),Hw=Na("cell-execute"),Lw=function(e,t,n){function r(n){return ma(n,Hw,{row:e,col:t})}function o(e,t){t.stop(),r(e)}var i;return mu({dom:{tag:"div",attributes:((i={role:"button"})["aria-labelledby"]=n,i)},behaviours:gs([Gg("insert-table-picker-cell",[ya(Ai(),Xg.focus),ya(qi(),r),ya(Li(),o),ya(Xi(),o)]),Jg.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Xg.config({onFocus:function(n){return ma(n,Bw,{row:e,col:t})}})])})},Pw={inserttable:function(e){var t=Na("size-label"),n=function(e,t,n){for(var r=[],o=0;o<t;o++){for(var i=[],a=0;a<n;a++)i.push(Lw(o,a,e));r.push(i)}return r}(t,10,10),r=ny(0,0),o=wh({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[r],behaviours:gs([$g.config({})])});return{type:"widget",data:{value:Na("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wb.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Yt(n,(function(e){return Ft(e,gu)})).concat(o.asSpec()),behaviours:gs([Gg("insert-table-picker",[Sa((function(e){$g.set(o.get(e),[r])})),xa(Bw,(function(e,t,r){r=r.event;for(var i=r.row,a=(r=r.col,n),u=i,c=r,s=10,l=10,f=0;f<s;f++)for(var d=0;d<l;d++)Jg.set(a[f][d],f<=u&&d<=c);$g.set(o.get(e),[ny(i+1,r+1)])})),xa(Hw,(function(t,n,r){r=r.event;var o=r.row;r=r.col;e.onAction({numRows:o+1,numColumns:r+1}),da(t,Yi())}))]),Wg.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(e,t){n=t,r=(o=e).initData.allowCustomColors&&n.colorinput.hasCustomColors();var n,r,o=o.initData.colors.fold((function(){return zw(n.colorinput.getColors(),r)}),(function(e){return e.concat(Aw(r))})),i=t.colorinput.getColorCols();o=Mw(Na("menu-value"),o,(function(t){e.onAction({value:t})}),i,"color",Wp.CLOSE_ON_EXECUTE,S,t.shared.providers),t=T(T({},o),{markers:iv("color"),movement:Nw(i,"color")});return{type:"widget",data:{value:Na("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wb.widget(uh.sketch(t))]}}},Iw=function(e,t,n,r,o,i,a,u){return void 0===u&&(u=!0),r=ip({presets:r,textContent:Rt.none(),htmlContent:n?e.text.map((function(e){return bb(e,t)})):Rt.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:Rt.none(),checkMark:Rt.none(),caret:Rt.none(),value:e.value},a.providers,u,e.icon),Qh({data:Zh(e),disabled:e.disabled,getApi:v({}),onAction:function(t){return o(e.value,e.meta)},onSetup:v(h),triggersSubmenu:!1,itemBehaviours:pb(e.meta,a)},r,i,a.providers)},Fw=function(e){return e=e.text.fold((function(){return{}}),(function(e){return{innerHtml:e}})),{type:"separator",dom:T({tag:"div",classes:[qp,"tox-collection__group-heading"]},e),components:[]}},Vw=function(e,t,n,r){return void 0===r&&(r=!0),r=ip({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:Rt.none(),ariaLabel:e.text,caret:Rt.none(),checkMark:Rt.none(),shortcutContent:e.shortcut},n,r),Qh({data:Zh(e),getApi:function(e){return{isDisabled:function(){return sg.isDisabled(e)},setDisabled:function(t){return sg.set(e,t)}}},disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n)},jw=function(e,t,n,r,o){return void 0===r&&(r=!0),o=(o=void 0!==o&&o)?(o=n.icons,lb("chevron-down",o,[Qp])):(o=n.icons,lb("chevron-right",o,[Qp])),o=ip({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:Rt.none(),ariaLabel:e.text,caret:Rt.some(o),checkMark:Rt.none(),shortcutContent:e.shortcut},n,r),Qh({data:Zh(e),getApi:function(e){return{isDisabled:function(){return sg.isDisabled(e)},setDisabled:function(t){return sg.set(e,t)}}},disabled:e.disabled,onAction:h,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},o,t,n)},Uw=function(e,t,n,r){return void 0===r&&(r=!0),r=ip({iconContent:e.icon,textContent:e.text,htmlContent:Rt.none(),ariaLabel:e.text,checkMark:Rt.some(rp(n.icons)),caret:Rt.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r),To(Qh({data:Zh(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){Jg.set(e,t)},isActive:function(){return Jg.isOn(e)},isDisabled:function(){return sg.isDisabled(e)},setDisabled:function(t){return sg.set(e,t)}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n),{toggling:{toggleClass:Kp,toggleOnExecute:!1,selected:e.active}})},Ww=function(e,t){return gn(Pw,e.fancytype).map((function(n){return n(e,t)}))},$w=function(e,t,n,r){var o={dom:op(e.label),optComponents:[Rt.some({dom:{tag:"div",classes:[tv,nv]},components:yb(e.items,r)})]};return Qh({data:Zh(T({text:Rt.none()},e)),disabled:e.disabled,getApi:function(e){return{isDisabled:function(){return sg.isDisabled(e)},setDisabled:function(t){sg.set(e,t),Vt(em(e.element,"*"),(function(n){e.getSystem().getByDom(n).each((function(e){e.hasConfigured(sg)&&sg.set(e,t)}))}))}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:Rt.from(r.itemBehaviours).getOr([])},o,t,n.providers)},qw=((rl=kw=kw||{})[rl.ContentFocus=0]="ContentFocus",rl[rl.UiFocus=1]="UiFocus",function(e,t,n,r,o){var i=dv(t);t=bn(Ft(t,(function(e){function t(e){return ry(e,n,r,a(e),o)}var a=function(e){return o?!hn(e,"text"):i};return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t(T(T({},e),{disabled:!0})):t(e)})));return(o?Uh:gv)(e,i,t,1,"normal")}),Gw=function(e){return mh.singleData(e.value,e)},Xw=function(e,t){function n(n,r){var o=on(r,(function(e){return Rt.from(e.columns)})).getOr(1);return Yt(r,(function(r){var i,a,c,s,d,g,h,p=r.items;return p=p,i=r.matchText,a=function(t,o){var i=e.selection.getRng();Bh(e.dom,i,n).fold((function(){}),(function(e){e=e.range;var n={hide:function(){f()},reload:function(e){l(),m(e)}};u.set(!0),r.onAction(n,e,t,o),u.set(!1)}))},c=Wp.BUBBLE_TO_SANDBOX,s=t,d=r.highlightOn,h=!(g=1===o)||dv(p),bn(Ft(p,(function(e){switch(e.type){case"separator":return Hp(e).fold(mv,(function(e){return Rt.some(Fw(e))}));case"cardmenuitem":return yv(e).fold(mv,(function(e){return Rt.some($w(T(T({},e),{onAction:function(t){e.onAction(t),a(e.value,e.meta)}}),c,s,{itemBehaviours:pb(e.meta,s),cardText:{matchText:i,highlightOn:d}}))}));default:return Lp(e).fold(mv,(function(e){return Rt.some(Iw(e,i,g,"normal",a,c,s,h))}))}})))}))}function r(t){var n,r,o;s()||(r=e,o=t.range,n=kp(On.fromDom(r.selection.getNode())).getOrThunk((function(){var e=On.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',r.getDoc());return oo(e,On.fromDom(o.extractContents())),o.insertNode(e.dom),vr(e).each((function(e){return e.dom.normalize()})),Zd(e).map((function(e){r.selection.setCursorLocation(e.dom,Jd(e))})),e})),a.set({triggerChar:t.triggerChar,element:n,matchLength:t.text.length}),u.set(!1))}function o(t,n,r,o){t.matchLength=n.text.length;var i,a,u,s;n=on(r,(function(e){return Rt.from(e.columns)})).getOr(1);gh.showAt(c,uh.sketch((r=gv("autocompleter-value",!0,o,n,"normal"),o=n,n=kw.ContentFocus,i="normal",a=(n===kw.ContentFocus?Og:kg)(),u=Nw(o,i),s=iv(i),{dom:r.dom,components:r.components,items:r.items,value:r.value,markers:{selectedItem:s.selectedItem,item:s.item},movement:u,fakeFocus:n===kw.ContentFocus,focusManager:a,menuBehaviours:Tv.unnamedEvents("auto"!==o?[]:[Sa((function(e,t){Ov(e,4,s.item).each((function(t){var n=t.numColumns;t=t.numRows;Wg.setGridSize(e,t,n)}))}))])})),{anchor:{type:"node",root:On.fromDom(e.getBody()),node:Rt.from(t.element)}}),gh.getContent(c).each(lg.highlightFirst)}function i(t){return a.get().map((function(n){return Bh(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return Mp(e,d,n,t)}))})).getOrThunk((function(){return t=e,r=(n=d)(),o=t.selection.getRng(),zp(t.dom,o,r).bind((function(e){return Mp(t,n,e)}));var t,n,r,o}))}var a=Ms(),u=li(!1),c=mu(gh.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:gs([Gg("dismissAutocompleter",[ya(ia(),(function(){return f()}))])]),lazySink:t.getSink})),s=function(){return a.get().isSome()},l=function(){s()&&gh.hide(c)},f=function(){var t;s()&&(t=a.get().map((function(e){return e.element})),kp(t.getOr(On.fromDom(e.selection.getNode()))).each(ge),l(),a.clear(),u.set(!1))},d=Mn((function(){return t=(t=e).ui.registry.getAll().popups,t=sn(t,(function(e){return Pp(e).fold((function(e){throw new Error(ei(e))}),b)})),n=Up(dn(t,(function(e){return e.ch}))),r=mn(t),{dataset:t,triggerChars:n,lookupByChar:function(e){return Ut(r,(function(t){return t.ch===e}))}};var t,n,r})),m=function(e){i(e).fold(f,(function(e){r(e.context),e.lookupData.then((function(t){a.get().map((function(r){var i,a=e.context;r.triggerChar===a.triggerChar&&(0<(i=n(a.triggerChar,t)).length?o(r,a,t,i):(10<=a.text.length-r.matchLength?f:l)())}))}))}))},g={onKeypress:Mh((function(e){27!==e.which&&m()}),50),cancelIfNecessary:f,isMenuOpen:function(){return gh.isOpen(c)},isActive:s,isProcessingAction:u.get,getView:function(){return gh.getContent(c)}};!1===e.hasPlugin("rtc")&&Ep(g,e)},Kw=function(e,t){return e=gn(e,"target").getOr(t),li(e)},Yw=fi([{stopped:[]},{resume:["element"]},{complete:[]}]),Jw=function(e,t,n,r,o,i){return ly(e,t,n,r,o,i).fold(k,(function(r){return Jw(e,t,n,r,o,i)}),S)},Qw=ag({name:"Container",factory:function(e){var t=e.dom,n=t.attributes;t=_(t,["attributes"]);return{uid:e.uid,dom:T({tag:"div",attributes:T({role:"presentation"},n)},t),components:e.components,behaviours:Am(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[ci("components",[]),Ql("containerBehaviours",[]),ci("events",{}),ci("domModification",{}),ci("eventOrder",{})]}),Zw=function(e){function t(t){return vr(e.element).fold(k,(function(e){return lr(t,e)}))}function n(e,n){return o.find(t,e,n)}function r(e){var t=o.filter($i());Vt(t,(function(t){t=t.descHandler,xt(t)(e)}))}var o=gy(),i=sy(e.element,{triggerEvent:function(e,t){return yu(e,t.target,(function(r){return dy(n,e,t,t.target,r)}))}}),a={debugInfo:v("real"),triggerEvent:function(e,t,r){yu(e,0,(function(o){return dy(n,e,r,t,o)}))},triggerFocus:function(e,t){mt(e).fold((function(){ws(e)}),(function(r){yu(ji(),0,(function(r){var o,i,a,u,c;return o=n,i=ji(),r=r,c=Kw(a={originator:t,kill:h,prevent:h,target:e},u=e),ly(o,i,a,u,c,r),!1}))}))},triggerEscape:function(e,t){a.triggerEvent("keydown",e.element,t.event)},getByUid:function(e){return g(e)},getByDom:function(e){return p(e)},build:mu,addToGui:function(e){s(e)},removeFromGui:function(e){l(e)},addToWorld:function(e){u(e)},removeFromWorld:function(e){c(e)},broadcast:function(e){f(e)},broadcastOn:function(e,t){d(e,t)},broadcastEvent:function(e,t){m(e,t)},isConnected:k},u=function(e){e.connect(a),Dn(e.element)||(o.register(e),Vt(e.components(),u),a.triggerEvent(Qi(),e.element,{target:e.element}))},c=function(e){Dn(e.element)||(Vt(e.components(),c),o.unregister(e)),e.disconnect()},s=function(t){pm(e,t)},l=function(e){Pl(e)},f=function(e){r({universal:!0,data:e})},d=function(e,t){r({universal:!1,channels:e,data:t})},m=function(e,t){return e=o.filter(e),fy(e,t)},g=function(e){return o.getById(e).fold((function(){return Co.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),Co.value)},p=function(e){return e=mt(e).getOr("not found"),g(e)};return u(e),{root:e,element:e.element,destroy:function(){i.unbind(),co(e.element)},add:s,remove:l,getByUid:g,getByDom:p,addToWorld:u,removeFromWorld:c,broadcast:f,broadcastOn:d,broadcastEvent:m}},ex=v([ci("prefix","form-field"),Ql("fieldBehaviours",[ug,Dm])]),tx=(Ug=v([$m({schema:[ri("dom")],name:"label"}),$m({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[ri("text")],name:"aria-descriptor"}),Wm({factory:{sketch:function(e){var t=et(e,["factory"]);return e.factory.sketch(t)}},schema:[ri("factory")],name:"field"})]),gf({name:"FormField",configFields:ex(),partFields:Ug(),factory:function(e,t,n,r){var o=zm(e.fieldBehaviours,[ug.config({find:function(t){return Jm(t,e,"field")}}),Dm.config({store:{mode:"manual",getValue:function(e){return ug.getCurrent(e).bind(Dm.getValue)},setValue:function(e,t){ug.getCurrent(e).each((function(e){Dm.setValue(e,t)}))}}})]),i=ba([Sa((function(t,n){var r=lf(t,e,["label","field","aria-descriptor"]);r.field().each((function(t){var n=Na(e.prefix);r.label().each((function(e){zr(e.element,"for",n),zr(t.element,"id",n)})),r["aria-descriptor"]().each((function(n){var r=Na(e.prefix);zr(n.element,"id",r),zr(t.element,"aria-describedby",r)}))}))}))]);return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:{getField:function(t){return Jm(t,e,"field")},getLabel:function(t){return Jm(t,e,"label")}}}},apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}})),nx=(Lg=Object.freeze({__proto__:null,exhibit:function(e,t){return yt({attributes:hi([{key:t.tabAttr,value:"true"}])})}}),za=[ci("tabAttr","data-alloy-tabstop")],Vu({fields:za,name:"tabstopping",active:Lg})),rx=tinymce.util.Tools.resolve("tinymce.html.Entities"),ox=function(e,t,n,r){return e=ix(e,t,n,r),tx.sketch(e)},ix=function(e,t,n,r){return{dom:ax(n),components:e.toArray().concat([t]),fieldBehaviours:gs(r)}},ax=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},ux=function(e,t){return tx.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},cx=Na("form-component-change"),sx=Na("form-close"),lx=Na("form-cancel"),fx=Na("form-action"),dx=Na("form-submit"),mx=Na("form-block"),gx=Na("form-unblock"),hx=Na("form-tabchange"),px=Na("form-resize"),vx=(Ng=v([je("data"),ci("inputAttributes",{}),ci("inputStyles",{}),ci("tag","input"),ci("inputClasses",[]),Su("onSetValue"),ci("styles",{}),ci("eventOrder",{}),Ql("inputBehaviours",[Dm,Xg]),ci("selectOnFocus",!0)]),function(e){return gs([Xg.config({onFocus:e.selectOnFocus?function(e){e=e.element;var t=au(e);e.dom.setSelectionRange(0,t.length)}:h})])}),bx=ag({name:"Input",configFields:Ng(),factory:function(e,t){return{uid:e.uid,dom:py(e),components:[],behaviours:T(T({},vx(n=e)),zm(n.inputBehaviours,[Dm.config({store:T(T({mode:"manual"},n.data.map((function(e){return{initialValue:e}})).getOr({})),{getValue:function(e){return au(e.element)},setValue:function(e,t){au(e.element)!==t&&uu(e.element,t)}}),onSetValue:n.onSetValue})])),eventOrder:e.eventOrder};var n}}),yx={},wx={exports:yx},xx=(function(t){var n,r;n=this,r=function(){var t,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},r={exports:{}};function o(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n,r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){try{n=r(e._value)}catch(n){return void c(t.promise,n)}u(t.promise,n)}else(1===e._state?u:c)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(t){c(e,t)}var r,o}function c(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,c(t,e))}))}catch(e){if(n)return;n=!0,c(t,e)}}d=r,n=n,t=setTimeout,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)!function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(a){n(a)}}(o,t[o])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){t(e,0)},i._unhandledRejectionFn=function(e){},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},d.exports?d.exports=i:n.Promise||(n.Promise=i);var d=r.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||d}},"object"==typeof yx&&void 0!==wx?wx.exports=r():"function"==typeof t&&t.amd?t(r):(n="undefined"!=typeof globalThis?globalThis:n||self).EphoxContactWrapper=r()}(void 0),wx.exports.boltExport),Cx={nu:vy,pure:function(e){return vy((function(t){t(e)}))}},Sx=function(e){setTimeout((function(){throw e}),0)},kx=function(e){function t(t){e().then(t,Sx)}return{map:function(t){return kx((function(){return e().then(t)}))},bind:function(t){return kx((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return kx((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return Cx.nu(t)},toCached:function(){var t=null;return kx((function(){return t=null===t?e():t}))},toPromise:e,get:t}},Ox={nu:function(e){return kx((function(){return new xx(e)}))},pure:function(e){return kx((function(){return xx.resolve(e)}))}},Tx=["input","textarea"],_x=(cm=Object.freeze({__proto__:null,markValid:yy,markInvalid:wy,query:xy,run:Cy,isInvalid:function(e,t){return e=t.getRoot(e).getOr(e.element),ru(e,t.invalidClass)}}),xi=Object.freeze({__proto__:null,events:function(e,t){return e.validator.map((function(t){return ba([ya(t.onEvent,(function(t){Cy(t,e).get(b)}))].concat(t.validateOnLoad?[Sa((function(t){Cy(t,e).get(h)}))]:[]))})).getOr({})}}),Vm=[ri("invalidClass"),ci("getRoot",Rt.none),ai("notify",[ci("aria","alert"),ci("getContainer",Rt.none),ci("validHtml",""),Su("onValid"),Su("onInvalid"),Su("onValidate")]),ai("validator",[ri("validate"),ci("onEvent","input"),ci("validateOnLoad",!0)])],Vu({fields:Vm,name:"invalidating",active:xi,apis:cm,extra:{validation:function(e){return function(t){return t=Dm.getValue(t),Ox.pure(e(t))}}}})),Ex=(jm=Object.freeze({__proto__:null,getCoupled:function(e,t,n,r){return n.getOrCreate(e,t,r)}}),fl=[oi("others",Re(Co.value,Uo()))],Vu({fields:fl,name:"coupling",apis:jm,state:Object.freeze({__proto__:null,init:function(){var e={},t=v({});return qa({readState:t,getOrCreate:function(t,n,r){var o=an(n.others);if(o)return gn(e,r).getOrThunk((function(){var o=gn(n.others,r).getOrDie("No information found for coupled component: "+r)(t);o=t.getSystem().build(o);return e[r]=o}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}})}})})),Dx=v("sink"),Ax=(Rg=v($m({name:Dx(),overrides:v({dom:{tag:"div"},behaviours:gs([fm.config({useFixed:k})]),events:ba([Ca(Ri()),Ca(Ti()),Ca(Li())])})})),(Um=Ow=Ow||{})[Um.HighlightFirst=0]="HighlightFirst",Um[Um.HighlightNone=1]="HighlightNone",function(e,t){var n=e.getHotspot(t).getOr(t),r=e.getAnchorOverrides();return e.layouts.fold((function(){return{type:"hotspot",hotspot:n,overrides:r}}),(function(e){return{type:"hotspot",hotspot:n,overrides:r,layouts:e}}))}),zx=function(e,t,n,r,o,i,a){t=t;t=(0,e.fetch)(r).map(t);var u=Bx(r,e);return t.map((function(e){return e.bind((function(e){return Rt.from(mh.sketch(T(T({},i.menu()),{uid:Pa(""),data:e,highlightImmediately:a===Ow.HighlightFirst,onOpenMenu:function(e,t){var r=u().getOrDie();fm.position(r,t,{anchor:n}),xm.decloak(o)},onOpenSubmenu:function(e,t,n){var r=u().getOrDie();fm.position(r,n,{anchor:{type:"submenu",item:t}}),xm.decloak(o)},onRepositionMenu:function(e,t,r){var o=u().getOrDie();fm.position(o,t,{anchor:n}),Vt(r,(function(e){fm.position(o,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:function(){return Xg.focus(r),xm.close(o),Rt.some(!0)}})))}))}))},Mx=function(e,t,n,r,o,i,a){var u=Ax(e,n);return zx(e,t,u,n,r,o,a).map((function(e){return e.fold((function(){xm.isOpen(r)&&xm.close(r)}),(function(e){xm.cloak(r),xm.open(r,e),i(r)})),r}))},Rx=function(e,t,n,r,o,i,a){return xm.close(r),Ox.pure(r)},Nx=function(e,t,n){t=ug.getCurrent(t).getOr(t),e=Zr(e.element),n?Pr(t.element,"min-width",e+"px"):(n=t.element,Qr.set(n,e))},Bx=function(e,t){return e.getSystem().getByUid(t.uid+"-"+Dx()).map((function(e){return function(){return Co.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return Co.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))},Hx=function(e){xm.getState(e).each((function(e){mh.repositionMenus(e)}))},Lx=(jg=v([ri("dom"),ri("fetch"),Su("onOpen"),ku("onExecute"),ci("getHotspot",Rt.some),ci("getAnchorOverrides",v({})),cc(),Ql("dropdownBehaviours",[Jg,Ex,Wg,Xg]),ri("toggleClass"),ci("eventOrder",{}),je("lazySink"),ci("matchWidth",!1),ci("useMinWidth",!1),je("role")].concat(Ty())),Bg=v([ds({schema:[wu()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),Rg()]),gf({name:"Dropdown",configFields:jg(),partFields:Bg(),factory:function(e,t,n,r){function o(e){xm.getState(e).each((function(e){mh.highlightPrimary(e)}))}function i(e,t){return ga(e),Rt.some(!0)}var a,u={expand:function(t){Jg.isOn(t)||Sy(e,b,t,r,h,Ow.HighlightNone).get(h)},open:function(t){Jg.isOn(t)||Sy(e,b,t,r,h,Ow.HighlightFirst).get(h)},isOpen:Jg.isOn,close:function(t){Jg.isOn(t)&&Sy(e,b,t,r,h,Ow.HighlightFirst).get(h)},repositionMenus:function(e){Jg.isOn(e)&&Oy(e)}};return{uid:e.uid,dom:e.dom,components:t,behaviours:zm(e.dropdownBehaviours,[Jg.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Ex.config({others:{sandbox:function(t){return ky(e,t,{onOpen:function(){return Jg.on(t)},onClose:function(){return Jg.off(t)}})}}}),Wg.config({mode:"special",onSpace:i,onEnter:i,onDown:function(e,t){var n;return Lx.isOpen(e)?(n=Ex.getCoupled(e,"sandbox"),o(n)):Lx.open(e),Rt.some(!0)},onEscape:function(e,t){return Lx.isOpen(e)?(Lx.close(e),Rt.some(!0)):Rt.none()}}),Xg.config({})]),events:Ed(Rt.some((function(t){Sy(e,b,t,r,o,Ow.HighlightFirst).get(h)}))),eventOrder:T(T({},e.eventOrder),((t={})[qi()]=["disabling","toggling","alloy.base.behaviour"],t)),apis:u,domModification:{attributes:T(T({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),"button"===e.dom.tag?{type:(a="type",gn(e.dom,"attributes").bind((function(e){return gn(e,a)})).getOr("button"))}:{})}}},apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}})),Px=Vu({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:function(){return ba([it(Vi(),k)])},exhibit:function(){return yt({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}})}),Ix=Na("color-input-change"),Fx=Na("color-swatch-change"),Vx=Na("color-picker-cancel"),jx=(rl=$m({schema:[ri("dom")],name:"label"}),ex=Ey("top-left"),Ug=Ey("top"),za=Ey("top-right"),Lg=Ey("right"),Vm=Ey("bottom-right"),xi=Ey("bottom"),cm=Ey("bottom-left"),fl=[rl,Ey("left"),Lg,Ug,xi,ex,za,cm,Vm,Wm({name:"thumb",defaults:v({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:ba([ct(Ci(),e,"spectrum"),ct(Si(),e,"spectrum"),ct(ki(),e,"spectrum"),ct(Ti(),e,"spectrum"),ct(_i(),e,"spectrum"),ct(Di(),e,"spectrum")])}}}),Wm({schema:[ni("mouseIsDown",(function(){return li(!1)}))],name:"spectrum",overrides:function(e){function t(t,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(t,e,r)}))}var n=e.model.manager;return{behaviours:gs([Wg.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),Xg.config({})]),events:ba([ya(Ci(),t),ya(Si(),t),ya(Ti(),t),ya(_i(),(function(n,r){e.mouseIsDown.get()&&t(n,r)}))])}}})],v("slider.change.value")),Ux=function(e){return-1!==e.type.indexOf("touch")},Wx=function(e){return e.model.minX},$x=function(e){return e.model.minY},qx=function(e){return e.model.maxX},Gx=function(e){return e.model.maxY},Xx=function(e){return Ny(e,qx,Wx)},Kx=function(e){return Ny(e,Gx,$x)},Yx=function(e){return e.stepSize},Jx=function(e){return e.snapToGrid},Qx=function(e){return e.snapStart},Zx=function(e){return e.rounded},eC=function(e){return Ly(e,"left")},tC=function(e){return Ly(e,"right")},nC=function(e){return Ly(e,"top")},rC=function(e){return Ly(e,"bottom")},oC=function(e){return e.model.value.get()},iC=function(e,t,n,r){return e<t?e:n<e?n:e===t?t-1:Math.max(t,e-r)},aC=function(e,t,n,r){return n<e?e:e<t?t:e===n?n+1:Math.min(n,e+r)},uC=function(e){var t,n,r,o,i=e.min,a=e.max,u=e.range,c=e.value,s=e.step,l=e.snap,f=e.snapStart,d=e.rounded,m=e.hasMinEdge,g=e.hasMaxEdge,h=e.minBound,p=e.maxBound;e=e.screenRange,m=m?i-1:i,g=g?a+1:a;return c<h?m:p<c?g:(h=h,p=Math.min(p,Math.max(c,h))-h,c=Fy(p/e*u+i,m,g),l&&i<=c&&c<=a?(t=c,n=i,r=a,o=s,f.fold((function(){var e=Math.round((t-n)/o)*o;return Fy(n+e,n-1,r+1)}),(function(e){var n=Math.round((t-e)%o/o),i=Math.floor((t-e)/o),a=Math.floor((r-e)/o);a=Math.min(a,i+n);return Math.max(e,e+a*o)}))):d?Math.round(c):c)},cC=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,u=e.maxBound,c=e.maxOffset,s=e.centerMinEdge;e=e.centerMaxEdge;return o<t?i?0:s:n<o?a?u:e:(o-t)/r*c},sC="top",lC="left",fC=function(e){return e.element.dom.getBoundingClientRect()},dC=function(e,t){return e[t]},mC=function(e){return e=fC(e),dC(e,lC)},gC=function(e){return e=fC(e),dC(e,"right")},hC=function(e){return e=fC(e),dC(e,sC)},pC=function(e){return e=fC(e),dC(e,"bottom")},vC=function(e){return e=fC(e),dC(e,"width")},bC=function(e){return e=fC(e),dC(e,"height")},yC=function(e,t){return e=fC(e),t=fC(t),(dC(e,lC)+dC(e,"right"))/2-dC(t,lC)},wC=function(e,t){return e=fC(e),t=fC(t),(dC(e,sC)+dC(e,"bottom"))/2-dC(t,sC)},xC=function(e,t){ma(e,jx(),{value:t})},CC=function(e){return{x:e}},SC=(jm=jy(-1),Um=jy(1),jg=Rt.none,Bg=Rt.none,rl={"top-left":Rt.none(),top:Rt.none(),"top-right":Rt.none(),right:Rt.some((function(e,t){Iy(e,{x:My(t)})})),"bottom-right":Rt.none(),bottom:Rt.none(),"bottom-left":Rt.none(),left:Rt.some((function(e,t){Iy(e,{x:Ay(t)})}))},Lg=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){return t=Vy(e,t,n),n=CC(t),xC(e,n),t},setToMin:function(e,t){t=Wx(t),xC(e,CC(t))},setToMax:function(e,t){t=qx(t),xC(e,CC(t))},findValueOfOffset:Vy,getValueFromEvent:function(e){return Dy(e).map((function(e){return e.left}))},findPositionOfValue:Uy,setPositionFromValue:function(e,t,n,r){var o=oC(n);o=Uy(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n),r=Zr(t.element)/2;Pr(t.element,"left",o-r+"px")},onLeft:jm,onRight:Um,onUp:jg,onDown:Bg,edgeActions:rl}),function(e,t){ma(e,jx(),{value:t})}),kC=function(e){return{y:e}},OC=(Ug=Rt.none,xi=Rt.none,ex=$y(-1),za=$y(1),cm={"top-left":Rt.none(),top:Rt.some((function(e,t){Iy(e,{y:zy(t)})})),"top-right":Rt.none(),right:Rt.none(),"bottom-right":Rt.none(),bottom:Rt.some((function(e,t){Iy(e,{y:Ry(t)})})),"bottom-left":Rt.none(),left:Rt.none()},Vm=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){return t=Wy(e,t,n),n=kC(t),SC(e,n),t},setToMin:function(e,t){t=$x(t),SC(e,kC(t))},setToMax:function(e,t){t=Gx(t),SC(e,kC(t))},findValueOfOffset:Wy,getValueFromEvent:function(e){return Dy(e).map((function(e){return e.top}))},findPositionOfValue:qy,setPositionFromValue:function(e,t,n,r){var o=oC(n);o=qy(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n),r=Gr(t.element)/2;Pr(t.element,"top",o-r+"px")},onLeft:Ug,onRight:xi,onUp:ex,onDown:za,edgeActions:cm}),function(e,t){ma(e,jx(),{value:t})}),TC=function(e,t){return{x:e,y:t}},_C=(jm=Dy,Um=Gy(-1,!1),jg=Gy(1,!1),Bg=Gy(-1,!0),rl=Gy(1,!0),Ug={"top-left":Rt.some((function(e,t){Iy(e,Py(Ay(t),zy(t)))})),top:Rt.some((function(e,t){Iy(e,Py(By(t),zy(t)))})),"top-right":Rt.some((function(e,t){Iy(e,Py(My(t),zy(t)))})),right:Rt.some((function(e,t){Iy(e,Py(My(t),Hy(t)))})),"bottom-right":Rt.some((function(e,t){Iy(e,Py(My(t),Ry(t)))})),bottom:Rt.some((function(e,t){Iy(e,Py(By(t),Ry(t)))})),"bottom-left":Rt.some((function(e,t){Iy(e,Py(Ay(t),Ry(t)))})),left:Rt.some((function(e,t){Iy(e,Py(Ay(t),Hy(t)))}))},xi=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var r=Vy(e,t,n.left);t=Wy(e,t,n.top),n=TC(r,t);return OC(e,n),n},setToMin:function(e,t){var n=Wx(t);t=$x(t);OC(e,TC(n,t))},setToMax:function(e,t){var n=qx(t);t=Gx(t);OC(e,TC(n,t))},getValueFromEvent:jm,setPositionFromValue:function(e,t,n,r){var o=oC(n),i=Uy(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n);o=qy(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n),r=Zr(t.element)/2,e=Gr(t.element)/2;Pr(t.element,"left",i-r+"px"),Pr(t.element,"top",o-e+"px")},onLeft:Um,onRight:jg,onUp:Bg,onDown:rl,edgeActions:Ug}),gf({name:"Slider",configFields:[ci("stepSize",1),ci("onChange",h),ci("onChoose",h),ci("onInit",h),ci("onDragStart",h),ci("onDragEnd",h),ci("snapToGrid",!1),ci("rounded",!0),je("snapStart"),oi("model",Ne("mode",{x:[ci("minX",0),ci("maxX",100),ni("value",(function(e){return li(e.mode.minX)})),ri("getInitialValue"),Fc("manager",Lg)],y:[ci("minY",0),ci("maxY",100),ni("value",(function(e){return li(e.mode.minY)})),ri("getInitialValue"),Fc("manager",Vm)],xy:[ci("minX",0),ci("maxX",100),ci("minY",0),ci("maxY",100),ni("value",(function(e){return li({x:e.mode.minX,y:e.mode.minY})})),ri("getInitialValue"),Fc("manager",xi)]})),Ql("sliderBehaviours",[Wg,Dm]),ni("mouseIsDown",(function(){return li(!1)}))],partFields:fl,factory:function(e,t,n,r){function o(t){return sf(t,e,"spectrum")}function i(t){return Jm(t,e,"left-edge")}function a(t){return Jm(t,e,"right-edge")}function u(t){return Jm(t,e,"top-edge")}function c(t){return Jm(t,e,"bottom-edge")}function s(e,t){g.value.set(t),t=m(e),p(e,t)}function l(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&Jm(t,e,"thumb").each((function(n){var r=g.value.get();e.onChoose(t,n,r)}))}function f(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,m(t))}function d(t,n){n.stop(),e.onDragEnd(t,m(t)),l(t)}var m=function(t){return sf(t,e,"thumb")},g=e.model,h=g.manager,p=function(t,n){h.setPositionFromValue(t,n,e,{getLeftEdge:i,getRightEdge:a,getTopEdge:u,getBottomEdge:c,getSpectrum:o})};return{uid:e.uid,dom:e.dom,components:t,behaviours:zm(e.sliderBehaviours,[Wg.config({mode:"special",focusIn:function(t){return Jm(t,e,"spectrum").map(Wg.focusIn).map(k)}}),Dm.config({store:{mode:"manual",getValue:function(e){return g.value.get()}}}),bs.config({channels:((t={})[km()]={onReceive:l},t)})]),events:ba([ya(jx(),(function(t,n){var r;t=t,n=n.event.value,s(t,n),r=m(t),e.onChange(t,r,n),Rt.some(!0)})),Sa((function(t,n){var r=g.getInitialValue(),i=(r=(g.value.set(r),m(t)),p(t,r),o(t));e.onInit(t,r,i,g.value.get())})),ya(Ci(),f),ya(ki(),d),ya(Ti(),f),ya(Di(),d)]),apis:{resetToMin:function(t){h.setToMin(t,e)},resetToMax:function(t){h.setToMax(t,e)},setValue:s,refresh:p},domModification:{styles:{position:"relative"}}}},apis:{setValue:function(e,t,n){e.setValue(t,n)},resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}})),EC=Na("rgb-hex-update"),DC=Na("slider-update"),AC=Na("palette-update"),zC=function(e,t){var n=_C.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=_C.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return _C.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:v({y:0})},components:[n,r],sliderBehaviours:gs([Xg.config({})]),onChange:function(e,t,n){ma(e,DC,{value:n})}})},MC=[Ql("formBehaviours",[Dm])],RC=function(e,t){return e.fold((function(){return Co.error(t)}),Co.value)},NC={getField:vt((function(e,t,n){return e.getField(t,n)})),sketch:function(e){var t,n={field:function(e,n){return t.push(e),uf("form",Xy(e),n)},record:v(t=[])};e=e(n),n=n.record(),n=Ft(n,(function(e){return Wm({name:e,pname:Xy(e)})}));return mf("form",MC,n,Ky,e)}},BC=Na("valid-input"),HC=Na("invalid-input"),LC=Na("validating-input"),PC="colorcustom.rgb.",IC=function(e,t,n,r){function o(n,r,o,i,a){var c=e(PC+"range");o=[tx.parts.label({dom:{tag:"label",innerHtml:o,attributes:{"aria-label":i}}}),tx.parts.field({data:a,factory:bx,inputAttributes:T({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:gs([u(r,n),nx.config({})]),onSetValue:function(e){_x.isInvalid(e)&&_x.run(e).get(h)}})],i="hex"!==r?[tx.parts["aria-descriptor"]({text:c})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:o.concat(i)}}function i(e,t){var n=t.red,r=t.green;t=t.blue;Dm.setValue(e,{red:n,green:r,blue:t})}function a(e,t){c.getOpt(e).each((function(e){Pr(e.element,"background-color","#"+t.value)}))}var u=function(n,r){return _x.config({invalidClass:t("invalid"),notify:{onValidate:function(e){ma(e,LC,{type:n})},onValid:function(e){ma(e,BC,{type:n,value:Dm.getValue(e)})},onInvalid:function(e){ma(e,HC,{type:n,value:Dm.getValue(e)})}},validator:{validate:function(t){return t=Dm.getValue(t),t=r(t)?Co.value(!0):Co.error(e("aria.input.invalid")),Ox.pure(t)},validateOnLoad:!1}})},c=wh({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}});return ag({factory:function(){function u(e){return m[e].get()}function s(e,t){"hex"!==(t=t.event).type?g(t.type,Rt.none()):r(e)}function l(e,t,n){n=parseInt(n,10),g(t,Rt.some(n)),h().each((function(t){n=e,r=fp(t),NC.getField(n,"hex").each((function(e){Xg.isFocused(e)||Dm.setValue(n,{hex:r.value})}));var n,r;t=r;ma(e,EC,{hex:t}),a(e,t)}))}function f(e,t){var r,o,u;"hex"===(t=t.event).type?(r=e,o=t.value,n(r),u=ap(o),g("hex",Rt.some(o)),o=Eb(u),i(r,o),p(o),ma(r,EC,{hex:u}),a(r,u)):l(e,t.type,t.value)}function d(t){return{label:e(PC+t+".label"),description:e(PC+t+".description")}}var m={red:li(Rt.some(255)),green:li(Rt.some(255)),blue:li(Rt.some(255)),hex:li(Rt.some("ffffff"))},g=function(e,t){m[e].set(t)},h=function(){return u("red").bind((function(e){return u("green").bind((function(t){return u("blue").map((function(n){return dp(e,t,n,1)}))}))}))},p=function(e){var t=e.red,n=e.green;e=e.blue;g("red",Rt.some(t)),g("green",Rt.some(n)),g("blue",Rt.some(e))},v=d("red"),b=d("green"),y=d("blue"),w=d("hex");return To(NC.sketch((function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",tx.sketch(o(mp,"red",v.label,v.description,255))),n.field("green",tx.sketch(o(mp,"green",b.label,b.description,255))),n.field("blue",tx.sketch(o(mp,"blue",y.label,y.description,255))),n.field("hex",tx.sketch(o(up,"hex",w.label,w.description,"ffffff"))),c.asSpec()],formBehaviours:gs([_x.config({invalidClass:t("form-invalid")}),Gg("rgb-form-events",[ya(BC,f),ya(HC,s),ya(LC,s)])])}})),{apis:{updateHex:function(e,t){Dm.setValue(e,{hex:t.value});var n=e,r=t;r=Eb(r),i(n,r),p(r),a(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})},FC=function(e,t){function n(e,t){var n=e.width,r=e.height;null!==(e=e.getContext("2d"))&&(e.fillStyle=t,e.fillRect(0,0,n,r),(t=e.createLinearGradient(0,0,n,0)).addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=t,e.fillRect(0,0,n,r),(t=e.createLinearGradient(0,0,0,r)).addColorStop(0,"rgba(0,0,0,0)"),t.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=t,e.fillRect(0,0,n,r))}var r=_C.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=_C.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}});return ag({factory:function(e){var i=v({x:0,y:0}),a=gs([ug.config({find:Rt.some}),Xg.config({})]);return _C.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[r,o],onChange:function(e,t,n){ma(e,AC,{value:n})},onInit:function(e,t,r,o){n(r.element.dom,vp(Db))},sliderBehaviours:a})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(e,t,r){var o=t;o=t.components()[0].element.dom,r=Nb(r,100,100),r=gp(r),n(o,vp(r))},setThumb:function(e,t,n){n=Bb(Eb(n)),_C.setValue(t,{x:n.saturation,y:100-n.value})}},extraApis:{}})},VC={self:function(){return ug.config({find:Rt.some})},memento:function(e){return ug.config({find:e.getOpt})},childAt:function(e){return ug.config({find:function(t){return yr(t.element,e).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}})}},jC={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},UC=function(e){return jC[e]},WC=tinymce.util.Tools.resolve("tinymce.Resource"),$C=tinymce.util.Tools.resolve("tinymce.util.Tools"),qC=Fo([ci("preprocess",b),ci("postprocess",b)]),GC=function(e,t){var n=Zo("RepresentingConfigs.memento processors",qC,t);return Dm.config({store:{mode:"manual",getValue:function(t){return t=e.get(t),t=Dm.getValue(t),n.postprocess(t)},setValue:function(t,r){r=n.preprocess(r),t=e.get(t),Dm.setValue(t,r)}}})},XC=Qy,KC=function(e){return Zy(e,lt,ft)},YC=function(e){return Dm.config({store:{mode:"memory",initialValue:e}})},JC="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",QC=Na("alloy-fake-before-tabstop"),ZC=Na("alloy-fake-after-tabstop"),eS=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:gs([Xg.config({ignore:!0}),nx.config({})])}},tS=function(e,t){t=t.element,ru(t,QC)?nw(e,!0):ru(t,ZC)&&nw(e,!1)},nS=!(ar().browser.isIE()||ar().browser.isEdge()),rS=function(e,t){return n=document.createElement("canvas"),t=t,n.width=e,n.height=t,n;var n},oS=function(e){return e.getContext("2d")},iS=function(e){return e.naturalWidth||e.width},aS=function(e){return e.naturalHeight||e.height},uS=function(e,t,n){return t=t||"image/png",d(HTMLCanvasElement.prototype.toBlob)?new xx((function(r,o){e.toBlob((function(e){e?r(e):o()}),t,n)})):aw(e.toDataURL(t,n))},cS=function(e,t,n){function r(t,n){return e.then((function(e){return e.toDataURL(t||"image/png",n)}))}var o=t.type,i=(o=v(o),v(n));return{getType:o,toBlob:function(){return xx.resolve(t)},toDataURL:i,toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(t,n){return e.then((function(e){return uS(e,t,n)}))},toAdjustedDataURL:r,toAdjustedBase64:function(e,t){return r(e,t).then((function(e){return e.split(",")[1]}))},toCanvas:function(){return e.then(iw)}}},sS=function(e){return t=e,new xx((function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})).then((function(t){return cS(uw(e),e,t)}));var t},lS=function(e,t){return uS(e,t).then((function(t){return cS(xx.resolve(e),t,e.toDataURL())}))},fS=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],dS=function(e,t,n){var r=oS(e);n=function(e,t){for(var n,r,o,i,a=e.data,u=t[0],c=t[1],s=t[2],l=t[3],f=t[4],d=t[5],m=t[6],g=t[7],h=t[8],p=t[9],v=t[10],b=t[11],y=t[12],w=t[13],x=t[14],C=t[15],S=t[16],k=t[17],O=t[18],T=t[19],_=0;_<a.length;_+=4)n=a[_],r=a[_+1],o=a[_+2],i=a[_+3],a[_]=n*u+r*c+o*s+i*l+f,a[_+1]=n*d+r*m+o*g+i*h+p,a[_+2]=n*v+r*b+o*y+i*w+x,a[_+3]=n*C+r*S+o*k+i*O+T;return e}(r.getImageData(0,0,e.width,e.height),n);return r.putImageData(n,0,0),lS(e,t)},mS=function(e,t,n){var r=oS(e);n=function(e,t,n){for(var r=function(e,t,n){return n<e?e=n:e<t&&(e=t),e},o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=e.data,u=t.data,c=e.width,s=e.height,l=0;l<s;l++)for(var f=0;f<c;f++){for(var d=0,m=0,g=0,h=0;h<o;h++)for(var p=0;p<o;p++){var v=r(f+p-i,0,c-1),b=(v=4*(r(l+h-i,0,s-1)*c+v),n[h*o+p]);d+=a[v]*b,m+=a[1+v]*b,g+=a[2+v]*b}var y=4*(l*c+f);u[y]=r(d,0,255),u[1+y]=r(m,0,255),u[2+y]=r(g,0,255)}return t}(r.getImageData(0,0,e.width,e.height),r.getImageData(0,0,e.width,e.height),n);return r.putImageData(n,0,0),lS(e,t)},gS=(Tw=[-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1],function(e){return fw(e,Tw)}),hS=dw((function(e,t){return t=cw(255*t,-255,255),lw(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])})),pS=dw((function(e,t){var n;return t=cw(t,-1,1),n=(t*=100)<0?127+t/100*127:127*(n=0===(n=t%1)?fS[t]:fS[Math.floor(t)]*(1-n)+fS[Math.floor(t)+1]*n)+127,lw(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])})),vS=(_w=[0,-1,0,-1,5,-1,0,-1,0],function(e){return n=_w,(t=e).toCanvas().then((function(e){return mS(e,t.getType(),n)}));var t,n}),bS=(Ew=function(e,t){return 255*Math.pow(e/255,1-t)},function(e,t){return e.toCanvas().then((function(n){for(var r=e.getType(),o=t,i=oS(n),a=new Array(256),u=0;u<a.length;u++)a[u]=Ew(u,o);var c=function(e,t){for(var n=e.data,r=0;r<n.length;r+=4)n[r]=t[n[r]],n[r+1]=t[n[r+1]],n[r+2]=t[n[r+2]];return e}(i.getImageData(0,0,n.width,n.height),a);return i.putImageData(c,0,0),lS(n,r)}))}),yS=function(e,t){return void 0===t&&(t=2),t=Math.pow(10,t),e=Math.round(e*t),Math.ceil(e/t)},wS=function(e){return gS(e)},xS=function(e){return vS(e)},CS=function(e,t){return bS(e,t)},SS=function(e,t,n,r){return fw(e,(e=sw(),n=n,r=r,t=cw(t=t,0,2),n=cw(n,0,2),r=cw(r,0,2),lw(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])))},kS=function(e,t){return hS(e,t)},OS=function(e,t){return pS(e,t)},TS=function(e,t){return e.toCanvas().then((function(n){var r=e.getType(),o=t,i=rS(n.width,n.height),a=oS(i);return"v"===o?(a.scale(1,-1),a.drawImage(n,0,-i.height)):(a.scale(-1,1),a.drawImage(n,-i.width,0)),lS(i,r)}))},_S=function(e,t,n,r,o){return e.toCanvas().then((function(i){return i=i,a=e.getType(),u=t,c=n,s=rS(r,o),oS(s).drawImage(i,-u,-c),lS(s,a);var a,u,c,s}))},ES=function(e,t,n){return o=t,i=n,(r=e).toCanvas().then((function(e){return mw(e,o,i).then((function(e){return lS(e,r.getType())}))}));var r,o,i},DS=function(e,t){return e.toCanvas().then((function(n){return n=n,r=e.getType(),o=((o=t)<0?360+o:o)*Math.PI/180,i=n.width,a=n.height,c=Math.sin(o),s=Math.cos(o),u=yS(Math.abs(i*s)+Math.abs(a*c)),c=yS(Math.abs(i*c)+Math.abs(a*s)),s=rS(u,c),(l=oS(s)).translate(u/2,c/2),l.rotate(o),l.drawImage(n,-i/2,-a/2),lS(s,r);var r,o,i,a,u,c,s,l}))},AS=function(e,t){return gw(e,t,[])},zS=function(e,t){return gw(e,t,[$g.config({})])},MS=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:gs([$g.config({})])}},RS=Na("toolbar.button.execute"),NS=((ex={})[qi()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],ex),BS=Na("update-menu-text"),HS=Na("update-menu-icon"),LS=function(e,t,n){function r(e,t){return e=Dm.getValue(e),Xg.focus(e),ma(e,"keydown",{raw:t.event.raw}),Lx.close(e),Rt.some(!0)}var o=li(h),i=e.text.map((function(e){return wh(MS(e,t,n.providers))})),a=e.icon.map((function(e){return wh(zS(e,n.providers.icons))})),u=e.role.fold((function(){return{}}),(function(e){return{role:e}})),c=e.tooltip.fold((function(){return{}}),(function(e){return e=n.providers.translate(e),{title:e,"aria-label":e}})),s=Eh("chevron-down",{tag:"div",classes:[t+"__select-chevron"]},n.providers.icons);return wh(Lx.sketch(T(T(T({},e.uid?{uid:e.uid}:{}),u),{dom:{tag:"button",classes:[t,t+"--select"].concat(Ft(e.classes,(function(e){return t+"--"+e}))),attributes:T({},c)},components:cb([a.map((function(e){return e.asSpec()})),i.map((function(e){return e.asSpec()})),Rt.some(s)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:gs(E(E([],e.dropdownBehaviours,!0),[nb.button((function(){return e.disabled||n.providers.isDisabled()})),tb(),Px.config({}),$g.config({}),Gg("dropdown-events",[ob(e,o),ib(e,o)]),Gg("menubutton-update-display-text",[ya(BS,(function(e,t){i.bind((function(t){return t.getOpt(e)})).each((function(e){$g.set(e,[su(n.providers.translate(t.event.text))])}))})),ya(HS,(function(e,t){a.bind((function(t){return t.getOpt(e)})).each((function(e){$g.set(e,[zS(t.event.icon,n.providers.icons)])}))}))])],!1)),eventOrder:To(NS,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:gs([Wg.config({mode:"special",onLeft:r,onRight:r})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:cv(!1,e.columns,e.presets)},fetch:function(t){return Ox.nu(w(e.fetch,t))}}))).asSpec()},PS={type:"separator"},IS=function(e,t){return e=$t(e,(function(e,n){return o(n)?""===n?e:"|"===n?0<e.length&&!hw(e[e.length-1])?e.concat([PS]):e:hn(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])}),[]),0<e.length&&hw(e[e.length-1])&&e.pop(),e},FS=function(e,t){return hn(e,"getSubmenuItems")?(t=t,r=(n=e).getSubmenuItems(),r=jS(r,t),{item:n,menus:To(r.menus,gi(n.value,r.items)),expansions:To(r.expansions,gi(n.value,n.value))}):{item:e,menus:{},expansions:{}};var n,r},VS=function(e){var t;return hw(e)?e:(t=gn(e,"value").getOrThunk((function(){return Na("generated-menu-item")})),To({value:t},e))},jS=function(e,t){return e=IS(o(e)?e.split(" "):e,t),Wt(e,(function(e,n){return n=VS(n),n=FS(n,t),{menus:To(e.menus,n.menus),items:[n.item].concat(e.items),expansions:To(e.expansions,n.expansions)}}),{menus:{},expansions:{},items:[]})},US=function(e,t,n,r){var o=Na("primary-menu");e=jS(e,n.shared.providers.menuItems());if(0===e.items.length)return Rt.none();r=qw(o,e.items,t,n,r);var i=sn(e.menus,(function(e,r){return qw(r,e,t,n,!1)}));i=To(i,gi(o,r));return Rt.from(mh.tieredData(o,i,e.expansions))},WS=function(e){return{isDisabled:function(){return sg.isDisabled(e)},setDisabled:function(t){return sg.set(e,t)},setActive:function(t){var n=e.element;t?(eu(n,"tox-tbtn--enabled"),zr(n,"aria-pressed",!0)):(nu(n,"tox-tbtn--enabled"),Br(n,"aria-pressed"))},isActive:function(){return ru(e.element,"tox-tbtn--enabled")}}},$S=function(e,t,n,r,o,i){return void 0===n&&(n=[]),t=t.fold((function(){return{}}),(function(e){return{action:e}})),n=T({buttonBehaviours:gs([nb.button((function(){return e.disabled||i.isDisabled()})),tb(),nx.config({}),Gg("button press",[at("click"),at("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},t),t=To(n,{dom:r}),To(t,{components:o})},qS=function(e,t,n,r){return void 0===r&&(r=[]),e=bw(e,Rt.some(t),n,r),yh.sketch(e)},GS=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=n.translate(e.text),a=e.icon?e.icon.map((function(e){return AS(e,n.icons)})):Rt.none(),u=a.isSome()?cb([a]):[],c=a.isSome()?{}:{innerHtml:i};a=E(E(E(E([],e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],!0),a.isSome()?["tox-button--icon"]:[],!0),e.borderless?["tox-button--naked"]:[],!0),o,!0),o=T(T({tag:"button",classes:a},c),{attributes:{title:i}});return $S(e,t,r,o,u,n)},XS=function(e,t,n,r,o){return void 0===r&&(r=[]),void 0===o&&(o=[]),e=GS(e,Rt.some(t),n,r,o),yh.sketch(e)},KS=(za=v([ci("field1Name","field1"),ci("field2Name","field2"),Ou("onLockedChange"),xu(["lockClass"]),ci("locked",!1),Mm.field("coupledFieldBehaviours",[ug,Dm])]),cm=v([Cw("field1","field2"),Cw("field2","field1"),Wm({factory:yh,schema:[ri("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:gs([Jg.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),gf({name:"FormCoupledInputs",configFields:za(),partFields:cm(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Mm.augment(e.coupledFieldBehaviours,[ug.config({find:Rt.some}),Dm.config({store:{mode:"manual",getValue:function(t){t=ff(t,e,["field1","field2"]);var n={};return n[e.field1Name]=Dm.getValue(t.field1()),n[e.field2Name]=Dm.getValue(t.field2()),n},setValue:function(t,n){t=ff(t,e,["field1","field2"]),pn(n,e.field1Name)&&Dm.setValue(t.field1(),n[e.field1Name]),pn(n,e.field2Name)&&Dm.setValue(t.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return Jm(t,e,"field1")},getField2:function(t){return Jm(t,e,"field2")},getLock:function(t){return Jm(t,e,"lock")}}}},apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}})),YS=function(e){var t,n=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);return null!==n?(t=parseFloat(n[1]),n=n[2],Co.value({value:t,unit:n})):Co.error(e)},JS=function(e,t){function n(e){return hn(r,e)}var r={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1};return e.unit===t?Rt.some(e.value):n(e.unit)&&n(t)?r[e.unit]===r[t]?Rt.some(e.value):Rt.some(e.value/r[e.unit]*r[t]):Rt.none()},QS=function(e){return Rt.none()},ZS=function(e,t){return function(n){return JS(n,t).map((function(n){return{value:n*e,unit:t}}))}},ek=function(e,t){function n(e){return Eh(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons)}function r(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}}function o(n){return tx.parts.field({factory:bx,inputClasses:["tox-textfield"],inputBehaviours:gs([sg.config({disabled:function(){return e.disabled||t.isDisabled()}}),tb(),nx.config({}),Gg("size-input-events",[ya(zi(),(function(e,t){ma(e,u,{isField1:n})})),ya(Hi(),(function(t,n){ma(t,cx,{name:e.name})}))])]),selectOnFocus:!1})}function i(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}}var a=QS,u=Na("ratio-event"),c=KS.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[n("lock"),n("unlock")],buttonBehaviours:gs([sg.config({disabled:function(){return e.disabled||t.isDisabled()}}),tb(),nx.config({})])}),s=KS.parts.field1(r([tx.parts.label(i("Width")),o(!0)])),l=KS.parts.field2(r([tx.parts.label(i("Height")),o(!1)]));return KS.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[s,l,r([i("&nbsp;"),c])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,n){YS(Dm.getValue(e)).each((function(e){a(e).each((function(e){var n,r;Dm.setValue(t,(r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},(r=-1!==(r=(e=e).value.toFixed((n=e.unit)in r?r[n]:1)).indexOf(".")?r.replace(/\.?0*$/,""):r)+e.unit))}))}))},coupledFieldBehaviours:gs([sg.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){KS.getField1(e).bind(tx.getField).each(sg.disable),KS.getField2(e).bind(tx.getField).each(sg.disable),KS.getLock(e).each(sg.disable)},onEnabled:function(e){KS.getField1(e).bind(tx.getField).each(sg.enable),KS.getField2(e).bind(tx.getField).each(sg.enable),KS.getLock(e).each(sg.enable)}}),tb(),Gg("size-input-events2",[ya(u,(function(e,t){t=t.event.isField1;var n=t?KS.getField1(e):KS.getField2(e);t=t?KS.getField2(e):KS.getField1(e),e=n.map(Dm.getValue).getOr(""),n=t.map(Dm.getValue).getOr("");a=function(e,t){return e=YS(e).toOptional(),t=YS(t).toOptional(),yn(e,t,(function(e,t){return JS(e,t.unit).map((function(e){return t.value/e})).map((function(e){return ZS(e,t.unit)})).getOr(QS)})).getOr(QS)}(e,n)}))])])})},tk={undo:v(Na("undo")),redo:v(Na("redo")),zoom:v(Na("zoom")),back:v(Na("back")),apply:v(Na("apply")),swap:v(Na("swap")),transform:v(Na("transform")),tempTransform:v(Na("temp-transform")),transformApply:v(Na("transform-apply"))},nk=(jm=v("save-state"),Um=v("disable"),jg=v("enable"),{formActionEvent:fx,saveState:jm,disable:Um,enable:jg}),rk=tinymce.util.Tools.resolve("tinymce.geom.Rect"),ok=tinymce.util.Tools.resolve("tinymce.util.Observable"),ik=tinymce.util.Tools.resolve("tinymce.util.VK"),ak=function(e){var t=Math.max,n=e.documentElement,r=(e=e.body,t(n.scrollWidth,e.scrollWidth)),o=t(n.clientWidth,e.clientWidth),i=t(n.offsetWidth,e.offsetWidth),a=t(n.scrollHeight,e.scrollHeight),u=t(n.clientHeight,e.clientHeight);return{width:r<i?o:r,height:a<t(n.offsetHeight,e.offsetHeight)?u:a}},uk=function(e){if(f(e.changedTouches))for(var t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]};function ck(e,t){function n(e){var n=e.raw,c=ak(l);uk(n),e.prevent(),i=n.button,a=n.screenX,u=n.screenY,e=Fr(g,"cursor");o=On.fromTag("div",l),Ir(o,{position:"absolute",top:"0",left:"0",width:c.width+"px",height:c.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:e}),oo(Dr(m),o),s.push(Ns(m,"mousemove",r),Ns(m,"touchmove",r),Ns(m,"mouseup",h),Ns(m,"touchend",h)),t.start(n)}function r(e){var n=e.raw;if(uk(n),n.button!==i)return h(e);n.deltaX=n.screenX-a,n.deltaY=n.screenY-u,e.prevent(),t.drag(n)}var o,i,a,u,c=[],s=[],l=null!==(d=t.document)&&void 0!==d?d:document,d=null!==(d=t.root)&&void 0!==d?d:l,m=On.fromDom(l),g=On.fromDom(d.getElementById(null!==(d=t.handle)&&void 0!==d?d:e)),h=function(e){uk(e.raw),Vt(s,(function(e){return e.unbind()})),s=[],co(o),t.stop&&t.stop(e.raw)};return c.push(Ns(g,"mousedown",n),Ns(g,"touchstart",n)),{destroy:function(){Vt(s.concat(c),(function(e){return e.unbind()})),s=[],c=[],f(o)&&co(o)}}}function sk(e){function t(e,t){s.getOpt(e).each((function(e){var n=o.get(),u=Zr(e.element),c=Gr(e.element),s=t.dom.naturalWidth*n,l=t.dom.naturalHeight*n,f=Math.max(0,u/2-s/2),d=Math.max(0,c/2-l/2),m={left:f.toString()+"px",top:d.toString()+"px",width:s.toString()+"px",height:l.toString()+"px",position:"absolute"};Ir(t,m),r.getOpt(e).each((function(e){Ir(e.element,m)})),i.run((function(e){var t=a.get();e.setRect({x:t.x*n+f,y:t.y*n+d,w:t.w*n,h:t.h*n}),e.setClampRect({x:f,y:d,w:s,h:l}),e.setViewPortRect({x:0,y:0,w:u,h:c})}))}))}function n(e,n){var r=On.fromTag("img");return zr(r,"src",n),dk(r.dom).then((function(){e.getSystem().isConnected()&&s.getOpt(e).map((function(e){var n,i=lu({element:r}),c=(i=($g.replaceAt(e,1,Rt.some(i)),u.get()),{x:0,y:0,w:r.dom.naturalWidth,h:r.dom.naturalHeight}),l=(u.set(c),rk.inflate(c,-20,-20));a.set(l),i.w===c.w&&i.h===c.h||(n=r,s.getOpt(e).each((function(e){var t=Zr(e.element),r=(e=Gr(e.element),n.dom.naturalWidth),i=n.dom.naturalHeight;t=Math.min(t/r,e/i);1<=t?o.set(1):o.set(t)}))),t(e,r)}))}))}var r=wh({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=li(1),i=zs(),a=li({x:0,y:0,w:1,h:1}),u=li({x:0,y:0,w:1,h:1}),c=Qw.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:gs([Gg("image-panel-crop-events",[Sa((function(e){s.getOpt(e).each((function(e){e=e.element.dom,e=fk.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},e,h),e.toggleVisibility(!1),e.on("updateRect",(function(e){e=e.rect;var t=o.get();e={x:Math.round(e.x/t),y:Math.round(e.y/t),w:Math.round(e.w/t),h:Math.round(e.h/t)};a.set(e)})),i.set(e)}))})),ka((function(){i.clear()}))])])}],containerBehaviours:gs([$g.config({}),Gg("image-panel-events",[Sa((function(t){n(t,e)}))])])}),s=wh(c);return{memContainer:s,updateSrc:n,zoom:function(e,n){var r=o.get();n=0<n?Math.min(2,r+.1):Math.max(.1,r-.1);o.set(n),s.getOpt(e).each((function(e){var n=e.components()[1].element;t(e,n)}))},showCrop:function(){i.run((function(e){e.toggleVisibility(!0)}))},hideCrop:function(){i.run((function(e){e.toggleVisibility(!1)}))},getRect:function(){return a.get()},getMeasurements:function(){var e=u.get();return{width:e.w,height:e.h}}}}var lk=0,fk={create:function(e,t,n,r,o){function i(t,r,o,i){var a=r.x+o*t.deltaX,u=r.y+i*t.deltaY;o=Math.max(20,r.w+o*t.deltaW),r=Math.max(20,r.h+i*t.deltaH),e=rk.clamp({x:a,y:u,w:o,h:r},n,"move"===t.name),i=g(n,e);b.fire("updateRect",{rect:i}),h(i)}function a(e){function n(e,t){Ec(f,"#"+l+"-"+e).each((function(e){Ir(e,{left:t.x+"px",top:t.y+"px",width:Math.max(0,t.w)+"px",height:Math.max(0,t.h)+"px"})}))}Vt(d,(function(t){Ec(f,"#"+l+"-"+t.name).each((function(n){Ir(n,{left:e.w*t.xMul+e.x+"px",top:e.h*t.yMul+e.y+"px"})}))})),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)}function u(t){a(e=t)}var c,s=[],l="tox-crid-"+lk++,f=On.fromDom(r),d=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],m=["top","right","bottom","left"],g=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}},h=function(e){var t;u((t=n,{x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}))};function p(e){zr(e.target,"aria-grabbed","focus"===e.raw.type?"true":"false")}var v=On.fromTag("div"),b=(oe(v,{id:l,class:"tox-croprect-container",role:"grid","aria-dropeffect":"execute"}),oo(f,v),Vt(m,(function(e){Ec(f,"#"+l).each((function(t){var n=On.fromTag("div");oe(n,{id:l+"-"+e,class:"tox-croprect-block","data-mce-bogus":"all"}),Pr(n,"display","none"),oo(t,n)}))})),Vt(d,(function(e){Ec(f,"#"+l).each((function(t){var n=On.fromTag("div");oe(n,{id:l+"-"+e.name,"aria-label":e.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:e.label}),ou(n,["tox-croprect-handle","tox-croprect-handle-"+e.name]),Pr(n,"display","none"),oo(t,n)}))})),c=Ft(d,(function(t){var n;return ck(l,{document:r.ownerDocument,root:Sr(f).dom,handle:l+"-"+t.name,start:function(){n=e},drag:function(e){i(t,n,e.deltaX,e.deltaY)}})})),a(e),s.push(Ns(f,"focusin",p),Ns(f,"focusout",p),Ns(f,"keydown",(function(t){function n(e,t,n,o,a){e.stopPropagation(),e.preventDefault(),i(r,n,o,a)}var r;switch(Vt(d,(function(e){if(Mr(t.target,"id")===l+"-"+e.name)return r=e,!1})),t.raw.keyCode){case ik.LEFT:n(t,0,e,-10,0);break;case ik.RIGHT:n(t,0,e,10,0);break;case ik.UP:n(t,0,e,0,-10);break;case ik.DOWN:n(t,0,e,0,10);break;case ik.ENTER:case ik.SPACEBAR:t.prevent(),o()}}))),T(T({},ok),{toggleVisibility:function(e){var t=E(E([],Ft(d,(function(e){return"#"+l+"-"+e.name})),!0),Ft(m,(function(e){return"#"+l+"-"+e})),!0).join(",");t=em(f,t);Vt(t,e?function(e){return Wr(e,"display")}:function(e){return Pr(e,"display","none")})},setClampRect:function(t){n=t,a(e)},setRect:u,getInnerRect:function(){return g(n,e)},setInnerRect:h,setViewPortRect:function(n){t=n,a(e)},destroy:function(){Vt(c,(function(e){return e.destroy()})),c=[],Vt(s,(function(e){return e.unbind()})),s=[]}}));return b}},dk=function(e){return new Dp((function(t){var n=function(){e.removeEventListener("load",n),t(e)};e.complete?t(e):e.addEventListener("load",n)}))},mk=function(e,t,n,r,o){return qS({name:e,icon:Rt.some(t),disabled:n,tooltip:Rt.some(e),primary:!1,borderless:!1},r,o)},gk=function(e,t){t?sg.enable(e):sg.disable(e)};function hk(e){var t,n,r=li(e),o=Ms(),i=(n=-1,{data:t=[],add:function(e){var r=t.splice(++n);return t.push(e),{state:e,removed:r}},undo:function(){if(0<n)return t[--n]},redo:function(){if(u())return t[++n]},canUndo:a,canRedo:u});function a(){return 0<n}function u(){return-1!==n&&n<t.length-1}function c(e){r.set(e)}function s(e){return{blob:e,url:URL.createObjectURL(e)}}function l(){o.on(d),o.clear()}function f(e){e=s(e);var t=(c(e),i.add(e).removed);return $C.each(t,d),e.url}i.add(e);var d=function(e){URL.revokeObjectURL(e.url)};return{getBlobState:function(){return r.get()},setBlobState:c,addBlobState:f,getTempState:function(){return o.get().getOrThunk(r.get)},updateTempState:function(e){return e=s(e),l(),o.set(e),e.url},addTempState:function(e){return e=s(e),o.set(e),e.url},applyTempState:function(e){return o.get().fold(h,(function(t){f(t.blob),e()}))},destroyTempState:l,undo:function(){var e=i.undo();return c(e),e.url},redo:function(){var e=i.redo();return c(e),e.url},getHistoryStates:function(){return{undoEnabled:i.canUndo(),redoEnabled:i.canRedo()}}}}function pk(e,t){function n(e){return e.toBlob()}function r(e,t,n){var r=a.getBlobState().blob;f(e,r,t,(function(e){return a.updateTempState(e)}),n)}var o,i,a=hk(e.currentState),u=function(e){var t=a.getHistoryStates();g.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),ma(e,nk.formActionEvent,{name:nk.saveState(),value:t.undoEnabled})},c=function(e){ma(e,nk.formActionEvent,{name:nk.disable(),value:{}})},s=function(e){p.getApplyButton(e).each((function(e){sg.enable(e)})),ma(e,nk.formActionEvent,{name:nk.enable(),value:{}})},l=function(e,t){return c(e),m.updateSrc(e,t)},f=function(e,t,r,o,i){c(e),sS(t).then(r).then(n).then(o).then((function(t){return l(e,t)})).then((function(){u(e),i(),s(e)})).catch((function(t){e.getSystem().isConnected()&&s(e)}))},d=function(e){var t=a.getBlobState().url;return a.destroyTempState(),u(e),t},m=sk(e.currentState.url),g=(o=wh(mk("Undo","undo",!0,(function(e){ma(e,tk.undo(),{direction:1})}),e=t)),i=wh(mk("Redo","redo",!0,(function(e){ma(e,tk.redo(),{direction:1})}),e)),{container:Qw.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),i.asSpec(),mk("Zoom in","zoom-in",!1,(function(e){ma(e,tk.zoom(),{direction:1})}),e),mk("Zoom out","zoom-out",!1,(function(e){ma(e,tk.zoom(),{direction:-1})}),e)]}),updateButtonUndoStates:function(e,t,n){o.getOpt(e).each((function(e){gk(e,t)})),i.getOpt(e).each((function(e){gk(e,n)}))}}),p=Sw(m,t);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[p.memContainer.asSpec(),m.memContainer.asSpec(),g.container],behaviours:gs([Dm.config({store:{mode:"manual",getValue:function(){return a.getBlobState()}}}),Gg("image-tools-events",[ya(tk.undo(),(function(e,t){var n=a.undo();l(e,n).then((function(t){s(e),u(e)}))})),ya(tk.redo(),(function(e,t){var n=a.redo();l(e,n).then((function(t){s(e),u(e)}))})),ya(tk.zoom(),(function(e,t){t=t.event.direction,m.zoom(e,t)})),ya(tk.back(),(function(e,t){var n;e=d(n=e),l(n,e).then((function(e){s(n)})),(0,t.event.swap)(),m.hideCrop()})),ya(tk.apply(),(function(e,t){a.applyTempState((function(){d(e),(0,t.event.swap)()}))})),ya(tk.transform(),(function(e,t){return r(e,t.event.transform,h)})),ya(tk.tempTransform(),(function(e,t){var n;e=e,t=t.event.transform,n=a.getTempState().blob,f(e,n,t,(function(e){return a.addTempState(e)}),h)})),ya(tk.transformApply(),(function(e,t){var n,r;n=e,e=t.event.transform,t=t.event.swap,r=a.getBlobState().blob,f(n,r,e,(function(e){return e=a.addBlobState(e),d(n),e}),t)})),ya(tk.swap(),(function(e,t){g.updateButtonUndoStates(e,!1,!1);var n=t.event.transform,o=t.event.swap;n.fold((function(){o()}),(function(t){r(e,t,o)}))}))]),VC.self()])}}function vk(e,t){function n(e){return{dom:{tag:"tr"},components:Ft(e,o)}}var r,o=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(r=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ft(r,(function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}}))}]}),(r=e.cells,{dom:{tag:"tbody"},components:Ft(r,n)})],behaviours:gs([nx.config({}),Xg.config({})])}}function bk(e,t){var n=e.label.map((function(e){return ux(e,t)})),r=[sg.config({disabled:function(){return e.disabled||t.isDisabled()}}),tb(),Wg.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return da(e,dx),Rt.some(!0)}}),Gg("textfield-change",[ya(Bi(),(function(t,n){ma(t,cx,{name:e.name})})),ya(Wi(),(function(t,n){ma(t,cx,{name:e.name})}))]),nx.config({})],o=e.validation.map((function(e){return _x.config({getRoot:function(e){return vr(e.element)},invalidClass:"tox-invalid",validator:{validate:function(t){t=Dm.getValue(t);var n=e.validator(t);return Ox.pure(!0===n?Co.value(t):Co.error(n))},validateOnLoad:e.validateOnLoad}})})).toArray(),i=e.placeholder.fold(v({}),(function(e){return{placeholder:t.translate(e)}})),a=e.inputMode.fold(v({}),(function(e){return{inputmode:e}}));i=T(T({},i),a),a=tx.parts.field({tag:!0===e.multiline?"textarea":"input",inputAttributes:i,inputClasses:[e.classname],inputBehaviours:gs(Kt([r,o])),selectOnFocus:!1,factory:bx}),i=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),r=[sg.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){tx.getField(e).each(sg.disable)},onEnabled:function(e){tx.getField(e).each(sg.enable)}}),tb()];return ox(n,a,i,r)}function yk(e){var t=li(null);return qa({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})}function wk(e,t,n){n=Dm.getValue(n),Dm.setValue(t,n),xk(t)}function xk(e){MT(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))}function Ck(e,t,n){var r,o;return e.selectsOver?(o=Dm.getValue(t),r=e.getDisplayText(o),o=Dm.getValue(n),0===e.getDisplayText(o).indexOf(r)?Rt.some((function(){var e;wk(0,t,n),e=r.length,MT(t,(function(t,n){return t.setSelectionRange(e,n.length)}))})):Rt.none()):Rt.none()}function Sk(e){return BT(Ox.nu(e))}function kk(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:h}}function Ok(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:h}}function Tk(e,t){return n=e,e=Ut(t,(function(e){return e.type===n})),Ft(e,kk);var n}function _k(e,t,n){function r(t){t=Dm.getValue(t),n.addToHistory(t.value,e.filetype)}var o,i,a,u=t.shared.providers,c=tx.parts.field({factory:NT,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":$T,type:"url"},minChars:0,responseTime:0,fetch:function(r){o=e.filetype,r=r,i=n,r=Dm.getValue(r),a=void 0!==r.meta.text?r.meta.text:r.value;var o,i,a;r=i.getLinkInformation().fold((function(){return[]}),(function(e){var t=WT(a,jT(i.getHistory(o)));return"file"===o?UT([t,WT(a,PT(e)),WT(a,Kt([FT(e),IT(e),VT(e)]))]):t})),r=US(r,Wp.BUBBLE_TO_SANDBOX,t,!1);return Ox.pure(r)},getHotspot:function(e){return g.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(_x)&&_x.run(e).get(h)},typeaheadBehaviours:gs(Kt([n.getValidationHandler().map((function(t){return _x.config({getRoot:function(e){return vr(e.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){l.getOpt(e).each((function(e){zr(e.element,"title",u.translate(t))}))}},validator:{validate:function(n){var r=Dm.getValue(n);return HT((function(n){t({type:e.filetype,url:r.value},(function(e){var t;"invalid"===e.status?(t=Co.error(e.message),n(t)):(t=Co.value(e.message),n(t))}))}))},validateOnLoad:!1}})})).toArray(),[sg.config({disabled:function(){return e.disabled||u.isDisabled()}}),nx.config({}),Gg("urlinput-events",Kt(["file"===e.filetype?[ya(Bi(),(function(t){ma(t,cx,{name:e.name})}))]:[],[ya(Hi(),(function(t){ma(t,cx,{name:e.name}),r(t)})),ya(Wi(),(function(t){ma(t,cx,{name:e.name}),r(t)}))]]))]])),eventOrder:((c={})[Bi()]=["streaming","urlinput-events","invalidating"],c),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:cv(!1,1,"normal")},onExecute:function(e,t,n){ma(t,dx,{})},onItemExecute:function(t,n,o,i){r(t),ma(t,cx,{name:e.name})}}),s=e.label.map((function(e){return ux(e,u)})),l=wh((o="invalid",i=Rt.some($T),Eh(f=void 0===(f="warning")?o:f,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+o],attributes:T({title:u.translate(a=void 0===a?o:a),"aria-live":"polite"},i.fold((function(){return{}}),(function(e){return{id:e}})))},u.icons))),f=wh({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[l.asSpec()]}),d=n.getUrlPicker(e.filetype),m=Na("browser.url.event"),g=wh({dom:{tag:"div",classes:["tox-control-wrap"]},components:[c,f.asSpec()],behaviours:gs([sg.config({disabled:function(){return e.disabled||u.isDisabled()}})])}),p=wh(XS({name:e.name,icon:Rt.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},(function(e){return da(e,m)}),u,[],["tox-browse-url"]));return tx.sketch({dom:ax([]),components:s.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Kt([[g.asSpec()],d.map((function(){return p.asSpec()})).toArray()])}]),fieldBehaviours:gs([sg.config({disabled:function(){return e.disabled||u.isDisabled()},onDisabled:function(e){tx.getField(e).each(sg.disable),p.getOpt(e).each(sg.disable)},onEnabled:function(e){tx.getField(e).each(sg.enable),p.getOpt(e).each(sg.enable)}}),tb(),Gg("url-input-events",[ya(m,(function(t){ug.getCurrent(t).each((function(n){var r=Dm.getValue(n),o=T({fieldname:e.name},r);d.each((function(r){r(o).get((function(r){Dm.setValue(n,r),ma(t,cx,{name:e.name})}))}))}))}))])])})}function Ek(e,t){function n(e){return e.element.dom.click(),Rt.some(!0)}function r(e){return Eh("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons)}var o=Dm.config({store:{mode:"manual",getValue:function(e){return e.element.dom.checked},setValue:function(e,t){e.element.dom.checked=t}}}),i=(o=tx.parts.field({factory:{sketch:b},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:gs([VC.self(),sg.config({disabled:function(){return e.disabled||t.isDisabled()}}),nx.config({}),Xg.config({}),o,Wg.config({mode:"special",onEnter:n,onSpace:n,stopSpaceKeyup:!0}),Gg("checkbox-events",[ya(Hi(),(function(t,n){ma(t,cx,{name:e.name})}))])])}),tx.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:gs([Px.config({})])})),a=wh({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[r("checked"),r("unchecked")]});return tx.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,a.asSpec(),i],fieldBehaviours:gs([sg.config({disabled:function(){return e.disabled||t.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){tx.getField(e).each(sg.disable)},onEnabled:function(e){tx.getField(e).each(sg.enable)}}),tb()])})}function Dk(e){return function(t,n,r){return gn(n,"name").fold((function(){return e(n,r)}),(function(o){return t.field(o,e(n,r))}))}}function Ak(e,t,n){var r=To(n,{shared:{interpreter:function(t){return zk(e,t,r)}}});return zk(e,t,r)}function zk(e,t,n){return gn(qT,t.type).fold((function(){return t}),(function(r){return r(e,t,n)}))}function Mk(e,t,n){var r={maxHeightFunction:qs()};return function(){return n()?{type:"node",root:kr(e()),node:Rt.from(e()),bubble:Ks(12,12,XT),layouts:{onRtl:function(){return[Fd]},onLtr:function(){return[Id]}},overrides:r}:{type:"hotspot",hotspot:t(),bubble:Ks(-12,12,XT),layouts:{onRtl:function(){return[es]},onLtr:function(){return[ts]}},overrides:r}}}function Rk(e,t,n){return function(){return n()?{type:"node",root:kr(e()),node:Rt.from(e()),layouts:{onRtl:function(){return[ph]},onLtr:function(){return[ph]}}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[is]},onLtr:function(){return[is]}}}}}function Nk(e,t,n){function r(){return On.fromDom(e.getBody())}function o(){return On.fromDom(e.getContentAreaContainer())}function i(){return s||!n()}var a,u,c,s=$v(e);return{inlineDialog:Mk(o,t,i),banner:Rk(o,t,i),cursor:(u=e,function(){return{type:"selection",root:c(),getSelection:function(){var e=u.selection.getRng();return Rt.some(gl.range(On.fromDom(e.startContainer),e.startOffset,On.fromDom(e.endContainer),e.endOffset))}}}),node:(a=c=r,function(e){return{type:"node",root:a(),node:e}})}}function Bk(e){return{colorPicker:function(e,t){ty(o)(e,t)},hasCustomColors:function(){return $b(r)},getColors:function(){return qb(n)},getColorCols:(t=n=r=o=e,function(){return Kb(t)})};var t,n,r,o}function Hk(e){return $t(e,(function(e,t){var n;return hn(t,"items")?(n=Hk(t.items),{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}):hn(t,"inline")||hn(t,"block")||hn(t,"selector")?(n="custom-"+(o(t.name)?t.name:t.title.toLowerCase()),{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}):T(T({},e),{formats:e.formats.concat(t)})}),{customFormats:[],formats:[]})}function Lk(e,t){function n(t){Vt(t,(function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))}var r=Hk(t);return e.formatter?n(r.customFormats):e.on("init",(function(){n(r.customFormats)})),r.formats}function Pk(e,t,n){return t={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)},To(e,t)}function Ik(e,t,n,r){function i(t){return Ft(t,(function(t){var a,u=an(t);return pn(t,"items")?(a=i(t.items),To(To(t,{type:"submenu"}),{getStyleItems:v(a)})):pn(t,"format")?Pk(t,n,r):1===u.length&&Pt(u,"title")?To(t,{type:"separator"}):(u=o((a=t).name)?a.name:Na(a.title),t={type:"formatter",format:t="custom-"+u,isSelected:n(t),getStylePreview:r(t)},a=To(a,t),e.formatter.register(u,a),a)}))}return i(t)}function Fk(e){function t(t){return function(){return e.formatter.match(t)}}function n(t){return function(){var n=e.formatter.get(t);return void 0!==n?Rt.some({tag:0<n.length&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):Rt.none()}}function r(e){var t=e.items;return void 0!==t&&0<t.length?Yt(t,r):[e.format]}var o=li([]),i=li([]),a=li([]),u=li([]),c=li(!1);return e.on("PreInit",(function(a){var u=YT(e);u=Ik(e,u,t,n);o.set(u),i.set(Yt(u,r))})),e.on("addStyleModifications",(function(o){var i=Ik(e,o.items,t,n);a.set(i),c.set(o.replace),u.set(Yt(i,r))})),{getData:function(){var e=c.get()?[]:o.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=c.get()?[]:i.get(),t=u.get();return e.concat(t)}}}function Vk(e){return function(t){if(f(n=t)&&1===n.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}var n;return!1}}function jk(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}}function Uk(e){return e.innerText||e.textContent}function Wk(e){return e&&/^(H[1-6])$/.test(e.nodeName)}function $k(e){return e_(e)&&!ZT(e)}function qk(e){return 0<JT(e.title).length}function Gk(e){return o(e)&&/^https?/.test(e)}function Xk(e){return i(e)&&I(e,(function(e){return!(a(e=e)&&e.length<=5&&Jt(e,Gk))})).isNone()}function Kk(){var e,t=Pb.getItem(u_);if(null===t)return{};try{e=JSON.parse(t)}catch(e){if(e instanceof SyntaxError)return{};throw e}return Xk(e)?e:{}}function Yk(e){var t=Kk();return gn(t,e).getOr([])}function Jk(e,t){if(Gk(e)){var n=Kk(),r=gn(n,t).getOr([]);r=Ut(r,(function(t){return t!==e})),t=(n[t]=[e].concat(r).slice(0,5),n);if(!Xk(t))throw new Error("Bad format for history:\n"+JSON.stringify(t));Pb.setItem(u_,JSON.stringify(t))}}function Qk(e){return!!e}function Zk(e){return sn($C.makeMap(e,/[, ]/),Qk)}function eO(e){return Rt.from(e.getParam("file_picker_callback")).filter(d)}function tO(e,t){n=e,i=Rt.some(n.getParam("file_picker_types")).filter(Qk),r=Rt.some(n.getParam("file_browser_callback_types")).filter(Qk),o=i.or(r).map(Zk);var n,r,o,i=eO(n).fold(S,(function(e){return o.fold(k,(function(e){return 0<an(e).length&&e}))}));return c(i)?i?eO(e):Rt.none():i[t]?eO(e):Rt.none()}function nO(e){return Rt.from(e).filter(o).getOrUndefined()}function rO(e){return{getHistory:Yk,addToHistory:Jk,getLinkInformation:function(){return!1===(t=e).getParam("typeahead_urls")?Rt.none():Rt.some({targets:a_(t.getBody()),anchorTop:nO(t.getParam("anchor_top","#top")),anchorBottom:nO(t.getParam("anchor_bottom","#bottom"))});var t},getValidationHandler:function(){return t=e,Rt.from(void 0===(n=(t=t).getParam("file_picker_validator_handler",void 0,"function"))?t.getParam("filepicker_validator_handler",void 0,"function"):n);var t,n},getUrlPicker:function(t){return tO(n=e,r=t).map((function(e){return function(t){return Ox.nu((function(a){var u=T({filetype:r,fieldname:t.fieldname},Rt.from(t.meta).getOr({}));e.call(n,(function(e,t){if(!o(e))throw new Error("Expected value to be string");if(void 0!==t&&!i(t))throw new Error("Expected meta to be a object");a({value:e,meta:t})}),t.value,u)}))}}));var n,r}}}function oO(e){return h_(e).map(Jr).getOrThunk((function(){return Kr(0,0)}))}function iO(e,t){var n=e.element;eu(n,t.transitionClass),nu(n,t.fadeOutClass),eu(n,t.fadeInClass),t.onShow(e)}function aO(e,t){var n=e.element;eu(n,t.transitionClass),nu(n,t.fadeInClass),eu(n,t.fadeOutClass),t.onHide(e)}function uO(e,t,n){return Jt(e,(function(e){switch(e){case"bottom":return t.bottom<=n.bottom;case"top":return t.y>=n.y}}))}function cO(e,t){return t.getInitialPos().map((function(t){return bo(t.bounds.x,t.bounds.y,Zr(e),Gr(e))}))}function sO(e,t,n){n.setInitialPos({style:function(e){var t={},n=e.dom;if(kn(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t}(e),position:Fr(e,"position")||"static",bounds:t})}function lO(e,t,n){return n.getInitialPos().bind((function(r){switch(n.clearInitialPos(),r.position){case"static":return Rt.some(p_.static());case"absolute":var o=h_(e).map(yo).getOrThunk((function(){return yo(Er())}));return Rt.some(p_.absolute($u("absolute",gn(r.style,"left").map((function(e){return t.x-o.x})),gn(r.style,"top").map((function(e){return t.y-o.y})),gn(r.style,"right").map((function(e){return o.right-t.right})),gn(r.style,"bottom").map((function(e){return o.bottom-t.bottom})))));default:return Rt.none()}}))}function fO(e,t,n){var r,o,i,a;n.isDocked()&&(o=t,i=n,a=(r=e).element,i.setDocked(!1),b_(r,i).each((function(e){e.fold((function(){return y_(r,o,i)}),(function(e){return w_(r,o,i,e)}),h)})),i.setVisible(!0),o.contextual.each((function(e){iu(a,[e.fadeInClass,e.fadeOutClass,e.transitionClass]),e.onShow(r)})),C_(r,o,i))}function dO(e,t){return Pt(S_.getModes(e),t)}function mO(e,t){t?(nu(e,O_.fadeOutClass),ou(e,[O_.transitionClass,O_.fadeInClass])):(nu(e,O_.fadeInClass),ou(e,[O_.fadeOutClass,O_.transitionClass]))}function gO(e,t){e=On.fromDom(e.getContainer()),t?(eu(e,T_),nu(e,__)):(eu(e,__),nu(e,T_))}function hO(e,t){function n(e){i().each((function(t){return e(t.element)}))}function r(t){e.inline||E_(t),gO(e,S_.isDocked(t)),t.getSystem().broadcastOn([Sm()],{}),i().each((function(e){return e.getSystem().broadcastOn([Sm()],{})}))}var o=Ms(),i=t.getSink,a=e.inline?[]:[bs.config({channels:((a={})[k_()]={onReceive:E_},a)})];return E([Xg.config({}),S_.config({contextual:T({lazyContext:function(t){var n=Xr(t.element),r=e.inline?e.getContentAreaContainer():e.getContainer(),o=(r=yo(On.fromDom(r)),r.height-n);t=r.y+(dO(t,"top")?0:n);return Rt.some(bo(r.x,t,r.width,o))},onShow:function(){n((function(e){return mO(e,!0)}))},onShown:function(e){n((function(e){return iu(e,[O_.transitionClass,O_.fadeInClass])})),o.get().each((function(t){var n,r,i;n=e.element,i=gr(r=t),xs(i).filter((function(e){return!lr(r,e)})).filter((function(e){return lr(e,On.fromDom(i.dom.body))||mr(n,e)})).each((function(){return ws(r)})),o.clear()}))},onHide:function(e){var t;e=e.element,t=i,Cs(e).orThunk((function(){return t().toOptional().bind((function(e){return Cs(e.element)}))})).fold(o.clear,o.set),n((function(e){return mO(e,!1)}))},onHidden:function(){n((function(e){return iu(e,[O_.transitionClass])}))}},O_),lazyViewport:function(t){var n=xo(),r=e.getParam("toolbar_sticky_offset",0,"number"),o=n.y+(dO(t,"top")?r:0);t=n.height-(dO(t,"bottom")?r:0);return bo(n.x,o,n.width,t)},modes:[t.header.getDockingMode()],onDocked:r,onUndocked:r})],a,!0)}function pO(e){return Jo("menubutton",z_,e)}function vO(e,t,n){var r=H_(t,e.element);("0px"===r?F_:V_)(e,t,n,Rt.some(r))}function bO(e,t,n){var r=N_(e,t),o=ru(r,t.shrinkingClass),i=H_(t,e.element),a=(I_(e,t),H_(t,e.element));(o?function(){Pr(e.element,B_(t),i),$r(e.element)}:function(){P_(e,t)})(),nu(r,t.shrinkingClass),eu(r,t.growingClass),I_(e,t),Pr(e.element,B_(t),a),n.setExpanded(),t.onStartGrow(e)}function yO(e,t,n){return e=N_(e,t),!0===ru(e,t.growingClass)}function wO(e,t,n){return e=N_(e,t),!0===ru(e,t.shrinkingClass)}function xO(e){return"<alloy.field."+e+">"}function CO(e,t){function n(t){return Zm(e)}function r(t,n){return function(r,o){return Jm(r,e,o).map((function(e){return t(e,o)})).getOr(n)}}function o(e,t){return"true"!==Mr(e.element,"aria-hidden")}var i,a=r(o,!1),u=r((function(e,t){var n;o(e)&&(n=e.element,Pr(n,"display","none"),zr(n,"aria-hidden","true"),ma(e,ua(),{name:t,visible:!1}))})),c=function(e,t){Vt(t,(function(t){return i(e,t)}))},s=r((function(e,t){var n;o(e)||(n=e.element,Wr(n,"display"),Br(n,"aria-hidden"),ma(e,ua(),{name:t,visible:!0}))}));a={getSlotNames:n,getSlot:function(t,n){return Jm(t,e,n)},isShowing:a,hideSlot:i=u,hideAllSlots:function(e){return c(e,n())},showSlot:s};return{uid:e.uid,dom:e.dom,components:t,behaviours:Am(e.slotBehaviours),apis:a}}function SO(e){return{element:function(){return e.element.dom}}}function kO(e,t){var n=Ft(an(t),(function(e){var n=t[e];n=Qo(Jo("sidebar",q_,n));return{name:e,getApi:SO,onSetup:n.onSetup,onShow:n.onShow,onHide:n.onHide}}));return Ft(n,(function(t){var r=li(h);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Tv.unnamedEvents([ob(t,r),ib(t,r),ya(ua(),(function(e,t){var r=t.event;Gt(n,(function(e){return e.name===r.name})).each((function(t){(r.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))}function OO(e){return ug.getCurrent(e).bind((function(e){return j_.isGrowing(e)||j_.hasGrown(e)?ug.getCurrent(e).bind((function(e){return Gt($_.getSlotNames(e),(function(t){return $_.isShowing(e,t)}))})):Rt.none()}))}function TO(e){e=On.fromHtml(e);var t=br(e),n=function(e){return e=void 0!==e.dom.attributes?e.dom.attributes:[],$t(e,(function(e,t){return"class"===t.name?e:T(T({},e),((e={})[t.name]=t.value,e))}),{})}(e),r=Array.prototype.slice.call(e.dom.classList,0);t=0===t.length?{}:{innerHtml:lt(e)};return T({tag:_n(e),classes:r,attributes:n},t)}function _O(e){return ug.getCurrent(e).each((function(e){return ws(e.element)}))}function EO(e,t,n,r){var o,i,a,u,c=t.element;o=n,a="data-mce-"+(i="tabindex"),Rt.from(e.iframeElement).map(On.fromDom).each((function(e){o?(Rr(e,i).each((function(t){return zr(e,a,t)})),zr(e,i,-1)):(Br(e,i),Rr(e,a).each((function(t){zr(e,i,t),Br(e,a)})))})),n?(J_.block(t,(u=r,function(e,t){return{dom:{tag:"div",attributes:{"aria-label":u.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:TO('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}})),Wr(c,"display"),Br(c,"aria-hidden"),e.hasFocus()&&_O(t)):(n=ug.getCurrent(t).exists((function(e){return Uu(e.element)})),J_.unblock(t),Pr(c,"display","none"),zr(c,"aria-hidden","true"),n&&e.focus())}function DO(e,t,n){return{within:e,extra:t,withinWidth:n}}function AO(e,t,n){r=function(e,t){var r=n(e);return Rt.some({element:e,start:t,finish:t+r,width:r})};e=$t(e,(function(e,t){return r(t,e.len).fold(v(e),(function(t){return{len:t.finish,list:e.list.concat([t])}}))}),{len:0,list:[]}).list;var r,o=Ut(e,(function(e){return e.finish<=t})),i=Wt(o,(function(e,t){return e+t.width}),0);return{within:o,extra:e.slice(o.length),withinWidth:i}}function zO(e){return Ft(e,(function(e){return e.element}))}function MO(e,t,n,r){var o,i,a,u=(s=function(e,t,n){return t=AO(t,e,n),0===t.extra.length?Rt.some(t):Rt.none()}(e,t,n).getOrThunk((function(){return AO(t,e-n(r),n)}))).within,c=s.extra,s=s.withinWidth;return 1===c.length&&c[0].width<=n(r)?(i=s,o=zO((o=u).concat(c)),DO(o,[],i)):1<=c.length?(o=c,i=r,c=s,a=zO(a=u).concat([i]),DO(a,zO(o),c)):(a=s,DO(zO(u),[],a))}function RO(e,t){t=Ft(t,(function(e){return gu(e)})),d_.setGroups(e,t)}function NO(e,t){e=Ex.getCoupled(e,"toolbarSandbox"),xm.isOpen(e)?xm.close(e):xm.open(e,t.toolbar())}function BO(e,t,n){Z_(e,n,(function(r){n.overflowGroups.set(r),t.getOpt(e).each((function(e){rE.setGroups(e,iE(r))}))}))}function HO(e,t){Jm(e,t,"overflow-button").bind((function(){return Jm(e,t,"overflow")})).each((function(n){uE(e,t),j_.toggleGrow(n)}))}function LO(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}));return{dom:T({tag:"div",classes:["tox-toolbar__group"]},t),components:[oE.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:gs([nx.config({}),Xg.config({})])}}function PO(e,t){var n=Sa((function(t){var n=Ft(e.initGroups,sE);d_.setGroups(t,n)}));return gs([nb.toolbarButton(e.providers.isDisabled),tb(),Wg.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Gg("toolbar-events",[n])])}function IO(e){var t=lE(e),n=aE.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return aE.sketch(T(T({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element,n=wo(t),r=(t=pr(t),wo(t));t=Math.max(t.dom.scrollHeight,r.height);return bo(n.x+4,r.y,n.width-8,t)},parts:T(T({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))}function FO(e){var t=cE.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=cE.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}});e=lE(e);return cE.sketch(T(T({},e),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([k_()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([k_()],{type:"closed"})}}))}function VO(e){var t=e.cyclicKeying?"cyclic":"acyclic";return d_.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===bp.scrolling?["tox-toolbar--scrolling"]:[])},components:[d_.parts.groups({})],toolbarBehaviours:PO(e,t)})}function jO(e,t){var n=T(T({},mE),t.menus),r=0<an(t.menus).length,o=void 0===t.menubar||!0===t.menubar?hE(dE):hE(!1===t.menubar?"":t.menubar);o=Ut(o,(function(e){var n=hn(mE,e);return r?n||gn(t.menus,e).exists((function(e){return hn(e,"items")})):n})),o=Ft(o,(function(r){return r=n[r],gE({title:r.title,items:hE(r.items)},t,e)}));return Ut(o,(function(e){return 0<e.getItems().length&&It(e.getItems(),(function(e){return"separator"!==e.type}))}))}function UO(e){function t(){e._skinLoaded=!0,Ab(e)}return function(){e.initialized?t():e.on("init",t)}}function WO(e,t){i=(u=t).getParam("skin"),a=u.getParam("skin_url"),!1!==i&&(i=i||"oxide",a=a?u.documentBaseURI.toAbsolute(a):Rv.baseURL+"/skins/ui/"+i);var n,r,i,a,u=a;u&&t.contentCSS.push(u+(e?"/content.inline":"/content")+".min.css"),!1===t.getParam("skin")==0&&o(u)?Dp.all([pE(t,u+"/skin.min.css",t.ui.styleSheetLoader),(i=t,a=u,Or(On.fromDom(i.getElement()))?pE(i,a+"/skin.shadowdom.min.css",Mv.DOM.styleSheetLoader):Dp.resolve())]).then(UO(t),(n=t,r="Skin could not be loaded",function(){return zb(n,{message:r})})):UO(t)()}function $O(e,t){return function(n){function r(){n.setActive(e.formatter.match(t));var r=e.formatter.formatChanged(t,n.setActive);o.set(r)}var o=As();return e.initialized?r():e.once("init",r),function(){e.off("init",r),o.clear()}}}function qO(e,t){return function(){return e.execCommand(t)}}function GO(e,t,n){function r(e,t,r){var o="formatter"===e.type&&n.isInvalid(e);return 0===t?o?[]:i(e,t,!1,r).toArray():i(e,t,o,r).toArray()}function o(e){var t=n.getCurrentValue(),o=n.shouldHide?0:1;return Yt(e,(function(e){return r(e,o,t)}))}var i=function(e,o,i,a){var u,c=t.shared.providers.translate(e.title);return"separator"===e.type?Rt.some({type:"separator",text:c}):"submenu"===e.type?(u=Yt(e.getStyleItems(),(function(e){return r(e,o,a)})),0===o&&u.length<=0?Rt.none():Rt.some({type:"nestedmenuitem",text:c,disabled:u.length<=0,getSubmenuItems:function(){return Yt(e.getStyleItems(),(function(e){return r(e,o,a)}))}})):Rt.some(T({type:"togglemenuitem",text:c,icon:e.icon,active:e.isSelected(a),disabled:i,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}}))))};return{validateItems:o,getFetch:function(e,t){return function(n,r){var i=t();i=o(i);r(US(i,Wp.CLOSE_ON_EXECUTE,e,!1))}}}}function XO(e,t,n){var r=(o=xE(e,t,n)).items,o=o.getStyleItems;e=yE(e,"NodeChange",(function(e){e=e.getComponent(),n.updateText(e)}));return LS({text:n.icon.isSome()?Rt.none():n.text,icon:n.icon,tooltip:Rt.from(n.tooltip),role:Rt.none(),fetch:r.getFetch(t,o),onSetup:e,getApi:function(e){return{getComponent:v(e)}},columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)}function KO(e){var t=CE(kE);return{tooltip:"Align",text:Rt.none(),icon:Rt.some("align-left"),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:Rt.none,getPreviewFor:function(e){return Rt.none},onAction:function(t){return function(){return Gt(kE,(function(e){return e.format===t.format})).each((function(t){return e.execCommand(t.command)}))}},updateText:function(t){var n=Gt(kE,(function(t){return e.formatter.match(t.format)})).fold(v("left"),(function(e){return e.title.toLowerCase()}));ma(t,HS,{icon:"align-"+n})},dataset:t,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}}function YO(e){function t(){function t(e){return e?_E(e)[0]:""}var o=e.queryCommandValue("FontName"),i=r.data,a=o?o.toLowerCase():"";return{matchOpt:Gt(i,(function(e){return e=e.format,e.toLowerCase()===a||t(e).toLowerCase()===t(a).toLowerCase()})).orThunk((function(){return wn(EE(a),{title:n,format:a})})),font:o}}var n="System Font",r=SE(e,"font_formats",OE,OT.SemiColon);return{tooltip:"Fonts",text:Rt.some(n),icon:Rt.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getCurrentValue:function(){return t().matchOpt},getPreviewFor:function(e){return function(){return Rt.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontName",!1,t.format)}))}},updateText:function(e){var n=t(),r=n.matchOpt;n=n.font,r=r.fold(v(n),(function(e){return e.title}));ma(e,BS,{text:r})},dataset:r,shouldHide:!1,isInvalid:S}}function JO(e){function t(){var t=Rt.none(),n=r.data,o=e.queryCommandValue("FontSize");if(o)for(var i=3;t.isNone()&&0<=i;i--)!function(e){var r=ME(o,e),i=RE(r);t=Gt(n,(function(e){return e.format===o||e.format===r||e.format===i}))}(i);return{matchOpt:t,size:o}}var n=v(Rt.none),r=SE(e,"fontsize_formats",DE,OT.Space);return{tooltip:"Font sizes",text:Rt.some("12pt"),icon:Rt.none(),isSelectedFor:function(e){return function(t){return t.exists((function(t){return t.format===e}))}},getPreviewFor:n,getCurrentValue:function(){return t().matchOpt},onAction:function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontSize",!1,t.format)}))}},updateText:function(e){var n=t(),r=n.matchOpt;n=n.size,r=r.fold(v(n),(function(e){return e.title}));ma(e,BS,{text:r})},dataset:r,shouldHide:!1,isInvalid:S}}function QO(e){var t=SE(e,"block_formats",BE,OT.SemiColon);return{tooltip:"Blocks",text:Rt.some("Paragraph"),icon:Rt.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:Rt.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return Rt.some({tag:0<n.length&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},onAction:wE(e),updateText:function(n){var r=NE(e,(function(){return t.data})).fold(v("Paragraph"),(function(e){return e.title}));ma(n,BS,{text:r})},dataset:t,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}}function ZO(e,t){return{tooltip:"Formats",text:Rt.some("Paragraph"),icon:Rt.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:Rt.none,getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return void 0!==n?Rt.some({tag:0<n.length&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):Rt.none()}},onAction:wE(e),updateText:function(t){function n(e){var t=e.items;return void 0!==t&&0<t.length?Yt(t,n):[{title:e.title,format:e.format}]}var r=Yt(YT(e),n);r=NE(e,v(r)).fold(v("Paragraph"),(function(e){return e.title}));ma(t,BS,{text:r})},shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}}function eT(e,t,n,r,o,i){return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:FE(n,i)},components:cb([e.map((function(e){return AS(e,i.icons)})),t.map((function(e){return MS(e,"tox-tbtn",i)}))]),eventOrder:((n={})[Ti()]=["focusing","alloy.base.behaviour","common-button-display-events"],n),buttonBehaviours:gs([nb.toolbarButton(i.isDisabled),tb(),Gg("common-button-display-events",[ya(Ti(),(function(e,t){t.event.prevent(),da(e,VE)}))])].concat(r.map((function(n){return HE.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return cb([e.icon.map((function(e){return AS(e,i.icons)})),e.text.map((function(e){return MS(e,"tox-tbtn",i)}))])}})})).toArray()).concat(o.getOr([])))}}function tT(e,t,n){return jE(e,{toolbarButtonBehaviours:[].concat(0<n.length?[Gg("toolbarButtonWith",n)]:[]),getApi:PE,onSetup:e.onSetup},t)}function nT(e,t,n){return To(jE(e,{toolbarButtonBehaviours:[$g.config({}),Jg.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(0<n.length?[Gg("toolbarToggleButtonWith",n)]:[]),getApi:IE,onSetup:e.onSetup},t))}function rT(e,t){function n(e){return{isDisabled:function(){return sg.isDisabled(e)},setDisabled:function(t){return sg.set(e,t)},setIconFill:function(t,n){Ec(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){zr(e,"fill",n)}))},setIconStroke:function(t,n){Ec(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){zr(e,"stroke",n)}))},setActive:function(t){zr(e.element,"aria-pressed",t),Ec(e.element,"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return Jg.set(e,t)}))}))},isActive:function(){return Ec(e.element,"span").exists((function(t){return e.getSystem().getByDom(t).exists(Jg.isOn)}))}}}var r,o,i,a=Na("channel-update-split-dropdown-display"),u=li(h),c={getApi:n,onSetup:e.onSetup};return LE.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:T({"aria-pressed":!1},FE(e.tooltip,t.providers))},onExecute:function(t){e.onAction(n(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:gs([nb.splitButton(t.providers.isDisabled),tb(),Gg("split-dropdown-events",[ya(VE,Xg.focus),ob(c,u),ib(c,u)]),Px.config({})]),eventOrder:((c={})[ra()]=["alloy.base.behaviour","split-dropdown-events"],c),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:(r=n,o=e,i=t.providers,function(e){return Ox.nu((function(e){return o.fetch(e)})).map((function(t){return Rt.from(Gw(To(Mw(Na("menu-value"),t,(function(t){o.onItemAction(r(e),t)}),o.columns,o.presets,Wp.CLOSE_ON_EXECUTE,o.select.getOr(S),i),{movement:Nw(o.columns,o.presets),menuBehaviours:Tv.unnamedEvents("auto"!==o.columns?[]:[Sa((function(e,t){Ov(e,4,rv(o.presets)).each((function(t){var n=t.numRows;t=t.numColumns;Wg.setGridSize(e,n,t)}))}))])})))}))}),parts:{menu:cv(!1,e.columns,e.presets)},components:[LE.parts.button(eT(e.icon,e.text,Rt.none(),Rt.some(a),Rt.some([Jg.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),LE.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Gd("chevron-down",t.providers.icons)},buttonBehaviours:gs([nb.splitButton(t.providers.isDisabled),tb(),Xd()])}),LE.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})}function oT(e,t){return function(n,r,o){return n=e(n).mapError((function(e){return ei(e)})).getOrDie(),t(n,r,o)}}function iT(e,t,n,r){t=t.outerContainer;var i=n.toolbar,a=n.buttons;g(i,o)?(i=i.map((function(t){return t={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups},YE(e,t,{backstage:r},Rt.none())})),fE.setToolbars(t,i)):fE.setToolbar(t,YE(e,n,{backstage:r},Rt.none()))}function aT(e,t){function n(){var t=c.get();t.left===a.innerWidth&&t.top===a.innerHeight||(c.set(Kr(a.innerWidth,a.innerHeight)),Mb(e))}function r(){var t=e.getDoc().documentElement,n=s.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(s.set(Kr(t.offsetWidth,t.offsetHeight)),Mb(e))}function o(t){return Rb(e,t)}var i=e.dom,a=e.getWin(),u=e.getDoc().documentElement,c=li(Kr(a.innerWidth,a.innerHeight)),s=li(Kr(u.offsetWidth,u.offsetHeight)),l=(i.bind(a,"resize",n),i.bind(a,"scroll",o),Bs(On.fromDom(e.getBody()),"load",r)),f=t.uiMothership.element;e.on("hide",(function(){Pr(f,"display","none")})),e.on("show",(function(){Wr(f,"display")})),e.on("NodeChange",r),e.on("remove",(function(){l.unbind(),i.unbind(a,"resize",n),i.unbind(a,"scroll",o),a=null}))}function uT(e,t,n){return t=t.filter((function(t){return e<t})),n=n.filter((function(t){return t<e})),t.or(n).getOr(e)}function cT(e,t,n,r,o){function i(e){return h?e.fold(v(0),(function(e){return 1<e.components().length?Gr(e.components()[1].element):0})):0}function a(e){var t,n;void 0===e&&(e=!0),!l&&f&&b()&&(t=m.getDockingMode(),(n=y(o.get()))!==t&&(w(n),e&&k(!0)))}var u=n.uiMothership,c=n.outerContainer,s=Mv.DOM,l=$v(e),f=Xv(e),d=Bv(e).or(nD(e)),m=r.shared.header,g=m.isPositionedAtTop,h=(r=Fv(e))===bp.sliding||r===bp.floating,p=li(!1),b=function(){return p.get()&&!e.removed},y=function(n){switch(jv(e)){case yp.auto:var r,o=fE.getToolbar(c),a=(o=i(o),o=Gr(n.element)-o,yo(t));return a.y>o?"top":(r=pr(t),r=Math.max(r.dom.scrollHeight,Gr(r)),a.bottom<r-o||xo().bottom<a.bottom-o?"bottom":"top");case yp.bottom:return"bottom";default:return yp.top,"top"}},w=function(e){var t=o.get();S_.setModes(t,[e]),m.setDockingMode(e),e=g()?xc.TopToBottom:xc.BottomToTop;zr(t.element,el,e)},x=function(){var e=d.getOrThunk((function(){var e=ZE(Fr(Er(),"margin-left")).getOr(0);return Zr(Er())-Jr(t).left+e}));Pr(o.get().element,"max-width",e+"px")},C=function(){var e=fE.getToolbar(c),n=(e=i(e),yo(t));e=g()?Math.max(n.y-Gr(o.get().element)+e,0):n.bottom;Ir(c.element,{position:"absolute",top:Math.round(e)+"px",left:Math.round(n.x)+"px"})},S=function(){u.broadcastOn([Sm()],{})},k=function(e){var t;void 0===e&&(e=!1),b()&&(l||x(),h&&fE.refreshToolbar(c),l||C(),f&&(t=o.get(),e?S_.reset(t):S_.refresh(t)),S())};return{isVisible:b,isPositionedAtTop:g,show:function(){p.set(!0),Pr(c.element,"display","flex"),s.addClass(e.getBody(),"mce-edit-focus"),Wr(u.element,"display"),a(!1),k()},hide:function(){p.set(!1),n.outerContainer&&(Pr(c.element,"display","none"),s.removeClass(e.getBody(),"mce-edit-focus")),Pr(u.element,"display","none")},update:k,updateMode:a,repositionPopups:S}}function sT(e,t,n,r){function o(r){var o=(a=oD(t,n.isPositionedAtTop())).pos,a=a.bounds,u=(c=i.get()).pos,c=c.bounds;c=a.height!==c.height||a.width!==c.width;i.set({pos:o,bounds:a}),c&&Mb(e,r),n.isVisible()&&(u!==o?n.update(!0):c&&(n.updateMode(),n.repositionPopups()))}var i=li(oD(t,n.isPositionedAtTop())),a=(r||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(function(){return n.update(!0)})),e.on("NodeChange keydown",(function(e){bh.requestAnimationFrame((function(){return o(e)}))})),e.on("ScrollWindow",(function(){return n.updateMode()})),As());a.set(Bs(On.fromDom(e.getBody()),"load",o)),e.on("remove",(function(){a.clear()}))}function lT(e,t){return ya(RS,(function(n,r){var o;n=e.get(n),o=n,n={hide:function(){return da(o,Yi())},getValue:function(){return Dm.getValue(o)}};t.onAction(n,r.event.buttonApi)}))}function fT(e,t,n){var r,o,i,a;n={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?(r=e,i=n,(a=(o=t).original).primary,a=_(a,["primary"]),a=Qo(Fh(T(T({},a),{type:"togglebutton",onAction:h}))),nT(a,i.backstage.shared.providers,[lT(r,o)])):(a=e,i=n,(o=(r=t).original).primary,o=_(o,["primary"]),o=Qo(Ih(T(T({},o),{type:"button",onAction:h}))),tT(o,i.backstage.shared.providers,[lT(a,r)]))}function dT(e,t){var n=e.label.fold((function(){return{}}),(function(e){return{"aria-label":e}})),r=(n=wh(bx.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:gs([Wg.config({mode:"special",onEnter:function(e){return r.findPrimary(e).map((function(e){return ga(e),!0}))},onLeft:function(e,t){return t.cut(),Rt.none()},onRight:function(e,t){return t.cut(),Rt.none()}})])})),uD(n,e.commands,t));return[{title:Rt.none(),items:[n.asSpec()]},{title:Rt.none(),items:r.asSpecs()}]}function mT(e,t,n){return t.bottom-e.y>=(n=void 0===n?.01:n)&&e.bottom-t.y>=n}function gT(e){var t,n=e.selection.getRng();n=(t=(n=n).getBoundingClientRect()).height<=0&&t.width<=0?(n=te(On.fromDom(n.startContainer),n.startOffset).element,(Dn(n)?vr(n):Rt.some(n)).filter(En).map((function(e){return e.dom.getBoundingClientRect()})).getOr(t)):t;return e.inline?(t=so(),bo(t.left+n.left,t.top+n.top,n.width,n.height)):(t=wo(On.fromDom(e.getBody())),bo(t.x+n.left,t.y+n.top,n.width,n.height))}function hT(e,t,n,r){void 0===r&&(r=0);var o,i=he(window),a=yo(On.fromDom(e.getContentAreaContainer())),u=Hv(e)||Lv(e)||Iv(e),c=(c=a,l=i,s=r,{x:o=Math.max(c.x+s,l.x),width:Math.min(c.right-s,l.right)-o}),s=c.x,l=c.width;return e.inline&&!u?bo(s,i.y,l,i.height):(c=(o=function(e,t,n,r,o,i){var a=On.fromDom(e.getContainer()),u=Ec(a,".tox-editor-header").getOr(a),c=(u=yo(u),u.y>=t.bottom);r=r&&!c;return e.inline&&r?{y:Math.max(u.bottom+i,n.y),bottom:n.bottom}:e.inline&&!r?{y:n.y,bottom:Math.min(u.y-i,n.bottom)}:(c="line"===o?yo(a):t,r?{y:Math.max(u.bottom+i,n.y),bottom:Math.min(c.bottom-i,n.bottom)}:{y:Math.max(c.y+i,n.y),bottom:Math.min(u.y-i,n.bottom)})}(e,a,i,t.header.isPositionedAtTop(),n,r)).y,u=o.bottom,bo(s,c,l,u-c))}function pT(e){return"node"===e}function vT(e,t,n,r,o){var i,a,u,c=gT(e),s=r.lastElement().exists((function(e){return lr(n,e)}));return a=n,e=(e=e).selection.getRng(),u=te(On.fromDom(e.startContainer),e.startOffset),e.startContainer===e.endContainer&&e.startOffset===e.endOffset-1&&lr(u.element,a)?s?Wd:ph:s?(i=t,e=r.getMode(),u=function(){return mT(c,yo(t))&&!r.isReposition()?qd:Wd},a=jr(i,"position"),Pr(i,"position",e),e=u(i),a.each((function(e){return Pr(i,"position",e)})),e):("fixed"===r.getMode()?o.y+so().top:o.y)+(Gr(t)+12)<=c.y?ph:vh}function bT(e,t,n,r){function o(t){return pT(r)?[(o=t,function(t,r,i,a,u){var c=vT(e,a,o,n,u);t=T(T({},t),{y:u.y,height:u.height});return T(T({},c(t,r,i,a,u)),{alwaysFit:!0})})]:[];var o}return t?{onLtr:function(e){return[is,es,ts,ns,rs,os].concat(o(e))},onRtl:function(e){return[is,ts,es,rs,ns,os].concat(o(e))}}:{onLtr:function(e){return[os,is,ns,es,rs,ts].concat(o(e))},onRtl:function(e){return[os,is,rs,ts,ns,es].concat(o(e))}}}function yT(e,t){return t=Ut(t,(function(t){return t.predicate(e.dom)})),{contextToolbars:(t=B(t,(function(e){return"contexttoolbar"===e.type}))).pass,contextForms:t.fail}}function wT(e,t,n){var r,o,i;return 0<(t=yT(e,t)).contextForms.length?Rt.some({elem:e,toolbars:[t.contextForms[0]]}):0<(n=yT(e,n)).contextForms.length?Rt.some({elem:e,toolbars:[n.contextForms[0]]}):0<t.contextToolbars.length||0<n.contextToolbars.length?(n=(r=t.contextToolbars.concat(n.contextToolbars)).length<=1?r:(t=function(e){return Ut(r,(function(t){return t.position===e}))},o=(n=function(e){return It(r,(function(t){return t.position===e}))})("selection"),n=n("node"),o||n?n&&o?(n=t("node"),i=Ft(t("selection"),(function(e){return T(T({},e),{position:"node"})})),n.concat(i)):t(o?"selection":"node"):t("line")),Rt.some({elem:e,toolbars:n})):Rt.none()}function xT(e,t,n){return e(t)?Rt.none():nt(t,(function(e){var t,r,o,i;return En(e)?(t=(r=yT(e,n.inNodeScope)).contextToolbars,0<(r=0<(r=r.contextForms).length?r:(o=t).length<=1?o:(i=function(e){return Gt(o,(function(t){return t.position===e}))})("selection").orThunk((function(){return i("node")})).orThunk((function(){return i("line")})).map((function(e){return e.position})).fold((function(){return[]}),(function(e){return Ut(o,(function(t){return t.position===e}))}))).length?Rt.some({elem:e,toolbars:r}):Rt.none()):Rt.none()}),e)}function CT(e,t){function n(e){return lr(e,r)}var r=On.fromDom(t.getBody()),o=On.fromDom(t.selection.getNode());return n(t=o)||mr(r,t)?wT(o,e.inNodeScope,e.inEditorScope).orThunk((function(){return xT(n,o,e)})):Rt.none()}function ST(e,t){function n(e,n){var r=Qo(Jo("ContextForm",Vp,n));(o[e]=r).launch.map((function(o){u["form:"+e]=T(T({},n.launch),{type:"contextformtogglebutton"===o.type?"togglebutton":"button",onAction:function(){t(r)}})})),("editor"===r.scope?a:i).push(r),c[e]=r}function r(e,t){Jo("ContextToolbar",jp,t).each((function(n){("editor"===t.scope?a:i).push(n),c[e]=n}))}var o={},i=[],a=[],u={},c={},s=an(e);return Vt(s,(function(t){var o=e[t];"contextform"===o.type?n(t,o):"contexttoolbar"===o.type&&r(t,o)})),{forms:o,inNodeScope:i,inEditorScope:a,lookupTable:c,formNavigators:u}}var kT,OT,TT=function(e){return!hn(e,"items")},_T="data-value",ET=function(e,t,n,r){return Ft(n,(function(n){return TT(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){Dm.setValue(e,n.value),ma(e,cx,{name:t}),Xg.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return ET(e,t,n.items,r)}}}))},DT=function(e,t){return on(e,(function(e){return TT(e)?wn(e.value===t,e):DT(e.items,t)}))},AT=ag({name:"HtmlSelect",configFields:[ri("options"),Ql("selectBehaviours",[Xg,Dm]),ci("selectClasses",[]),ci("selectAttributes",{}),je("data")],factory:function(e,t){var n=Ft(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}})),r=e.data.map((function(e){return gi("initialValue",e)})).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:zm(e.selectBehaviours,[Xg.config({}),Dm.config({store:T({mode:"manual",getValue:function(e){return au(e.element)},setValue:function(t,n){Gt(e.options,(function(e){return e.value===n})).isSome()&&uu(t.element,n)}},r)})])}}}),zT=(Bg=Object.freeze({__proto__:null,events:function(e,t){var n=e.stream.streams.setup(e,t);return ba([ya(e.event,n),ka((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[ya(e,(function(){return t.cancel()}))]})).getOr([])))}}),rl=Object.freeze({__proto__:null,throttle:yk,init:function(e){return e.stream.streams.state(e)}}),Ug=[oi("stream",Ne("mode",{throttle:[ri("delay"),ci("stopEvent",!0),Fc("streams",{setup:function(e,t){var n=e.stream,r=Mh(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},state:yk})]})),ci("event","input"),je("cancelEvent"),Ou("onStream")],Vu({fields:Ug,name:"streaming",active:Bg,state:rl})),MT=function(e,t){e=e.element;var n=au(e),r=e.dom;"number"!==Mr(e,"type")&&t(r,n)},RT=v("alloy.typeahead.itemexecute"),NT=(Lg=v([je("lazySink"),ri("fetch"),ci("minChars",5),ci("responseTime",1e3),Su("onOpen"),ci("getHotspot",Rt.some),ci("getAnchorOverrides",v({})),ci("layouts",Rt.none()),ci("eventOrder",{}),Ze("model",{},[ci("getDisplayText",(function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value})),ci("selectsOver",!0),ci("populateFromBrowse",!0)]),Su("onSetValue"),ku("onExecute"),Su("onItemExecute"),ci("inputClasses",[]),ci("inputAttributes",{}),ci("inputStyles",{}),ci("matchWidth",!0),ci("useMinWidth",!1),ci("dismissOnBlur",!0),xu(["openClass"]),je("initialData"),Ql("typeaheadBehaviours",[Xg,Dm,zT,Wg,Jg,Ex]),ni("previewing",(function(){return li(!0)}))].concat(Ng()).concat(Ty())),Vm=v([ds({schema:[wu()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each((function(r){Ck(e.model,r,n).fold((function(){return lg.dehighlight(t,n)}),(function(e){return e()}))})):t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&wk(e.model,t,n)})),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOptional().map((function(e){return ma(e,RT(),{item:n}),!0}))},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&wk(e.model,t,n)}))}}}})]),gf({name:"Typeahead",configFields:Lg(),partFields:Vm(),factory:function(e,t,n,r){function o(t,n,o){e.previewing.set(!1);var a=Ex.getCoupled(t,"sandbox");xm.isOpen(a)?ug.getCurrent(a).each((function(e){lg.getHighlighted(e).fold((function(){o(e)}),(function(){va(a,e.element,"keydown",n)}))})):Mx(e,i(t),t,a,r,(function(e){ug.getCurrent(e).each(o)}),Ow.HighlightFirst).get(h)}function i(e){return function(t){return t.map((function(t){var n=mn(t.menus);n=Yt(n,(function(e){return Ut(e.items,(function(e){return"item"===e.type}))}));return Dm.getState(e).update(Ft(n,(function(e){return e.data}))),t}))}}var a=vx(e),u=[Xg.config({}),Dm.config({onSetValue:e.onSetValue,store:T({mode:"dataset",getDataKey:function(e){return au(e.element)},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){uu(t.element,e.model.getDisplayText(n))}},e.initialData.map((function(e){return gi("initialValue",e)})).getOr({}))}),zT.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,n){var o,a=Ex.getCoupled(t,"sandbox");Xg.isFocused(t)&&au(t.element).length>=e.minChars&&(o=ug.getCurrent(a).bind((function(e){return lg.getHighlighted(e).map(Dm.getValue)})),e.previewing.set(!0),Mx(e,i(t),t,a,r,(function(t){ug.getCurrent(a).each((function(t){o.fold((function(){e.model.selectsOver&&lg.highlightFirst(t)}),(function(e){lg.highlightBy(t,(function(t){return Dm.getValue(t).value===e.value})),lg.getHighlighted(t).orThunk((function(){return lg.highlightFirst(t),Rt.none()}))}))}))}),Ow.HighlightFirst).get(h))},cancelEvent:Ji()}),Wg.config({mode:"special",onDown:function(e,t){return o(e,t,lg.highlightFirst),Rt.some(!0)},onEscape:function(e){return e=Ex.getCoupled(e,"sandbox"),xm.isOpen(e)?(xm.close(e),Rt.some(!0)):Rt.none()},onUp:function(e,t){return o(e,t,lg.highlightLast),Rt.some(!0)},onEnter:function(t){var n,r=Ex.getCoupled(t,"sandbox"),o=xm.isOpen(r);return o&&!e.previewing.get()?ug.getCurrent(r).bind((function(e){return lg.getHighlighted(e)})).map((function(e){return ma(t,RT(),{item:e}),!0})):(n=Dm.getValue(t),da(t,Ji()),e.onExecute(r,t,n),o&&xm.close(r),Rt.some(!0))}}),Jg.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Ex.config({others:{sandbox:function(t){return ky(e,t,{onOpen:function(){return Jg.on(t)},onClose:function(){return Jg.off(t)}})}}}),Gg("typeaheadevents",[Ta((function(t){Sy(e,i(t),t,r,h,Ow.HighlightFirst).get(h)})),ya(RT(),(function(t,n){var r=Ex.getCoupled(t,"sandbox");wk(e.model,t,n.event.item),da(t,Ji()),e.onItemExecute(t,r,n.event.item,Dm.getValue(t)),xm.close(r),xk(t)}))].concat(e.dismissOnBlur?[ya(Ui(),(function(e){e=Ex.getCoupled(e,"sandbox"),Cs(e.element).isNone()&&xm.close(e)}))]:[]))];return{uid:e.uid,dom:py(To(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:T(T({},a),zm(e.typeaheadBehaviours,u)),eventOrder:e.eventOrder}}})),BT=function(e){return T(T({},e),{toCached:function(){return BT(e.toCached())},bindFuture:function(t){return BT(e.bind((function(e){return e.fold((function(e){return Ox.pure(Co.error(e))}),(function(e){return t(e)}))})))},bindResult:function(t){return BT(e.map((function(e){return e.bind(t)})))},mapResult:function(t){return BT(e.map((function(e){return e.map(t)})))},mapError:function(t){return BT(e.map((function(e){return e.mapError(t)})))},foldResult:function(t,n){return e.map((function(e){return e.fold(t,n)}))},withTimeout:function(t,n){return BT(Ox.nu((function(r){var o=!1,i=setTimeout((function(){o=!0,r(Co.error(n()))}),t);e.get((function(e){o||(clearTimeout(i),r(e))}))})))}})},HT=Sk,LT={type:"separator"},PT=function(e){return Tk("header",e.targets)},IT=function(e){return Tk("anchor",e.targets)},FT=function(e){return Rt.from(e.anchorTop).map((function(e){return Ok("<top>",e)})).toArray()},VT=function(e){return Rt.from(e.anchorBottom).map((function(e){return Ok("<bottom>",e)})).toArray()},jT=function(e){return Ft(e,(function(e){return Ok(e,e)}))},UT=function(e){return $t(e,(function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(LT,t)}),[])},WT=function(e,t){var n=e.toLowerCase();return Ut(t,(function(e){var t=(void 0!==e.meta&&void 0!==e.meta.text?e.meta:e).text;return V(t.toLowerCase(),n)||V(e.value.toLowerCase(),n)}))},$T=Na("aria-invalid"),qT={bar:Dk((function(e,t){return t=t.shared,{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ft(e.items,t.interpreter)}})),collection:Dk((function(e,t){return hy(e,t.shared.providers)})),alertbanner:Dk((function(e,t){return n=e,e=t.shared.providers,Qw.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+n.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[yh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Gd(n.icon,e.icons),attributes:{title:e.translate(n.iconTooltip)}},action:function(e){ma(e,fx,{name:"alert-banner",value:n.url})},buttonBehaviours:gs([Xd()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(n.text)}}]});var n})),input:Dk((function(e,t){return e=e,t=t.shared.providers,bk({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:Rt.none(),maximized:e.maximized},t)})),textarea:Dk((function(e,t){return e=e,t=t.shared.providers,bk({name:e.name,multiline:!0,label:e.label,inputMode:Rt.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:Rt.none(),maximized:e.maximized},t)})),label:Dk((function(e,t){return e=e,t=t.shared,n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}},e=Ft(e.items,t.interpreter),{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(e),behaviours:gs([VC.self(),$g.config({}),KC(Rt.none()),Wg.config({mode:"acyclic"})])};var n})),iframe:(kT=function(e,t){return ow(e,t.shared.providers)},function(e,t,n){return t=To(t,{source:"dynamic"}),Dk(kT)(e,t,n)}),button:Dk((function(e,t){return xw(e,t.shared.providers)})),checkbox:Dk((function(e,t){return Ek(e,t.shared.providers)})),colorinput:Dk((function(e,t){return _y(e,t.shared,t.colorinput)})),colorpicker:Dk((function(e){function t(e){return"tox-"+e}var n=Yy(Jy,t),r=wh(n.sketch({dom:{tag:"div",classes:["tox-color-picker-container"],attributes:{role:"presentation"}},onValidHex:function(e){ma(e,fx,{name:"hex-valid",value:!0})},onInvalidHex:function(e){ma(e,fx,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[r.asSpec()],behaviours:gs([Dm.config({store:{mode:"manual",getValue:function(e){return e=r.get(e),ug.getCurrent(e).bind((function(e){return Dm.getValue(e).hex})).map((function(e){return"#"+e})).getOr("")},setValue:function(e,t){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t);t=r.get(e);ug.getCurrent(t).fold((function(){}),(function(e){Dm.setValue(e,{hex:Rt.from(n[1]).getOr("")}),NC.getField(e,"hex").each((function(e){da(e,Bi())}))}))}}}),VC.self()])}})),dropzone:Dk((function(e,t){return ew(e,t.shared.providers)})),grid:Dk((function(e,t){return t=t.shared,{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:Ft(e.items,t.interpreter)}})),listbox:Dk((function(e,t){return n=e,o=(r=t).shared.providers,i=nn(n.items).filter(TT),e=n.label.map((function(e){return ux(e,o)})),t={dom:{tag:"div",classes:["tox-listboxfield"]},components:[tx.parts.field({dom:{},factory:{sketch:function(e){return LS({uid:e.uid,text:i.map((function(e){return e.text})),icon:Rt.none(),tooltip:n.label,role:Rt.none(),fetch:function(e,t){e=ET(e,n.name,n.items,Dm.getValue(e)),t(US(e,Wp.CLOSE_ON_EXECUTE,r,!1))},onSetup:v(h),getApi:v({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[nx.config({}),Dm.config({store:{mode:"manual",initialValue:i.map((function(e){return e.value})).getOr(""),getValue:function(e){return Mr(e.element,_T)},setValue:function(e,t){DT(n.items,t).each((function(t){zr(e.element,_T,t.value),ma(e,BS,{text:t.text})}))}}})]},"tox-listbox",r.shared)}}})]},tx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Kt([e.toArray(),[t]]),fieldBehaviours:gs([sg.config({disabled:v(n.disabled),onDisabled:function(e){tx.getField(e).each(sg.disable)},onEnabled:function(e){tx.getField(e).each(sg.enable)}})])});var n,r,o,i})),selectbox:Dk((function(e,t){return n=e,r=t.shared.providers,e=Ft(n.items,(function(e){return{text:r.translate(e.text),value:e.value}})),t=n.label.map((function(e){return ux(e,r)})),e=tx.parts.field({dom:{},selectAttributes:{size:n.size},options:e,factory:AT,selectBehaviours:gs([sg.config({disabled:function(){return n.disabled||r.isDisabled()}}),nx.config({}),Gg("selectbox-change",[ya(Hi(),(function(e,t){ma(e,cx,{name:n.name})}))])])}),o=1<n.size?Rt.none():Rt.some(Eh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),e={dom:{tag:"div",classes:["tox-selectfield"]},components:Kt([[e],o.toArray()])},tx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Kt([t.toArray(),[e]]),fieldBehaviours:gs([sg.config({disabled:function(){return n.disabled||r.isDisabled()},onDisabled:function(e){tx.getField(e).each(sg.disable)},onEnabled:function(e){tx.getField(e).each(sg.enable)}}),tb()])});var n,r,o})),sizeinput:Dk((function(e,t){return ek(e,t.shared.providers)})),urlinput:Dk((function(e,t){return _k(e,t,t.urlinput)})),customeditor:Dk((function(e){var t=Ms(),n=wh({dom:{tag:e.tag}}),r=Ms();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:gs([Gg("custom-editor-events",[Sa((function(o){n.getOpt(o).each((function(n){(hn(e,"init")?e.init(n.element.dom):WC.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element.dom,e.settings)}))).then((function(e){r.on((function(t){e.setValue(t)})),r.clear(),t.set(e)}))}))}))]),Dm.config({store:{mode:"manual",getValue:function(){return t.get().fold((function(){return r.get().getOr("")}),(function(e){return e.getValue()}))},setValue:function(e,n){t.get().fold((function(){r.set(n)}),(function(e){return e.setValue(n)}))}}}),VC.self()]),components:[n.asSpec()]}})),htmlpanel:Dk((function(e){return"presentation"===e.presets?Qw.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Qw.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:gs([nx.config({}),Xg.config({})])})})),imagetools:Dk((function(e,t){return pk(e,t.shared.providers)})),table:Dk((function(e,t){return vk(e,t.shared.providers)})),panel:Dk((function(e,t){return{dom:{tag:"div",classes:e.classes},components:Ft(e.items,t.shared.interpreter)}}))},GT={field:function(e,t){return t}},XT={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},KT=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],YT=function(e){return Rt.from(e.getParam("style_formats")).filter(a).map((function(t){return t=Lk(e,t),e.getParam("style_formats_merge",!1,"boolean")?KT.concat(t):t})).getOr(KT)},JT=$C.trim,QT=Vk("true"),ZT=Vk("false"),e_=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return QT(e)}return!1},t_=function(e,t){return Ft(em(On.fromDom(t),e),(function(e){return e.dom}))},n_=function(e){return(t=e)&&"A"===t.nodeName&&void 0!==(t.id||t.name)&&$k(e);var t},r_=function(e){return Wk(e)&&$k(e)},o_=function(e){var t,n=e.id||Na("h");return jk("header",Uk(e),"#"+n,Wk(t=e)?parseInt(t.nodeName.substr(1),10):0,(function(){e.id=n}))},i_=function(e){var t=e.id||e.name;e=Uk(e);return jk("anchor",e||"#"+t,"#"+t,0,h)},a_=function(e){return e=t_("h1,h2,h3,h4,h5,h6,a:not([href])",e),Ut(Ft(Ut(e,r_),o_).concat(Ft(Ut(e,n_),i_)),qk)},u_="tinymce-url-history",c_=function(e,t,n){var r,o,i=li(!1),a={isPositionedAtTop:function(){return"top"===r.get()},getDockingMode:(r=li(Uv(t)?"bottom":"top")).get,setDockingMode:r.set},u={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:xh.translate,isDisabled:function(){return t.mode.isReadOnly()||t.ui.isDisabled()},getSetting:t.getParam.bind(t)},interpreter:function(e){return zk(GT,e,u)},anchors:Nk(t,n,a.isPositionedAtTop),header:a,getSink:function(){return Co.value(e)}},urlinput:rO(t),styleselect:Fk(t),colorinput:Bk(t),dialog:{isDraggableModal:(o=t,function(){return o.getParam("draggable_modal",!1,"boolean")})},isContextMenuOpen:function(){return i.get()},setContextMenuState:function(e){return i.set(e)}};return u},s_=function(e,t,n){function r(e,r){Vt([t,n],(function(t){t.broadcastEvent(e,r)}))}function o(e,r){Vt([t,n],(function(t){t.broadcastOn([e],r)}))}function i(e){return o(Cm(),{target:e.target})}function a(e){return o(Cm(),{target:On.fromDom(e.target)})}function u(e){0===e.button&&o(km(),{target:On.fromDom(e.target)})}function c(){Vt(e.editorManager.get(),(function(t){e!==t&&t.fire("DismissPopups",{relatedTarget:e})}))}function s(e){return r(ta(),Hs(e))}function l(e){o(Sm(),{}),r(na(),Hs(e))}function f(){return o(Sm(),{})}function d(t){t.state&&o(Cm(),{target:On.fromDom(e.getContainer())})}function m(e){o(Cm(),{target:On.fromDom(e.relatedTarget.getContainer())})}var g=ys(),h=Ns(g,"touchstart",i),p=Ns(g,"touchmove",(function(e){return r(Zi(),e)})),v=Ns(g,"touchend",(function(e){return r(ea(),e)})),b=Ns(g,"mousedown",i),y=Ns(g,"mouseup",(function(e){0===e.raw.button&&o(km(),{target:e.target})}));e.on("PostRender",(function(){e.on("click",a),e.on("tap",a),e.on("mouseup",u),e.on("mousedown",c),e.on("ScrollWindow",s),e.on("ResizeWindow",l),e.on("ResizeEditor",f),e.on("AfterProgressState",d),e.on("DismissPopups",m)})),e.on("remove",(function(){e.off("click",a),e.off("tap",a),e.off("mouseup",u),e.off("mousedown",c),e.off("ScrollWindow",s),e.off("ResizeWindow",l),e.off("ResizeEditor",f),e.off("AfterProgressState",d),e.off("DismissPopups",m),b.unbind(),h.unbind(),p.unbind(),v.unbind(),y.unbind()})),e.on("detach",(function(){Fl(t),Fl(n),t.destroy(),n.destroy()}))},l_=Fm,f_=(xi=ol,fl=v([ci("shell",!1),ri("makeItem"),ci("setupItem",h),Mm.field("listBehaviours",[$g])]),ex=$m({name:"items",overrides:function(){return{behaviours:gs([$g.config({})])}}}),za=v([ex]),gf({name:v("CustomList")(),configFields:fl(),partFields:za(),factory:function(e,t,n,r){return t=e.shell?{behaviours:[$g.config({})],components:[]}:{behaviours:[],components:t},{uid:e.uid,dom:e.dom,components:t.components,behaviours:zm(e.listBehaviours,t.behaviours),apis:{setItems:function(t,n){var r;r=t,(e.shell?Rt.some(r):Jm(r,e,"items")).fold((function(){throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=$g.contents(r),i=n.length,a=i-o.length;a=0<a?R(a,(function(){return e.makeItem()})):[],o=o.slice(i),Vt(o,(function(e){return $g.remove(r,e)})),Vt(a,(function(e){return $g.append(r,e)})),i=$g.contents(r);Vt(i,(function(r,o){e.setupItem(t,r,n[o],o)}))}))}}}},apis:{setItems:function(e,t,n){e.setItems(t,n)}}})),d_=(cm=v([ri("dom"),ci("shell",!0),Ql("toolbarBehaviours",[$g])]),jm=v([$m({name:"groups",overrides:function(){return{behaviours:gs([$g.config({})])}}})]),gf({name:"Toolbar",configFields:cm(),partFields:jm(),factory:function(e,t,n,r){return t=e.shell?{behaviours:[$g.config({})],components:[]}:{behaviours:[],components:t},{uid:e.uid,dom:e.dom,components:t.components,behaviours:zm(e.toolbarBehaviours,t.behaviours),apis:{setGroups:function(t,n){t=t,(e.shell?Rt.some(t):Jm(t,e,"groups")).fold((function(){throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){$g.set(e,n)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}})),m_=(Um=h,jg=S,v([])),g_=Object.freeze({__proto__:null,setup:Um,isDocked:jg,getBehaviours:m_}),h_=function(e){return(vn(jr(e,"position"),"fixed")?Rt.none():Z(e)).orThunk((function(){var t=On.fromTag("span");return vr(e).bind((function(e){return oo(e,t),e=Z(t),co(t),e}))}))},p_=fi([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),v_=function(e,t,n){var r,o,i,a,u;e=e.element;return vn(jr(e,"position"),"fixed")?(a=t,cO(i=e,u=n).filter((function(e){return uO(u.getModes(),e,a)})).bind((function(e){return lO(i,e,u)}))):(t=t,n=n,o=yo(e=e),uO(n.getModes(),o,t)?Rt.none():(sO(e,o,n),e=xo(),n=o.x-e.x,r=t.y-e.y,e=e.bottom-t.bottom,o=o.y<=t.y,Rt.some(p_.fixed($u("fixed",Rt.some(n),o?Rt.some(r):Rt.none(),Rt.none(),o?Rt.none():Rt.some(e))))))},b_=function(e,t){var n=e.element;return cO(n,t).bind((function(e){return lO(n,e,t)}))},y_=function(e,t,n){n.setDocked(!1),Vt(["left","right","top","bottom","position"],(function(t){return Wr(e.element,t)})),t.onUndocked(e)},w_=function(e,t,n,r){var o="fixed"===r.position;n.setDocked(o),qu(e.element,r),(o?t.onDocked:t.onUndocked)(e)},x_=function(e,t,n,r,o){void 0===o&&(o=!1),t.contextual.each((function(t){t.lazyContext(e).each((function(i){a=r;var a;i=(i=i).y<a.bottom&&i.bottom>a.y;i!==n.isVisible()&&(n.setVisible(i),o&&!i?(ou(e.element,[t.fadeOutClass]),t.onHide(e)):(i?iO:aO)(e,t))}))}))},C_=function(e,t,n){var r,o,i,a;e.getSystem().isConnected()&&(r=e,i=n,a=(o=t).lazyViewport(r),i.isDocked()&&x_(r,o,i,a),v_(r,a,i).each((function(e){e.fold((function(){return y_(r,o,i)}),(function(e){return w_(r,o,i,e)}),(function(e){x_(r,o,i,a,!0),w_(r,o,i,e)}))})))},S_=(Ug=Object.freeze({__proto__:null,refresh:C_,reset:fO,isDocked:function(e,t,n){return n.isDocked()},getModes:function(e,t,n){return n.getModes()},setModes:function(e,t,n,r){return n.setModes(r)}}),Bg=Object.freeze({__proto__:null,events:function(e,t){return ba([st(Ii(),(function(n,r){e.contextual.each((function(e){ru(n.element,e.transitionClass)&&(iu(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n)),r.stop()}))})),ya(ta(),(function(n,r){C_(n,e,t)})),ya(na(),(function(n,r){fO(n,e,t)}))])}}),rl=[ai("contextual",[He("fadeInClass"),He("fadeOutClass"),He("transitionClass"),Pe("lazyContext"),Su("onShow"),Su("onShown"),Su("onHide"),Su("onHidden")]),Je("lazyViewport",xo),Qe("modes",["top","bottom"],$o),Su("onDocked"),Su("onUndocked")],Vu({fields:rl,name:"docking",active:Bg,apis:Ug,state:Object.freeze({__proto__:null,init:function(e){var t=li(!1),n=li(!0),r=Ms(),o=li(e.modes);return qa({isDocked:t.get,setDocked:t.set,getInitialPos:r.get,setInitialPos:r.set,clearInitialPos:r.clear,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+o.get().join(",")}})}})})),k_=v(Na("toolbar-height-change")),O_={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},T_="tox-tinymce--toolbar-sticky-on",__="tox-tinymce--toolbar-sticky-off",E_=function(e){var t=e.element;vr(t).each((function(n){var r,o="padding-"+S_.getModes(e)[0];S_.isDocked(e)?(r=Zr(n),Pr(t,"width",r+"px"),Pr(n,o,Xr(r=t)+(parseInt(Fr(r,"margin-top"),10)||0)+(parseInt(Fr(r,"margin-bottom"),10)||0)+"px")):(Wr(t,"width"),Wr(n,o))}))},D_=Object.freeze({__proto__:null,setup:function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(function(){n().each(S_.reset)})),e.on("ResizeWindow ResizeEditor",(function(){n().each(E_)})),e.on("SkinLoaded",(function(){n().each((function(e){S_.isDocked(e)?S_.reset(e):S_.refresh(e)}))})),e.on("FullscreenStateChanged",(function(){n().each(S_.reset)}))),e.on("AfterScrollIntoView",(function(e){n().each((function(t){S_.refresh(t);var n,r,o,i,a,u,c,s,l,f;t=t.element;Dg(t)&&(n=e,r=gr(t=t),o=r.dom.defaultView.innerHeight,i=so(r),n=On.fromDom(n.elm),a=wo(n),n=Gr(n),a=a.y,u=a+n,c=Jr(t),t=Gr(t),c=c.top,s=c+t,l=Math.abs(c-i.top)<2,f=Math.abs(s-(i.top+o))<2,l&&a<s?lo(i.left,a-t,r):f&&c<u&&lo(i.left,a-o+n+t,r))}))})),e.on("PostRender",(function(){gO(e,!1)}))},isDocked:function(e){return e().map(S_.isDocked).getOr(!1)},getBehaviours:hO}),A_=Fo([He("type"),oi("items",Ee([jo([He("name"),Ve("items",$o)]),$o]))].concat(Hg)),z_=(Ng=[We("text"),We("tooltip"),We("icon"),Pe("fetch"),Je("onSetup",(function(){return h}))],Fo(E([He("type")],Ng,!0))),M_=Fo([He("type"),We("tooltip"),We("icon"),We("text"),$e("select"),Pe("fetch"),Je("onSetup",(function(){return h})),Ke("presets","normal",["normal","color","listpreview"]),ci("columns",1),Pe("onAction"),Pe("onItemAction")]),R_=ag({factory:function(e,t){var n={focus:Wg.focusIn,setMenus:function(e,n){n=Ft(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}};n=pO(n).mapError((function(e){return ei(e)})).getOrDie();return pw(n,"tox-mbtn",t.backstage,Rt.some("menuitem"))})),$g.set(e,n)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:gs([$g.config({}),Gg("menubar-events",[Sa((function(t){e.onSetup(t)})),ya(Ai(),(function(e,t){Ec(e.element,".tox-mbtn--active").each((function(n){Dc(t.event.target,".tox-mbtn").each((function(t){lr(n,t)||e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){Lx.expand(e),Lx.close(n),Xg.focus(e)}))}))}))}))})),ya(aa(),(function(e,t){t.event.prevFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(n){t.event.newFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(e){Lx.isOpen(n)&&(Lx.expand(e),Lx.close(n))}))}))}))]),Wg.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),Rt.some(!0)}}),nx.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ri("dom"),ri("uid"),ri("onEscape"),ri("backstage"),ci("onSetup",h)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),N_=function(e,t){return t.getAnimationRoot.fold((function(){return e.element}),(function(t){return t(e)}))},B_=function(e){return e.dimension.property},H_=function(e,t){return e.dimension.getDimension(t)},L_=function(e,t){e=N_(e,t),iu(e,[t.shrinkingClass,t.growingClass])},P_=function(e,t){nu(e.element,t.openClass),eu(e.element,t.closedClass),Pr(e.element,B_(t),"0px"),$r(e.element)},I_=function(e,t){nu(e.element,t.closedClass),eu(e.element,t.openClass),Wr(e.element,B_(t))},F_=function(e,t,n,r){n.setCollapsed(),Pr(e.element,B_(t),H_(t,e.element)),$r(e.element),L_(e,t),P_(e,t),t.onStartShrink(e),t.onShrunk(e)},V_=function(e,t,n,r){r=r.getOrThunk((function(){return H_(t,e.element)})),n.setCollapsed(),Pr(e.element,B_(t),r),$r(e.element),n=N_(e,t),nu(n,t.growingClass),eu(n,t.shrinkingClass),P_(e,t),t.onStartShrink(e)},j_=(Lg=Object.freeze({__proto__:null,refresh:function(e,t,n){n.isExpanded()&&(Wr(e.element,B_(t)),n=H_(t,e.element),Pr(e.element,B_(t),n))},grow:function(e,t,n){n.isExpanded()||bO(e,t,n)},shrink:function(e,t,n){n.isExpanded()&&vO(e,t,n)},immediateShrink:function(e,t,n){n.isExpanded()&&F_(e,t,n)},hasGrown:function(e,t,n){return n.isExpanded()},hasShrunk:function(e,t,n){return n.isCollapsed()},isGrowing:yO,isShrinking:wO,isTransitioning:function(e,t,n){return yO(e,t)||wO(e,t)},toggleGrow:function(e,t,n){(n.isExpanded()?vO:bO)(e,t,n)},disableTransitions:L_}),Vm=Object.freeze({__proto__:null,exhibit:function(e,t,n){var r=t.expanded;return yt(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:gi(t.dimension.property,"0px")})},events:function(e,t){return ba([st(Ii(),(function(n,r){r.event.raw.propertyName===e.dimension.property&&(L_(n,e),t.isExpanded()&&Wr(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}}),Fm=[ri("closedClass"),ri("openClass"),ri("shrinkingClass"),ri("growingClass"),je("getAnimationRoot"),Su("onShrunk"),Su("onStartShrink"),Su("onGrown"),Su("onStartGrow"),ci("expanded",!1),oi("dimension",Ne("property",{width:[Fc("property","width"),Fc("getDimension",(function(e){return Zr(e)+"px"}))],height:[Fc("property","height"),Fc("getDimension",(function(e){return Gr(e)+"px"}))]}))],Vu({fields:Fm,name:"sliding",active:Vm,apis:Lg,state:Object.freeze({__proto__:null,init:function(e){var t=li(e.expanded);return qa({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:w(t.set,!1),setExpanded:w(t.set,!0),readState:function(){return"expanded: "+t.get()}})}})})),U_="container",W_=[Ql("slotBehaviours",[])],$_=(ol=sn({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},vt),T(T({},ol),{sketch:function(e){var t,n={slot:function(e,n){return t.push(e),uf(U_,xO(e),n)},record:v(t=[])};e=e(n),n=n.record(),n=Ft(n,(function(e){return Wm({name:e,pname:xO(e)})}));return mf(U_,W_,n,CO,e)}})),q_=Fo([We("icon"),We("tooltip"),Je("onShow",h),Je("onHide",h),Je("onSetup",(function(){return h}))]),G_=function(e){var t=e.ui.registry.getAll().sidebars;Vt(an(t),(function(n){function r(){return vn(Rt.from(e.queryCommandValue("ToggleSidebar")),n)}var o=t[n];e.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(r())},onSetup:function(t){function n(){return t.setActive(r())}return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})}))},X_=function(e){return $_.sketch((function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:kO(t,e),slotBehaviours:Tv.unnamedEvents([Sa((function(e){return $_.hideAllSlots(e)}))])}}))},K_=Na("FixSizeEvent"),Y_=Na("AutoSizeEvent"),J_=(ex=Object.freeze({__proto__:null,block:function(e,t,n,r){zr(e.element,"aria-busy",!0);var o=t.getRoot(e).getOr(e),i=gs([Wg.config({mode:"special",onTab:function(){return Rt.some(!0)},onShiftTab:function(){return Rt.some(!0)}}),Xg.config({})]),a=(r=r(o,i),o.getSystem().build(r));$g.append(o,gu(a)),a.hasConfigured(Wg)&&t.focus&&Wg.focusIn(a),n.isBlocked()||t.onBlock(e),n.blockWith((function(){return $g.remove(o,a)}))},unblock:function(e,t,n){Br(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()}}),fl=[Je("getRoot",Rt.none),Ye("focus",!0),Su("onBlock"),Su("onUnblock")],Vu({fields:fl,name:"blocking",apis:ex,state:Object.freeze({__proto__:null,init:function(){var e=ec();return qa({readState:e.isSet,blockWith:function(t){e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})})),Q_=function(e,t,n){function r(n){var r;!i.get()||"focusin"===(r=n).type&&(r.composed?nn(r.composedPath()):Rt.from(r.target)).map(On.fromDom).filter(En).exists((function(e){return ru(e,"mce-pastebin")}))||(n.preventDefault(),_O(t()),e.editorManager.setActive(e))}function o(r){r!==i.get()&&(i.set(r),EO(e,t(),r,n.providers),e.fire("AfterProgressState",{state:r}))}var i=li(!1),a=Ms();e.inline||e.on("PreInit",(function(){e.dom.bind(e.getWin(),"focusin",r),e.on("BeforeExecCommand",(function(e){"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&r(e)}))})),e.on("ProgressState",(function(t){var n;a.on(bh.clearTimeout),m(t.time)?(n=bh.setEditorTimeout(e,(function(){return o(t.state)}),t.time),a.set(n)):(o(t.state),a.clear())}))},Z_=function(e,t,n){var r,o,i=t.builtGroups.get();0!==i.length&&(r=sf(e,t,"primary"),e=Ex.getCoupled(e,"overflowGroup"),Pr(r.element,"visibility","hidden"),i=i.concat([e]),o=on(i,(function(e){return Cs(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))})),n([]),RO(r,i),i=Zr(r.element),0===(i=MO(i,t.builtGroups.get(),(function(e){return Zr(e.element)}),e)).extra.length?($g.remove(r,e),n([])):(RO(r,i.within),n(i.extra)),Wr(r.element,"visibility"),$r(r.element),o.each(Xg.focus))},eE=(za=v([Ql("splitToolbarBehaviours",[Ex]),ni("builtGroups",(function(){return li([])}))]),jm=v([xu(["overflowToggledClass"]),$e("getOverflowBounds"),ri("lazySink"),ni("overflowGroups",(function(){return li([])}))].concat(za())),Um=v([Wm({factory:d_,schema:cm(),name:"primary"}),ds({schema:cm(),name:"overflow"}),ds({name:"overflow-button"}),ds({name:"overflow-group"})]),v((function(e,t){t=Math.floor(t),t=Qr.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]),Pr(e,"max-width",t+"px")}))),tE=(jg=v([xu(["toggledClass"]),ri("lazySink"),Pe("fetch"),$e("getBounds"),ai("fireDismissalEventInstead",[ci("event",ia())]),cc()]),rl=v([ds({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:gs([Jg.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),ds({factory:d_,schema:cm(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:gs([Wg.config({mode:"cyclic",onEscape:function(t){return Jm(t,e,"button").each(Xg.focus),Rt.none()}})])}}})]),function(e,t,n,r){var o=n.getBounds.map((function(e){return e()}));n=n.lazySink(e).getOrDie();fm.positionWithinBounds(n,t,{anchor:{type:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:eE()}}},o)}),nE=function(e,t,n,r,o){d_.setGroups(t,o),tE(e,t,n,r),Jg.on(e)},rE=gf({name:"FloatingToolbarButton",factory:function(e,t,n,r){return T(T({},yh.sketch(T(T({},r.button()),{action:function(e){NO(e,r)},buttonBehaviours:Mm.augment({dump:r.button().buttonBehaviours},[Ex.config({others:{toolbarSandbox:function(t){return r=t,o=n,i=e,{dom:{tag:"div",attributes:{id:(a=Ac()).id}},behaviours:gs([Wg.config({mode:"special",onEscape:function(e){return xm.close(e),Rt.some(!0)}}),xm.config({onOpen:function(e,t){i.fetch().get((function(e){nE(r,t,i,o.layouts,e),a.link(r.element),Wg.focusIn(t)}))},onClose:function(){Jg.off(r),Xg.focus(r),a.unlink(r.element)},isPartOf:function(e,t,n){return Mc(t,n)||Mc(r,n)},getAttachPoint:function(){return i.lazySink(r).getOrDie()}}),bs.config({channels:T(T({},Tm(T({isExtraPart:S},i.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),Em({doReposition:function(){xm.getState(Ex.getCoupled(r,"toolbarSandbox")).each((function(e){tE(r,e,i,o.layouts)}))}}))})])};var r,o,i,a}}})])}))),{apis:{setGroups:function(t,r){xm.getState(Ex.getCoupled(t,"toolbarSandbox")).each((function(o){nE(t,o,e,n.layouts,r)}))},reposition:function(t){xm.getState(Ex.getCoupled(t,"toolbarSandbox")).each((function(r){tE(t,r,e,n.layouts)}))},toggle:function(e){NO(e,r)},getToolbar:function(e){return xm.getState(Ex.getCoupled(e,"toolbarSandbox"))},isOpen:function(e){return xm.isOpen(Ex.getCoupled(e,"toolbarSandbox"))}}})},configFields:jg(),partFields:rl(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)},isOpen:function(e,t){return e.isOpen(t)}}}),oE=(Bg=v([ri("items"),xu(["itemSelector"]),Ql("tgroupBehaviours",[Wg])]),Ug=v([Vc({name:"items",unit:"item"})]),gf({name:"ToolbarGroup",configFields:Bg(),partFields:Ug(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:zm(e.tgroupBehaviours,[Wg.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}})),iE=function(e){return Ft(e,(function(e){return gu(e)}))},aE=gf({name:"SplitFloatingToolbar",configFields:jm(),partFields:Um(),factory:function(e,t,n,r){var o=wh(rE.sketch({fetch:function(){return Ox.nu((function(t){t(iE(e.overflowGroups.get()))}))},layouts:{onLtr:function(){return[ts,es]},onRtl:function(){return[es,ts]},onBottomLtr:function(){return[rs,ns]},onBottomRtl:function(){return[ns,rs]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:zm(e.splitToolbarBehaviours,[Ex.config({others:{overflowGroup:function(){return oE.sketch(T(T({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(Ft(n,t.getSystem().build)),BO(t,o,e)},refresh:function(t){return BO(t,o,e)},toggle:function(e){o.getOpt(e).each((function(e){rE.toggle(e)}))},isOpen:function(e){return o.getOpt(e).map(rE.isOpen).getOr(!1)},reposition:function(e){o.getOpt(e).each((function(e){rE.reposition(e)}))},getOverflow:function(e){return o.getOpt(e).bind(rE.getToolbar)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),uE=(Hg=v([xu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Su("onOpened"),Su("onClosed")].concat(za())),Ng=v([Wm({factory:d_,schema:cm(),name:"primary"}),Wm({factory:d_,schema:cm(),name:"overflow",overrides:function(e){return{toolbarBehaviours:gs([j_.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){Jm(t,e,"overflow-button").each((function(e){Jg.off(e),Xg.focus(e)})),e.onClosed(t)},onGrown:function(t){Wg.focusIn(t),e.onOpened(t)},onStartGrow:function(t){Jm(t,e,"overflow-button").each(Jg.on)}}),Wg.config({mode:"acyclic",onEscape:function(t){return Jm(t,e,"overflow-button").each(Xg.focus),Rt.some(!0)}})])}}}),ds({name:"overflow-button",overrides:function(e){return{buttonBehaviours:gs([Jg.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),ds({name:"overflow-group"})]),function(e,t){Jm(e,t,"overflow").each((function(n){Z_(e,t,(function(e){e=Ft(e,(function(e){return gu(e)})),d_.setGroups(n,e)})),Jm(e,t,"overflow-button").each((function(e){j_.hasGrown(n)&&Jg.on(e)})),j_.refresh(n)}))}),cE=gf({name:"SplitSlidingToolbar",configFields:Hg(),partFields:Ng(),factory:function(e,t,n,r){var o="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:zm(e.splitToolbarBehaviours,[Ex.config({others:{overflowGroup:function(e){return oE.sketch(T(T({},r["overflow-group"]()),{items:[yh.sketch(T(T({},r["overflow-button"]()),{action:function(t){da(e,o)}}))]}))}}}),Gg("toolbar-toggle-events",[ya(o,(function(t){HO(t,e)}))])]),apis:{setGroups:function(t,n){var r=n;r=Ft(n,t.getSystem().build),e.builtGroups.set(r),uE(t,e)},refresh:function(t){return uE(t,e)},toggle:function(t){return HO(t,e)},isOpen:function(t){return Jm(t,e,"overflow").map(j_.hasGrown).getOr(!1)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)}}}),sE=function(e){return oE.sketch(LO(e))},lE=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":LO({title:Rt.none(),items:[]}),"overflow-button":bw({name:"more",icon:Rt.some("more-drawer"),disabled:!1,tooltip:Rt.some("More..."),primary:!1,borderless:!1},Rt.none(),e.providers)},splitToolbarBehaviours:PO(e,t)}},fE=(Fm=xi.optional({factory:R_,name:"menubar",schema:[ri("backstage")]}),Vm=xi.optional({factory:{sketch:function(e){return f_.sketch({uid:e.uid,dom:e.dom,listBehaviours:gs([Wg.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return VO({type:e.type,uid:Na("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return e.onEscape(),Rt.some(!0)}})},setupItem:function(e,t,n,r){d_.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[ri("dom"),ri("onEscape")]}),Lg=xi.optional({factory:{sketch:function(e){var t;return((t=e).type===bp.sliding?FO:t.type===bp.floating?IO:VO)({type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),Rt.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[ri("dom"),ri("onEscape"),ri("getSink")]}),ol=xi.optional({factory:{sketch:function(e){var t=e.editor,n=e.sticky?hO:m_;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:gs(n(t,e.sharedBackstage))}}},name:"header",schema:[ri("dom")]}),fl=xi.optional({name:"socket",schema:[ri("dom")]}),ex=xi.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:gs([nx.config({}),Xg.config({}),j_.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){ug.getCurrent(e).each($_.hideAllSlots),da(e,Y_)},onGrown:function(e){da(e,Y_)},onStartGrow:function(e){ma(e,K_,{width:jr(e.element,"width").getOr("")})},onStartShrink:function(e){ma(e,K_,{width:Zr(e.element)+"px"})}}),$g.config({}),ug.config({find:function(e){return e=$g.contents(e),nn(e)}})])}],behaviours:gs([VC.childAt(0),Gg("sidebar-sliding-events",[ya(K_,(function(e,t){Pr(e.element,"width",t.event.width)})),ya(Y_,(function(e,t){Wr(e.element,"width")}))])])}}},name:"sidebar",schema:[ri("dom")]}),jg=xi.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:gs([$g.config({}),J_.config({focus:!1}),ug.config({find:function(e){return nn(e.components())}})]),components:[]}}},name:"throbber",schema:[ri("dom")]}),gf({name:"OuterContainer",factory:function(e,t,n){return{uid:e.uid,dom:e.dom,components:t,apis:{getSocket:function(t){return l_.getPart(t,e,"socket")},setSidebar:function(t,n){l_.getPart(t,e,"sidebar").each((function(e){var t;t=n,ug.getCurrent(e).each((function(e){return $g.set(e,[X_(t)])}))}))},toggleSidebar:function(t,n){l_.getPart(t,e,"sidebar").each((function(e){var t;t=n,ug.getCurrent(e).each((function(e){ug.getCurrent(e).each((function(n){j_.hasGrown(e)?$_.isShowing(n,t)?j_.shrink(e):($_.hideAllSlots(n),$_.showSlot(n,t)):($_.hideAllSlots(n),$_.showSlot(n,t),j_.grow(e))}))}))}))},whichSidebar:function(t){return l_.getPart(t,e,"sidebar").bind(OO).getOrNull()},getHeader:function(t){return l_.getPart(t,e,"header")},getToolbar:function(t){return l_.getPart(t,e,"toolbar")},setToolbar:function(t,n){l_.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){l_.getPart(t,e,"multiple-toolbar").each((function(e){f_.setItems(e,n)}))},refreshToolbar:function(t){l_.getPart(t,e,"toolbar").each((function(e){return e.getApis().refresh(e)}))},toggleToolbarDrawer:function(t){l_.getPart(t,e,"toolbar").each((function(e){var t,n;t=e.getApis().toggle,n=function(t){return t(e)},null!=t?Rt.some(n(t)):Rt.none()}))},isToolbarDrawerToggled:function(t){return l_.getPart(t,e,"toolbar").bind((function(e){return Rt.from(e.getApis().isOpen).map((function(t){return t(e)}))})).getOr(!1)},getThrobber:function(t){return l_.getPart(t,e,"throbber")},focusToolbar:function(t){l_.getPart(t,e,"toolbar").orThunk((function(){return l_.getPart(t,e,"multiple-toolbar")})).each((function(e){Wg.focusIn(e)}))},setMenubar:function(t,n){l_.getPart(t,e,"menubar").each((function(e){R_.setMenus(e,n)}))},focusMenubar:function(t){l_.getPart(t,e,"menubar").each((function(e){R_.focus(e)}))}},behaviours:e.behaviours}},configFields:[ri("dom"),ri("behaviours")],partFields:[ol,Fm,Lg,Vm,fl,ex,jg],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){n=Ft(n,(function(e){return sE(e)})),e.setToolbar(t,n)},setToolbars:function(e,t,n){n=Ft(n,(function(e){return Ft(e,sE)})),e.setToolbars(t,n)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},toggleToolbarDrawer:function(e,t){e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:function(e,t){return e.isToolbarDrawerToggled(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}})),dE="file edit view insert format tools table help",mE={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},gE=function(e,t,n){var r=n.getParam("removed_menuitems","").split(/[ ,]/);return{text:e.title,getItems:function(){return Yt(e.items,(function(e){var n=e.toLowerCase();return 0===n.trim().length||It(r,(function(e){return e===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}}},hE=function(e){return"string"==typeof e?e.split(" "):e},pE=function(e,t,n){return new Dp((function(r,o){n.load(t,r,o),e.on("remove",(function(){return n.unload(t)}))}))},vE=w(WO,!1),bE=w(WO,!0),yE=function(e,t,n){return function(r){function o(){n(r),e.on(t,i)}var i=function(){return n(r)};return e.initialized?o():e.once("init",o),function(){e.off("init",o),e.off(t,i)}}},wE=function(e){return function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))}}},xE=function(e,t,n){var r=n.dataset,o="basic"===r.type?function(){return Ft(r.data,(function(e){return Pk(e,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:GO(0,t,n),getStyleItems:o}},CE=function(e){return{type:"basic",data:e}},SE=((rl=OT=OT||{})[rl.SemiColon=0]="SemiColon",rl[rl.Space=1]="Space",function(e,t,n,r){return e=e.getParam(t,n,"string"),t=e,n=r===OT.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),{type:"basic",data:Ft(n,(function(e){var t=e,n=e;e=e.split("=");return 1<e.length&&(t=e[0],n=e[1]),{title:t,format:n}}))}}),kE=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],OE="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",TE=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],_E=function(e){return e=e.split(/\s*,\s*/),Ft(e,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))},EE=function(e){var t;return 0===e.indexOf("-apple-system")&&(t=_E(e.toLowerCase()),Jt(TE,(function(e){return-1<t.indexOf(e.toLowerCase())})))},DE="8pt 10pt 12pt 14pt 18pt 24pt 36pt",AE={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},zE={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},ME=function(e,t){return/[0-9.]+px$/.test(e)?function(e,t){return t=Math.pow(10,t),Math.round(e*t)/t}(72*parseInt(e,10)/96,t||0)+"pt":gn(zE,e).getOr(e)},RE=function(e){return gn(AE,e).getOr("")},NE=function(e,t){var n=t();t=Ft(n,(function(e){return e.format}));return Rt.from(e.formatter.closest(t)).bind((function(e){return Gt(n,(function(t){return t.format===e}))})).orThunk((function(){return wn(e.formatter.match("p"),{title:"Paragraph",format:"p"})}))},BE="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",HE=(Bg=Object.freeze({__proto__:null,events:function(e,t){function n(n,r){e.updateState.each((function(e){e=e(n,r),t.set(e)})),e.renderComponents.each((function(e){e=e(r,t.get()),e=Ft(e,n.getSystem().build),Ll(n,e)}))}return ba([ya($i(),(function(t,r){var o;r.universal||(o=e.channel,Pt(r.channels,o)&&n(t,r.data))})),Sa((function(t,r){e.initialData.each((function(e){n(t,e)}))}))])}}),Ug=Object.freeze({__proto__:null,getState:function(e,t,n){return n}}),jm=[ri("channel"),je("renderComponents"),je("updateState"),je("initialData")],Vu({fields:jm,name:"reflecting",active:Bg,apis:Ug,state:Object.freeze({__proto__:null,init:function(){var e=li(Rt.none());return{readState:function(){return e.get().getOr("none")},get:e.get,set:e.set,clear:function(){return e.set(Rt.none())}}}})})),LE=(Um=v([ri("toggleClass"),ri("fetch"),Ou("onExecute"),ci("getHotspot",Rt.some),ci("getAnchorOverrides",v({})),cc(),Ou("onItemExecute"),je("lazySink"),ri("dom"),Su("onOpen"),Ql("splitDropdownBehaviours",[Ex,Wg,Xg]),ci("matchWidth",!1),ci("useMinWidth",!1),ci("eventOrder",{}),je("role")].concat(Ty())),za=Wm({factory:yh,schema:[ri("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:gs([Xg.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(ga)},buttonBehaviours:gs([Jg.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),cm=Wm({factory:yh,schema:[ri("dom")],name:"button",defaults:function(){return{buttonBehaviours:gs([Xg.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}}),Hg=v([za,cm,$m({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[ri("text")],name:"aria-descriptor"}),ds({schema:[wu()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(r){e.onItemExecute(r,t,n)}))}}}}),Rg()]),gf({name:"SplitDropdown",configFields:Um(),partFields:Hg(),factory:function(e,t,n,r){function o(e){ug.getCurrent(e).each((function(e){lg.highlightFirst(e),Wg.focusIn(e)}))}function i(t){Sy(e,b,t,r,o,Ow.HighlightFirst).get(h)}function a(t){return t=sf(t,e,"button"),ga(t),Rt.some(!0)}var u=T(T({},ba([Sa((function(t,n){Jm(t,e,"aria-descriptor").each((function(e){var n=Na("aria");zr(e.element,"id",n),zr(t.element,"aria-describedby",n)}))}))])),Ed(Rt.some(i)));return{uid:e.uid,dom:e.dom,components:t,apis:{repositionMenus:function(e){Jg.isOn(e)&&Oy(e)}},eventOrder:T(T({},e.eventOrder),((t={})[qi()]=["disabling","toggling","alloy.base.behaviour"],t)),events:u,behaviours:zm(e.splitDropdownBehaviours,[Ex.config({others:{sandbox:function(t){var n=sf(t,e,"arrow");return ky(e,t,{onOpen:function(){Jg.on(n),Jg.on(t)},onClose:function(){Jg.off(n),Jg.off(t)}})}}}),Wg.config({mode:"special",onSpace:a,onEnter:a,onDown:function(e){return i(e),Rt.some(!0)}}),Xg.config({}),Jg.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}})),PE=function(e){return{isDisabled:function(){return sg.isDisabled(e)},setDisabled:function(t){return sg.set(e,t)}}},IE=function(e){return{setActive:function(t){Jg.set(e,t)},isActive:function(){return Jg.isOn(e)},isDisabled:function(){return sg.isDisabled(e)},setDisabled:function(t){return sg.set(e,t)}}},FE=function(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})},VE=Na("focus-button"),jE=function(e,t,n){var r,o=li(h),i=eT(e.icon,e.text,e.tooltip,Rt.none(),Rt.none(),n);return yh.sketch({dom:i.dom,components:i.components,eventOrder:NS,buttonBehaviours:gs([Gg("toolbar-button-events",[(r={onAction:e.onAction,getApi:t.getApi},Ta((function(e,t){rb(r,e)((function(t){ma(e,RS,{buttonApi:t}),r.onAction(t)}))}))),ob(t,o),ib(t,o)]),nb.toolbarButton((function(){return e.disabled||n.isDisabled()})),tb()].concat(t.toolbarButtonBehaviours))})},UE=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],WE={button:oT(Ih,(function(e,t){return t=t.backstage.shared.providers,tT(e,t,[])})),togglebutton:oT(Fh,(function(e,t){return t=t.backstage.shared.providers,nT(e,t,[])})),menubutton:oT(pO,(function(e,t){return pw(e,"tox-tbtn",t.backstage,Rt.none())})),splitbutton:oT((function(e){return Jo("SplitButton",M_,e)}),(function(e,t){return rT(e,t.backstage.shared)})),grouptoolbarbutton:oT((function(e){return Jo("GroupToolbarButton",A_,e)}),(function(e,t,n){var r=n.ui.registry.getAll().buttons;if((o={})[el]=t.backstage.shared.header.isPositionedAtTop()?xc.TopToBottom:xc.BottomToTop,Fv(n)!==bp.floating)throw new Error("Toolbar groups are only supported when using floating toolbar mode");var o,i=e,a=(e=t.backstage,function(e){return YE(n,{buttons:r,toolbar:e,allowToolbarGroups:!1},t,Rt.none())});return e=e.shared,rE.sketch({lazySink:e.getSink,fetch:function(){return Ox.nu((function(e){e(Ft(a(i.items),sE))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:eT(i.icon,i.text,i.tooltip,Rt.none(),Rt.none(),e.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})})),styleSelectButton:function(e,t){return e=e,t=t.backstage,n=T({type:"advanced"},t.styleselect),XO(e,t,ZO(e,n));var n},fontsizeSelectButton:function(e,t){return t=t.backstage,XO(e,t,JO(e))},fontSelectButton:function(e,t){return t=t.backstage,XO(e,t,YO(e))},formatButton:function(e,t){return t=t.backstage,XO(e,t,QO(e))},alignMenuButton:function(e,t){return t=t.backstage,XO(e,t,KO(e))}},$E=function(e,t,n){return gn(WE,e.type).fold((function(){return Rt.none()}),(function(r){return Rt.some(r(e,t,n))}))},qE={styleselect:WE.styleSelectButton,fontsizeselect:WE.fontsizeSelectButton,fontselect:WE.fontSelectButton,formatselect:WE.formatButton,align:WE.alignMenuButton},GE=function(e){var t=Ft(UE,(function(t){var n=Ut(t.items,(function(t){return hn(e,t)||hn(qE,t)}));return{name:t.name,items:n}}));return Ut(t,(function(e){return 0<e.items.length}))},XE=function(e){return e=e.split("|"),Ft(e,(function(e){return{items:e.trim().split(" ")}}))},KE=function(e){return g(e,(function(e){return hn(e,"name")&&hn(e,"items")}))},YE=function(e,t,n,r){a=(i=t).toolbar,i=t.buttons;var i=!1===a?[]:void 0===a||!0===a?GE(i):o(a)?XE(a):KE(a)?a:[],a=Ft(i,(function(o){var i=Yt(o.items,(function(o){return 0===o.trim().length?[]:(i=e,a=t.buttons,u=o,c=t.allowToolbarGroups,s=n,l=r,gn(a,u.toLowerCase()).orThunk((function(){return l.bind((function(e){return on(e,(function(e){return gn(a,e+u.toLowerCase())}))}))})).fold((function(){return gn(qE,u.toLowerCase()).map((function(e){return e(i,s)})).orThunk((function(){return Rt.none()}))}),(function(e){return"grouptoolbarbutton"!==e.type||c?$E(e,s,i):Rt.none()})).toArray());var i,a,u,c,s,l}));return{title:Rt.from(e.translate(o.name)),items:i}}));return Ut(a,(function(e){return 0<e.items.length}))},JE=(Ng=ar(),Ng.os.isiOS()&&Ng.os.version.major<=12),QE=Object.freeze({__proto__:null,render:function(e,t,n,r,o){var i,a,c,s=li(0),l=t.outerContainer,f=(o=(vE(e),On.fromDom(o.targetNode)),kr(Sr(o))),d=(o=(d=t.mothership,wm(o,d,ro),Il(f,t.uiMothership),e.on("PostRender",(function(){iT(e,t,n,r),s.set(e.getWin().innerWidth),fE.setMenubar(l,jO(e,n)),fE.setSidebar(l,n.sidebar),aT(e,t)})),fE.getSocket(l).getOrDie("Could not find expected socket element")),f=(JE&&(Ir(o.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"}),i=function(){e.fire("ScrollContent")},a=20,c=null,d=Ns(o.element,"scroll",{cancel:function(){u(c)||(clearTimeout(c),c=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u(c)&&(c=setTimeout((function(){c=null,i.apply(null,e)}),a))}}.throttle),e.on("remove",d.unbind)),Jh(e,t),e.addCommand("ToggleSidebar",(function(t,n){fE.toggleSidebar(l,n),e.fire("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return fE.whichSidebar(l)})),Fv(e)),f!==bp.sliding&&f!==bp.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var n=e.getWin().innerWidth;n!==s.get()&&(fE.refreshToolbar(t.outerContainer),s.set(n))})),{enable:function(){eb(t,!1)},disable:function(){eb(t,!0)},isDisabled:function(){return sg.isDisabled(l)}});return{iframeContainer:o.element.dom,editorContainer:l.element.dom,api:d}}}),ZE=function(e){return/^[0-9\.]+(|px)$/i.test(""+e)?Rt.some(parseInt(""+e,10)):Rt.none()},eD=function(e){return m(e)?e+"px":e},tD=function(e){var t,n,r,o;return n=qh(t=e),r=Kh(t),o=Yh(t),ZE(n).map((function(e){return uT(e,r,o)})).getOr(qh(e))},nD=function(e){var t=Gh(e),n=Xh(e),r=Bv(e);return ZE(t).map((function(e){return uT(e,n,r)}))},rD=function(e){return nD(e).getOr(Gh(e))},oD=function(e,t){return e=yo(e),{pos:t?e.y:e.bottom,bounds:e}},iD=Object.freeze({__proto__:null,render:function(e,t,n,r,o){function i(){var o;l.get()?d.show():(l.set(fE.getHeader(s).getOrDie()),o=qv(e),Il(o,u),Il(o,c),iT(e,t,n,r),fE.setMenubar(s,jO(e,n)),d.show(),sT(e,f,d,m),e.nodeChanged())}function a(){return bh.setEditorTimeout(e,i,0)}var u=t.mothership,c=t.uiMothership,s=t.outerContainer,l=li(null),f=On.fromDom(o.targetNode),d=cT(e,f,t,r,l),m=e.getParam("toolbar_persist",!1,"boolean");return bE(e),e.on("show",i),e.on("hide",d.hide),m||(e.on("focus",a),e.on("blur",d.hide)),e.on("init",(function(){(e.hasFocus()||m)&&a()})),Jh(e,t),{editorContainer:s.element.dom,api:{show:function(){d.show()},hide:function(){d.hide()},enable:function(){eb(t,!1)},disable:function(){eb(t,!0)},isDisabled:function(){return sg.isDisabled(s)}}}}}),aD="contexttoolbar-hide",uD=function(e,t,n){var r=Ft(t,(function(t){return wh(fT(e,t,n))}));return{asSpecs:function(){return Ft(r,(function(e){return e.asSpec()}))},findPrimary:function(e){return on(t,(function(t,n){return t.primary?Rt.from(r[n]).bind((function(t){return t.getOpt(e)})).filter(x(sg.isDisabled)):Rt.none()}))}}},cD=dT,sD={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},lD={maxHeightFunction:qs(),maxWidthFunction:eE()},fD=Na("forward-slide"),dD=Na("backward-slide"),mD=Na("change-slide-event"),gD="tox-pop--resizing",hD="tox-pop--transition",pD=function(e,t,n,r){function o(){var t,n,r;return!x()||(t=w(),n=vn(b.get(),"node")?(r=e,p.get().filter(_r).map(wo).getOrThunk((function(){return gT(r)}))):gT(e),t.height<=0||!mT(n,t))}function i(){p.clear(),v.clear(),b.clear(),gh.hide(y)}function a(){var e;gh.isOpen(y)&&(e=y.element,Wr(e,"display"),o()?Pr(e,"display","none"):(v.set(0),gh.reposition(y)))}function u(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:gs([Wg.config({mode:"acyclic"}),Gg("pop-dialog-wrap-events",[Sa((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return Wg.focusIn(t)}))})),ka((function(t){e.shortcuts.remove("ctrl+F9")}))])])}}function c(t,r){r="node"===t?m.anchors.node(r):m.anchors.cursor();var o,i,a=(a=e,t=t,o=g(),i={lastElement:p.get,isReposition:function(){return vn(v.get(),0)},getMode:function(){return fm.getMode(n)}},"line"===t?{bubble:Ks(12,0,sD),layouts:{onLtr:function(){return[as]},onRtl:function(){return[us]}},overrides:lD}:{bubble:Ks(0,12,sD,1/12),layouts:bT(a,o,i,t),overrides:lD});return To(r,a)}function s(e,t){var r,i;k.cancel(),x()&&(r=S(e),e=e[0].position,i=c(e,t),b.set(e),v.set(1),e=y.element,Wr(e,"display"),vn(yn(t,p.get(),lr),!0)||(nu(e,hD),fm.reset(n,y)),gh.showWithinBounds(y,u(r),{anchor:i,transition:{classes:[hD],mode:"placement"}},(function(){return Rt.some(w())})),t.fold(p.clear,p.set),o()&&Pr(e,"display","none"))}var l,f,d=r.backstage,m=d.shared,g=ar().deviceType.isTouch,p=Ms(),v=Ms(),b=Ms(),y=mu((l={sink:n,onEscape:function(){return e.focus(),Rt.some(!0)}},f=li([]),gh.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){f.set([]),gh.getContent(e).each((function(e){Wr(e.element,"visibility")})),nu(e.element,gD),Wr(e.element,"width")},inlineBehaviours:gs([Gg("context-toolbar-events",[st(Ii(),(function(e,t){"width"===t.event.raw.propertyName&&(nu(e.element,gD),Wr(e.element,"width"))})),ya(mD,(function(e,t){var n=e.element,r=(Wr(n,"width"),Zr(n)),o=(gh.setContent(e,t.event.contents),eu(n,gD),Zr(n));Pr(n,"width",r+"px"),gh.getContent(e).each((function(e){t.event.focus.bind((function(e){return ws(e),Cs(n)})).orThunk((function(){return Wg.focusIn(e),xs(Sr(n))}))})),bh.setTimeout((function(){Pr(e.element,"width",o+"px")}),0)})),ya(fD,(function(e,t){gh.getContent(e).each((function(t){f.set(f.get().concat([{bar:t,focus:xs(Sr(e.element))}]))})),ma(e,mD,{contents:t.event.forwardContents,focus:Rt.none()})})),ya(dD,(function(e,t){P(f.get()).each((function(t){f.set(f.get().slice(0,f.get().length-1)),ma(e,mD,{contents:gu(t.bar),focus:t.focus})}))}))]),Wg.config({mode:"special",onEscape:function(e){return P(f.get()).fold((function(){return l.onEscape()}),(function(t){return da(e,dD),Rt.some(!0)}))}})]),lazySink:function(){return Co.value(l.sink)}}))),w=function(){var t=b.get().getOr("node"),n=pT(t)?1:0;return hT(e,m,t,n)},x=function(){return!(e.removed||g()&&d.isContextMenuOpen())},C=Mn((function(){return ST(t,(function(e){e=S([e]),ma(y,fD,{forwardContents:u(e)})}))})),S=function(t){var n=e.ui.registry.getAll().buttons,o=C(),i=T(T({},n),o.formNavigators);n=Fv(e)===bp.scrolling?bp.scrolling:bp.default,o=Kt(Ft(t,(function(t){return"contexttoolbar"===t.type?YE(e,{buttons:i,toolbar:t.items,allowToolbarGroups:!1},r,Rt.some(["form:"])):(n=m.providers,cD(t,n));var n})));return VO({type:n,uid:Na("context-toolbar"),initGroups:o,onEscape:Rt.none,cyclicKeying:!0,providers:m.providers})},k=Mh((function(){var t;e.hasFocus()&&!e.removed&&(ru(y.element,hD)?k.throttle():(t=C(),CT(t,e).fold(i,(function(e){s(e.toolbars,Rt.some(e.elem))}))))}),17);e.on("init",(function(){e.on("remove",i),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",a),e.on("click keyup focus SetContent",k.throttle),e.on(aD,i),e.on("contexttoolbar-show",(function(t){var n=C();gn(n.lookupTable,t.toolbarKey).each((function(n){s([n],wn(t.target!==e,t.target)),gh.getContent(y).each(Wg.focusIn)}))})),e.on("focusout",(function(t){bh.setEditorTimeout(e,(function(){Cs(n.element).isNone()&&Cs(y.element).isNone()&&i()}),0)})),e.on("SwitchMode",(function(){e.mode.isReadOnly()&&i()})),e.on("AfterProgressState",(function(t){t.state?i():e.hasFocus()&&k.throttle()})),e.on("NodeChange",(function(e){Cs(y.element).fold(k.throttle,h)}))}))},vD={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},bD=(xi=["Infinity",(xi="[0-9]+")+"\\."+yD(xi)+yD(ol="[eE][+-]?[0-9]+"),"\\."+xi+yD(ol),xi+yD(ol)].join("|"),new RegExp("^([+-]?(?:"+xi+"))(.*)$"));function yD(e){return"(?:"+e+")?"}function wD(e,t){return n=t,Rt.from(bD.exec(e)).bind((function(e){var t=Number(e[1]);e=e[2];return sz(e,n)?Rt.some({value:t,unit:e}):Rt.none()})).map((function(e){return e.value+e.unit}));var n}function xD(e,t){function n(){var n=t.getOptions(e),r=t.getCurrent(e).map(t.hash),o=Ms();return Ft(n,(function(n){return{type:"togglemenuitem",text:t.display(n),onSetup:function(i){function a(e){e&&(o.on((function(e){return e.setActive(!1)})),o.set(i)),i.setActive(e)}a(vn(r,t.hash(n)));var u=t.watcher(e,n,a);return function(){o.clear(),u()}},onAction:function(){return t.setCurrent(e,n)}}}))}e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:function(e){return e(n())},onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})}function CD(e){var t;xD(e,lz),t=e,Rt.from(t.getParam("content_langs",void 0,"array")).map((function(e){return{name:"language",text:"Language",icon:"language",getOptions:v(e),hash:function(e){return s(e.customCode)?e.code:e.code+"/"+e.customCode},display:function(e){return e.title},watcher:function(e,t,n){return e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:t.customCode}).unbind},getCurrent:function(e){return e=On.fromDom(e.selection.getNode()),vi(e,(function(e){return Rt.some(e).filter(En).bind((function(e){return Rr(e,"lang").map((function(t){return{code:t,customCode:Rr(e,"data-mce-lang").getOrUndefined(),title:""}}))}))}))},setCurrent:function(e,t){return e.execCommand("Lang",!1,t)},onToolbarSetup:function(e){var n=As();return e.setActive(t.formatter.match("lang",{},void 0,!0)),n.set(t.formatter.formatChanged("lang",e.setActive,!0)),n.clear}}})).each((function(t){return xD(e,t)}))}function SD(e,t){var n,r,o,i,a,u,c,s;n=xE(o=e,a=t,KO(o)),o.ui.registry.addNestedMenuItem("align",{text:a.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}}),r=xE(o=e,a=t,YO(o)),o.ui.registry.addNestedMenuItem("fontformats",{text:a.shared.providers.translate("Fonts"),getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}}),o=e,c=T({type:"advanced"},(a=t).styleselect),i=xE(o,a,ZO(o,c)),o.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}}),u=xE(a=e,t,QO(a)),a.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return u.items.validateItems(u.getStyleItems())}}),s=xE(c=e,t,JO(c)),c.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})}function kD(e){var t;e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:yE(t=e,"NodeChange",(function(e){e.setDisabled(!t.queryCommandState("outdent"))})),onAction:qO(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:qO(e,"indent")})}function OD(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}}function TD(e){var t=e;$C.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:$O(t,e.name),onAction:OD(t,e.name)})}));for(var n,r,o=1;o<=6;o++){var i="h"+o;t.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+o,onSetup:$O(t,i),onAction:OD(t,i)})}n=e,$C.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(e){n.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:qO(n,e.action)})})),r=e,$C.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){r.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:qO(r,e.action),onSetup:$O(r,e.name)})}))}function _D(e){var t;TD(e),t=e,$C.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:qO(t,e.action)})})),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:OD(t,"code")})}function ED(e,t){return yE(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(n){n.setDisabled(e.mode.isReadOnly()||!e.undoManager[t]())}))}function DD(e){var t;(t=e).ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:ED(t,"hasUndo"),onAction:qO(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:ED(t,"hasRedo"),onAction:qO(t,"redo")}),(t=e).ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:ED(t,"hasUndo"),onAction:qO(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:ED(t,"hasRedo"),onAction:qO(t,"redo")})}function AD(e){var t;e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:yE(t=e,"VisualAid",(function(e){e.setActive(t.hasVisual)})),onAction:qO(e,"mceToggleVisualAid")})}function zD(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:qO(e,"mceToggleVisualAid")}),AD(e)}function MD(e,t){return{type:"makeshift",x:e,y:t}}function RD(e){return"longpress"===e.type||0===e.type.indexOf("touch")}function ND(e,t){var n;e=Mv.DOM.getPos(e);return n=e.x,e=e.y,MD(t.x+n,t.y+e)}function BD(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?RD(n=t)?(r=n.touches[0],MD(r.pageX,r.pageY)):MD(n.pageX,n.pageY):ND(e.getContentAreaContainer(),RD(r=t)?(n=r.touches[0],MD(n.clientX,n.clientY)):MD(r.clientX,r.clientY)):HD(e);var n,r}function HD(e){return{type:"selection",root:On.fromDom(e.selection.getNode())}}function LD(e,t,n){switch(n){case"node":return r=e,{type:"node",node:Rt.some(On.fromDom(r.selection.getNode())),root:On.fromDom(r.getBody())};case"point":return BD(e,t);case"selection":return HD(e)}var r}function PD(e,t,n,r,o,i){n=n();var a=LD(e,t,i);US(n,Wp.CLOSE_ON_EXECUTE,r,!1).map((function(e){t.preventDefault(),gh.showMenuAt(o,{anchor:a},{menu:{markers:iv("normal")},data:e})}))}function ID(e){function t(){bh.setEditorTimeout(e,(function(){e.selection.setRng(o)}),10),i()}function n(e){e.preventDefault(),e.stopImmediatePropagation()}function r(){return i()}var o=e.selection.getRng(),i=(e.once("touchend",t),e.on("mousedown",n,!0),e.once("longpresscancel",r),function(){e.off("touchend",t),e.off("longpresscancel",r),e.off("mousedown",n)})}function FD(e,t,n,r,o,i,a){var u=function(e,t,n){return e=LD(e,t,n),T({bubble:Ks(0,"point"===n?12:0,mz),layouts:dz,overrides:{maxWidthFunction:eE(),maxHeightFunction:qs()}},e)}(e,t,i);US(n,Wp.CLOSE_ON_EXECUTE,r,!0).map((function(n){t.preventDefault(),gh.showMenuWithinBounds(o,{anchor:u},{menu:{markers:iv("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return Rt.some(hT(e,r.shared,"node"===i?"node":"selection"))})),e.fire(aD)}))}function VD(e,t,n,r,o,i){function a(){var a=n();FD(e,t,a,r,o,i,p())}var u,c,s,l,f=ar(),d=f.os.isiOS(),m=f.os.isOSX(),g=f.os.isAndroid(),h=f.deviceType.isTouch(),p=function(){return!(g||d||m&&h)};(m||d)&&"node"!==i?(u=function(){ID(e),a()},f=t,(l=(c=e).selection).isCollapsed()||f.touches.length<1||(s=f.touches[0],f=l.getRng(),!Tl(c.getWin(),gl.domRange(f)).exists((function(e){return e.left<=s.clientX&&e.right>=s.clientX&&e.top<=s.clientY&&e.bottom>=s.clientY})))?(e.once("selectionchange",u),e.once("touchend",(function(){return e.off("selectionchange",u)}))):u()):a()}function jD(e){return"string"==typeof e?e.split(/[ ,]/):e}function UD(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")}function WD(e){return t="contextmenu",n="link linkchecker image imagetools table spellchecker configurepermanentpen",r=(e=e).ui.registry.getAll().contextMenus,Rt.from(e.getParam(t)).map(jD).getOrThunk((function(){return Ut(jD(n),(function(e){return hn(r,e)}))}));var t,n,r}function $D(e){return o(e)?"|"===e:"separator"===e.type}function qD(e){function t(e){return{text:e.text,icon:e.icon,disabled:e.disabled,shortcut:e.shortcut}}var n;if(o(e))return e;switch(e.type){case"separator":return gz;case"submenu":return T(T({type:"nestedmenuitem"},t(e)),{getSubmenuItems:function(){var t=e.getSubmenuItems();return o(t)?t:Ft(t,qD)}});default:return T(T({type:"menuitem"},t(e)),{onAction:(n=e.onAction,function(){return n()})})}}function GD(e,t){if(0===t.length)return e;var n=P(e).filter((function(e){return!$D(e)})).fold((function(){return[]}),(function(e){return[gz]}));return e.concat(n).concat(t).concat([gz])}function XD(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)}function KD(e,t){return XD(e,t)?e.selection.getStart(!0):t.target}function YD(e){return function(t){return t.translate(-e.left,-e.top)}}function JD(e){return function(t){return t.translate(e.left,e.top)}}function QD(e){return function(t,n){return $t(e,(function(e,t){return t(e)}),Kr(t,n))}}function ZD(e,t,n){return e.fold(QD([JD(n),YD(t)]),QD([YD(t)]),QD([]))}function eA(e,t,n){return e.fold(QD([JD(n)]),QD([]),QD([JD(t)]))}function tA(e,t,n){return e.fold(QD([]),QD([YD(n)]),QD([JD(t),YD(n)]))}function nA(e,t,n){return e=e.fold((function(e,t){return{position:Rt.some("absolute"),left:Rt.some(e+"px"),top:Rt.some(t+"px")}}),(function(e,t){return{position:Rt.some("absolute"),left:Rt.some(e-n.left+"px"),top:Rt.some(t-n.top+"px")}}),(function(e,t){return{position:Rt.some("fixed"),left:Rt.some(e+"px"),top:Rt.some(t+"px")}})),T({right:Rt.none(),bottom:Rt.none()},e)}function rA(e,t){return e=Mr(e,t),s(e)?NaN:parseInt(e,10)}function oA(e,t,n,r){return t=t,e=(e=e).element,o=rA(e,t.leftAttr),e=rA(e,t.topAttr),(isNaN(o)||isNaN(e)?Rt.none():Rt.some(Kr(o,e))).fold((function(){return n}),(function(e){return wz(e.left+r.left,e.top+r.top)}));var o}function iA(e,t,n,r,o,i){n=oA(e,t,n,r);var a,u,c,s,l=t.mustSnap?(a=n,u=o,c=i,s=t.getSnapPoints(e),Cz(s,a,u,c).orThunk((function(){return $t(s,(function(e,t){var n=t.sensor,r=pz(a,n,t.range.left,t.range.top,u,c);return e.deltas.fold((function(){return{deltas:Rt.some(r),snap:Rt.some(t)}}),(function(n){return(r.left+r.top)/2<=(n.left+n.top)/2?{deltas:Rt.some(r),snap:Rt.some(t)}:e}))}),{deltas:Rt.none(),snap:Rt.none()}).snap.map((function(e){return{output:vz(e.output,a,u,c),extra:e.extra}}))}))):(r=n,d=o,m=i,l=t.getSnapPoints(e),Cz(l,r,d,m)),f=ZD(n,o,i),d=t,m=f;return r=(r=e).element,zr(r,d.leftAttr,m.left+"px"),zr(r,d.topAttr,m.top+"px"),l.fold((function(){return{coord:wz(f.left,f.top),extra:Rt.none()}}),(function(e){return{coord:e.output,extra:e.extra}}))}function aA(e,t){e.getSystem().addToGui(t),kz(t)}function uA(e,t,n){return e.getSystem().build(Qw.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))}function cA(e){return t=jr(e,"left"),n=jr(e,"top"),r=jr(e,"position"),o=function(e,t,n){return("fixed"===n?wz:bz)(parseInt(e,10),parseInt(t,10))},(t.isSome()&&n.isSome()&&r.isSome()?Rt.some(o(t.getOrDie(),n.getOrDie(),r.getOrDie())):Rt.none()).getOrThunk((function(){var t=Jr(e);return yz(t.left,t.top)}));var t,n,r,o}function sA(e,t,n,r,o,i,a){var u,c,s,l,f,d;return t=t=t.fold((function(){e=i.left,t=i.top;var e,t,a=n.fold((function(n,r){return bz(n+e,r+t)}),(function(n,r){return yz(n+e,r+t)}),(function(n,r){return wz(n+e,r+t)}));a=ZD(a,r,o);return wz(a.left,a.top)}),(function(t){var a=iA(e,t,n,i,r,o);return a.extra.each((function(n){t.onSensor(e,n)})),a.coord})),u=r,c=o,s=(a=a).bounds,l=eA(t,u,c),f=Jc(l.left,s.x,s.x+s.width-a.width),l=Jc(l.top,s.y,s.y+s.height-a.height),d=yz(f,l),t.fold((function(){var e=tA(d,u,c);return bz(e.left,e.top)}),v(d),(function(){var e=ZD(d,u,c);return wz(e.left,e.top)}))}function lA(e,t,n,r,o){r=n.update(r,o);var i=n.getStartData().getOrThunk((function(){return _z(t,e)}));r.each((function(n){Tz(e,t,i,n)}))}function fA(e,t,n,r){t.each(Oz),n.snaps.each((function(t){xz(e,t)})),t=n.getTarget(e.element),r.reset(),n.onDrop(e,t)}function dA(e){return function(t,n){function r(e){n.setStartData(_z(t,e))}return ba(E([ya(ta(),(function(e){n.getStartData().each((function(){return r(e)}))}))],e(t,n,r),!0))}}function mA(e,t,n){return[ya(Ti(),(function(r,o){var i,a,u;0===o.event.raw.button&&(o.stop(),o={drop:o=function(){return fA(r,Rt.some(a),e,t)},delayDrop:(i=iy(o,200)).schedule,forceDrop:o,move:function(n){i.cancel(),lA(r,e,t,Ez,n)}},a=uA(r,e.blockerClass,(u=o,ba([ya(Ti(),u.forceDrop),ya(Di(),u.drop),ya(_i(),(function(e,t){u.move(t.event)})),ya(Ei(),u.delayDrop)]))),n(r),aA(r,a))}))]}function gA(e,t,n){function r(n){fA(n,o.get(),e,t),o.clear()}var o=Ms();return[ya(Ci(),(function(i,a){function u(){return r(i)}a.stop();var c;a={drop:u,delayDrop:h,forceDrop:u,move:function(n){lA(i,e,t,Dz,n)}},a=uA(i,e.blockerClass,(c=a,ba([ya(Ci(),c.forceDrop),ya(ki(),c.drop),ya(Oi(),c.drop),ya(Si(),(function(e,t){c.move(t.event)}))])));o.set(a),n(i),aA(i,a)})),ya(Si(),(function(n,r){r.stop(),lA(n,e,t,Dz,r.event)})),ya(ki(),(function(e,t){t.stop(),r(e)})),ya(Oi(),r)]}function hA(e,t,n,r,o,i){return e.fold((function(){return Az.snap({sensor:yz(n-20,r-20),range:Kr(o,i),output:yz(Rt.some(n),Rt.some(r)),extra:{td:t}})}),(function(e){var o=n-20,i=r-20;e=e.element.dom.getBoundingClientRect();return Az.snap({sensor:yz(o,i),range:Kr(40,40),output:yz(Rt.some(n-e.width/2),Rt.some(r-e.height/2)),extra:{td:t}})}))}function pA(e,t,n){return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,r){var o,i;r=r.td;o=t.get(),i=r,o.exists((function(e){return lr(e,i)}))||(t.set(r),n(r))},mustSnap:!0}}function vA(e){return wh(yh.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:gs([Az.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Px.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))}function bA(e,t,n){return t.delimiter||(t.delimiter="»"),{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:gs([Wg.config({mode:"flow",selector:"div[role=button]"}),sg.config({disabled:n.isDisabled}),tb(),nx.config({}),$g.config({}),Gg("elementPathEvents",[Sa((function(r,o){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return Wg.focusIn(r)})),e.on("NodeChange",(function(o){var i;o=function(t){for(var n=[],r=t.length;0<r--;){var o=t[r];if(1===o.nodeType&&!function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}(o)){var i=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n}(o.parents);0<o.length?$g.set(r,(o=Ft((o=o)||[],(function(t,r){return yh.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:gs([nb.button(n.isDisabled),tb()])})})),i={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}},$t(o.slice(1),(function(e,t){return e.push(i),e.push(t),e}),[o[0]]))):$g.set(r,[])}))}))])]),components:[]}}function yA(e,t,n){var r,o,i,a,u=On.fromDom(e.getContainer());r=e,t=t,n=n,o=Gr(u),i=Zr(u),(a={}).height=uT(o+t.top,Kh(r),Yh(r)),n===uz.Both&&(a.width=uT(i+t.left,Xh(r),Bv(r))),cn(a,(function(e,t){return Pr(u,t,eD(e))})),e.fire("ResizeEditor")}function wA(e,t,n,r){return n=Kr(20*n,20*r),yA(e,n,t),Rt.some(!0)}function xA(e,t){r=!(n=e).hasPlugin("autoresize");var n,r,o=!1===(n=n.getParam("resize",r))?uz.None:"both"===n?uz.Both:uz.Vertical;return o===uz.None?Rt.none():Rt.some(Eh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[Az.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,n,r){return yA(e,r,o)},blockerClass:"tox-blocker"}),Wg.config({mode:"special",onLeft:function(){return wA(e,o,-1,0)},onRight:function(){return wA(e,o,1,0)},onUp:function(){return wA(e,o,0,-1)},onDown:function(){return wA(e,o,0,1)}}),nx.config({}),Xg.config({})]},t.icons))}function CA(e,t){function n(e,n,r){return $g.set(e,[su(t.translate(["{0} "+r,n[r]]))])}var r;return yh.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:gs([nb.button(t.isDisabled),tb(),nx.config({}),$g.config({}),Dm.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Gg("wordcount-events",[Ta((function(e){var t=Dm.getValue(e),r="words"===t.mode?"characters":"words";Dm.setValue(e,{mode:r,count:t.count}),n(e,t.count,r)})),Sa((function(t){e.on("wordCountUpdate",(function(e){var r=Dm.getValue(t).mode;Dm.setValue(t,{mode:r,count:e.wordCount}),n(t,e.wordCount,r)}))}))])]),eventOrder:((r={})[qi()]=["disabling","alloy.base.behaviour","wordcount-events"],r)})}function SA(e){function t(){Pr(A.element,"width",document.body.clientWidth+"px")}function n(){return Co.value(p)}function r(){return u.bind((function(e){return fE.getThrobber(e)})).getOrDie("Could not find throbber element")}var o=e.inline,i=o?iD:QE,a=Xv(e)?D_:g_,u=Rt.none(),c=(s=ar()).browser.isIE()?["tox-platform-ie"]:[],s=s.deviceType.isTouch()?["tox-platform-touch"]:[],l=Uv(e),f=qv(e),d=xh.isRtl()?{attributes:{dir:"rtl"}}:{},m={attributes:((m={})[el]=l?xc.BottomToTop:xc.TopToBottom,m)},g=function(){return u.bind(fE.getHeader)},p=mu((f=lr(Er(),f)&&"grid"===Fr(f,"display"),d={dom:T({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c).concat(s)},d),behaviours:gs([fm.config({useFixed:function(){return a.isDocked(g)}})])},w={dom:{styles:{width:document.body.clientWidth+"px"}},events:ba([ya(na(),t)])},To(d,f?w:{}))),v=wh({dom:{tag:"div",classes:["tox-anchorbar"]}}),b=c_(p,e,(function(){return u.bind((function(e){return v.getOpt(e)})).getOrDie("Could not find a anchor bar element")})),y=(d=fE.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:b,onEscape:function(){e.focus()}}),Fv(e)),w=(f=fE.parts.toolbar(T({dom:{tag:"div",classes:["tox-toolbar"]},getSink:n,providers:b.shared.providers,onEscape:function(){e.focus()},type:y,lazyToolbar:function(){return u.bind((function(e){return fE.getToolbar(e)})).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return g().getOrDie("Could not find header element")}},m)),fE.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:b.shared.providers,onEscape:function(){e.focus()},type:y})),x=fE.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),C=fE.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),S=fE.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:b}),k=e.getParam("statusbar",!0,"boolean")&&!o?Rt.some(Mz(e,b.shared.providers)):Rt.none(),O=(x={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[x,C]},C=Iv(e),Lv(e)),_=Hv(e),E=(m=fE.parts.header({dom:T({tag:"div",classes:["tox-editor-header"]},m),components:Kt([_?[d]:[],C?[w]:O?[f]:[],$v(e)?[]:[v.asSpec()]]),sticky:Xv(e),editor:e,sharedBackstage:b.shared}),_=Kt([l?[]:[m],o?[]:[x],l?[m]:[]]),d=Kt([[{dom:{tag:"div",classes:["tox-editor-container"]},components:_}],o?[]:k.toArray(),[S]]),C=Gv(e),w=T(T({role:"application"},xh.isRtl()?{dir:"rtl"}:{}),C?{"aria-hidden":"true"}:{}),mu(fE.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(l?["tox-tinymce--toolbar-bottom"]:[]).concat(s).concat(c),styles:T({visibility:"hidden"},C?{opacity:"0",border:"0"}:{}),attributes:w},components:d,behaviours:gs([tb(),sg.config({disableClass:"tox-tinymce--disabled"}),Wg.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}))),D=(u=Rt.some(E),e.shortcuts.add("alt+F9","focus menubar",(function(){fE.focusMenubar(E)})),e.shortcuts.add("alt+F10","focus toolbar",(function(){fE.focusToolbar(E)})),e.addCommand("ToggleToolbarDrawer",(function(){fE.toggleToolbarDrawer(E)})),e.addQueryStateHandler("ToggleToolbarDrawer",(function(){return fE.isToolbarDrawerToggled(E)})),Zw(E)),A=Zw(p);return s_(e,D,A),{mothership:D,uiMothership:A,backstage:b,renderUI:function(){a.setup(e,b.shared,g),fz(e,b),hz(e,n,b),G_(e),Q_(e,r,b.shared),sn(Vv(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var t=e.ui.registry.getAll(),o=t.buttons,u=t.menuItems,c=t.contextToolbars,s=(t=t.sidebars,Pv(e));u={menuItems:u,menus:Kv(e),menubar:Yv(e),toolbar:s.getOrThunk((function(){return Jv(e)})),allowToolbarGroups:y===bp.floating,buttons:o,sidebar:t},pD(e,c,p,{backstage:b}),zz(e,p),s=e.getElement(),o=eD(tD(e)),t=eD(rD(e)),e.inline||(Ur("div","width",t)&&Pr(E.element,"width",t),Ur("div","height",o)?Pr(E.element,"height",o):Pr(E.element,"height","200px")),c=o,t={mothership:D,uiMothership:A,outerContainer:E};return i.render(e,t,u,b,{targetNode:s,height:c})},getUi:function(){return{channels:{broadcastAll:A.broadcast,broadcastOn:A.broadcastOn,register:h}}}}}function kA(e){return[He("type"),oi("columns",Wo),e]}function OA(e){return ti("items","items",Eo(),Vo(Ko((function(t){return Jo("Checking item of "+e,tM,t).fold((function(e){return Co.error(ei(e))}),(function(e){return Co.value(e)}))}))))}function TA(e){return i(e)?[e].concat(Yt(mn(e),TA)):a(e)?Yt(e,TA):[]}function _A(e){return o(e.type)&&o(e.name)}function EA(e){return{internalDialog:Qo(Jo("dialog",rM,e)),dataValidator:function(e){return e=uM(e),e=Yt(e,(function(e){return aM(e).fold((function(){return[]}),(function(t){return[oi(e.name,t)]}))})),Fo(e)}(e),initialData:e.initialData}}function DA(e){var t=[],n={};return cn(e,(function(e,r){e.fold((function(){t.push(r)}),(function(e){n[r]=e}))})),0<t.length?Co.error(t):Co.value(n)}function AA(e,t){Pr(e,"height",t+"px"),ar().browser.isIE()?Wr(e,"flex-basis"):Pr(e,"flex-basis",t+"px")}function zA(e,t,n){Tc(e,'[role="dialog"]').each((function(e){Ec(e,'[role="tablist"]').each((function(r){n.get().map((function(n){return Pr(t,"height","0"),Pr(t,"flex-basis","0"),Math.min(n,(n=t,i=r,a=pr(o=e).dom,u=Tc(o,".tox-dialog-wrap").getOr(o),u="fixed"===Fr(u,"position")?Math.max(a.clientHeight,window.innerHeight):Math.max(a.offsetHeight,a.scrollHeight),a=Gr(n),n=n.dom.offsetLeft>=i.dom.offsetLeft+Zr(i)?Math.max(Gr(i),a):a,i=parseInt(Fr(o,"margin-top"),10)||0,a=parseInt(Fr(o,"margin-bottom"),10)||0,u-(Gr(o)+i+a-n)));var o,i,a,u})).each((function(e){AA(t,e)}))}))}))}function MA(e){return Ec(e,'[role="tabpanel"]')}function RA(e){var t;return t=Ms(),{smartTabHeight:{extraEvents:[Sa((function(n){var r=n.element;MA(r).each((function(o){var i;Pr(o,"visibility","hidden"),n.getSystem().getByDom(o).toOptional().each((function(n){i=o,a=n;var r,i,a;n=Ft(r=e,(function(e,t){return $g.set(a,r[t].view()),t=i.dom.getBoundingClientRect(),$g.set(a,[]),t.height}));nn(L(n,(function(e,t){return t<e?-1:e<t?1:0}))).fold(t.clear,t.set)})),zA(r,o,t),Wr(o,"visibility"),i=n,nn(e).each((function(e){return lM.showTab(i,e.value)})),bh.requestAnimationFrame((function(){zA(r,o,t)}))}))})),ya(na(),(function(e){var n=e.element;MA(n).each((function(e){zA(n,e,t)}))})),ya(px,(function(e,n){var r=e.element;MA(r).each((function(e){var n=xs(Sr(e)),o=(Pr(e,"visibility","hidden"),jr(e,"height").map((function(e){return parseInt(e,10)}))),i=(Wr(e,"height"),Wr(e,"flex-basis"),e.dom.getBoundingClientRect().height);o.forall((function(e){return e<i}))?(t.set(i),zA(r,e,t)):o.each((function(t){AA(e,t)})),Wr(e,"visibility"),n.each(ws)}))}))],selectFirst:!1},naiveTabHeight:{extraEvents:[],selectFirst:!0}}}function NA(e,t){function n(e){e=Dm.getValue(e),e=DA(e).getOr({});var t=o.get();t=To(t,e);o.set(t)}function r(e){var t=o.get();Dm.setValue(e,t)}var o=li({}),i=li(null),a=(e=Ft(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[NC.sketch((function(o){return{dom:{tag:"div",classes:["tox-form"]},components:Ft(e.items,(function(e){return Ak(o,e,t)})),formBehaviours:gs([Wg.config({mode:"acyclic",useTabstopAt:x(rw)}),Gg("TabView.form.events",[Sa(r),ka(n)]),bs.config({channels:hi([{key:fM,value:{onReceive:n}},{key:dM,value:{onReceive:r}}])})])}}))]}}})),RA(e).smartTabHeight);return lM.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){t=Dm.getValue(t),ma(e,hx,{name:t,oldName:i.get()}),i.set(t)},tabs:e,components:[lM.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[sM.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:gs([nx.config({})])}),lM.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:a.selectFirst,tabSectionBehaviours:gs([Gg("tabpanel",a.extraEvents),Wg.config({mode:"acyclic"}),ug.config({find:function(e){return nn(lM.getViewItems(e))}}),Dm.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn([fM],{}),o.get()},setValue:function(e,t){o.set(t),e.getSystem().broadcastOn([dM],{})}}})])})}function BA(e,t,n,r){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:T(T({},t.map((function(e){return{id:e}})).getOr({})),r?{"aria-live":"polite"}:{})},components:[],behaviours:gs([VC.childAt(0),HE.config({channel:hM,updateState:function(e,t){return Rt.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},renderComponents:function(e){return"tabpanel"!==e.body.type?[(t=e.body,r=n,{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[(o=wh(NC.sketch((function(e){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ft(t.items,(function(t){return Ak(e,t,r)}))}})))).asSpec()]}],behaviours:gs([Wg.config({mode:"acyclic",useTabstopAt:x(rw)}),VC.memento(o),GC(o,{postprocess:function(e){return DA(e).fold((function(e){return{}}),b)}})])})]:[NA(e.body,n)];var t,r,o},initialData:e})])}}function HA(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}}function LA(e,t){return Rz.parts.close(yh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:gs([nx.config({})])}))}function PA(){return Rz.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})}function IA(e,t){return Rz.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:TO("<p>"+t.translate(e)+"</p>")}]}]})}function FA(e){return Rz.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})}function VA(e,t){return[Qw.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Qw.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]}function jA(e){var t="tox-dialog",n=t+"-wrap",r=n+"__backdrop",o=t+"__disable-scroll";return Rz.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),Rt.some(!0)},useTabstopAt:function(e){return!rw(e)},dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:T({position:"relative"},e.extraStyles)},components:E([e.header,e.body],e.footer.toArray(),!0),parts:{blocker:{dom:TO('<div class="'+n+'"></div>'),components:[{dom:{tag:"div",classes:bM?[r,r+"--opaque"]:[r]}}]}},dragBlockClass:n,modalBehaviours:gs(E([Xg.config({}),Gg("dialog-events",e.dialogEvents.concat([st(zi(),(function(e,t){Wg.focusIn(e)}))])),Gg("scroll-lock",[Sa((function(){eu(Er(),o)})),ka((function(){nu(Er(),o)}))])],e.extraBehaviours,!0)),eventOrder:T(((t={})[qi()]=["dialog-events"],t[ra()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[oa()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})}function UA(e){return yh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[Eh("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:function(e){da(e,lx)}})}function WA(e,t,n){function r(e){return[su(n.translate(e.title))]}return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:T({},t.map((function(e){return{id:e}})).getOr({}))},components:r(e),behaviours:gs([HE.config({channel:gM,renderComponents:r})])}}function $A(){return{dom:TO('<div class="tox-dialog__draghandle"></div>')}}function qA(e,t){return e={title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t=t.shared.providers,n=Rz.parts.title(WA(e,Rt.none(),t)),r=Rz.parts.draghandle($A()),t=Rz.parts.close(UA(t)),n=[n].concat(e.draggable?[r]:[]).concat([t]),Qw.sketch({dom:TO('<div class="tox-dialog__header"></div>'),components:n});var n,r}function GA(e,t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:TO('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}function XA(e,t,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){Rz.setBusy(e(),(function(e,r){return GA(n.message,r,t)}))},onUnblock:function(){Rz.setIdle(e())}}}function KA(e,t,n,r){return mu(jA(T(T({},e),{lazySink:r.shared.getSink,extraBehaviours:E([HE.config({channel:mM,updateState:function(e,t){return Rt.some(t)},initialData:t}),YC({})],e.extraBehaviours,!0),onEscape:function(e){da(e,lx)},dialogEvents:n,eventOrder:((r={})[$i()]=[HE.name(),bs.name()],r[ra()]=["scroll-lock",HE.name(),"messages","dialog-events","alloy.base.behaviour"],r[oa()]=["alloy.base.behaviour","dialog-events","messages",HE.name(),"scroll-lock"],r)})))}function YA(e){return Ft(e,(function(e){return"menu"===e.type?(n=Ft((t=e).items,(function(e){var t=li(!1);return T(T({},e),{storage:t})})),T(T({},t),{items:n})):e;var t,n}))}function JA(e){return $t(e,(function(e,t){return"menu"!==t.type?e:$t(t.items,(function(e,t){return e[t.name]=t.storage,e}),e)}),{})}function QA(e,t){return[xa(zi(),tS),e(sx,(function(e,n){t.onClose(),n.onClose()})),e(lx,(function(e,t,n,r){t.onCancel(e),da(r,sx)})),ya(gx,(function(e,n){return t.onUnblock()})),ya(mx,(function(e,n){return t.onBlock(n.event)}))]}function ZA(e,t){function n(e,t){return Qw.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:Ft(t,(function(e){return e.memento.asSpec()}))})}return t=t.map((function(e){return e.footerButtons})).getOr([]),t=B(t,(function(e){return"start"===e.align})),[n("start",t.pass),n("end",t.fail)]}function ez(e,t){return{dom:TO('<div class="tox-dialog__footer"></div>'),components:[],behaviours:gs([HE.config({channel:pM,initialData:e,updateState:function(e,n){var r=Ft(n.buttons,(function(e){var n=wh(ww(e,e.type,t));return{name:e.name,align:e.align,memento:n}}));return Rt.some({lookupByName:function(e,t){return n=e,o=t,Gt(r,(function(e){return e.name===o})).bind((function(e){return e.memento.getOpt(n)}));var n,o},footerButtons:r})},renderComponents:ZA})])}}function tz(e,t){return Rz.parts.footer(ez(e,t))}function nz(e,t){var n;return e.getRoot().getSystem().isConnected()?(n=ug.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper()),NC.getField(n,t).fold((function(){var r=e.getFooter();return HE.getState(r).get().bind((function(e){return e.lookupByName(n,t)}))}),(function(e){return Rt.some(e)}))):Rt.none()}function rz(e,t,n){function r(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)}var i={getData:function(){var t=e.getRoot(),r=(t=t.getSystem().isConnected()?e.getFormWrapper():t,t=Dm.getValue(t),sn(n,(function(e){return e.get()})));return T(T({},t),r)},setData:function(t){r((function(r){var o=i.getData(),a=T(T({},o),t),u=(o=function(e,t){return e=e.getRoot(),HE.getState(e).get().map((function(e){return Qo(Jo("data",e.dataValidator,t))})).getOr(t)}(e,a),e.getFormWrapper());Dm.setValue(u,o),cn(n,(function(e,t){hn(a,t)&&e.set(a[t])}))}))},disable:function(t){nz(e,t).each(sg.disable)},enable:function(t){nz(e,t).each(sg.enable)},focus:function(t){nz(e,t).each(Xg.focus)},block:function(e){if(!o(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(t){ma(t,mx,{message:e})}))},unblock:function(){r((function(e){da(e,gx)}))},showTab:function(t){r((function(n){var r=e.getBody();HE.getState(r).get().exists((function(e){return e.isTabPanel()}))&&ug.getCurrent(r).each((function(e){lM.showTab(e,t)}))}))},redial:function(e){r((function(n){var r=t(e);n.getSystem().broadcastOn([mM],r),n.getSystem().broadcastOn([gM],r.internalDialog),n.getSystem().broadcastOn([hM],r.internalDialog),n.getSystem().broadcastOn([pM],r.internalDialog),i.setData(r.initialData)}))},close:function(){r((function(e){da(e,sx)}))}};return i}function oz(e){function t(t){e.getSystem().isConnected()&&t(e)}return{block:function(e){if(!o(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((function(t){ma(t,mx,{message:e})}))},unblock:function(){t((function(e){da(e,gx)}))},close:function(){t((function(e){da(e,sx)}))},sendMessage:function(e){t((function(t){t.getSystem().broadcastOn([vM],e)}))}}}function iz(e){return i(e)&&-1!==OM.indexOf(e.mceAction)}function az(e){function t(e,t,i,a){return cM.open((function(e,u,c){function s(){return l.on((function(e){gh.reposition(e),S_.refresh(e)}))}u=DM(u,c);var l=Ms(),f=n.shared.header.isPositionedAtTop(),d=SM({dataValidator:c,initialData:u,internalDialog:e},{redial:cM.redial,closeWindow:function(){l.on(gh.hide),r.off("ResizeEditor",s),l.clear(),i(d.instanceApi)}},n,a);c=mu(gh.sketch(T(T({lazySink:n.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},f?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:gs(E([Gg("window-manager-inline-events",[ya(ia(),(function(e,t){da(d.dialog,lx)}))])],zM(r,o,f),!0)),isExtraPart:function(e,t){return AM(t)}})));return l.set(c),gh.showWithin(c,gu(d.dialog),{anchor:t},Rt.some(Er())),o&&f||(S_.refresh(c),r.on("ResizeEditor",s)),d.instanceApi.setData(u),Wg.focusIn(d.dialog),d.instanceApi}),e)}var n=e.backstage,r=e.editor,o=Xv(r),i=_M(e),a=EM(e);return{open:function(e,r,o){return void 0!==r&&"toolbar"===r.inline?t(e,n.shared.anchors.inlineDialog(),o,r.ariaAttrs):void 0!==r&&"cursor"===r.inline?t(e,n.shared.anchors.cursor(),o,r.ariaAttrs):(i=o,cM.open((function(e,t,r){var o=CM({dataValidator:r,initialData:t,internalDialog:e},{redial:cM.redial,closeWindow:function(){Rz.hide(o.dialog),i(o.instanceApi)}},n);return Rz.show(o.dialog),o.instanceApi.setData(t),o.instanceApi}),e));var i},openUrl:function(e,t){return o=t,cM.openUrl((function(e){var t=TM(e,{closeWindow:function(){Rz.hide(t.dialog),o(t.instanceApi)}},r,n);return Rz.show(t.dialog),t.instanceApi}),e);var o},alert:function(e,t){i.open(e,(function(){t()}))},close:function(e){e.close()},confirm:function(e,t){a.open(e,(function(e){t(e)}))}}}var uz,cz,sz=function(e,t){return It(t,(function(t){return It(vD[t],(function(t){return e===t}))}))},lz={name:"lineheight",text:"Line height",icon:"line-height",getOptions:function(e){return e.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},hash:function(e){return wD(e,["fixed","relative","empty"]).getOr(e)},display:b,watcher:function(e,t,n){return e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind},getCurrent:function(e){return Rt.from(e.queryCommandValue("LineHeight"))},setCurrent:function(e,t){return e.execCommand("LineHeight",!1,t)}},fz=function(e,t){var n,r,o;n=e,Vt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(e){n.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:qO(n,e.cmd),onSetup:$O(n,e.name)})})),n.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:qO(n,"JustifyNone")}),_D(e),SD(e,t),DD(e),Xb(t=e),r=li(Dw),o=li(Dw),Zb(t,"forecolor","forecolor","Text color",r),Zb(t,"backcolor","hilitecolor","Background color",o),ey(t,"forecolor","forecolor","Text color"),ey(t,"backcolor","hilitecolor","Background color"),zD(e),kD(e),CD(e)},dz={onLtr:function(){return[is,es,ts,ns,rs,os,ph,vh,Fd,Pd,Id,Ld]},onRtl:function(){return[is,ts,es,rs,ns,os,ph,vh,Id,Ld,Fd,Pd]}},mz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},gz={type:"separator"},hz=function(e,t,n){function r(e){return gh.hide(u)}function i(t){var r,i,c,s;UD(e)&&t.preventDefault(),i=e,t.ctrlKey&&!UD(i)||!1===e.getParam("contextmenu")||(i=t,c=(r=e).getParam("contextmenu_avoid_overlap","","string"),s=XD(r,i)?"selection":"point",i=j(c)?(r=KD(r,i),oy(On.fromDom(r),c)?"node":s):s,(a()?VD:PD)(e,t,(function(){var n=KD(e,t),r=e.ui.registry.getAll(),i=WD(e),a=r.contextMenus,u=(r=i,n);return 0<(r=$t(r,(function(e,t){return gn(a,t.toLowerCase()).map((function(t){t=t.update(u);return o(t)?GD(e,t.split(" ")):0<t.length?(t=Ft(t,qD),GD(e,t)):e})).getOrThunk((function(){return e.concat([t])}))}),[])).length&&$D(r[r.length-1])&&r.pop(),r}),n,u,i))}var a=ar().deviceType.isTouch,u=mu(gh.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:gs([Gg("dismissContextMenu",[ya(ia(),(function(t,n){xm.close(t),e.focus()}))])])}));e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(a()?"":" ResizeWindow");e.on(t,r),e.on("longpress contextmenu",i)}))},pz=(Fm=fi([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),function(e,t,n,r,o,i){return e=eA(e,o,i),t=eA(t,o,i),o=Math.abs(e.left-t.left),i=Math.abs(e.top-t.top),Kr(o,i)}),vz=function(e,t,n,r){function o(e,o){return function(i,a){var u=e(t,n,r);return o(i.getOr(u.left),a.getOr(u.top))}}return e.fold(o(tA,bz),o(eA,yz),o(ZD,wz))},bz=Fm.offset,yz=Fm.absolute,wz=Fm.fixed,xz=function(e,t){e=e.element,Br(e,t.leftAttr),Br(e,t.topAttr)},Cz=function(e,t,n,r){return on(e,(function(e){var o=e.sensor;return function(e,t,n,r,o,i){return e=eA(e,o,i),t=eA(t,o,i),Math.abs(e.left-t.left)<=n&&Math.abs(e.top-t.top)<=r}(t,o,e.range.left,e.range.top,n,r)?Rt.some({output:vz(e.output,t,n,r),extra:e.extra}):Rt.none()}))},Sz=(Lg=Object.freeze({__proto__:null,snapTo:function(e,t,n,r){var o=t.getTarget(e.element);t.repositionTarget&&(t=gr(e.element),e=so(t),t=oO(o),e={coord:vz((r=r).output,r.output,e,t),extra:r.extra},r=nA(e.coord,0,t),ie(o,r))}}),"data-initial-z-index"),kz=function(e){vr(e.element).filter(En).each((function(t){jr(t,"z-index").each((function(e){zr(t,Sz,e)})),Pr(t,"z-index",Fr(e.element,"z-index"))}))},Oz=function(e){vr(e.element).filter(En).each((function(e){Rr(e,Sz).fold((function(){return Wr(e,"z-index")}),(function(t){return Pr(e,"z-index",t)})),Br(e,Sz)})),e.getSystem().removeFromGui(e)},Tz=(Vm=ai("snaps",[ri("getSnapPoints"),Su("onSensor"),ri("leftAttr"),ri("topAttr"),ci("lazyViewport",xo),ci("mustSnap",!1)]),fl=[ci("useFixed",S),ri("blockerClass"),ci("getTarget",b),ci("onDrag",h),ci("repositionTarget",!0),ci("onDrop",h),Je("getBounds",xo),Vm],function(e,t,n,r){var o,i,a,u=t.getTarget(e.element);t.repositionTarget&&(a=gr(e.element),a=so(a),o=oO(u),i=cA(u),i=sA(e,t.snaps,i,a,o,r,n),a=nA(i,0,o),ie(u,a)),t.onDrag(e,u,r)}),_z=function(e,t){return{bounds:e.getBounds(),height:Xr(t.element),width:eo(t.element)}},Ez=Object.freeze({__proto__:null,getData:function(e){return Rt.from(Kr(e.x,e.y))},getDelta:function(e,t){return Kr(t.left-e.left,t.top-e.top)}}),Dz=(ex=E(E([],fl,!0),[Fc("dragger",{handlers:dA(mA)})],!1),Object.freeze({__proto__:null,getData:function(e){e=e.raw.touches;return 1!==e.length?Rt.none():(e=e[0],Rt.some(Kr(e.clientX,e.clientY)))},getDelta:function(e,t){return Kr(t.left-e.left,t.top-e.top)}})),Az=(jg=E(E([],fl,!0),[Fc("dragger",{handlers:dA(gA)})],!1),rl=E(E([],fl,!0),[Fc("dragger",{handlers:dA((function(e,t,n){return E(E([],mA(e,t,n),!0),gA(e,t,n),!0)}))})],!1),ju({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:ex,touch:jg,mouseOrTouch:rl}),name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:Rt.from(e.extra)}}},state:Object.freeze({__proto__:null,init:function(){var e=Rt.none(),t=Rt.none(),n=v({});return qa({readState:n,reset:function(){e=Rt.none(),t=Rt.none()},update:function(t,n){return t.getData(n).bind((function(n){return r=t,o=n,n=e.map((function(e){return r.getDelta(e,o)})),e=Rt.some(o),n;var r,o}))},getStartData:function(){return t},setStartData:function(e){t=Rt.some(e)}})}}),apis:Lg})),zz=function(e,t){function n(e){var n=wo(e);return hA(g.getOpt(t),e,n.x,n.y,n.width,n.height)}function r(e){var n=wo(e);return hA(h.getOpt(t),e,n.right,n.bottom,n.width,n.height)}function o(e,t,n,r){n=n(t),Az.snapTo(e,n),b(e,t,(function(e){return e[r]<0}),(function(e,t){return e[r]>t}))}function i(e){return o(p,e,n,"top")}function a(e){return o(v,e,r,"bottom")}var u=li([]),c=li([]),s=li(!1),l=Ms(),f=Ms(),d=pA((function(){return Ft(u.get(),n)}),l,(function(t){f.get().each((function(n){e.fire("TableSelectorChange",{start:t,finish:n})}))})),m=pA((function(){return Ft(c.get(),r)}),f,(function(t){l.get().each((function(n){e.fire("TableSelectorChange",{start:n,finish:t})}))})),g=vA(d),h=vA(m),p=mu(g.asSpec()),v=mu(h.asSpec()),b=function(t,n,r,o){n=n.dom.getBoundingClientRect();var i=(Wr(t.element,"display"),Q(On.fromDom(e.getBody())).dom.innerHeight);r=r(n),o=o(n,i);(r||o)&&Pr(t.element,"display","none")};ar().deviceType.isTouch()&&(e.on("TableSelectionChange",(function(e){s.get()||(pm(t,p),pm(t,v),s.set(!0)),l.set(e.start),f.set(e.finish),e.otherCells.each((function(t){u.set(t.upOrLeftCells),c.set(t.downOrRightCells),i(e.start),a(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(function(){l.get().each(i),f.get().each(a)})),e.on("TableSelectionClear",(function(){s.get()&&(Pl(p),Pl(v),s.set(!1)),l.clear(),f.clear()})))},Mz=((jm=uz=uz||{})[jm.None=0]="None",jm[jm.Both=1]="Both",jm[jm.Vertical=2]="Vertical",function(e,t){var n,r=function(){var e=xh.translate(["Powered by {0}","Tiny"]);return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+e+'">'+e+"</a>"}}};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(n=[],e.getParam("elementpath",!0,"boolean")&&n.push(bA(e,{},t)),e.hasPlugin("wordcount")&&n.push(CA(e,t)),e.getParam("branding",!0,"boolean")&&n.push(r()),n=0<n.length?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[],r=xA(e,t),n.concat(r.toArray()))}}),Rz=(Bg=v([ri("lazySink"),je("dragBlockClass"),Je("getBounds",xo),ci("useTabstopAt",k),ci("eventOrder",{}),Ql("modalBehaviours",[Wg]),ku("onExecute"),Tu("onEscape")]),Ug={sketch:b},za=v([$m({name:"draghandle",overrides:function(e,t){return{behaviours:gs([Az.config({mode:"mouse",getTarget:function(e){return Tc(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Wm({schema:[ri("dom")],name:"title"}),Wm({factory:Ug,schema:[ri("dom")],name:"close"}),Wm({factory:Ug,schema:[ri("dom")],name:"body"}),$m({factory:Ug,schema:[ri("dom")],name:"footer"}),ds({factory:{sketch:function(e,t){return T(T({},e),{dom:t.dom,components:t.components})}},schema:[ci("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ci("components",[])],name:"blocker"})]),gf({name:"ModalDialog",configFields:Bg(),partFields:za(),factory:function(e,t,n,r){var o=Ms(),i=Na("modal-events"),a=T(T({},e.eventOrder),((a={})[ra()]=[i].concat(e.eventOrder["alloy.system.attached"]||[]),a));return{uid:e.uid,dom:e.dom,components:t,apis:{show:function(t){o.set(t);var n=e.lazySink(t).getOrDie(),i=r.blocker();i=n.getSystem().build(T(T({},i),{components:i.components.concat([gu(t)]),behaviours:gs([Xg.config({}),Gg("dialog-blocker-events",[st(zi(),(function(){Wg.focusIn(t)}))])])}));pm(n,i),Wg.focusIn(t)},hide:function(e){o.clear(),vr(e.element).each((function(t){e.getSystem().getByDom(t).each((function(e){Pl(e)}))}))},getBody:function(t){return sf(t,e,"body")},getFooter:function(t){return sf(t,e,"footer")},setIdle:function(e){J_.unblock(e)},setBusy:function(e,t){J_.block(e,t)}},eventOrder:a,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:zm(e.modalBehaviours,[$g.config({}),Wg.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),J_.config({getRoot:o.get}),Gg(i,[Sa((function(t){var n,r,o,i;r=t.element,n=sf(t,e,"title").element,i=Rr(r,"id").fold((function(){var e=Na("dialog-label");return zr(n,"id",e),e}),b),zr(r,"aria-labelledby",i),r=t.element,o=sf(t,e,"body").element,i=Rt.from(Mr(r,"id")).fold((function(){var e=Na("dialog-describe");return zr(o,"id",e),e}),b),zr(r,"aria-describedby",i)}))])])}},apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}})),Nz=(cm=Fo([He("type"),He("name")].concat(Ba)),Rg=qo,Um=[ti("name","name",Do((function(){return Na("button-name")})),$o),We("icon"),Ke("align","end",["start","end"]),Ye("primary",!1),Ye("disabled",!1)],Hg=E(E([],Um,!0),[He("text")],!1),Ng=E([Le("type",["submit","cancel","custom"])],Hg,!0),ol=E([Le("type",["menu"]),We("text"),We("tooltip"),We("icon"),Ve("items",cm)],Um,!0),xi=Ne("type",{submit:Ng,cancel:Ng,custom:Ng,menu:ol}),fi=[He("type"),He("text"),Le("level",["info","warn","error","success"]),He("icon"),ci("url","")],Fo(fi)),Bz=(Fm=[He("type"),He("text"),Ye("disabled",!1),Ye("primary",!1),ti("name","name",Do((function(){return Na("button-name")})),$o),We("icon"),Ye("borderless",!1)],Fo(Fm)),Hz=(Vm=[He("type"),He("name"),He("label"),Ye("disabled",!1)],Fo(Vm)),Lz=(fl=qo,ex=[He("type"),He("name")],jg=ex.concat([We("label")]),rl=jg.concat([ci("columns","auto")]),Fo(rl)),Pz=(Lg=jo([He("value"),He("text"),He("icon")]),Fo(jg)),Iz=(jm=$o,Fo(jg)),Fz=(Ug=$o,ex.concat([Xe("tag","textarea"),He("scriptId"),He("scriptUrl"),si("settings",void 0,Pn)])),Vz=ex.concat([Xe("tag","textarea"),Pe("init")]),jz=Ko((function(e){return Jo("customeditor.old",Io(Vz),e).orThunk((function(){return Jo("customeditor.new",Io(Fz),e)}))})),Uz=(ds=$o,Fo(jg)),Wz=(Bg=Vo(Ln),za=[He("type"),He("html"),Ke("presets","presentation",["presentation","document"])],Fo(za)),$z=(Ba=jg.concat([Ye("sandboxed",!0)]),Fo(Ba)),qz=(cm=$o,Um=jg.concat([oi("currentState",Fo([ri("blob"),He("url")]))]),Fo(Um)),Gz=(Ng=jg.concat([We("inputMode"),We("placeholder"),Ye("maximized",!1),Ye("disabled",!1)]),Fo(Ng)),Xz=(ol=$o,fi=[He("text"),He("value")],Fm=[He("text"),Ve("items",(cz=Mn((function(){return Xz})),{extract:function(e,t){return cz().extract(e,t)},toString:function(){return cz().toString()}}))],Ee([Fo(fi),Fo(Fm)])),Kz=(Vm=jg.concat([Ve("items",Xz),Ye("disabled",!1)]),Fo(Vm)),Yz=(rl=$o,Pn=jg.concat([Fe("items",[He("text"),He("value")]),Ge("size",1),Ye("disabled",!1)]),Fo(Pn)),Jz=(ex=$o,Ln=jg.concat([Ye("constrain",!0),Ye("disabled",!1)]),Fo(Ln)),Qz=(za=Fo([He("width"),He("height")]),Ba=[He("type"),Ve("header",$o),Ve("cells",Vo($o))],Fo(Ba)),Zz=(Um=jg.concat([We("placeholder"),Ye("maximized",!1),Ye("disabled",!1)]),Fo(Um)),eM=(Ng=$o,fi=jg.concat([Ke("filetype","file",["image","media","file"]),ci("disabled",!1)]),Fo(fi)),tM=(Fm=Fo([He("value"),ci("meta",{})]),_e((function(){return Me("type",{alertbanner:Nz,bar:Fo((e=OA("bar"),[He("type"),e])),button:Bz,checkbox:Hz,colorinput:Pz,colorpicker:Iz,dropzone:Uz,grid:Fo(kA(OA("grid"))),iframe:$z,input:Gz,listbox:Kz,selectbox:Yz,sizeinput:Jz,textarea:Zz,urlinput:eM,customeditor:jz,htmlpanel:Wz,imagetools:qz,collection:Lz,label:Fo((e=OA("label"),[He("type"),He("label"),e])),table:Qz,panel:nM});var e}))),nM=(Vm=[He("type"),ci("classes",[]),Ve("items",tM)],Fo(Vm)),rM=(Pn=[ti("name","name",Do((function(){return Na("tab-name")})),$o),He("title"),Ve("items",tM)],Ln=[He("type"),Fe("tabs",Pn)],Ba=Fo(Ln),Um=Hg,jg=xi,Fo([He("title"),oi("body",Me("type",{panel:nM,tabpanel:Ba})),Xe("size","normal"),Ve("buttons",jg),ci("initialData",{}),Je("onAction",h),Je("onChange",h),Je("onSubmit",h),Je("onClose",h),Je("onCancel",h),ci("onTabChange",h)])),oM=(fi=Fo(E([Le("type",["cancel","custom"])],Um,!0)),Fo([He("title"),He("url"),Ue("height"),Ue("width"),qe("buttons",fi),Je("onAction",h),Je("onCancel",h),Je("onClose",h),Je("onMessage",h)])),iM={checkbox:fl,colorinput:jm,colorpicker:Ug,dropzone:Bg,input:ol,iframe:cm,sizeinput:za,selectbox:ex,listbox:rl,size:za,textarea:Ng,urlinput:Fm,customeditor:ds,collection:Lg,togglemenuitem:Rg},aM=function(e){return Rt.from(iM[e.type])},uM=function(e){return Ut(TA(e),_A)},cM={open:function(e,t){return t=EA(t),e(t.internalDialog,t.initialData,t.dataValidator)},openUrl:function(e,t){return e(Qo(Jo("dialog",oM,t)))},redial:EA},sM=(Vm=ag({name:"TabButton",configFields:[ci("uid",void 0),ri("value"),ti("dom","dom",Se((function(){return{attributes:{role:"tab",id:Na("aria"),"aria-selected":"false"}}})),Uo()),je("action"),ci("domModification",{}),Ql("tabButtonBehaviours",[Xg,Wg,Dm]),ri("view")],factory:function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:Ed(e.action),behaviours:zm(e.tabButtonBehaviours,[Xg.config({}),Wg.config({mode:"execution",useSpace:!0,useEnter:!0}),Dm.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}}}),Pn=v([ri("tabs"),ri("dom"),ci("clickToDismiss",!1),Ql("tabbarBehaviours",[lg,Wg]),xu(["tabClass","selectedClass"])]),Ln=Vc({factory:Vm,name:"tabs",unit:"tab",overrides:function(e){function t(e,t){lg.dehighlight(e,t),ma(e,sa(),{tabbar:e,button:t})}function n(e,t){lg.highlight(e,t),ma(e,ca(),{tabbar:e,button:t})}return{action:function(r){var o=r.getSystem().getByUid(e.uid).getOrDie(),i=lg.isHighlighted(o,r);(i&&e.clickToDismiss?t:i?h:n)(o,r)},domModification:{classes:[e.markers.tabClass]}}}}),Hg=v([Ln]),gf({name:"Tabbar",configFields:Pn(),partFields:Hg(),factory:function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:zm(e.tabbarBehaviours,[lg.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){zr(t.element,"aria-selected","true")},onDehighlight:function(e,t){zr(t.element,"aria-selected","false")}}),Wg.config({mode:"flow",getInitial:function(e){return lg.getHighlighted(e).map((function(e){return e.element}))},selector:"."+e.markers.tabClass,executeOnMove:!0})])}}})),lM=(xi=ag({name:"Tabview",configFields:[Ql("tabviewBehaviours",[$g])],factory:function(e,t){return{uid:e.uid,dom:e.dom,behaviours:zm(e.tabviewBehaviours,[$g.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),Ba=v([ci("selectFirst",!0),Su("onChangeTab"),Su("onDismissTab"),ci("tabs",[]),Ql("tabSectionBehaviours",[])]),jg=Wm({factory:sM,schema:[ri("dom"),Ie("markers",[ri("tabClass"),ri("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),Um=Wm({factory:xi,name:"tabview"}),fi=v([jg,Um]),gf({name:"TabSection",configFields:Ba(),partFields:fi(),factory:function(e,t,n,r){function o(t,n){Jm(t,e,"tabbar").each((function(e){n(e).each(ga)}))}return{uid:e.uid,dom:e.dom,components:t,behaviours:Am(e.tabSectionBehaviours),events:ba(Kt([e.selectFirst?[Sa((function(e,t){o(e,lg.getFirst)}))]:[],[ya(ca(),(function(t,n){var r,o;n=n.event.button;r=n,o=Dm.getValue(r),Jm(r,e,"tabview").each((function(t){Gt(e.tabs,(function(e){return e.value===o})).each((function(n){n=n.view(),Rr(r.element,"id").each((function(e){zr(t.element,"aria-labelledby",e)})),$g.set(t,n),e.onChangeTab(t,r,n)}))}))})),ya(sa(),(function(t,n){n=n.event.button,e.onDismissTab(t,n)}))]])),apis:{getViewItems:function(t){return Jm(t,e,"tabview").map((function(e){return $g.contents(e)})).getOr([])},showTab:function(e,t){o(e,(function(e){var n=lg.getCandidates(e);return Gt(n,(function(e){return Dm.getValue(e)===t})).filter((function(t){return!lg.isHighlighted(e,t)}))}))}}}},apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}})),fM="send-data-to-section",dM="send-data-to-view",mM=Na("update-dialog"),gM=Na("update-title"),hM=Na("update-body"),pM=Na("update-footer"),vM=Na("body-send-message"),bM=sb.deviceType.isTouch(),yM=function(e,t){function n(t,n){return ya(t,(function(t,r){var o,i;o=t,i=function(o,i){n(e(),o,r.event,t)},HE.getState(o).get().each((function(e){i(e,o)}))}))}return E(E([],QA(n,t),!0),[n(fx,(function(e,t,n){t.onAction(e,{name:n.name})}))],!1)},wM=function(e,t,n){function r(t,n){return ya(t,(function(t,r){var o,i;o=t,i=function(o,i){n(e(),o,r.event,t)},HE.getState(o).get().each((function(e){i(e.internalDialog,o)}))}))}return E(E([],QA(r,t),!0),[r(dx,(function(e,t){return t.onSubmit(e)})),r(cx,(function(e,t,n){t.onChange(e,{name:n.name})})),r(fx,(function(e,t,r,o){function i(){return Wg.focusIn(o)}function a(e){return Nr(e,"disabled")||Rr(e,"aria-disabled").exists((function(e){return"true"===e}))}var u=Sr(o.element),c=xs(u);t.onAction(e,{name:r.name,value:r.value}),xs(u).fold(i,(function(e){a(e)||c.exists((function(t){return mr(e,t)&&a(t)}))?i():n().toOptional().filter((function(t){return!mr(t.element,e)})).each(i)}))})),r(hx,(function(e,t,n){t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),ka((function(t){var n=e();Dm.setValue(t,n.getData())}))],!1)},xM=ez,CM=function(e,t,n){var r=qA(e.internalDialog.title,n),o=function(e,t){return e=BA(e,Rt.none(),t,!1),Rz.parts.body(e)}({body:e.internalDialog.body},n),i=YA(e.internalDialog.buttons),a=JA(i),u=(i=tz({buttons:i},n),wM((function(){return l}),XA((function(){return s}),n.shared.providers,t),n.shared.getSink)),c=function(e){switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}}(e.internalDialog.size),s=(r={header:r,body:o,footer:Rt.some(i),extraClasses:c,extraBehaviours:[],extraStyles:{}},KA(r,e,u,n)),l=(o={getRoot:v(s),getBody:function(){return Rz.getBody(s)},getFooter:function(){return Rz.getFooter(s)},getFormWrapper:function(){var e=Rz.getBody(s);return ug.getCurrent(e).getOr(e)}},rz(o,t.redial,a));return{dialog:s,instanceApi:l}},SM=function(e,t,n,r){var o=Na("dialog-label"),i=Na("dialog-content"),a=wh((a={title:e.internalDialog.title,draggable:!0},c=o,s=n.shared.providers,Qw.sketch({dom:TO('<div class="tox-dialog__header"></div>'),components:[WA(a,Rt.some(c),s),$A(),UA(s)],containerBehaviours:gs([Az.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return Dc(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),u=wh((c={body:e.internalDialog.body},s=n,r=r,BA(c,Rt.some(i),s,r))),c=YA(e.internalDialog.buttons),s=JA(c),l=wh(xM({buttons:c},n)),f=(r=wM((function(){return d}),{onBlock:function(e){J_.block(f,(function(t,r){return GA(e.message,r,n.shared.providers)}))},onUnblock:function(){J_.unblock(f)},onClose:function(){return t.closeWindow()}},n.shared.getSink),mu({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:((c={role:"dialog"})["aria-labelledby"]=o,c["aria-describedby"]=i,c)},eventOrder:((o={})[$i()]=[HE.name(),bs.name()],o[qi()]=["execute-on-form"],o[ra()]=["reflecting","execute-on-form"],o),behaviours:gs([Wg.config({mode:"cyclic",onEscape:function(e){return da(e,sx),Rt.some(!0)},useTabstopAt:function(e){return!rw(e)&&("button"!==_n(e)||"disabled"!==Mr(e,"disabled"))}}),HE.config({channel:mM,updateState:function(e,t){return Rt.some(t)},initialData:e}),Xg.config({}),Gg("execute-on-form",r.concat([st(zi(),(function(e,t){Wg.focusIn(e)}))])),J_.config({getRoot:function(){return Rt.some(f)}}),$g.config({}),YC({})]),components:[a.asSpec(),u.asSpec(),l.asSpec()]})),d=rz({getRoot:v(f),getFooter:function(){return l.get(f)},getBody:function(){return u.get(f)},getFormWrapper:function(){var e=u.get(f);return ug.getCurrent(e).getOr(e)}},t.redial,s);return{dialog:f,instanceApi:d}},kM=tinymce.util.Tools.resolve("tinymce.util.URI"),OM=["insertContent","setContent","execCommand","close","block","unblock"],TM=function(e,t,n,r){var o=qA(e.title,r),a=function(e){return e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[tw({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:gs([nx.config({}),Xg.config({})])})]}],behaviours:gs([Wg.config({mode:"acyclic",useTabstopAt:x(rw)})])},Rz.parts.body(e)}(e),u=e.buttons.bind((function(e){return 0===e.length?Rt.none():Rt.some(tz({buttons:e},r))})),s=(t=yM((function(){return p}),XA((function(){return h}),r.shared.providers,t)),T(T({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}})))),l=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],f=new kM(e.url,{base_uri:new kM(window.location.href)}),d=f.protocol+"://"+f.host+(f.port?":"+f.port:""),m=As(),g=[Gg("messages",[Sa((function(){var t=Ns(On.fromDom(window),"message",(function(t){if(f.isSameOrigin(new kM(t.raw.origin)))if(t=t.raw.data,iz(t)){var r=n,o=p,a=t;switch(a.mceAction){case"insertContent":r.insertContent(a.content);break;case"setContent":r.setContent(a.content);break;case"execCommand":var u=!!c(a.ui)&&a.ui;r.execCommand(a.cmd,u,a.value);break;case"close":o.close();break;case"block":o.block(a.message);break;case"unblock":o.unblock()}}else!iz(s=t)&&i(s)&&hn(s,"mceAction")&&e.onMessage(p,t);var s}));m.set(t)})),ka(m.clear)]),bs.config({channels:((g={})[vM]={onReceive:function(e,t){Ec(e.element,"iframe").each((function(e){e.dom.contentWindow.postMessage(t,d)}))}},g)})],h=KA({header:o,body:a,footer:u,extraClasses:l,extraBehaviours:g,extraStyles:s},e,t,r),p=oz(h);return{dialog:h,instanceApi:p}},_M=function(e){var t=e.backstage.shared;return{open:function(n,r){function o(){Rz.hide(c),r()}var i=wh(ww({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:Rt.none()},"cancel",e.backstage)),a=PA(),u=LA(o,t.providers),c=mu(jA({lazySink:function(){return t.getSink()},header:HA(a,u),body:IA(n,t.providers),footer:Rt.some(FA(VA([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ya(lx,o)],eventOrder:{}}));Rz.show(c),a=i.get(c);Xg.focus(a)}}},EM=function(e){var t=e.backstage.shared;return{open:function(n,r){function o(e){Rz.hide(s),r(e)}var i=wh(ww({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:Rt.none()},"submit",e.backstage)),a=ww({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:Rt.none()},"cancel",e.backstage),u=PA(),c=LA((function(){return o(!1)}),t.providers),s=mu(jA({lazySink:function(){return t.getSink()},header:HA(u,c),body:IA(n,t.providers),footer:Rt.some(FA(VA([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ya(lx,(function(){return o(!1)})),ya(dx,(function(){return o(!0)}))],eventOrder:{}}));Rz.show(s),u=i.get(s);Xg.focus(u)}}},DM=function(e,t){return Qo(Jo("data",t,e))},AM=function(e){return oy(e,".tox-alert-dialog")||oy(e,".tox-confirm-dialog")},zM=function(e,t,n){return t&&n?[]:[S_.config({contextual:{lazyContext:function(){return Rt.some(yo(On.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]};O.add("silver",(function(e){var t=SA(e),n=t.uiMothership,r=t.backstage,o=t.renderUI,i=(t=t.getUi,Xw(e,r.shared),az({editor:e,backstage:r}));return{renderUI:o,getWindowManagerImpl:v(i),getNotificationManagerImpl:function(){return zh(e,{backstage:r},n)},ui:t()}}))}()}).call(this,n("c8ba"))},"07d1":function(e,t,n){n("94ce")},1148:function(e,t,n){"use strict";var r=n("da84"),o=n("5926"),i=n("577e"),a=n("1d80"),u=r.RangeError;e.exports=function(e){var t=i(a(this)),n="",r=o(e);if(r<0||r==1/0)throw u("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},2401:function(e,t){!function(){"use strict";function e(e){return function(t){return n=typeof(t=t),(null===t?"null":"object"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n)===e;var n}}function t(e){return function(t){return typeof t===e}}function n(){}function r(e){return e}function o(e,t){return e===t}function i(e){return function(t){return!e(t)}}function a(){return v}var u=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=e("string"),s=e("object"),l=e("array"),f=t("boolean"),d=t("function"),m=t("number"),g=function(e){return function(){return e}},h=g(!1),p=g(!0),v={fold:function(e,t){return e()},isSome:h,isNone:p,getOr:Tt=r,getOrThunk:b,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:Tt,orThunk:b,map:a,each:n,bind:a,exists:h,forall:p,filter:function(){return v},toArray:function(){return[]},toString:g("none()")};function b(e){return e()}function y(e){function t(){return o}function n(t){return t(e)}var r=g(e),o={fold:function(t,n){return n(e)},isSome:p,isNone:h,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:t,orThunk:t,map:function(t){return y(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?o:v},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o}function w(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function x(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}function C(e,t,n){return w(e,(function(e,r){n=t(n,e,r)})),n}function S(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return E(i);if(n(i,r))break}return D()}function k(e){return(e=z.call(e,0)).reverse(),e}function O(e,t){return 0<=t&&t<e.length?E(e[t]):D()}function T(e){return O(e,0)}function _(e){return O(e,e.length-1)}var E=y,D=a,A=function(e){return null==e?v:y(e)},z=Array.prototype.slice,M=Array.prototype.push,R=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},N=function(e,t){return S(e,t,h)},B=function(e,t){for(var n=R(e,t),r=[],o=0,i=n.length;o<i;++o){if(!l(n[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+n);M.apply(r,n[o])}return r},H=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return D()},L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function P(e,t){var n=xt(e,t);return n?Ct(r(1),r(2)):{major:0,minor:0};function r(e){return Number(t.replace(n,"$"+e))}}function I(){return Ct(0,0)}function F(e,t){return-1!==e.indexOf(t)}function V(e){return function(t){return F(t,e)}}function j(e){function t(e){return function(){return n===e}}var n=e.current;e=e.version;return{current:n,version:e,isEdge:t(Dt),isChrome:t(At),isIE:t(zt),isOpera:t(Mt),isFirefox:t(Rt),isSafari:t(Nt)}}function U(e){function t(e){return function(){return n===e}}var n=e.current;e=e.version;return{current:n,version:e,isWindows:t(Lt),isiOS:t(Pt),isAndroid:t(It),isOSX:t(Vt),isLinux:t(Ft),isSolaris:t(jt),isFreeBSD:t(Ut),isChromeOS:t(Wt)}}function W(e){return window.matchMedia(e).matches}function $(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}function q(e,t){return e.dom===t.dom}function G(e,t){return e=e.dom,t=t.dom,n=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(e.compareDocumentPosition(t)&n);var n}function X(e,t){return(Xt().browser.isIE()?G:function(e,t){return e=e.dom,t=t.dom,e!==t&&e.contains(t)})(e,t)}function K(e,t){for(var n=tn(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}function Y(e,t){var r,o,i,a,u={};return r=t,a=u,o=function(e,t){a[t]=e},i=n,K(e,(function(e,t){(r(e,t)?o:i)(e,t)})),u}function J(e){return e.dom.nodeName.toLowerCase()}function Q(e){return function(t){return nn(t)&&J(t)===e}}function Z(e,t){var n=e.dom;K(t,(function(e,t){var r=n;if(!(c(e)||f(e)||m(e)))throw new Error("Attribute value was not simple");r.setAttribute(t,e+"")}))}function ee(e){return C(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})}function te(e){return A(e.dom.parentNode).map(Yt)}function ne(e,t){return e=e.dom.childNodes,A(e[t]).map(Yt)}function re(e){return ne(e,0)}function oe(e){return ne(e,e.dom.childNodes.length-1)}function ie(e,t){te(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))}function ae(e,t){e.dom.appendChild(t.dom)}function ue(e,t){w(t,(function(t){ae(e,t)}))}function ce(e){null!==(e=e.dom).parentNode&&e.parentNode.removeChild(e)}function se(e){return t=!0,Yt(e.dom.cloneNode(t));var t}function le(e,t){t=function(e,t){return t=Kt(t),e=ee(e),Z(t,e),t}(e,t);var n=(ie(e,t),rn(e));return ue(t,n),ce(e),t}function fe(e){return function(t){return t&&t.nodeName.toLowerCase()===e}}function de(e){return function(t){return t&&e.test(t.nodeName)}}function me(e){return e&&3===e.nodeType}function ge(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]}function he(e,t){return e&&e.nodeName in t}function pe(e,t,n){var r=e.isEmpty(t);return!(n&&0<e.select("span[data-mce-type=bookmark]",t).length)&&r}function ve(e,t){return e.isChildOf(t,e.getRoot())}function be(e,t){var n,r,o,i=e.dom,a=e.schema.getBlockElements(),u=i.createFragment(),c=function(e){return e=e.getParam("forced_root_block","p"),!1===e?"":!0===e?"p":e}(e);if(c&&((r=i.create(c)).tagName===c.toUpperCase()&&i.setAttribs(r,e.getParam("forced_root_block_attrs",{})),he(t.firstChild,a)||u.appendChild(r)),t)for(;n=t.firstChild;){var s=n.nodeName;o||"SPAN"===s&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),he(n,a)?(u.appendChild(n),r=null):c?(r||(r=i.create(c),u.appendChild(r)),r.appendChild(n)):u.appendChild(n)}return c?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):u.appendChild(i.create("br")),u}function ye(e,t,n){var r,o=gn.select('span[data-mce-type="bookmark"]',t),i=be(e,n),a=gn.createRng();a.setStartAfter(n),a.setEndAfter(t);for(var u=(a=a.extractContents()).firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){gn.remove(u);break}e.dom.isEmpty(a)||gn.insertAfter(a,t),gn.insertAfter(i,t),pe(e.dom,n.parentNode)&&(r=n.parentNode,on.each(o,(function(e){r.parentNode.insertBefore(e,n.parentNode)})),gn.remove(r)),gn.remove(n),pe(e.dom,t)&&gn.remove(t)}function we(e){pn(e)&&le(e,"dd")}function xe(e,t,n){w(n,"Indent"===t?we:function(t){return n=e,hn(r=t)?le(r,"dt"):pn(r)&&te(r).each((function(e){return ye(n,e.dom,r.dom)})),0;var n,r})}function Ce(e,t){if(me(e))return{container:e,offset:t};var n=Qt.getNode(e,t);return me(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&me(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&me(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}}function Se(e){var t=e.cloneRange(),n=Ce(e.startContainer,e.startOffset);t.setStart(n.container,n.offset),n=Ce(e.endContainer,e.endOffset);return t.setEnd(n.container,n.offset),t}function ke(e){var t,n,r=bn(e);e=e.selection.getSelectedBlocks();return n=e,(t=r)&&1===n.length&&n[0]===t?x(r.querySelectorAll("ol,ul,dl"),an):x(e,(function(e){return an(e)&&r!==e}))}function Oe(e){var t=e.selection.getSelectedBlocks();return x(function(e,t){return t=on.map(t,(function(t){var n=e.dom.getParent(t,"li,dd,dt",Te(e,t));return n||t})),vn.unique(t)}(e,t),sn)}function Te(e,t){return 0<(t=e.dom.getParents(t,"TD,TH")).length?t[0]:e.getBody()}function _e(e){r=yn(n=e,n.selection.getStart()),n=x(n.selection.getSelectedBlocks(),un);var t,n,r=r.toArray().concat(n);return t=e,n=R(r,(function(e){return yn(t,e).getOr(e)})),vn.unique(n)}function Ee(e,t,n){return void 0===n&&(n=o),e.exists((function(e){return n(e,t)}))}function De(e,t,n){return e.isSome()&&t.isSome()?E(n(e.getOrDie(),t.getOrDie())):D()}function Ae(e,t,n){return e.fire("ListMutation",{action:t,element:n})}function ze(e,t,n){if(!c(n))throw new Error("CSS value must be a string: "+n);var r;void 0!==(r=e).style&&d(r.style.getPropertyValue)&&e.style.setProperty(t,n)}function Me(e,t){ae(e.item,t.list)}function Re(e,t,n){for(var r=[],o=0;o<n;o++)r.push(function(e,t){return t={list:Kt(t,e),item:Kt("li",e)},ae(t.list,t.item),t}(e,t.listType));return r}function Ne(e,t){for(var n=0;n<e.length-1;n++){r=void 0;var r=e[n].item,o="list-style-type",i="none";r=r.dom,ze(r,o,i)}_(e).each((function(e){Z(e.list,t.listAttributes),Z(e.item,t.itemAttributes),ue(e.item,t.content)}))}function Be(e,t,n){return t=t.slice(0,n.depth),_(t).each((function(t){var r,o=function(e,t,n){return e=Kt("li",e),Z(e,t),ue(e,n),e}(e,n.itemAttributes,n.content);o=o,ae((r=t).list,o),r.item=o,r=n,J((o=t).list)!==r.listType&&(o.list=le(o.list,r.listType)),Z(o.list,r.listAttributes)})),t}function He(e,t,n){for(var r=e=Re(e,n,n.depth-t.length),o=1;o<r.length;o++)Me(r[o-1],r[o]);return Ne(e,n),n=e,De(_(t),T(n),Me),t.concat(e)}function Le(e){return re(e).exists(wn)}function Pe(e){return 0<e.depth}function Ie(e){return e.isSelected}function Fe(e){var t=rn(e);e=oe(e).exists(wn)?t.slice(0,-1):t;return R(e,se)}function Ve(e,t){function n(e){return e.depth===o&&!e.dirty}function r(e){return e.depth<o}var o=e[t].depth;return S(k(e.slice(0,t)),n,r).orThunk((function(){return S(e.slice(t+1),n,r)}))}function je(e){return w(e,(function(t,n){Ve(e,n).fold((function(){t.dirty&&(t.listAttributes=Y(t.listAttributes,(function(e,t){return"start"!==t})))}),(function(e){return e=e,(n=t).listType=e.listType,void(n.listAttributes=L({},e.listAttributes));var n}))})),e}function Ue(e,t){return t=je(t),R(t,(function(t){t=t.content,n=(r||document).createDocumentFragment(),w(t,(function(e){n.appendChild(e.dom)}));var n,r=Yt(n);return Yt(be(e,r.dom))}))}function We(e,t){return t=je(t),function(e,t){return t=C(t,(function(t,n){return(n.depth>t.length?He:Be)(e,t,n)}),[]),T(t).map((function(e){return e.list}))}(e.contentDocument,t).toArray()}function $e(e,t){w(x(e,Ie),(function(e){var n=e;switch(t){case"Indent":n.depth++;break;case"Outdent":n.depth--;break;case"Flatten":n.depth=0}return n.dirty=!0,0}))}function qe(e,t,n){t=t,r=function(e){return e=R(Oe(e),Yt),De(N(e,i(Le)),N(k(e),i(Le)),(function(e,t){return{start:e,end:t}}))}(e),o=!1,a={get:function(){return o},set:function(e){o=e}};var r,o,a;t=R(t,(function(e){return{sourceList:e,entries:Cn(0,r,a,e)}}));w(t,(function(t){$e(t.entries,n),r=e,i=t.entries;var r,o,i=B(function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],c=t(u);c!==n&&(r.push(o),o=[]),n=c,o.push(u)}return 0!==o.length&&r.push(o),r}(i,Pe),(function(e){return(T(e).exists(Pe)?We:Ue)(r,e)}));w(i,(function(t){Ae(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),o=t.sourceList,w(i,(function(e){ie(o,e)})),ce(t.sourceList)}))}function Ge(e,t){var n,r=R(_e(e),Yt),o=R(x(Oe(e),ln),Yt),i=!1;return(r.length||o.length)&&(n=e.selection.getBookmark(),qe(e,r,t),xe(e,t,o),e.selection.moveToBookmark(n),e.selection.setRng(Se(e.selection.getRng())),e.nodeChanged(),i=!0),i}function Xe(e){function t(t){var r,o=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"];1===o.nodeType&&(r=_n.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),t?o.insertBefore(r,o.childNodes[i]):_n.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),n[t?"startContainer":"endContainer"]=o,n[t?"startOffset":"endOffset"]=i}var n={};return t(!0),e.collapsed||t(),n}function Ke(e){function t(t){var n,r=n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];r&&(1===r.nodeType&&(o=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(r),r=r.parentNode,_n.remove(n),!r.hasChildNodes()&&_n.isBlock(r)&&r.appendChild(_n.create("br"))),e[t?"startContainer":"endContainer"]=r,e[t?"startOffset":"endOffset"]=o)}t(!0),t();var n=_n.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),Se(n)}function Ye(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}}function Je(e){return/\btox\-/.test(e.className)}function Qe(e,t){on.each(t,(function(t,n){e.setAttribute(n,t)}))}function Ze(e,t,n){var r,o=e,i=t,a=n;a=a["list-style-type"]||null,o.setStyle(i,"list-style-type",a),o=e,Qe(i=t,(r=n)["list-attributes"]),on.each(o.select("li",i),(function(e){Qe(e,r["list-item-attributes"])}))}function et(e,t,n,r){var o=t[n?"startContainer":"endContainer"];t=t[n?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(t,o.childNodes.length-1)]||o),!n&&dn(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(ge(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o}function tt(e,t,n){var r,o=e.selection.getRng(),i="LI",a=Te(e,e.selection.getStart(!0)),u=e.dom;"false"!==u.getContentEditable(e.selection.getNode())&&("DL"===(t=t.toUpperCase())&&(i="DT"),r=Xe(o),o=function(e,t,n){for(var r,o=[],i=e.dom,a=et(e,t,!0,n),u=et(e,t,!1,n),c=[],s=a;s&&(c.push(s),s!==u);s=s.nextSibling);return on.each(c,(function(t){if(ge(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||dn(t))return dn(t)&&i.remove(t),void(r=null);var a=t.nextSibling;Tn.isBookmarkNode(t)&&(an(a)||ge(e,a)||!a&&t.parentNode===n)?r=null:(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t))})),o}(e,o,a),on.each(o,(function(r){var o,a,c,s=r.previousSibling,l=r.parentNode;sn(l)||(s&&an(s)&&s.nodeName===t&&function(e,t,n){return e=e.getStyle(t,"list-style-type"),t=n?n["list-style-type"]:"",e===(null===t?"":t)}(u,s,n)?(o=s,r=u.rename(r,i),s.appendChild(r)):(o=u.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=u.rename(r,i)),a=u,c=r,l=["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],on.each(l,(function(e){var t;return a.setStyle(c,((t={})[e]="",t))})),Ze(u,o,n),nt(e.dom,o))})),e.selection.setRng(Ke(r)))}function nt(e,t){var n,r=t.nextSibling;if(Dn(e,t,r)){for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(r=t.previousSibling,Dn(e,t,r)){for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}}function rt(e,t,n,r,o){var i,a=an(t);a&&t.nodeName===r&&!ot(o)?On(e):(tt(e,r,o),i=Xe(e.selection.getRng()),a=a?function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([t],n,!0):n,on.each(a,(function(t){var n,i,a,u;n=e,i=r,a=o,(t=t).nodeName!==i?(u=n.dom.rename(t,i),Ze(n.dom,u,a),Ae(n,Ye(i),u)):(Ze(n.dom,t,a),Ae(n,Ye(i),t))})),e.selection.setRng(Ke(i)))}function ot(e){return"list-style-type"in e}function it(e,t){t=on.grep(e.select("ol,ul",t)),on.each(t,(function(t){var n,r,o;n=e,"LI"===(o=(t=t).parentNode).nodeName&&o.firstChild===t&&((r=o.previousSibling)&&"LI"===r.nodeName?(r.appendChild(t),pe(n,o)&&zn.remove(o)):zn.setStyle(o,"listStyleType","none")),an(o)&&(r=o.previousSibling)&&"LI"===r.nodeName&&r.appendChild(t)}))}function at(e,t,n,r){var o=t.startContainer;t=t.startOffset;if(me(o)&&(n?t<o.data.length:0<t))return o;var i=e.schema.getNonEmptyElements(),a=(1===o.nodeType&&(o=Qt.getNode(o,t)),new Zt(o,r));for(n&&(t=e.dom,dn(r=o)&&t.isBlock(r.nextSibling)&&!dn(r.previousSibling)&&a.next());o=a[n?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(i[o.nodeName])return o;if(me(o)&&0<o.data.length)return o}}function ut(e,t){return 1===(t=t.childNodes).length&&!an(t[0])&&e.isBlock(t[0])}function ct(e,t,n){var r,o,i=ut(e,n)?n.firstChild:n;if(ut(n=e,o=t)&&n.remove(o.firstChild,!0),!pe(e,t,!0))for(;r=t.firstChild;)i.appendChild(r)}function st(e,t,n){var r,o=t.parentNode;ve(e,t)&&ve(e,n)&&(an(n.lastChild)&&(r=n.lastChild),o===n.lastChild&&dn(o.previousSibling)&&e.remove(o.previousSibling),(o=n.lastChild)&&dn(o)&&t.hasChildNodes()&&e.remove(o),pe(e,n,!0)&&e.$(n).empty(),ct(e,t,n),r&&n.appendChild(r),o=X(Yt(n),Yt(t))?e.getParents(t,an,n):[],e.remove(t),w(o,(function(t){pe(e,t)&&t!==e.getRoot()&&e.remove(t)})))}function lt(e,t,n,r){var o,i,a,u=e.dom;u.isEmpty(r)?(i=n,a=r,(o=e).dom.$(a).empty(),st(o.dom,i,a),o.selection.setCursorLocation(a,0)):(i=Xe(t),st(u,n,r),e.selection.setRng(Ke(i)))}function ft(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=(o=Te(e,o),n.getParent(r.getStart(),"LI",o));if(i){var a=i.parentNode;if(a===e.getBody()&&pe(n,a))return!0;var u=Se(r.getRng()),c=n.getParent(at(e,u,t,o),"LI",o);if(c&&c!==i)return e.undoManager.transact((function(){var n,r,o,a;t?lt(e,u,c,i):i.parentNode.firstChild===i?kn(e):(n=e,o=i,a=c,r=Xe(r=u),st(n.dom,o,a),o=Ke(r),n.selection.setRng(o))})),!0;if(!c&&!t&&0===u.startOffset&&0===u.endOffset)return e.undoManager.transact((function(){On(e)})),!0}return!1}function dt(e,t){var n=e.dom,r=e.selection.getStart(),o=Te(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){r=Se(e.selection.getRng());var a=n.getParent(at(e,r,t,o),"LI",o);if(a)return e.undoManager.transact((function(){var r=n,u=i,c=o;c=r.getParent(u.parentNode,r.isBlock,c),r.remove(u),c&&r.isEmpty(c)&&r.remove(c),nt(n,a.parentNode),e.selection.select(a,!0),e.selection.collapse(t)})),!0}return!1}function mt(e){return e=k(Ot(e).split("")),e=R(e,(function(e,t){return e=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1,Math.pow(26,t)*e})),C(e,(function(e,t){return e+t}),0)}function gt(e){var t;return--e<0?"":(t=e%26,e=Math.floor(e/26),gt(e)+String.fromCharCode("A".charCodeAt(0)+t))}function ht(e){function t(t){return function(){return e.execCommand(t)}}e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return En(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return En(e,"UL",t.setActive)}}))}var pt,vt,bt,yt,wt,xt=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Ct=function(e,t){return{major:e,minor:t}},St={nu:Ct,detect:function(e,t){return t=String(t).toLowerCase(),0===e.length?I():P(e,t)},unknown:I},kt=function(e,t){var n=String(t).toLowerCase();return N(e,(function(e){return e.search(n)}))},Ot=(pt=/^\s+|\s+$/g,function(e){return e.replace(pt,"")}),Tt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_t=(Tt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return F(e,"edge/")&&F(e,"chrome")&&F(e,"safari")&&F(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tt],search:function(e){return F(e,"chrome")&&!F(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return F(e,"msie")||F(e,"trident")}},{name:"Opera",versionRegexes:[Tt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:V("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:V("firefox")},{name:"Safari",versionRegexes:[Tt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(F(e,"safari")||F(e,"mobile/"))&&F(e,"applewebkit")}}],[{name:"Windows",search:V("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return F(e,"iphone")||F(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:V("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:V("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:V("linux"),versionRegexes:[]},{name:"Solaris",search:V("sunos"),versionRegexes:[]},{name:"FreeBSD",search:V("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:V("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]),Et={browsers:g(Tt),oses:g(_t)},Dt="Edge",At="Chrome",zt="IE",Mt="Opera",Rt="Firefox",Nt="Safari",Bt=function(){return j({current:void 0,version:St.unknown()})},Ht=j,Lt=(g(Dt),g(At),g(zt),g(Mt),g(Rt),g(Nt),"Windows"),Pt="iOS",It="Android",Ft="Linux",Vt="OSX",jt="Solaris",Ut="FreeBSD",Wt="ChromeOS",$t=function(){return U({current:void 0,version:St.unknown()})},qt=U,Gt=(g(Lt),g(Pt),g(It),g(Ft),g(Vt),g(jt),g(Ut),g(Wt),function(e,t,n){var r,o,i,a,u,c,s,l=Et.browsers(),f=Et.oses(),d=(t=t.bind((function(e){return t=l,H(e.brands,(function(e){var n=e.brand.toLowerCase();return N(t,(function(e){return n===(null===(e=e.brand)||void 0===e?void 0:e.toLowerCase())})).map((function(t){return{current:t.name,version:St.nu(parseInt(e.version,10),0)}}))}));var t})).orThunk((function(){return kt(l,t=e).map((function(e){var n=St.detect(e.versionRegexes,t);return{current:e.name,version:n}}));var t})).fold(Bt,Ht),f=kt(f,r=e).map((function(e){var t=St.detect(e.versionRegexes,r);return{current:e.name,version:t}})).fold($t,qt),i=t,a=e,n=n,d=(o=f).isiOS()&&!0===/ipad/i.test(a),u=o.isiOS()&&!d,c=o.isiOS()||o.isAndroid(),s=c||n("(pointer:coarse)"),n=d||!u&&c&&n("(min-device-width:768px)"),c=u||c&&!n,i=i.isSafari()&&o.isiOS()&&!1===/safari/i.test(a),a=!c&&!n&&!i,{isiPad:g(d),isiPhone:g(u),isTablet:g(n),isPhone:g(c),isTouch:g(s),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:g(i),isDesktop:g(a)});return{browser:t,os:f,deviceType:d}}),Xt=(yt=!(vt=function(){return Gt(navigator.userAgent,A(navigator.userAgentData),W)}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yt||(yt=!0,bt=vt.apply(null,e)),bt}),Kt=function(e,t){return t=(t||document).createElement(e),$(t)},Yt=$,Jt=function(e,t){if(e=e.dom,1!==e.nodeType)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Qt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Zt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),en=tinymce.util.Tools.resolve("tinymce.util.VK"),tn=Object.keys,nn=("undefined"!=typeof window||Function("return this;")(),wt=1,function(e){return e.dom.nodeType===wt}),rn=function(e){return R(e.dom.childNodes,Yt)},on=(Tt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tinymce.util.Tools.resolve("tinymce.util.Tools")),an=de(/^(OL|UL|DL)$/),un=de(/^(OL|UL)$/),cn=fe("ol"),sn=de(/^(LI|DT|DD)$/),ln=de(/^(DT|DD)$/),fn=de(/^(TH|TD)$/),dn=fe("br"),mn=function(e){return e.getParam("lists_indent_on_tab",!0)},gn=Tt.DOM,hn=Q("dd"),pn=Q("dt"),vn=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),bn=function(e,t){return t=t||e.selection.getStart(!0),e.dom.getParent(t,"OL,UL,DL",Te(e,t))},yn=function(e,t){return e=e.dom.getParents(t,"ol,ul",Te(e,t)),_(e)},wn=function(e){return Jt(e,"OL,UL")},xn=function(e,t,n,r){return re(r).filter(wn).fold((function(){t.each((function(e){q(e.start,r)&&n.set(!0)})),o=r,i=e,a=n.get();var o,i,a,u=te(o).filter(nn).map((function(e){return{depth:i,dirty:!1,isSelected:a,content:Fe(o),itemAttributes:ee(o),listAttributes:ee(e),listType:J(e)}})),c=(t.each((function(e){q(e.end,r)&&n.set(!1)})),oe(r).filter(wn).map((function(r){return Cn(e,t,n,r)})).getOr([]));return u.toArray().concat(c)}),(function(r){return Cn(e,t,n,r)}))},Cn=function(e,t,n,r){return B(rn(r),(function(r){return(wn(r)?Cn:xn)(e+1,t,n,r)}))},Sn=function(e){return Ge(e,"Indent")},kn=function(e){return Ge(e,"Outdent")},On=function(e){return Ge(e,"Flatten")},Tn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),_n=Tt.DOM,En=function(e,t,n){function r(e){e=S(e.parents,an,fn).filter((function(e){return e.nodeName===t&&!Je(e)})).isSome(),n(e)}var o=e.dom.getParents(e.selection.getNode());return r({parents:o}),e.on("NodeChange",r),function(){return e.off("NodeChange",r)}},Dn=function(e,t,n){return o=n,(r=t)&&o&&an(r)&&r.nodeName===o.nodeName&&(r=n,(o=e).getStyle(t,"list-style-type",!0)===o.getStyle(r,"list-style-type",!0))&&t.className===n.className;var r,o},An=function(e,t,n){var r,o=bn(e),i=ke(e);n=s(n)?n:{};0<i.length?rt(e,o,i,t,n):(i=t,t=n,(n=o)!==(o=e).getBody()&&(n?n.nodeName!==i||ot(t)||Je(n)?(e=Xe(o.selection.getRng()),Ze(o.dom,n,t),r=o.dom.rename(n,i),nt(o.dom,r),o.selection.setRng(Ke(e)),tt(o,i,t),Ae(o,Ye(i),r)):On(o):(tt(o,i,t),Ae(o,Ye(i),n))))},zn=Tt.DOM,Mn=function(e,t){return e.selection.isCollapsed()?ft(r=e,t=t)||dt(r,t):(r=(n=e).selection.getStart(),t=Te(n,r),!!(n.dom.getParent(r,"LI,DT,DD",t)||0<Oe(n).length)&&(n.undoManager.transact((function(){n.execCommand("Delete"),it(n.dom,n.getBody())})),!0));var n,r},Rn=function(e){e.on("keydown",(function(t){t.keyCode===en.BACKSPACE?Mn(e,!1)&&t.preventDefault():t.keyCode===en.DELETE&&Mn(e,!0)&&t.preventDefault()}))},Nn=function(e,t){var n=bn(e);e.undoManager.transact((function(){s(t.styles)&&e.dom.setStyles(n,t.styles),s(t.attrs)&&K(t.attrs,(function(t,r){return e.dom.setAttrib(n,r,t)}))}))},Bn=function(e){var t,n=bn(e);cn(n)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:(n={start:e.dom.getAttrib(n,"start","1"),listStyleType:E(e.dom.getStyle(n,"list-style-type"))},t=parseInt(n.start,10),Ee(n.listStyleType,"upper-alpha")?gt(t):Ee(n.listStyleType,"lower-alpha")?gt(t).toLowerCase():n.start)},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){(function(e){switch(/^[0-9]+$/.test(t=e)?2:/^[A-Z]+$/.test(t)?0:/^[a-z]+$/.test(t)?1:0<t.length?4:3){case 2:return E({listStyleType:D(),start:e});case 0:return E({listStyleType:E("upper-alpha"),start:mt(e).toString()});case 1:return E({listStyleType:E("lower-alpha"),start:mt(e).toString()});case 3:return E({listStyleType:D(),start:""});case 4:return D()}var t})(t.getData().start).each((function(t){e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},Hn=function(e,t){return function(){var n=bn(e);return n&&n.nodeName===t}},Ln=function(e){e.addCommand("mceListProps",(function(){Bn(e)}))},Pn=function(e){e.on("keydown",(function(t){t.keyCode!==en.TAB||en.metaKeyPressed(t)||e.undoManager.transact((function(){(t.shiftKey?kn:Sn)(e)&&t.preventDefault()}))}))};u.add("lists",(function(e){var t,n,r,o;return!1===e.hasPlugin("rtc",!0)?(mn(n=e)&&Pn(n),Rn(n),(t=e).on("BeforeExecCommand",(function(e){e=e.command.toLowerCase(),"indent"===e?Sn(t):"outdent"===e&&kn(t)})),t.addCommand("InsertUnorderedList",(function(e,n){An(t,"UL",n)})),t.addCommand("InsertOrderedList",(function(e,n){An(t,"OL",n)})),t.addCommand("InsertDefinitionList",(function(e,n){An(t,"DL",n)})),t.addCommand("RemoveList",(function(){On(t)})),Ln(t),t.addCommand("mceListUpdate",(function(e,n){s(n)&&Nn(t,n)})),t.addQueryStateHandler("InsertUnorderedList",Hn(t,"UL")),t.addQueryStateHandler("InsertOrderedList",Hn(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",Hn(t,"DL"))):Ln(e),ht(e),(r=e).ui.registry.addMenuItem("listprops",{text:"List properties...",icon:"ordered-list",onAction:function(){return r.execCommand("mceListProps")},onSetup:function(e){return En(r,"OL",(function(t){return e.setDisabled(!t)}))}}),r.ui.registry.addContextMenu("lists",{update:function(e){return e=bn(r,e),cn(e)?["listprops"]:[]}}),o=e,{backspaceDelete:function(e){Mn(o,e)}}}))}()},3699:function(e,t){!function(){"use strict";function e(e){return function(t){return n=typeof(t=t),(null===t?"null":"object"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n)===e;var n}}function t(e){return!(null==e)}function n(e){return function(){return e}}function r(e){return e}function o(){return d}var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=e("string"),c=e("object"),s=e("array"),l=n(!1),f=n(!0),d={fold:function(e,t){return e()},isSome:l,isNone:f,getOr:r,getOrThunk:m,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:n(null),getOrUndefined:n(void 0),or:r,orThunk:m,map:o,each:function(){},bind:o,exists:l,forall:f,filter:function(){return d},toArray:function(){return[]},toString:n("none()")};function m(e){return e()}function g(e){function t(){return i}function r(t){return t(e)}var o=n(e),i={fold:function(t,n){return n(e)},isSome:f,isNone:l,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:t,orThunk:t,map:function(t){return g(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i}function h(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function p(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function v(e,t){return b(e,t)?$(e[t]):W()}function b(e,t){return X.call(e,t)}function y(e){return e.getParam("media_scripts")}function w(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]}function x(e){return e.replace(/px$/,"")}function C(e,t){var n=p(!1),r={};return J({validate:!1,allow_conditional_comments:!0,start:function(t,o){if(!n.get())if(b(o.map,"data-ephox-embed-iri"))n.set(!0),a=(a=(i=o).map.style)?Q.parseStyle(a):{},r={type:"ephox-embed-iri",source:i.map["data-ephox-embed-iri"],altsource:"",poster:"",width:v(a,"max-width").map(x).getOr(""),height:v(a,"max-height").map(x).getOr("")};else{if(r.source||"param"!==t||(r.source=o.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(r.type||(r.type=t),r=K.extend(o.map,r)),"script"===t){if(i=w(e,o.map.src),!i)return;r={type:"script",source:o.map.src,width:String(i.width),height:String(i.height)}}"source"===t&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src),"img"!==t||r.poster||(r.poster=o.map.src)}var i,a}}).parse(t),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r}function S(e){return(e={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()])||""}function k(e){return/^[0-9.]+$/.test(e)?e+"px":e}function O(e,t){for(var n=t,r=function(t,n){var r=""+t;if(e.map[n])for(var o=e.length;o--;){var i=e[o];i.name===n&&(r?(e.map[n]=r,i.value=r):(delete e.map[n],e.splice(o,1)))}else r&&(e.push({name:n,value:r}),e.map[n]=r)},o=G(n),i=0,a=o.length;i<a;i++){var u=o[i];r(n[u],u)}}function T(e,t){for(var n=function(e){return e=e.match(/^(https?:\/\/|www\.)(.+)$/i),e&&1<e.length&&"www."!==e[1]?e[1]:"https://"}(t),r=e.regex.exec(t),o=n+e.url,i=0;i<r.length;i++)!function(e){o=o.replace("$"+e,(function(){return r[e]||""}))}(i);return o.replace(/\?$/,"")}function _(e,t){var n,r,o,i,a=K.extend({},t);return a.source||(K.extend(a,C(y(e),a.embed)),a.source)?(a.altsource||(a.altsource=""),a.poster||(a.poster=""),a.source=e.convertURL(a.source,"source"),a.altsource=e.convertURL(a.altsource,"source"),a.sourcemime=S(a.source),a.altsourcemime=S(a.altsource),a.poster=e.convertURL(a.poster,"poster"),n=a.source,(t=0<(t=oe.filter((function(e){return e.regex.test(n)}))).length?K.extend({},t[0],{url:T(t[0],n)}):null)&&(a.source=t.url,a.type=t.type,a.allowfullscreen=t.allowFullscreen,a.width=a.width||String(t.w),a.height=a.height||String(t.h)),a.embed?re(a.embed,a,!0):((t=w(y(e),a.source))&&(a.type="script",a.width=String(t.width),a.height=String(t.height)),t=e.getParam("audio_template_callback"),r=e.getParam("video_template_callback"),a.width=a.width||"300",a.height=a.height||"150",K.each(a,(function(t,n){a[n]=e.dom.encode(""+t)})),"iframe"===a.type?(i=a.allowfullscreen?' allowFullscreen="1"':"",'<iframe src="'+a.source+'" width="'+a.width+'" height="'+a.height+'"'+i+"></iframe>"):"application/x-shockwave-flash"===a.sourcemime?(o='<object data="'+(i=a).source+'" width="'+i.width+'" height="'+i.height+'" type="application/x-shockwave-flash">',i.poster&&(o+='<img src="'+i.poster+'" width="'+i.width+'" height="'+i.height+'" />'),o+="</object>"):-1!==a.sourcemime.indexOf("audio")?(o=a,(t=t)?t(o):'<audio controls="controls" src="'+o.source+'">'+(o.altsource?'\n<source src="'+o.altsource+'"'+(o.altsourcemime?' type="'+o.altsourcemime+'"':"")+" />\n":"")+"</audio>"):"script"===a.type?'<script src="'+a.source+'"><\/script>':(t=a,(r=r)?r(t):'<video width="'+t.width+'" height="'+t.height+'"'+(t.poster?' poster="'+t.poster+'"':"")+' controls="controls">\n<source src="'+t.source+'"'+(t.sourcemime?' type="'+t.sourcemime+'"':"")+" />\n"+(t.altsource?'<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</video>"))):""}function E(e,t,n){return new ae((function(r,o){function i(n){return n.html&&(ue[e.source]=n),r({url:e.source,html:n.html||t(e)})}ue[e.source]?i(ue[e.source]):n({url:e.source},i,o)}))}function D(e){return function(t){return _(e,t)}}function A(e,t){var n=e.getParam("media_url_resolver");return n?E(t,D(e),n):(n=t,t=D(e),ae.resolve({html:t(n),url:n.source}))}function z(e,t){var n,r,o,i,u,s=t?v(e,t).bind((function(e){return v(e,"meta")})).getOr({}):{};return n=e,r=s,o=t,a(a(a(a(a({},(t=function(e){var t=function(){return v(n,e)},i=function(){return v(r,e)},a=function(e){return v(e,"value").bind((function(e){return 0<e.length?U(e):W()}))},u={};return u[e]=(e===o?t().bind((function(e){return c(e)?a(e).orThunk(i):i().orThunk((function(){return $(e)}))})):i().orThunk((function(){return t().bind((function(e){return(c(e)?a:$)(e)}))}))).getOr(""),u})("source")),t("altsource")),t("poster")),t("embed")),(i=s,u={},v(e,"dimensions").each((function(e){h(["width","height"],(function(t){v(i,t).orThunk((function(){return v(e,t)})).each((function(e){return u[t]=e}))}))})),u))}function M(e){var t=a(a({},e),{source:{value:v(e,"source").getOr("")},altsource:{value:v(e,"altsource").getOr("")},poster:{value:v(e,"poster").getOr("")}});return h(["width","height"],(function(n){v(e,n).each((function(e){var r=t.dimensions||{};r[n]=e,t.dimensions=r}))})),t}function R(e){return function(t){t=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.",e.notificationManager.open({type:"error",text:t})}}function N(e,t){return C(y(e),t)}function B(e,t){return function(n){var r,o;u(n.url)&&0<n.url.trim().length&&(r=n.html,o=N(t,r),o=a(a({},o),{source:n.url,embed:r}),e.setData(M(o)))}}function H(e,t){var n=e.dom.select("*[data-mce-object]");e.insertContent(t);for(var r=n,o=(t=e).dom.select("*[data-mce-object]"),i=0;i<r.length;i++)for(var a=o.length-1;0<=a;a--)r[i]===o[a]&&o.splice(a,1);t.selection.select(o[0]),e.nodeChanged()}function L(e,t,n){t.embed=re(t.embed,t),t.embed&&(e.source===t.source||(e=t.source,b(ue,e)))?H(n,t.embed):A(n,t).then((function(e){H(n,e.html)})).catch(R(n))}function P(e,n,r,o){return void 0===o&&(o=null),e=e.attr(r),t(e)?e:b(n,r)?null:o}function I(e,t,n){var r="img"===t.name||"video"===e.name,o="audio"===e.name?"30":"150";o=r?o:null;t.attr({width:P(e,n,"width",r?"300":null),height:P(e,n,"height",o)})}function F(e,n){var r=n.name,o=new se("span",1),i=(o.attr({contentEditable:"false",style:n.attr("style"),"data-mce-object":r,class:"mce-preview-object mce-object-"+r}),V(e,n,o),e.dom.parseStyle(n.attr("style"))),a=new se(r,1);if(I(n,a,i),a.attr({src:n.attr("src"),style:n.attr("style"),class:n.attr("class")}),"iframe"===r)a.attr({allowfullscreen:n.attr("allowfullscreen"),frameborder:"0"});else if(h(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(function(e){a.attr(e,n.attr(e))})),i=o.attr("data-mce-html"),t(i))for(var u=a,c=(i=unescape(i),fe({forced_root_block:!1,validate:!1},e.schema).parse(i,{context:r}));c.firstChild;)u.append(c.firstChild);return(e=new se("span",1)).attr("class","mce-shim"),o.append(a),o.append(e),o}function V(e,t,n){for(var r=t.attributes,o=r.length;o--;){var i=r[o].name,a=r[o].value;"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(a=e.convertURL(a,i)),n.attr("data-mce-p-"+i,a))}(t=t.firstChild&&t.firstChild.value)&&(n.attr("data-mce-html",escape(de(e,t))),n.firstChild=null)}function j(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri")||function(e){return e=e.attr("class"),e&&/\btiny-pageembed\b/.test(e)}(e))return 1}var U=g,W=o,$=function(e){return null==e?d:g(e)},q=Array.prototype.push,G=Object.keys,X=Object.hasOwnProperty,K=tinymce.util.Tools.resolve("tinymce.util.Tools"),Y=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),J=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),Q=Y.DOM,Z=tinymce.util.Tools.resolve("tinymce.html.Schema"),ee=tinymce.util.Tools.resolve("tinymce.html.Writer"),te=Y.DOM,ne=["source","altsource"],re=function(e,t,n){var r,o=ee(),i=p(!1),a=0;return J({validate:!1,allow_conditional_comments:!0,comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,u,c){if(!i.get())if(b(u.map,"data-ephox-embed-iri"))i.set(!0),s=t,(f=(f=(l=u).map.style)?te.parseStyle(f):{})["max-width"]=k(s.width),f["max-height"]=k(s.height),O(l,{style:te.serializeStyle(f)});else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&O(u,{width:t.width,height:t.height})}if(n)switch(e){case"video":O(u,{poster:t.poster,src:""}),t.altsource&&O(u,{src:""});break;case"iframe":O(u,{src:t.source});break;case"source":if(a<2&&(O(u,{src:t[ne[a]],type:t[ne[a]+"mime"]}),!t[ne[a]]))return;a++;break;case"img":if(!t.poster)return;r=!0}}var s,l,f;o.start(e,u,c)},end:function(e){if(!i.get()){if("video"===e&&n)for(var u,c=0;c<2;c++)t[ne[c]]&&((u=[]).map={},a<=c&&(O(u,{src:t[ne[c]],type:t[ne[c]+"mime"]}),o.start("source",u,!0)));var s;t.poster&&"object"===e&&n&&!r&&((s=[]).map={},O(s,{src:t.poster,width:t.width,height:t.height}),o.start("img",s,!0))}o.end(e)}},Z({})).parse(e),o.getContent()},oe=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],ie=function(e){return e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri")},ae=tinymce.util.Tools.resolve("tinymce.util.Promise"),ue={},ce=function(e){r=(t=e).selection.getNode(),r=ie(r)?t.serializer.serialize(r,{selection:!0}):"";var t=a({embed:r},C(y(t),r)),n=p(t),r=M(t),o=(t={title:"General",name:"general",items:function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);q.apply(t,e[n])}return t}([[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],e.getParam("media_dimensions",!0)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[]])},{title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]}),i=[],u=(e.getParam("media_alt_source",!0)&&i.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),e.getParam("media_poster",!0)&&i.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"}),{title:"Advanced",name:"advanced",items:i});t=[t,o];0<i.length&&t.push(u);var c=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:{type:"tabpanel",tabs:t},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var r=z(t.getData());L(n.get(),r,e),t.close()},onChange:function(t,r){switch(r.name){case"source":var o=n.get(),i=t;i=z(i.getData(),"source"),o.source!==i.source&&(B(c,e)({url:i.source,html:""}),A(e,i).then(B(c,e)).catch(R(e)));break;case"embed":i=z((o=t).getData()),i=N(e,i.embed),o.setData(M(i));break;case"dimensions":case"altsource":case"poster":u=t,s=r.name,s=z(u.getData(),s),l=_(e,s),u.setData(M(a(a({},s),{embed:l})))}var u,s,l;n.set(z(t.getData()))},initialData:r})},se=tinymce.util.Tools.resolve("tinymce.html.Node"),le=tinymce.util.Tools.resolve("tinymce.Env"),fe=tinymce.util.Tools.resolve("tinymce.html.DomParser"),de=function(e,t){if(!1===e.getParam("media_filter_html",!0))return t;var n,r=ee();return J({validate:!1,allow_conditional_comments:!1,comment:function(e){n||r.comment(e)},cdata:function(e){n||r.cdata(e)},text:function(e,t){n||r.text(e,t)},start:function(t,o,i){if(n=!0,"script"!==t&&"noscript"!==t&&"svg"!==t){for(var a=o.length-1;0<=a;a--){var u=o[a].name;0===u.indexOf("on")&&(delete o.map[u],o.splice(a,1)),"style"===u&&(o[a].value=e.dom.serializeStyle(e.dom.parseStyle(o[a].value),t))}r.start(t,o,i),n=!1}},end:function(e){n||r.end(e)}},Z({})).parse(t),r.getContent()},me=function(e){return function(t){for(var n,r,o,i,a,u=t.length;u--;)(o=t[u]).parent&&(o.parent.attr("data-mce-object")||"script"===o.name&&!(n=w(y(e),o.attr("src")))||(n&&(n.width&&o.attr("width",n.width.toString()),n.height&&o.attr("height",n.height.toString())),function(e){return e=e.name,"iframe"===e||"video"===e||"audio"===e}(o)&&e.getParam("media_live_embeds",!0)&&le.ceFalse?j(o)||o.replace(F(e,o)):j(o)||o.replace((r=e,a=i=void 0,i=(o=o).name,(a=new se("img",1)).shortEnded=!0,V(r,o,a),I(o,a,{}),a.attr({style:o.attr("style"),src:le.transparentSrc,"data-mce-object":i,class:"mce-object mce-object-"+i}),a))))}};i.add("media",(function(e){var t,n,r,o,i;function a(){return n.execCommand("mceMedia")}return(t=e).addCommand("mceMedia",(function(){ce(t)})),(n=e).ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:a,onSetup:function(e){var t=n.selection;return e.setActive(ie(t.getNode())),t.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",e.setActive).unbind}}),n.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:a}),e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})),(r=e).on("preInit",(function(){var e=r.schema.getSpecialElements(),t=(K.each("video audio iframe object".split(" "),(function(t){e[t]=new RegExp("</"+t+"[^>]*>","gi")})),r.schema.getBoolAttrs());K.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){t[e]={}})),r.parser.addNodeFilter("iframe,video,audio,object,embed,script",me(r)),r.serializer.addAttributeFilter("data-mce-object",(function(e,t){for(var n,o,i,a,u,c,s=e.length;s--;)if((n=e[s]).parent){for(u=n.attr(t),o=new se(u,1),"audio"!==u&&"script"!==u&&((c=n.attr("class"))&&-1!==c.indexOf("mce-preview-object")?o.attr({width:n.firstChild.attr("width"),height:n.firstChild.attr("height")}):o.attr({width:n.attr("width"),height:n.attr("height")})),o.attr({style:n.attr("style")}),i=(a=n.attributes).length;i--;){var l=a[i].name;0===l.indexOf("data-mce-p-")&&o.attr(l.substr(11),a[i].value)}"script"===u&&o.attr("type","text/javascript"),(c=n.attr("data-mce-html"))&&((u=new se("#text",3)).raw=!0,u.value=de(r,unescape(c)),o.append(u)),n.replace(o)}}))})),r.on("SetContent",(function(){r.$("span.mce-preview-object").each((function(e,t){t=r.$(t),0===t.find("span.mce-shim").length&&t.append('<span class="mce-shim"></span>')}))})),(o=e).on("click keyup touchend",(function(){var e=o.selection.getNode();e&&o.dom.hasClass(e,"mce-preview-object")&&o.dom.getAttrib(e,"data-mce-selected")&&e.setAttribute("data-mce-selected","2")})),o.on("ObjectSelected",(function(e){"script"===e.target.getAttribute("data-mce-object")&&e.preventDefault()})),o.on("ObjectResized",(function(e){var t,n=e.target;!n.getAttribute("data-mce-object")||(t=n.getAttribute("data-mce-html"))&&(t=unescape(t),n.setAttribute("data-mce-html",escape(re(t,{width:String(e.width),height:String(e.height)}))))})),i=e,{showDialog:function(){ce(i)}}}))}()},"3aea":function(e,t,n){n("3699")},"4e44":function(e,t,n){},"4e65":function(e,t,n){"use strict";n("7adc")},"4ea8":function(e,t,n){n("cdd9")},"683d":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return g}));var r=n("1da1"),o=(n("96cf"),n("7424")),i=n("b775");function a(e,t,n){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(o.HELPCENTERGETPAGE,i.a.POST,{currentPage:t,pageSize:n,dynamicFilter:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return s.apply(this,arguments)}function s(){return(s=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(o.HELPCENTERADD,i.a.POST,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(o.HELPCENTERGET,i.a.GET,{id:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(o.HELPCENTERUPDATE,i.a.PUT,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.e)(o.HELPCENTERSOFTDELETE,i.a.DELETE,{id:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"7adc":function(e,t,n){},"84ec":function(e,t,n){n("2401")},9434:function(e,t,n){n("e8b0")},"94ce":function(e,t){!function(){"use strict";function e(e){return function(t){return n=typeof(t=t),(null===t?"null":"object"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n)===e;var n}}function t(e){return function(t){return typeof t===e}}function n(e){return function(t){return e===t}}function r(e,t){return e===t}var o=e("string"),i=e("object"),a=e("array"),u=n(null),c=t("boolean"),s=n(void 0),l=function(e){return!(null==e)},f=t("function"),d=t("number"),m=function(){},g=function(e){return function(){return e}},h=function(e){return e};function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function v(e){return function(t){return!e(t)}}function b(){return x}var y=g(!1),w=g(!0),x={fold:function(e,t){return e()},isSome:y,isNone:w,getOr:Ie=h,getOrThunk:C,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:Ie,orThunk:C,map:b,each:m,bind:b,exists:y,forall:w,filter:function(){return x},toArray:function(){return[]},toString:g("none()")};function C(e){return e()}function S(e){function t(){return o}function n(t){return t(e)}var r=g(e),o={fold:function(t,n){return n(e)},isSome:w,isNone:y,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:t,orThunk:t,map:function(t){return S(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?o:x},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o}function k(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}function O(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}function T(e){return[e]}function _(e,t){return 0<=t&&t<e.length?E.some(e[t]):E.none()}var E={some:S,none:b,from:function(e){return null==e?x:S(e)}},D=Array.prototype.slice,A=Array.prototype.indexOf,z=Array.prototype.push,M=function(e,t){return A.call(e,t)},R=function(e,t){return-1<M(e,t)},N=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},B=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},H=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},L=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)},P=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},I=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},F=function(e,t,n){return L(e,(function(e,r){n=t(n,e,r)})),n},V=function(e,t,n){return H(e,(function(e,r){n=t(n,e,r)})),n},j=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return E.some(i);if(n(i,r))break}return E.none()},U=function(e,t){return j(e,t,y)},W=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return E.some(n);return E.none()},$=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);z.apply(t,e[n])}return t},q=function(e,t){return $(B(e,t))},G=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},X=function(e,t){return e=D.call(e,0),e.sort(t),e},K=function(e){return _(e,0)},Y=function(e){return _(e,e.length-1)},J=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return E.none()},Q=function(){return(Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Z(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function ee(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}function te(e,t){var n=Re(e,t);return n?Ne(r(1),r(2)):{major:0,minor:0};function r(e){return Number(t.replace(n,"$"+e))}}function ne(){return Ne(0,0)}function re(e,t){return-1!==e.indexOf(t)}function oe(e,t){return Le(e,t,0)}function ie(e,t){return Le(e,t,e.length-t.length)}function ae(e){return 0<e.length}function ue(e){return function(t){return re(t,e)}}function ce(e){function t(e){return function(){return n===e}}var n=e.current;e=e.version;return{current:n,version:e,isEdge:t(je),isChrome:t(Ue),isIE:t(We),isOpera:t($e),isFirefox:t(qe),isSafari:t(Ge)}}function se(e){function t(e){return function(){return n===e}}var n=e.current;e=e.version;return{current:n,version:e,isWindows:t(Ye),isiOS:t(Je),isAndroid:t(Qe),isOSX:t(et),isLinux:t(Ze),isSolaris:t(tt),isFreeBSD:t(nt),isChromeOS:t(rt)}}function le(e){return window.matchMedia(e).matches}function fe(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}function de(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount}function me(e,t){return t=void 0===t?document:t.dom,de(t)?E.none():E.from(t.querySelector(e)).map(lt.fromDom)}function ge(e,t){return e=e.dom,t=t.dom,n=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(e.compareDocumentPosition(t)&n);var n}function he(e,t){return(ct().browser.isIE()?ge:function(e,t){return e=e.dom,t=t.dom,e!==t&&e.contains(t)})(e,t)}function pe(e,t){var n,r,o,i,a={};return n=t,i=a,r=function(e,t){i[t]=e},o=m,vt(e,(function(e,t){(n(e,t)?r:o)(e,t)})),a}function ve(e){return ht(e).length}function be(e,t){return ye(e,t)?E.from(e[t]):E.none()}function ye(e,t){return pt.call(e,t)}function we(e,t,n){return{element:e,rowspan:t,colspan:n}}function xe(e){return function(t){return At(t)===e}}function Ce(e){return At(e)===st||"#comment"===Dt(e)}function Se(e){return function(t){return zt(t)&&Dt(t)===e}}function ke(e){return lt.fromDom(e.dom.ownerDocument)}function Oe(e,t){for(var n=f(t)?t:y,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=lt.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}function Te(e){return E.from(e.dom.previousSibling).map(lt.fromDom)}function _e(e,t){return e=e.dom.childNodes,E.from(e[t]).map(lt.fromDom)}function Ee(e){return lt.fromDom(e.dom.host)}function De(e){if(null==(e=e.dom.body))throw new Error("Body is not available yet");return lt.fromDom(e)}function Ae(e,t,n){return r=function(e){return ft(e,t)},I(Oe(e,n),r);var r}function ze(e,t){return dt(t,e)}var Me,Re=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Ne=function(e,t){return{major:e,minor:t}},Be={nu:Ne,detect:function(e,t){return t=String(t).toLowerCase(),0===e.length?ne():te(e,t)},unknown:ne},He=function(e,t){var n=String(t).toLowerCase();return U(e,(function(e){return e.search(n)}))},Le=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},Pe=(Me=/^\s+|\s+$/g,function(e){return e.replace(Me,"")}),Ie=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Fe=(Ie=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return re(e,"edge/")&&re(e,"chrome")&&re(e,"safari")&&re(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ie],search:function(e){return re(e,"chrome")&&!re(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return re(e,"msie")||re(e,"trident")}},{name:"Opera",versionRegexes:[Ie,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ue("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ue("firefox")},{name:"Safari",versionRegexes:[Ie,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(re(e,"safari")||re(e,"mobile/"))&&re(e,"applewebkit")}}],[{name:"Windows",search:ue("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return re(e,"iphone")||re(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ue("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ue("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ue("linux"),versionRegexes:[]},{name:"Solaris",search:ue("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ue("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ue("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]),Ve={browsers:g(Ie),oses:g(Fe)},je="Edge",Ue="Chrome",We="IE",$e="Opera",qe="Firefox",Ge="Safari",Xe=function(){return ce({current:void 0,version:Be.unknown()})},Ke=ce,Ye=(g(je),g(Ue),g(We),g($e),g(qe),g(Ge),"Windows"),Je="iOS",Qe="Android",Ze="Linux",et="OSX",tt="Solaris",nt="FreeBSD",rt="ChromeOS",ot=function(){return se({current:void 0,version:Be.unknown()})},it=se,at=(g(Ye),g(Je),g(Qe),g(Ze),g(et),g(tt),g(nt),g(rt),function(e,t,n){var r,o,i,a,u,c,s,l=Ve.browsers(),f=Ve.oses(),d=(t=t.bind((function(e){return t=l,J(e.brands,(function(e){var n=e.brand.toLowerCase();return U(t,(function(e){return n===(null===(e=e.brand)||void 0===e?void 0:e.toLowerCase())})).map((function(t){return{current:t.name,version:Be.nu(parseInt(e.version,10),0)}}))}));var t})).orThunk((function(){return He(l,t=e).map((function(e){var n=Be.detect(e.versionRegexes,t);return{current:e.name,version:n}}));var t})).fold(Xe,Ke),f=He(f,r=e).map((function(e){var t=Be.detect(e.versionRegexes,r);return{current:e.name,version:t}})).fold(ot,it),i=t,a=e,n=n,d=(o=f).isiOS()&&!0===/ipad/i.test(a),u=o.isiOS()&&!d,c=o.isiOS()||o.isAndroid(),s=c||n("(pointer:coarse)"),n=d||!u&&c&&n("(min-device-width:768px)"),c=u||c&&!n,i=i.isSafari()&&o.isiOS()&&!1===/safari/i.test(a),a=!c&&!n&&!i,{isiPad:g(d),isiPhone:g(u),isTablet:g(n),isPhone:g(c),isTouch:g(s),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:g(i),isDesktop:g(a)});return{browser:t,os:f,deviceType:d}}),ut=ee((function(){return at(navigator.userAgent,E.from(navigator.userAgentData),le)})),ct=function(){return ut()},st=8,lt={fromHtml:function(e,t){if(t=(t||document).createElement("div"),t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw new Error("HTML must have a single root node");return fe(t.childNodes[0])},fromTag:function(e,t){return t=(t||document).createElement(e),fe(t)},fromText:function(e,t){return t=(t||document).createTextNode(e),fe(t)},fromDom:fe,fromPoint:function(e,t,n){return E.from(e.dom.elementFromPoint(t,n)).map(fe)}},ft=function(e,t){if(e=e.dom,1!==e.nodeType)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},dt=function(e,t){return t=void 0===t?document:t.dom,de(t)?[]:B(t.querySelectorAll(e),lt.fromDom)},mt=function(e,t){return e.dom===t.dom},gt=ft,ht=Object.keys,pt=Object.hasOwnProperty,vt=function(e,t){for(var n=ht(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},bt=function(e,t){return n=function(e,n){return{k:n,v:t(e,n)}},r={},vt(e,(function(e,t){e=n(e,t),r[e.k]=e.v})),r;var n,r},yt=function(e,t){var n=[];return vt(e,(function(e,r){n.push(t(e,r))})),n},wt=function(e){return yt(e,h)},xt=function(e,t){return ye(e,t)&&void 0!==e[t]&&null!==e[t]},Ct=["tfoot","thead","tbody","colgroup"],St=function(e,t){return{rows:e,columns:t}},kt=function(e,t,n,r,o,i){return{element:e,rowspan:t,colspan:n,row:r,column:o,isLocked:i}},Ot=function(e,t,n){return{element:e,cells:t,section:n}},Tt=function(e,t,n){return{element:e,isNew:t,isLocked:n}},_t=function(e,t,n,r){return{element:e,cells:t,section:n,isNew:r}},Et=function(e,t){return{element:e,columns:t}},Dt=("undefined"!=typeof window||Function("return this;")(),function(e){return e.dom.nodeName.toLowerCase()}),At=function(e){return e.dom.nodeType},zt=xe(1),Mt=xe(3),Rt=xe(9),Nt=xe(11),Bt=function(e){return Rt(e)?e:ke(e)},Ht=function(e){return E.from(e.dom.parentNode).map(lt.fromDom)},Lt=function(e){return E.from(e.dom.nextSibling).map(lt.fromDom)},Pt=function(e){return B(e.dom.childNodes,lt.fromDom)},It=function(e){return _e(e,0)},Ft=function(e){return Nt(e)&&l(e.dom.host)},Vt=(Ie=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode),g(Ie)),jt=Ie?function(e){return lt.fromDom(e.dom.getRootNode())}:Bt,Ut=function(e){return l(e.dom.shadowRoot)},Wt=function(e){var t=Mt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return function(e){return e=jt(e),Ft(e)?E.some(e):E.none()}(lt.fromDom(t)).fold((function(){return o.body.contains(t)}),(n=Wt,r=Ee,function(e){return n(r(e))}))},$t=function(e,t){var n=[];return H(Pt(e),(function(e){n=(n=t(e)?n.concat([e]):n).concat($t(e,t))})),n},qt=function(e,t){return n=function(e){return ft(e,t)},I(Pt(e),n);var n};function Gt(e,t,n,r,o){return e(n,r)?E.some(n):f(o)&&o(n)?E.none():t(n,r,o)}function Xt(e,t){function n(e){for(var r=0;r<e.childNodes.length;r++){var o=lt.fromDom(e.childNodes[r]);if(t(o))return E.some(o);if(o=n(e.childNodes[r]),o.isSome())return o}return E.none()}return n(e.dom)}function Kt(e,t){return me(t,e)}function Yt(e,t){var n=e.dom;vt(t,(function(e,t){An(n,t,e)}))}function Jt(e){return V(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})}function Qt(e,t,n){return e.isSome()&&t.isSome()?E.some(n(e.getOrDie(),t.getOrDie())):E.none()}function Zt(e){return void 0!==e.style&&f(e.style.getPropertyValue)}function en(e,t){return Gn(e,t,1)}function tn(e){return Se("col")(e)?1<Gn(e,"span",1):1<en(e,"colspan")}function nn(e){return 1<en(e,"rowspan")}function rn(e){return Jn(e,"th,td")}function on(e){return ft(e,"colgroup")?qt(e,"col"):q(rr(e),(function(e){return qt(e,"col")}))}function an(e){var t=nr(e);e=Z(Z([],rr(e),!0),t,!0);return or(e,ir)}function un(e,t){return _t(e.element,t,e.section,e.isNew)}function cn(e,t,n){return n=B(e.cells,n),_t(t(e.element),n,e.section,!0)}function sn(e,t){return e=q(e.all,(function(e){return e.cells})),I(e,t)}function ln(e){var t={},n=[],r=K(e).map((function(e){return e.element})).bind(tr).bind(hr).getOr({}),o=0,i=0,a=0,u=(e=P(e,(function(e){return"colgroup"===e.section}))).pass;e=e.fail;return H(e,(function(e){var u=[];H(e.cells,(function(e){for(var n=0;void 0!==t[vr(a,n)];)n++;for(var o=xt(r,n.toString()),c=kt(e.element,e.rowspan,e.colspan,a,n,o),s=0;s<e.colspan;s++)for(var l=0;l<e.rowspan;l++){var f=n+s,d=vr(a+l,f);t[d]=c,i=Math.max(i,f+1)}u.push(c)})),o++,n.push(Ot(e.element,u,e.section)),a++})),u=(e=Y(u).map((function(e){var t=br(e);return{colgroups:[Et(e.element,wt(t))],columns:t}})).getOrThunk((function(){return{colgroups:[],columns:{}}}))).columns,e=e.colgroups,{grid:St(o,i),access:t,all:n,columns:u,colgroups:e}}function fn(e,t){var n=t.column,r=t.column+t.colspan-1,o=t.row;t=t.row+t.rowspan-1;return n<=e.finishCol&&r>=e.startCol&&o<=e.finishRow&&t>=e.startRow}function dn(e,t){return t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow}function mn(e,t,n){t=yr.findItem(e,t,mt);var r=yr.findItem(e,n,mt);return t.bind((function(e){return r.map((function(t){return n=e,t=t,{startRow:Math.min(n.row,t.row),startCol:Math.min(n.column,t.column),finishRow:Math.max(n.row+n.rowspan-1,t.row+t.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,t.column+t.colspan-1)};var n}))}))}function gn(e,t,n){return mn(e,t,n).bind((function(t){for(var n=e,r=t,o=!0,i=p(dn,r),a=r.startRow;a<=r.finishRow;a++)for(var u=r.startCol;u<=r.finishCol;u++)o=o&&yr.getAt(n,a,u).exists(i);return o?E.some(r):E.none()}))}function hn(e,t,n){return mn(e,t,n).map((function(t){return t=yr.filterItems(e,p(fn,t)),B(t,(function(e){return e.element}))}))}function pn(e,t){return yr.findItem(e,t,(function(e,t){return he(t,e)})).map((function(e){return e.element}))}function vn(e,t,n){return tr(e).bind((function(r){var o,i,a;r=wr(r);return o=r,i=t,a=n,yr.findItem(o,e,mt).bind((function(e){var t=0<i?e.row+e.rowspan-1:e.row;e=0<a?e.column+e.colspan-1:e.column;return yr.getAt(o,t+i,e+a).map((function(e){return e.element}))}))}))}function bn(e,t,n,r,o){var i=wr(e),a=(n=mt(e,n)?E.some(t):pn(i,t),mt(e,o)?E.some(r):pn(i,r));return n.bind((function(e){return a.bind((function(t){return hn(i,e,t)}))}))}function yn(e,t){It(e).fold((function(){Sr(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))}function wn(e,t){xr(e,t),Sr(t,e)}function xn(e,t){H(t,(function(n,r){r=0===r?e:t[r-1],Cr(r,n)}))}function Cn(e){var t=Pt(e);0<t.length&&kr(e,t),_r(e)}var Sn,kn,On=function(e,t,n){for(var r=e.dom,o=f(n)?n:y;r.parentNode;){r=r.parentNode;var i=lt.fromDom(r);if(t(i))return E.some(i);if(o(i))break}return E.none()},Tn=function(e,t,n){return Gt((function(e,t){return t(e)}),On,e,t,n)},_n=function(e,t,n){return On(e,(function(e){return ft(e,t)}),n)},En=function(e,t){return n=function(e){return ft(e,t)},U(e.dom.childNodes,(function(e){return n(lt.fromDom(e))})).map(lt.fromDom);var n},Dn=function(e,t,n){return Gt((function(e,t){return ft(e,t)}),_n,e,t,n)},An=function(e,t,n){if(!(o(n)||c(n)||d(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")},zn=function(e,t,n){An(e.dom,t,n)},Mn=function(e,t){return e=e.dom.getAttribute(t),null===e?void 0:e},Rn=function(e,t){return E.from(Mn(e,t))},Nn=function(e,t){e.dom.removeAttribute(t)},Bn=function(e,t,n){return void 0===n&&(n=r),e.exists((function(e){return n(e,t)}))},Hn=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Ln=function(e,t){return e?E.some(t):E.none()},Pn=function(e,t,n){if(!o(n))throw new Error("CSS value must be a string: "+n);Zt(e)&&e.style.setProperty(t,n)},In=function(e,t){Zt(e)&&e.style.removeProperty(t)},Fn=function(e,t,n){e=e.dom,Pn(e,t,n)},Vn=function(e,t){var n=e.dom;vt(t,(function(e,t){Pn(n,t,e)}))},jn=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||Wt(e)?r:Un(n,t)},Un=function(e,t){return Zt(e)?e.style.getPropertyValue(t):""},Wn=function(e,t){return e=e.dom,e=Un(e,t),E.from(e).filter((function(e){return 0<e.length}))},$n=function(e,t){var n=e.dom;In(n,t),Bn(Rn(e,"style").map(Pe),"")&&Nn(e,"style")},qn=function(e,t){e=e.dom,t=t.dom,Zt(e)&&Zt(t)&&(t.style.cssText=e.style.cssText)},Gn=function(e,t,n){return void 0===n&&(n=0),Rn(e,t).map((function(e){return parseInt(e,10)})).getOr(n)},Xn=function(e,t){return parseInt(jn(e,t),10)},Kn=g(10),Yn=g(10),Jn=function(e,t){return Qn(e,t,w)},Qn=function(e,t,n){return q(Pt(e),(function(e){return ft(e,t)?n(e)?[e]:[]:Qn(e,t,n)}))},Zn=function(e,t,n){return(n=void 0===n?y:n)(t)?E.none():R(e,Dt(t))?E.some(t):_n(t,e.join(","),(function(e){return ft(e,"table")||n(e)}))},er=function(e,t){return Zn(["td","th"],e,t)},tr=function(e,t){return Dn(e,"table",t)},nr=function(e){return Jn(e,"tr")},rr=function(e){return tr(e).fold(g([]),(function(e){return qt(e,"colgroup")}))},or=function(e,t){return B(e,(function(e){var n;return"colgroup"===Dt(e)?(n=B(on(e),(function(e){var t=Gn(e,"span",1);return we(e,1,t)})),Ot(e,n,"colgroup")):(n=B(rn(e),(function(e){var t=Gn(e,"rowspan",1),n=Gn(e,"colspan",1);return we(e,t,n)})),Ot(e,n,t(e)))}))},ir=function(e){return Ht(e).map((function(e){return e=Dt(e),R(Ct,e)?e:"tbody"})).getOr("tbody")},ar=function(e,t){return or(e,(function(){return t}))},ur=function(e,t,n){var r=e.cells,o=r.slice(0,t);r=r.slice(t),t=o.concat(n).concat(r);return un(e,t)},cr=function(e,t,n){return ur(e,t,[n])},sr=function(e,t,n){e.cells[t]=n},lr=function(e,t){return e.cells[t]},fr=function(e,t){return lr(e,t).element},dr=function(e){return e.cells.length},mr=function(e){return e=P(e,(function(e){return"colgroup"===e.section})),{rows:e.fail,cols:e.pass}},gr="data-snooker-locked-cols",hr=function(e){return Rn(e,gr).bind((function(e){return E.from(e.match(/\d+/g))})).map((function(e){return O(e,w)}))},pr=function(e){return e=V(mr(e).rows,(function(e,t){return H(t.cells,(function(t,n){t.isLocked&&(e[n]=!0)})),e}),{}),e=yt(e,(function(e,t){return parseInt(t,10)})),X(e)},vr=function(e,t){return e+","+t},br=function(e){var t={},n=0;return H(e.cells,(function(e){var r=e.colspan;k(r,(function(o){o=n+o,t[o]={element:e.element,colspan:r,column:o}})),n+=r})),t},yr={fromTable:function(e){return e=an(e),ln(e)},generate:ln,getAt:function(e,t,n){return E.from(e.access[vr(t,n)])},findItem:function(e,t,n){return e=sn(e,(function(e){return n(t,e.element)})),0<e.length?E.some(e[0]):E.none()},filterItems:sn,justCells:function(e){return q(e.all,(function(e){return e.cells}))},justColumns:function(e){return wt(e.columns)},hasColumns:function(e){return 0<ht(e.columns).length},getColumnAt:function(e,t){return E.from(e.columns[t])}},wr=yr.fromTable,xr=function(e,t){Ht(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},Cr=function(e,t){Lt(e).fold((function(){Ht(e).each((function(e){Sr(e,t)}))}),(function(e){xr(e,t)}))},Sr=function(e,t){e.dom.appendChild(t.dom)},kr=function(e,t){H(t,(function(t){xr(e,t)}))},Or=function(e,t){H(t,(function(t){Sr(e,t)}))},Tr=function(e){e.dom.textContent="",H(Pt(e),(function(e){_r(e)}))},_r=function(e){e=e.dom,null!==e.parentNode&&e.parentNode.removeChild(e)},Er=(Sn=Mt,kn="text",{get:function(e){if(!Sn(e))throw new Error("Can only get "+kn+" value of a "+kn+" node");return Dr(e).getOr("")},getOption:Dr,set:function(e,t){if(!Sn(e))throw new Error("Can only set raw "+kn+" value of a "+kn+" node");e.dom.nodeValue=t}});function Dr(e){return Sn(e)?E.from(e.dom.nodeValue):E.none()}function Ar(e,t){return Er.set(e,t)}var zr=function(e){return Er.get(e)},Mr=function(e){return Er.getOption(e)},Rr=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Nr(){return{up:g({selector:_n,closest:Dn,predicate:On,all:Oe}),down:g({selector:ze,predicate:$t}),styles:g({get:jn,getRaw:Wn,set:Fn,remove:$n}),attrs:g({get:Mn,set:zn,remove:Nn,copyTo:function(e,t){e=Jt(e),Yt(t,e)}}),insert:g({before:xr,after:Cr,afterAll:xn,append:Sr,appendAll:Or,prepend:yn,wrap:wn}),remove:g({unwrap:Cn,remove:_r}),create:g({nu:lt.fromTag,clone:function(e){return lt.fromDom(e.dom.cloneNode(!1))},text:lt.fromText}),query:g({comparePosition:function(e,t){return e.dom.compareDocumentPosition(t.dom)},prevSibling:Te,nextSibling:Lt}),property:g({children:Pt,name:Dt,parent:Ht,document:function(e){return Bt(e).dom},isText:Mt,isComment:Ce,isElement:zt,isSpecial:function(e){return e=Dt(e),R(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],e)},getLanguage:function(e){return zt(e)?Rn(e,"lang"):E.none()},getText:zr,setText:Ar,isBoundary:function(e){return!!zt(e)&&("body"===Dt(e)||R(Rr,Dt(e)))},isEmptyTag:function(e){return!!zt(e)&&R(["br","img","hr","input"],Dt(e))},isNonEditable:function(e){return zt(e)&&"false"===Mn(e,"contenteditable")}}),eq:mt,is:gt}}function Br(e,t,n,r){return n=t(e,n),F(r,(function(n,r){return r=t(e,r),fo(e,n,r)}),n)}function Hr(e,t){return mo(ho,(function(t,n){return e(n)}),t)}function Lr(e){return _n(e,"table")}function Pr(e,t,n,r,o){return i=o,U(e,(function(e){return ft(e,i)})).bind((function(e){return vn(e,t,n).bind((function(e){return n=r,_n(t=e,"table").bind((function(e){return Kt(e,n).bind((function(e){return po(e,t).bind((function(e){return e.boxes.map((function(t){return{boxes:t,start:e.start,finish:e.finish}}))}))}))}));var t,n}))}));var i}function Ir(e,t,n){return bo(e,t,n).bind((function(t){function n(t){return mt(e,t)}var r="thead,tfoot,tbody,table",o=_n(t.first,r,n),i=_n(t.last,r,n);return o.bind((function(e){return i.bind((function(n){var r,o;return mt(e,n)?(n=t.table,r=t.first,o=t.last,n=wr(n),gn(n,r,o)):E.none()}))}))}))}function Fr(e,t,n,r){return e.fold(t,n,r)}function Vr(e,t){return lt.fromDom(e.dom.cloneNode(t))}function jr(e){return Vr(e,!1)}function Ur(e){return Vr(e,!0)}function Wr(e,t){return t=lt.fromTag(t),e=Jt(e),Yt(t,e),t}function $r(e,t){function n(n){var r=t(n);return r<=0||null===r?(n=jn(n,e),parseFloat(n)||0):r}function r(e,t){return V(t,(function(t,n){return n=jn(e,n),n=void 0===n?0:parseInt(n,10),isNaN(n)?t:t+n}),0)}return{set:function(t,n){if(!d(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);t=t.dom,Zt(t)&&(t.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){return e=r(e,n),e<t?t-e:0}}}function qr(){var e=ct().browser;return e.isIE()||e.isEdge()}function Gr(e,t,n){return Oo(jn(e,t),n)}function Xr(e){return jn(e,"box-sizing")}function Kr(e,t){var n=(n=e.dom).getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?n:To(e,n,"left","right")}function Yr(e,t,n){var r=e();return U(r,t).orThunk((function(){return E.from(r[0]).orThunk(n)})).map((function(e){return e.element}))}function Jr(e,t){if(t<0||t>=e.length-1)return E.none();var n=e[t].fold((function(){var n=function(e){return e=D.call(e,0),e.reverse(),e}(e.slice(0,t));return J(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return E.some({value:e,delta:0})})),r=e[t+1].fold((function(){var n=e.slice(t+1);return J(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return E.some({value:e,delta:1})}));return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))}))}function Qr(e,t){return function(n){return"rtl"==("rtl"===jn(n,"direction")?"rtl":"ltr")?t:e}}function Zr(e){return No.getOuter(e)}function eo(e,t){return{left:e,top:t,translate:function(n,r){return eo(e+n,t+r)}}}function to(e,t){return{row:e,y:t}}function no(e,t){return{col:e,x:t}}function ro(e){return Io(e).left+Do(e)}function oo(e){return Io(e).left}function io(e,t){return no(e,oo(t))}function ao(e,t){return no(e,ro(t))}function uo(e){return Io(e).top}function co(e,t){return to(e,uo(t))}function so(e,t){return to(e,uo(t)+Zr(t))}function lo(e,t,n){if(0===n.length)return[];var r=B(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))})),o=n[n.length-1].map((function(e){return t(n.length-1,e)}));return r.concat([o])}var fo=function(e,t,n){return t.bind((function(t){return n.filter(p(e.eq,t))}))},mo=function(e,t,n){return 0<n.length?Br(e,t,n[0],n.slice(1)):E.none()},go=function(e,t,n,r){function o(e){return W(e,r).fold((function(){return e}),(function(t){return e.slice(0,t+1)}))}void 0===r&&(r=y);t=[t].concat(e.up().all(t)),n=[n].concat(e.up().all(n)),t=o(t);var i=o(n);n=U(t,(function(t){return N(i,p(e.eq,t))}));return{firstpath:t,secondpath:i,shared:n}},ho=Nr(),po=function(e,t,n){function r(e){return function(t){return void 0!==n&&n(t)||mt(t,e)}}return mt(e,t)?E.some({boxes:E.some([e]),start:e,finish:t}):Lr(e).bind((function(o){return Lr(t).bind((function(i){return mt(o,i)?E.some({boxes:function(e,t,n){return e=wr(e),hn(e,t,n)}(o,e,t),start:e,finish:t}):he(o,i)?(u=0<(a=Ae(t,"td,th",r(o))).length?a[a.length-1]:t,E.some({boxes:bn(o,e,o,t,i),start:e,finish:u})):he(i,o)?(u=0<(a=Ae(e,"td,th",r(i))).length?a[a.length-1]:e,E.some({boxes:bn(i,e,o,t,i),start:e,finish:u})):go(ho,e,t,c).shared.bind((function(a){return Dn(a,"table",n).bind((function(n){var a=Ae(t,"td,th",r(n)),u=(a=0<a.length?a[a.length-1]:t,Ae(e,"td,th",r(n)));u=0<u.length?u[u.length-1]:e;return E.some({boxes:bn(n,e,o,t,i),start:u,finish:a})}))}));var a,u,c}))}))},vo=function(e,t){return e=ze(e,t),0<e.length?E.some(e):E.none()},bo=function(e,t,n){return Kt(e,t).bind((function(t){return Kt(e,n).bind((function(e){return Hr(Lr,[t,e]).map((function(n){return{first:t,last:e,table:n}}))}))}))},yo=function(e,t){return vo(e,t)},wo=(Fe=function(e){if(!a(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return H(e,(function(r,o){var i=ht(r);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],c=r[u];if(void 0!==n[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!a(c))throw new Error("case arguments must be an array");t.push(u),n[u]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+i);return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:function(e){var r=ht(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!G(t,(function(e){return R(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[u].apply(null,n)},log:function(e){}}}})),n},Ie=Fe([{none:[]},{multiple:["elements"]},{single:["element"]}]),Ie.none),xo=Ie.multiple,Co=Ie.single,So=function(e,t,n){return{get:function(){return yo(e(),n).fold((function(){return t().fold(wo,Co)}),(function(e){return xo(e)}))}}},ko=(Ie=tinymce.util.Tools.resolve("tinymce.PluginManager"),function(e,t){t=Wr(e,t);var n=(xr(e,t),Pt(e));return Or(t,n),_r(e),t}),Oo=function(e,t){return function(e){return e=parseFloat(e),isNaN(e)?E.none():E.some(e)}(e).getOr(t)},To=function(e,t,n,r){return t-Gr(e,"padding-"+n,0)-Gr(e,"padding-"+r,0)-Gr(e,"border-"+n+"-width",0)-Gr(e,"border-"+r+"-width",0)},_o=$r("width",(function(e){return e.dom.offsetWidth})),Eo=function(e){return _o.get(e)},Do=function(e){return _o.getOuter(e)},Ao=function(e){return Kr(e,"content-box")},zo=function(e){return qr()?Kr(e,Xr(e)):Gr(e,"width",e.dom.offsetWidth)},Mo=function(e,t){void 0===t&&(t=w);var n=e.grid,r=k(n.columns,h),o=k(n.rows,h);return B(r,(function(n){return Yr((function(){return q(o,(function(t){return yr.getAt(e,t,n).filter((function(e){return e.column===n})).toArray()}))}),(function(e){return 1===e.colspan&&t(e.element)}),(function(){return yr.getAt(e,0,n)}))}))},Ro=function(e){var t=e.grid,n=k(t.rows,h),r=k(t.columns,h);return B(n,(function(t){return Yr((function(){return q(r,(function(n){return yr.getAt(e,t,n).filter((function(e){return e.row===t})).fold(g([]),(function(e){return[e]}))}))}),(function(e){return 1===e.rowspan}),(function(){return yr.getAt(e,t,0)}))}))},No=$r("height",(function(e){var t=e.dom;return Wt(e)?t.getBoundingClientRect().height:t.offsetHeight})),Bo=function(e){return No.get(e)},Ho=function(e){return qr()?(n=Xr(t=e),r=(r=t.dom).getBoundingClientRect().height||r.offsetHeight,"border-box"===n?r:To(t,r,"top","bottom")):Gr(e,"height",e.dom.offsetHeight);var t,n,r},Lo=eo,Po=function(e,t){return void 0!==e?e:void 0!==t?t:0},Io=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView;t=t.documentElement;if(n===e.dom)return Lo(n.offsetLeft,n.offsetTop);var o=Po(null==r?void 0:r.pageYOffset,t.scrollTop),i=(r=Po(null==r?void 0:r.pageXOffset,t.scrollLeft),Po(t.clientTop,n.clientTop));t=Po(t.clientLeft,n.clientLeft);return Fo(e).translate(r-t,o-i)},Fo=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?Lo(n.offsetLeft,n.offsetTop):Wt(e)?(n=(n=t).getBoundingClientRect(),Lo(n.left,n.top)):Lo(0,0)},Vo={delta:h,positions:function(e){return lo(co,so,e)},edge:uo},jo=Qr({delta:h,edge:oo,positions:function(e){return lo(io,ao,e)}},{delta:function(e){return-e},edge:ro,positions:function(e){return lo(ao,io,e)}}),Uo={delta:function(e,t){return jo(t).delta(e,t)},positions:function(e,t){return jo(t).positions(e,t)},edge:function(e){return jo(e).edge(e)}},Wo={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},$o=(xl=["Infinity",(xl="[0-9]+")+"\\."+qo(xl)+qo(wl="[eE][+-]?[0-9]+"),"\\."+xl+qo(wl),xl+qo(wl)].join("|"),new RegExp("^([+-]?(?:"+xl+"))(.*)$"));function qo(e){return"(?:"+e+")?"}function Go(e,t){return E.from($o.exec(e)).bind((function(e){var n,r=Number(e[1]);e=e[2];return n=e,N(t,(function(e){return N(Wo[e],(function(e){return n===e}))}))?E.some({value:r,unit:e}):E.none()}))}function Xo(e,t){Fn(e,"width",t+"px")}function Ko(e,t){Fn(e,"width",t+"%")}function Yo(e,t,n,r){var o,i,a=parseFloat(e);return ie(e,"%")&&"table"!==Dt(t)?(o=a,i=n,e=r,r=tr(n=t).map((function(e){return e=i(e),Math.floor(o/100*e)})).getOr(o),e(n,r),r):a}function Jo(e){var t=Ho(e)+"px";return t?Yo(t,e,Bo,js):Bo(e)}function Qo(e){return Us(e,"width")}function Zo(e){return t="rowspan",Jo(e=e)/en(e,t);var t}function ei(e,t,n){Fn(e,"width",t+n)}function ti(e){return Vs(e,Eo,Ao)+"%"}function ni(e){return Qo(e).getOrThunk((function(){return $s(e)+"px"}))}function ri(e){return Us(e,"height").getOrThunk((function(){return Zo(e)+"px"}))}function oi(e,t,n,r,o,i){return e.filter(r).fold((function(){return i(Jr(n,t))}),(function(e){return o(e)}))}function ii(e){return e.map((function(e){return e+"px"})).getOr("")}function ai(e,t,n,r,o){e=Ro(e);var i=[E.some(n.edge(t))].concat(B(n.positions(e,t),(function(e){return e.map((function(e){return e.y}))})));return B(e,(function(e,t){return oi(e,t,i,v(nn),r,o)}))}function ui(e){var t=Zs(e,Eo),n=g(0);return{width:t,pixelWidth:t,getWidths:function(t,n){return Ys(t,e,n)},getCellDelta:n,singleColumnWidth:g([0]),minCellWidth:n,setElementWidth:m,adjustTableWidth:m,isRelative:!0,label:"none"}}function ci(e,t,n,r){for(var o=t.grid.columns,i=t.grid.rows,a=0;a<i;a++)for(var u,c,s,l=!1,f=0;f<o;f++)a<n.minRow||a>n.maxRow||f<n.minCol||f>n.maxCol||(yr.getAt(t,a,f).filter(r).isNone()?(s=u=void 0,c=l,u=(u=e)[s=a].element,s=lt.fromTag("td"),Sr(s,lt.fromTag("br")),(c?Sr:yn)(u,s)):l=!0)}function si(e,t){function n(e){return ft(e.element,t)}var r,o,i,a,u,c,s,l=Ur(e),f=an(l),d=nl(e),m=yr.generate(f),g=(r=n,g=m.grid.columns,o=m.grid.rows,i=g,u=a=0,c=[],s=[],vt(m.access,(function(e){var t,n,l;c.push(e),r(e)&&(s.push(e),n=(t=e.row)+e.rowspan-1,e=(l=e.column)+e.colspan-1,t<o?o=t:a<n&&(a=n),l<i?i=l:u<e&&(u=e))})),{minRow:o,minCol:i,maxRow:a,maxCol:u,allCells:c,selectedCells:s}),h="th:not("+t+"),td:not("+t+")",p=Qn(l,"th,td",(function(e){return ft(e,h)})),v=(p=(H(p,_r),ci(f,m,g,n),function(e,t,n,r){return 0===r.minCol&&t.grid.columns===r.maxCol+1?0:(t=Ys(t,e,n),e=V(t,(function(e,t){return e+t}),0),t=V(t.slice(r.minCol,r.maxCol+1),(function(e,t){return e+t}),0)/e*n.pixelWidth()-n.pixelWidth(),n.getCellDelta(t))}(e,yr.fromTable(e),d,g)),f=l,g);d=p;return vt((e=m).columns,(function(e){(e.column<v.minCol||e.column>v.maxCol)&&_r(e.element)})),e=I(Jn(f,"tr"),(function(e){return 0===e.dom.childElementCount})),H(e,_r),v.minCol!==v.maxCol&&v.minRow!==v.maxRow||H(Jn(f,"th,td"),(function(e){Nn(e,"rowspan"),Nn(e,"colspan")})),Nn(f,gr),Nn(f,"data-snooker-col-series"),nl(f).adjustTableWidth(d),l}function li(e){return Mr(e).filter((function(e){return 0!==e.trim().length||-1<e.indexOf(" ")})).isSome()||R(al,Dt(e))}function fi(e){return e}function di(e,t,n){function r(e,t){qn(e.element,t),$n(t,"height"),1!==e.colspan&&$n(t,"width")}return{col:function(n){var o=lt.fromTag(Dt(n.element),t.dom);return r(n,o),e(n.element,o),o},colgroup:dl(t),row:ml(t),cell:function(o){var i=lt.fromTag(Dt(o.element),t.dom),a=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]);a=0<a.length?hl(o.element,i,a):i;return Sr(a,lt.fromTag("br")),r(o,i),pl(o.element,i),e(o.element,i),i},replace:gl,colGap:fl(t),gap:ll(t)}}function mi(e){return{col:fl(e),colgroup:dl(e),row:ml(e),cell:ll(e),replace:fi,colGap:fl(e),gap:ll(e)}}function gi(e){return B(e,lt.fromDom)}function hi(e){return e.getBoundingClientRect().width}function pi(e){return e.getBoundingClientRect().height}function vi(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e}function bi(e){function t(e){return Nn(e,"data-mce-style")}Nn(e,"data-mce-style"),H(rn(e),t),H(on(e),t),H(nr(e),t)}function yi(e){return Fr(e.get(),g([]),h,T)}function wi(e){function t(e,t){return Rn(e,t).exists((function(e){return 1<parseInt(e,10)}))}return 0<(e=yi(e)).length&&G(e,(function(e){return t(e,"rowspan")||t(e,"colspan")}))?E.some(e):E.none()}function xi(e,t,n){return{element:n,mergable:(r=t,o=Sl,Fr(e.get(),E.none,(function(e){return e.length<=1?E.none():Ir(r,o.firstSelectedSelector,o.lastSelectedSelector).map((function(t){return{bounds:t,cells:e}}))}),E.none)),unmergable:wi(e),selection:yi(e)};var r,o}function Ci(e){return function(t,n){var r=Dt(t);r="col"===r||"colgroup"===r?tr(r=t).bind((function(e){return yo(e,Sl.firstSelectedSelector)})).fold(g(r),(function(e){return e[0]})):t;return Dn(r,e,n)}}function Si(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r}function ki(e,t){var n,r,o;return yr.hasColumns(e)?(r=e,n=t,r=yr.justColumns(e),B(r,(function(e,t){return{element:e.element,width:n[t],colspan:e.colspan}}))):(r=e,o=t,r=yr.justCells(e),B(r,(function(e){var t=Si(e.column,e.column+e.colspan,o);return{element:e.element,width:t,colspan:e.colspan}})))}function Oi(e,t,n,r,o){e=yr.fromTable(e),t=o.getCellDelta(t);var i=o.getWidths(e,o),a=n===e.grid.columns-1;t=r.clampTableDelta(i,n,t,o.minCellWidth(),a),n=Dl(i,n,t,o,r),n=B(n,(function(e,t){return e+i[t]}));Rl(e,n,o),r.resizeTable(o.adjustTableWidth,t,a)}function Ti(e){return function(t,n,r,o){return e(r)?(o=Math.max(o,t[n]-Math.abs(r)),o=Math.abs(o-t[n]),0<=r?o:-o):r}}function _i(){function e(e,t,n,r){var o=(100+n)/100,i=Math.max(r,(e[t]+n)/o);return B(e,(function(e,n){return(n===t?i:e/o)-e}))}function t(t,n,r,o,i,a){return a?e(t,n,o,i):(a=r,n=Hl(r=t,t=n,n=o,i),Bl(r,t,a+1,[n,0],Nl))}return{resizeTable:function(e,t){return e(t)},clampTableDelta:Hl,calcLeftEdgeDeltas:t,calcMiddleDeltas:function(e,n,r,o,i,a,u){return t(e,r,o,i,a,u)},calcRightEdgeDeltas:function(t,n,r,o,i,a){return a?e(t,r,o,i):(a=Hl(t,r,o,i),Nl(t.slice(0,r)).concat([a]))},calcRedestributedWidths:function(e,t,n,r){var o;return r?(o=(t+n)/t,r=B(e,(function(e){return e/o})),{delta:100*o-100,newSizes:r}):{delta:n,newSizes:e}}}}function Ei(){function e(e,t,n,r,o){return r=Ll(e,0<=r?n:t,r,o),Bl(e,t,n+1,[r,-r],Nl)}return{resizeTable:function(e,t,n){n&&e(t)},clampTableDelta:function(e,t,n,r,o){return o?0<=n?n:(o=V(e,(function(e,t){return e+t-r}),0),Math.max(-o,n)):Hl(e,t,n,r)},calcLeftEdgeDeltas:e,calcMiddleDeltas:function(t,n,r,o,i,a){return e(t,r,o,i,a)},calcRightEdgeDeltas:function(e,t,n,r,o,i){return i?Nl(e):(i=r/e.length,B(e,g(i)))},calcRedestributedWidths:function(e,t,n,r){return{delta:0,newSizes:e}}}}function Di(e,t,n){e=n.substring(0,n.length-e.length);var r=parseFloat(e);return e===r.toString()?t(r):Fl.invalid(n)}function Ai(e,t,n){return e.fold((function(){return t}),(function(e){return o=(r=e)/n,B(t,(function(e){return Vl.from(e).fold((function(){return e}),(function(e){return e*o+"px"}),(function(e){return e/100*r+"px"}))}));var r,o}),(function(e){return r=n,B(t,(function(e){return Vl.from(e).fold((function(){return e}),(function(e){return e/r*100+"%"}),(function(e){return e+"%"}))}));var r}))}function zi(e,t){return 0===e.length?t:F(e,(function(e,t){return Vl.from(t).fold(g(0),h,h)+e}),0)}function Mi(e,t,n){var r=yr.fromTable(e),o=r.all,i=yr.justCells(r),a=yr.justColumns(r);t.each((function(t){var n=Kl(t),o=Eo(e),u=Ks(r,e);u=jl(u,o,t);yr.hasColumns(r)?Gl(u,a,n):ql(u,i,n),Fn(e,"width",t)})),n.each((function(t){var n=Kl(t),a=Bo(e),u=Qs(r,e,Vo);u=jl(u,a,t);Xl(u,o,i,n),Fn(e,"height",t)}))}function Ri(e){return yr.fromTable(e).grid}function Ni(e){return e.slice(0).sort()}function Bi(e,t){0<(t=I(t,(function(t){return!R(e,t)}))).length&&tf(t)}function Hi(e){return nf(Bi,e,{validate:f,label:"function"})}function Li(){var e=E.none(),t=ef({move:Zl(["info"])});return{onEvent:function(n,r){r.extract(n).each((function(n){var o,i;o=r,i=n,n=e.map((function(e){return o.compare(e,i)})),e=E.some(i),n.each((function(e){t.trigger.move(e)}))}))},reset:function(){e=E.none()},events:t.registry}}function Pi(){e=ef({move:Zl(["info"])});var e,t={onEvent:m,reset:m,events:e.registry},n=Li(),r=t;return{on:function(){r.reset(),r=n},off:function(){r.reset(),r=t},isOn:function(){return r===n},onEvent:function(e,t){r.onEvent(e,t)},events:n.events}}function Ii(e,t,n){function r(){g.stop(),l.isOn()&&(l.off(),s.trigger.stop())}var o,i,a,c=!1,s=ef({start:Zl([]),stop:Zl([])}),l=Pi(),f=(o=r,i=200,a=null,{cancel:d,throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d(),a=setTimeout((function(){a=null,o.apply(null,e)}),i)}});function d(){u(a)||(clearTimeout(a),a=null)}function m(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c&&e.apply(null,t)}}l.events.move.bind((function(n){t.mutate(e,n.info)}));var g=t.sink(of({forceDrop:r,drop:m(r),move:m((function(e){f.cancel(),l.onEvent(e,t)})),delayDrop:m(f.throttle)}),n);return{element:g.element,go:function(e){g.start(e),l.on(),s.trigger.start()},on:function(){c=!0},off:function(){c=!1},destroy:function(){g.destroy()},events:s.registry}}function Fi(e){function t(){return e.stopPropagation()}function n(){return e.preventDefault()}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(i.apply(null,e))}var o,i,a=lt.fromDom(function(e){if(Vt()&&l(e.target)){var t=lt.fromDom(e.target);if(zt(t)&&Ut(t)&&e.composed&&e.composedPath&&(t=e.composedPath(),t))return K(t)}return E.from(e.target)}(e).getOr(e.target));return o=n,i=t,{target:a,x:e.clientX,y:e.clientY,stop:t,prevent:n,kill:r,raw:e}}function Vi(e,t,n,r,o){function i(e){a(e)&&u(Fi(e))}var a,u;return a=n,u=r,e.dom.addEventListener(t,i,o),{unbind:p(ji,e,t,i,o)}}function ji(e,t,n,r){e.dom.removeEventListener(t,n,r)}function Ui(e,t){return void 0===(e=Mn(e,t))||""===e?[]:e.split(" ")}function Wi(e,t){return n=t,0<(r=I(Ui(t=e,e="class"),(function(e){return e!==n}))).length?zn(t,e,r.join(" ")):Nn(t,e),0;var n,r}function $i(e){0===(lf(e)?e.dom.classList:Ui(e,"class")).length&&Nn(e,"class")}function qi(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}}function Gi(e){return Dn(e,"[contenteditable]")}function Xi(e){return e.dom.contentEditable}function Ki(e,t,n){var r=e.origin();H(t,(function(t){t.each((function(t){t=n(r,t),df(t,yf),Sr(e.parent(),t)}))}))}function Yi(e,t,n,r){Ki(e,t,(function(e,t){o=t.col,t=t.x-e.left,e=n.top-e.top,i=7,a=r,u=lt.fromTag("div"),Vn(u,{position:"absolute",left:t-i/2+"px",top:e+"px",height:a+"px",width:i+"px"}),Yt(u,{"data-column":o,role:"presentation"});var o,i,a,u;t=u;return df(t,xf),t}))}function Ji(e,t,n,r){Ki(e,t,(function(e,t){o=t.row,u=n.left-e.left,t=t.y-e.top,e=r,i=7,a=lt.fromTag("div"),Vn(a,{position:"absolute",left:u+"px",top:t-i/2+"px",height:i+"px",width:e+"px"}),Yt(a,{"data-row":o,role:"presentation"});var o,i,a,u=a;return df(u,wf),u}))}function Qi(e,t){e=ze(e.parent(),"."+yf),H(e,t)}function Zi(e){function t(e,t){return E.from(Mn(e,t))}function n(e,t){return Xn(e,t)-Gn(e,"data-initial-"+t,0)}function r(t,n){l.trigger.startAdjust(),i.assign(t),zn(t,"data-initial-"+n,Xn(t,n)),df(t,Df),Fn(t,"opacity","0.2"),a.go(e.parent())}function o(t){return mt(t,e.view())}var i=bf(),a=pf(i,{}),u=E.none(),c=(i.events.drag.bind((function(e){t(e.target,"data-row").each((function(t){var n=Xn(e.target,"top");Fn(e.target,"top",n+e.yDelta+"px")})),t(e.target,"data-column").each((function(t){var n=Xn(e.target,"left");Fn(e.target,"left",n+e.xDelta+"px")}))})),a.events.stop.bind((function(){i.get().each((function(r){u.each((function(o){t(r,"data-row").each((function(e){var t=n(r,"top");Nn(r,"data-initial-top"),l.trigger.adjustHeight(o,t,parseInt(e,10))})),t(r,"data-column").each((function(e){var t=n(r,"left");Nn(r,"data-initial-left"),l.trigger.adjustWidth(o,t,parseInt(e,10))})),kf(e,o)}))}))})),cf(e.parent(),"mousedown",(function(e){_f(e.target)&&r(e.target,"top"),Ef(e.target)&&r(e.target,"left")}))),s=cf(e.view(),"mouseover",(function(t){var n;n=t.target,Dn(n,"table",o).filter(vf).fold((function(){Wt(t.target)&&Cf(e)}),(function(t){u=E.some(t),kf(e,t)}))})),l=ef({adjustHeight:Zl(["table","delta","row"]),adjustWidth:Zl(["table","delta","column"]),startAdjust:Zl([])});return{destroy:function(){c.unbind(),s.unbind(),a.destroy(),Cf(e)},refresh:function(t){kf(e,t)},on:a.on,off:a.off,hideBars:p(Of,e),showBars:p(Tf,e),events:l.registry}}function ea(e,t){return e.fire("newrow",{node:t})}function ta(e,t){return e.fire("newcell",{node:t})}function na(e,t,n,r,o){e.fire("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:o})}function ra(e){e.fire("TableSelectionClear")}function oa(e,t,n){e.fire("TableModified",Q(Q({},n),{table:t}))}function ia(e){return e.getParam("table_border_widths",Bf,"array")}function aa(e){return e.getParam("table_border_styles",Hf,"array")}function ua(e){return e.getParam("table_default_attributes",Lf,"object")}function ca(e){return e.getParam("table_default_styles",pa(e=e)?(t=null!==(t=(t=e.dom).getParent(e.selection.getStart(),t.isBlock))&&void 0!==t?t:e.getBody(),t=Ao(lt.fromDom(t)),Q(Q({},Nf),{width:t+"px"})):va(e)?pe(Nf,(function(e,t){return"width"!==t})):Nf,"object");var t}function sa(e){return e.getParam("table_cell_advtab",!0,"boolean")}function la(e){return e.getParam("table_row_advtab",!0,"boolean")}function fa(e){return e.getParam("table_advtab",!0,"boolean")}function da(e){return e.getParam("table_style_by_css",!1,"boolean")}function ma(e){return e.getParam("table_cell_class_list",[],"array")}function ga(e){return e.getParam("table_class_list",[],"array")}function ha(e){return"relative"===If(e)||!0===Ff(e)}function pa(e){return"fixed"===If(e)||!1===Ff(e)}function va(e){return"responsive"===If(e)}function ba(e){return e=e.getParam("table_header_type","section","string"),R(["section","cells","sectionCells","auto"],e)?e:"section"}function ya(e){var t=e.getParam("table_column_resizing",Pf,"string");return U(["preservetable","resizetable"],(function(e){return e===t})).getOr(Pf)}function wa(e){return"preservetable"===ya(e)}function xa(e){return"resizetable"===ya(e)}function Ca(e){return e=e.getParam("table_clone_elements"),o(e)?E.some(e.split(/[ ,]/)):Array.isArray(e)?E.some(e):E.none()}function Sa(e){return e.getParam("table_background_color_map",[],"array")}function ka(e){return e.getParam("table_border_color_map",[],"array")}function Oa(e,t){return(ha(e)?ol:pa(e)?rl:nl)(t)}function Ta(e){Nn(e,"width")}function _a(){var e=lt.fromTag("div");return Vn(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Sr(De(lt.fromDom(document)),e),e}function Ea(e){return"false"!==Mn(e,"data-mce-resize")}function Da(e,t){return{element:e,offset:t}}function Aa(e,t){return(e.property().isText(t)?e.property().getText(t):e.property().children(t)).length}function za(e,t){if(t=qf(e,t,e.query().prevSibling).getOr(t),e.property().isText(t))return Da(t,Aa(e,t));var n=e.property().children(t);return 0<n.length?za(e,n[n.length-1]):Da(t,Aa(e,t))}function Ma(e,t){1===en(e,"colspan")&&Qo(e).bind((function(e){return Go(e,["fixed","relative","empty"])})).each((function(n){var r=n.value/2;ei(e,r,n.unit),ei(t,r,n.unit)}))}function Ra(e){var t=I(e,(function(e){return Kf(e.element)}));return 0===t.length?E.some("td"):t.length===e.length?E.some("th"):E.none()}function Na(){return{transformRow:Zf,transformCell:function(e,t,n){return n=n(e.element,t),t="td"!==Dt(n)?ko(n,"td"):n,Tt(t,e.isNew,e.isLocked)}}}function Ba(){return{transformRow:Zf,transformCell:Qf}}function Ha(){return{transformRow:function(e,t){return Zf(e,"thead"===t?"tbody":t)},transformCell:Qf}}function La(e,t,n){Y(qt(e,t)).fold((function(){return yn(e,n)}),(function(e){return Cr(e,n)}))}function Pa(e,t){function n(t,n){var r,o;0<t.length?(t=t,o=ad(e,r=n),r=("colgroup"===r?a:i)(t),Or(o,r)):En(e,n).each(_r)}var r=[],o=[],i=function(e){return B(e,(function(e){e.isNew&&r.push(e.element);var t=e.element;return Tr(t),H(e.cells,(function(e){e.isNew&&o.push(e.element),id(e.element,"colspan",e.colspan,1),id(e.element,"rowspan",e.rowspan,1),Sr(t,e.element)})),t}))},a=function(e){return q(e,(function(e){return B(e.cells,(function(e){return id(e.element,"span",e.colspan,1),e.element}))}))},u=[],c=[],s=[],l=[];return H(t,(function(e){switch(e.section){case"thead":u.push(e);break;case"tbody":c.push(e);break;case"tfoot":s.push(e);break;case"colgroup":l.push(e)}})),n(l,"colgroup"),n(u,"thead"),n(c,"tbody"),n(s,"tfoot"),{newRows:r,newCells:o}}function Ia(e,t){if(0===e.length)return 0;var n=e[0];return W(e,(function(e){return!t(n.element,e.element)})).getOr(e.length)}function Fa(e,t,n,r){var o,i=e[t],a="colgroup"===i.section;return{colspan:Ia(i.cells.slice(n),r),rowspan:a?1:Ia((i=e.slice(t),o=n,B(i,(function(e){return lr(e,o)}))),r)}}function Va(e){return ud(e,mt)}function ja(e,t,n,r,o){return function(i,a,u,c,s){var l=yr.fromTable(a),f=E.from(null==s?void 0:s.section).getOrThunk(od);return t(l,u).map((function(t){var n=cd(l,c,!1),r=(n=e(n,t,mt,o(c),f),pr(n.grid));return{info:t,grid:Va(n.grid),cursor:n.cursor,lockedColumns:r}})).bind((function(e){var t=Pa(a,e.grid),o=E.from(null==s?void 0:s.sizing).getOrThunk((function(){return nl(a)})),u=E.from(null==s?void 0:s.resize).getOrThunk(Ei);return n(a,e.grid,e.info,{sizing:o,resize:u,section:f}),r(a),kf(i,a),Nn(a,gr),0<e.lockedColumns.length&&zn(a,gr,e.lockedColumns.join(",")),E.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))}}function Ua(e,t){return ld(e,t,w).map((function(e){return{cells:e,generators:t.generators,clipboard:t.clipboard}}))}function Wa(e,t){return ld(e,t,(function(e){return!e.isLocked}))}function $a(e,t){return G(t,(function(t){return dd(e,t)}))}function qa(e,t){return t.mergable.filter((function(t){return $a(e,t.cells)}))}function Ga(e,t){return t.unmergable.filter((function(t){return $a(e,t)}))}function Xa(e,t,n,r){for(var o=mr(e).rows,i=!0,a=0;a<o.length;a++)for(var u=0;u<dr(o[0]);u++){var c=o[a],s=lr(c,u),l=n(s.element,t);!0===l&&!1===i?sr(c,u,Tt(r(),!0,s.isLocked)):!0===l&&(i=!1)}return e}function Ka(e){return{isValue:w,isError:y,getOr:g(e),getOrThunk:g(e),getOrDie:g(e),or:function(t){return Ka(e)},orThunk:function(t){return Ka(e)},fold:function(t,n){return n(e)},map:function(t){return Ka(t(e))},mapError:function(t){return Ka(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return E.some(e)}}}function Ya(e){return{isValue:y,isError:w,getOr:h,getOrThunk:function(e){return e()},getOrDie:function(){throw t=String(e),new Error(t);var t},or:h,orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return Ya(e)},mapError:function(t){return Ya(t(e))},each:m,bind:function(t){return Ya(e)},exists:y,forall:w,toOptional:E.none}}function Ja(e,t,n,r){var o="colgroup"===t.section?n.col:n.cell;return k(e,(function(e){return Tt(o(),!0,r(e))}))}function Qa(e,t,n,r){var o=e[e.length-1];return e.concat(k(t,(function(){var e="colgroup"===o.section?n.colgroup:n.row,t=(e=cn(o,e,h),Ja(e.cells.length,e,n,(function(e){return ye(r,e.toString())})));return un(e,t)})))}function Za(e,t,n,r){return B(e,(function(e){var o=Ja(t,e,n,y);return ur(e,r,o)}))}function eu(e,t,n,r,o){md(t,e,o,r.cell);o=yd(n,t);var i=xd(n,o,r);n=yd(t,i),o=xd(t,n,r);return B(o,(function(t,n){return ur(t,e,i[n].cells)}))}function tu(e,t,n,r,o){gd(t,e,o,r.cell);o=pr(t);var i=bd(t,n),a=(i=Q(Q({},i),{colDelta:i.colDelta-o.length}),o=xd(t,i,r),(i=mr(o)).cols);i=i.rows,o=pr(o),t=bd(n,t),t=Q(Q({},t),{colDelta:t.colDelta+o.length}),n=wd(n,r,o),o=xd(n,t,r);return a.concat(i.slice(0,e)).concat(o).concat(i.slice(e,i.length))}function nu(e,t,n,r,o){var i=(e=mr(e)).rows,a=(e=e.cols,i.slice(0,t)),u=i.slice(t);n=Od(i[n],(function(e,n){return 0<t&&t<i.length&&r(fr(i[t-1],n),fr(i[t],n))?lr(i[t],n):Tt(o(e.element,r),!0,e.isLocked)}),r,o);return e.concat(a).concat([n]).concat(u)}function ru(e,t,n,r,o){return B(e,(function(e){var i=0<t&&t<dr(e)&&r(fr(e,t-1),fr(e,t));i=Td(e,t,e.section,i,n,r,o);return cr(e,t,i)}))}function ou(e,t,n,r){return a=n,u=r,void 0!==fr((o=e)[i=t],a)&&0<i&&u(fr(o[i-1],a),fr(o[i],a))||(u=e[t],o=r,0<(i=n)&&o(fr(u,i-1),fr(u,i)));var o,i,a,u}function iu(e,t,n,r){function o(e){return("row"===e?nn:tn)(t)?e+"group":e}return e?Kf(t)?o(n):null:r&&Kf(t)?o("row"===n?"col":"row"):null}function au(e,t,n,r,o){var i=mr(e).rows,a=(t=q(t,(function(e){return Rd(i,e,r)})),B(e,(function(e){return Yf(e.cells)}))),u=Ed(t,a);n=Ad(n,a);return Md(e,t,r,o,zd,n,u)}function uu(e,t,n,r){var o=mr(e).rows;t=B(t,(function(e){return lr(o[e.row],e.column)}));return Md(e,t,n,r,zd,E.none,w)}function cu(e){return"tr"===Dt(e)||Ld(e)}function su(e){return{element:e,colspan:Gn(e,"colspan",1),rowspan:Gn(e,"rowspan",1)}}function lu(e){return Rn(e,"scope").map((function(e){return e.substr(0,3)}))}function fu(e){var t=function(e){return"br"===Dt(e)},n=function(e){return"li"===Dt(e)||On(e,Vd).isSome()},r=function(e){return Lt(e).map((function(e){return!!Fd(e)||!!jd(e)&&"img"!==Dt(e)})).getOr(!1)},o=0===(o=q(e,(function(e){var o,i=Pt(e);return G(i,(function(e){return t(e)||Mt(e)&&0===zr(e).trim().length}))?[]:i.concat(cl(o=e).bind((function(e){var i=r(e);return Ht(e).map((function(r){return!0===i||n(r)||t(e)||Fd(r)&&!mt(o,r)?[]:[lt.fromTag("br")]}))})).getOr([]))}))).length?[lt.fromTag("br")]:o;Tr(e[0]),Or(e[0],o)}function du(e){return vf(e,!0)}function mu(e){0===rn(e).length&&_r(e)}function gu(e,t,n){return t=Wd(e,t,n),Ud(e,t)}function hu(e){return V(e,(function(e,t){return N(e,(function(e){return e.row===t.row}))?e:e.concat([t])}),[]).sort((function(e,t){return e.row-t.row}))}function pu(e,t){return function(n,r,o,i,a){var u,c,s,l,f,d,m=hu(r),g=(m=B(m,(function(e){return e.row})),n=n,m=m,u=e,g=t,c=o,o=i.replaceOrInit,s=a,n=mr(n),i=n.cols,l=n.rows,n=l[m[0]],a=q(m,(function(e){return Nd(l,e,c)})),f=B(n.cells,(function(e,t){return Yf(Rd(l,t,c))})),d=Z([],l,!0),H(m,(function(e){d[e]=s.transformRow(l[e],u)})),m=i.concat(d),i=_d(n,f),n=Dd(g,f),Md(m,a,c,o,s.transformCell,n,i));return gu(g,r[0].row,r[0].column)}}function vu(e,t,n){return e=ar(e,n.section),n=yr.generate(e),cd(n,t,!0)}function bu(e,t,n,r){var o;t=t,r=r.sizing,t=yr.generate(t),o=r.getWidths(t,r),Rl(t,o,r)}function yu(e,t,n,r){return t=t,n=n,o=r.sizing,r=r.resize,t=yr.generate(t),i=o.getWidths(t,o),a=o.pixelWidth(),r=r.calcRedestributedWidths(i,a,n.pixelDelta,o.isRelative),i=r.newSizes,a=r.delta,Rl(t,i,o),void o.adjustTableWidth(a);var o,i,a}function wu(e,t){return N(t,(function(e){return 0===e.column&&e.isLocked}))}function xu(e,t){return N(t,(function(t){return t.column+t.colspan>=e.grid.columns&&t.isLocked}))}function Cu(e,t){var n=Mo(e);e=Bd(t);return V(e,(function(e,t){return e+n[t.column].map(Do).getOr(0)}),0)}function Su(e){return function(t,n){return fd(t,n).filter((function(n){return!(e?wu:xu)(t,n)})).map((function(e){return{details:e,pixelDelta:Cu(t,e)}}))}}function ku(e){return function(t,n){return Ua(t,n).filter((function(n){return!(e?wu:xu)(t,n.cells)}))}}function Ou(e,t){var n=yr.fromTable(e);return fd(n,t).bind((function(e){var t=e[e.length-1],r=e[0].column,o=t.column+t.colspan;e=$(B(n.all,(function(e){return I(e.cells,(function(e){return e.column>=r&&e.column<o}))})));return Ra(e)})).getOr("")}function Tu(e,t){return e=yr.fromTable(e),fd(e,t).bind(Ra).getOr("")}function _u(e,t,n,r){for(var o=lt.fromTag("tr"),i=0;i<e;i++){var a=r<t||i<n?lt.fromTag("th"):lt.fromTag("td");i<n&&zn(a,"scope","row"),r<t&&zn(a,"scope","col"),Sr(a,lt.fromTag("br")),Sr(o,a)}return o}function Eu(e){var t=lt.fromTag("colgroup");return k(e,(function(){return Sr(t,lt.fromTag("col"))})),t}function Du(e,t,n,r){return k(e,(function(e){return _u(t,n,r,e)}))}function Au(e,t){e.selection.select(t.dom,!0),e.selection.collapse(!0)}function zu(e,t,n,r,i){var a=ca(e),u={styles:a,attributes:ua(e),colGroups:e.getParam("table_use_colgroups",!1,"boolean")};return e.undoManager.ignore((function(){var o,a=function(e,t,n,r,o,i){void 0===i&&(i=vm);var a=lt.fromTag("table"),u="cells"!==o,c=(i=(Vn(a,i.styles),Yt(a,i.attributes),i.colGroups&&Sr(a,Eu(t)),Math.min(e,n)),u&&0<n&&(c=lt.fromTag("thead"),Sr(a,c),o=Du(n,t,"sectionCells"===o?i:0,r),Or(c,o)),lt.fromTag("tbody"));return Sr(a,c),o=Du(u?e-i:e,t,u?0:n,r),Or(c,o),a}(n,t,i,r,ba(e),u);zn(a,"data-mce-id","__mce"),a=a,o=lt.fromTag("div"),a=lt.fromDom(a.dom.cloneNode(!0)),Sr(o,a),a=o.dom.innerHTML;e.insertContent(a),e.addVisual()})),Kt(vl(e),'table[data-mce-id="__mce"]').map((function(t){var n,r;return pa(e)?Uf(t):va(e)?Wf(t):(ha(e)||(r=a.width,o(r)&&-1!==r.indexOf("%")))&&jf(t),bi(t),Nn(t,"data-mce-id"),n=e,H(ze(t,"tr"),(function(e){ea(n,e.dom),H(ze(e,"th,td"),(function(e){ta(n,e.dom)}))})),r=e,Kt(t,"td,th").each(p(Au,r)),t.dom})).getOr(null)}function Mu(e,t,n,r,o){function i(e){return d(e)&&0<e}var a;return void 0===r&&(r={}),i(t)&&i(n)?(a=r.headerRows||0,r=r.headerColumns||0,zu(e,n,t,r,a)):null}function Ru(e){return function(){return e().fold((function(){return[]}),(function(e){return B(e,(function(e){return e.dom}))}))}}function Nu(e){return function(t){t=0<t.length?E.some(gi(t)):E.none(),e(t)}}function Bu(e,t,n){var r=Gn(e,t,1);1===n||r<=1?Nn(e,t):zn(e,t,Math.min(n,r))}function Hu(e,t){var n=yr.fromTable(e);return Wa(n,t).map((function(e){var t,r,o,i,a=e[e.length-1],u=(e=e[0].column,a=a.column+a.colspan,u=n,t=e,r=a,yr.hasColumns(u)?(u=I(yr.justColumns(u),(function(e){return e.column>=t&&e.column<r})),u=B(u,(function(e){return e=Ur(e.element),Bu(e,"span",r-t),e})),c=lt.fromTag("colgroup"),Or(c,u),[c]):[]),c=(o=e,i=a,B(n.all,(function(e){e=I(e.cells,(function(e){return e.column>=o&&e.column<i})),e=B(e,(function(e){return e=Ur(e.element),Bu(e,"colspan",i-o),e}));var t=lt.fromTag("tr");return Or(t,e),t})));return Z(Z([],u,!0),c,!0)}))}function Lu(e,t,n){var r=yr.fromTable(e);return fd(r,t).bind((function(e){var t=cd(r,n,!1);t=mr(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),e=q(t,(function(e){var t=I(e.cells,(function(e){return!e.isLocked}));return 0<t.length?[Q(Q({},e),{cells:t})]:[]})),t=Va(e);return Ln(0<t.length,t)})).map((function(e){return B(e,(function(e){var t=jr(e.element);return H(e.cells,(function(e){var n=Ur(e.element);id(n,"colspan",e.colspan,1),id(n,"rowspan",e.rowspan,1),Sr(t,n)})),t}))}))}function Pu(e,t,n){t=e.select("td,th",t);for(var r=void 0,o=t,i=0;i<o.length;i++){var a=e.getStyle(o[i],n);if((r=void 0===r?a:r)!==a)return""}return r}function Iu(e,t,n){n&&e.formatter.apply("align"+n,{},t)}function Fu(e,t){ym.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))}function Vu(e){return(oe(e=e,t="#")?(t=t.length,e.substring(t)):e).toUpperCase();var t}function ju(e){return t=e,xm.test(t)||Cm.test(t)?E.some({value:Vu(e)}):E.none();var t}function Uu(e){return(1===(e=e.toString(16)).length?"0"+e:e).toUpperCase()}function Wu(e){return{value:Uu(e.red)+Uu(e.green)+Uu(e.blue)}}function $u(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}}function qu(e,t,n,r){return e=parseInt(e,10),t=parseInt(t,10),n=parseInt(n,10),r=parseFloat(r),$u(e,t,n,r)}function Gu(e){return ju(e).orThunk((function(){return function(e){if("transparent"===e)return E.some($u(0,0,0,0));var t=Sm.exec(e);return null!==t?E.some(qu(t[1],t[2],t[3],"1")):(t=km.exec(e),null!==t?E.some(qu(t[1],t[2],t[3],t[4])):E.none())}(e).map(Wu)})).getOrThunk((function(){var t=document.createElement("canvas"),n=(t.height=1,t.width=1,t.getContext("2d")),r=(t=(n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1),n.getImageData(0,0,1,1).data),n=t[0],t[1]),o=t[2];t=t[3];return Wu($u(n,r,o,t))}))}function Xu(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function Ku(e){function t(){return n.get().each(e)}var n=Xu(E.none());return{clear:function(){t(),n.set(E.none())},isSet:function(){return n.get().isSome()},get:function(){return n.get()},set:function(e){t(),n.set(E.some(e))}}}function Yu(){var e=Ku(m);return Q(Q({},e),{on:function(t){return e.get().each(t)}})}function Ju(e,t,n,r){return function(o){function i(){function i(t){return e.formatter.match(n,{value:r},t.dom,u)}var c=Tl(t);u?(o.setActive(!N(c,i)),a.set(e.formatter.formatChanged(n,(function(e){return o.setActive(!e)}),!0))):(o.setActive(G(c,i)),a.set(e.formatter.formatChanged(n,o.setActive,!1,{value:r})))}var a=Ku((function(e){return e.unbind()})),u=!ae(r);return e.initialized?i():e.on("init",i),a.clear}}function Qu(e){return xt(e,"menu")}function Zu(e){return B(e,(function(e){var t=e.text||e.title;return Qu(e)?{text:t,items:Zu(e.menu)}:{text:t,value:e.value}}))}function ec(e,t,n,r,o){return B(n,(function(n){var i=n.text||n.title;return Qu(n)?{type:"nestedmenuitem",text:i,getSubmenuItems:function(){return ec(e,t,n.menu,r,o)}}:{text:i,type:"togglemenuitem",onAction:function(){return o(n.value)},onSetup:Ju(e,t,r,n.value)}}))}function tc(e,t){return function(n){var r;e.execCommand("mceTableApplyCellStyle",!1,((r={})[t]=n,r))}}function nc(e){return q(e,(function(e){return Qu(e)?[Q(Q({},e),{menu:nc(e.menu)})]:ae(e.value)?[e]:[]}))}function rc(e,t,n,r,o){return function(i){return i(ec(e,t,n,r,o))}}function oc(e,t,n){return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:0<(t=B(t,(function(e){return{text:e.title,value:"#"+Gu(e.value).value,type:"choiceitem"}}))).length?t:void 0,allowCustomColors:!1},onAction:function(t){var r;t="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,((r={})[n]=t,r))}}]}function ic(e){return function(){var t=e.queryCommandValue("mceTableRowType");e.execCommand("mceTableRowType",!1,{type:"header"===t?"body":"header"})}}function ac(e){return function(){var t=e.queryCommandValue("mceTableColType");e.execCommand("mceTableColType",!1,{type:"th"===t?"td":"th"})}}function uc(e){return Om.concat(function(e){return e=Zu(ma(e)),0<e.length?E.some({name:"class",type:"listbox",label:"Class",items:e}):E.none()}(e).toArray())}function cc(e,t){return e=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Zu(aa(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(e):e}}function sc(e){return function(t,n){var r=t.dom;return{setAttrib:function(t,o){e&&!o||r.setAttrib(n,t,o)},setStyle:function(t,o){e&&!o||r.setStyle(n,t,o)},setFormat:function(r,o){e&&!o||(""===o?t.formatter.remove(r,{value:null},n,!0):t.formatter.apply(r,{value:o},n))}}}}function lc(e){return function(t){return oe(t,"rgb")?e.toHex(t):t}}function fc(e,t){return t=lt.fromDom(t),{borderwidth:Wn(t,"border-width").getOr(""),borderstyle:Wn(t,"border-style").getOr(""),bordercolor:Wn(t,"border-color").map(lc(e)).getOr(""),backgroundcolor:Wn(t,"background-color").map(lc(e)).getOr("")}}function dc(e){var t=e[0];e=e.slice(1);return H(e,(function(e){H(ht(t),(function(n){vt(e,(function(e,r){var o=t[n];""!==o&&n===r&&o!==e&&(t[n]="")}))}))})),t}function mc(e,t,n,r){return U(e,(function(e){return!s(n.formatter.matchNode(r,t+e))})).getOr("")}function gc(e,t,n){var r,o=e.dom;return Q({height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:(r=t,tr(lt.fromDom(r)).map((function(e){var t={selection:gi(r.cells)};return hm(e,t)})).getOr("")),align:_m(e,t)},n?fc(o,t):{})}function hc(e,t,n,r){function o(e,t){return i.getStyle(e,t)||i.getAttrib(e,t)}var i=e.dom;r=r.getOr(t);return Q({width:o(r,"width"),height:o(t,"height"),scope:i.getAttrib(t,"scope"),celltype:t.nodeName.toLowerCase(),class:i.getAttrib(t,"class",""),halign:_m(e,t),valign:Em(e,t)},n?fc(i,t):{})}function pc(e,t){var n=yr.fromTable(e);e=yr.justCells(n),e=I(e,(function(e){return N(t,(function(t){return mt(e.element,t)}))}));return B(e,(function(e){return{element:e.element.dom,column:yr.getColumnAt(n,e.column).map((function(e){return e.element.dom}))}}))}function vc(e,t,n){var r=1===t.length;H(t,(function(t){var o,i,a,u,c=t.element,s=r?Tm.normal(e,c):Tm.ifTruthy(e,c);t=t.column.map((function(t){return r?Tm.normal(e,t):Tm.ifTruthy(e,t)})).getOr(s);t=t,u=n,(o=s).setAttrib("scope",u.scope),o.setAttrib("class",u.class),o.setStyle("height",vi(u.height)),t.setStyle("width",vi(u.width)),sa(e)&&(o=n,(t=s).setFormat("tablecellbackgroundcolor",o.backgroundcolor),t.setFormat("tablecellbordercolor",o.bordercolor),t.setFormat("tablecellborderstyle",o.borderstyle),t.setFormat("tablecellborderwidth",vi(o.borderwidth))),r&&(Fu(e,c),i=e,a=c,ym.each("top middle bottom".split(" "),(function(e){i.formatter.remove("valign"+e,{},a)}))),n.halign&&Iu(e,c,n.halign),n.valign&&(u=e,s=c,(t=n.valign)&&u.formatter.apply("valign"+t,{},s))}))}function bc(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact((function(){var r,i,a,u,c;r=e,i=t,a=n,c=pe(u=o,(function(e,t){return a[t]!==e})),0<ve(c)&&1<=i.length&&tr(i[0]).each((function(e){var t=pc(e,i),n=0<ve(pe(c,(function(e,t){return"scope"!==t&&"celltype"!==t}))),o=ye(c,"celltype");(n||ye(c,"scope"))&&vc(r,t,u),o&&r.execCommand("mceTableCellType",!1,{type:u.celltype,no_events:!0}),oa(r,e.dom,{structure:o,style:n})})),e.focus()}))}function yc(e,t){var n,r,o,i,a;0!==(t=Tl(t)).length&&(n=e,o=tr((r=t)[0]).map((function(e){return B(pc(e,r),(function(e){return hc(n,e.element,sa(n),e.column)}))})),o=dc(o.getOrDie()),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:uc(e)},cc(e,"cell")]},a={type:"panel",items:[{type:"grid",columns:2,items:uc(e)}]},e.windowManager.open({title:"Cell Properties",size:"normal",body:sa(e)?i:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:p(bc,e,t,o)}))}function wc(e){return Dm.concat(function(e){return e=Zu(e.getParam("table_row_class_list",[],"array")),0<e.length?E.some({name:"class",type:"listbox",label:"Class",items:e}):E.none()}(e).toArray())}function xc(e,t,n,r){var o=1===t.length;H(t,(function(t){var i,a,u=o?Tm.normal(e,t):Tm.ifTruthy(e,t);i=n,(a=u).setAttrib("class",i.class),a.setStyle("height",vi(i.height)),la(e)&&(a=n,(i=u).setStyle("background-color",a.backgroundcolor),i.setStyle("border-color",a.bordercolor),i.setStyle("border-style",a.borderstyle)),n.align!==r.align&&(Fu(e,t),Iu(e,t,n.align))}))}function Cc(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact((function(){var r,i,a,u,c,s,l;r=e,i=t,a=n,l=pe(u=o,(function(e,t){return a[t]!==e})),0<ve(l)&&(c=ye(l,"type"),(s=!c||1<ve(l))&&xc(r,i,u,a),c&&r.execCommand("mceTableRowType",!1,{type:u.type,no_events:!0}),tr(lt.fromDom(i[0])).each((function(e){return oa(r,e.dom,{structure:c,style:s})}))),e.focus()}))}function Sc(e){var t,n,r,o,i;i=yl(e),t=Sl.selected,i=Ol(i),n=i.bind((function(e){return tr(e)})).map((function(e){return nr(e)})),0!==(i=Qt(i,n,(function(e,n){return I(n,(function(n){return N(gi(n.dom.cells),(function(n){return"1"===Mn(n,t)||mt(n,e)}))}))})).getOr([])).length&&(n=B(i,(function(t){return gc(e,t.dom,la(e))})),n=dc(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:wc(e)},cc(e,"row")]},o={type:"panel",items:[{type:"grid",columns:2,items:wc(e)}]},e.windowManager.open({title:"Row Properties",size:"normal",body:la(e)?r:o,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:p(Cc,e,B(i,(function(e){return e.dom})),n)}))}function kc(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)o(n)?e.setStyle(t,n,r):e.setStyle(t,n);else if(t.children)for(var i=0;i<t.children.length;i++)kc(e,t.children[i],n,r)}function Oc(e,t,n,r){var o=e.dom,i=r.getData(),a=pe(i,(function(e,t){return n[t]!==e}));r.close(),""===i.class&&delete i.class,e.undoManager.transact((function(){var n,r;if(t||(f=parseInt(i.cols,10)||1,d=parseInt(i.rows,10)||1,t=zu(e,f,d,0,0)),0<ve(a)){var u=e,c=t,s=i,l=u.dom,f={},d={};if(f.class=s.class,d.height=vi(s.height),l.getAttrib(c,"width")&&!da(u)?f.width=(g=s.width)?g.replace(/px$/,""):"":d.width=vi(s.width),da(u)?(d["border-width"]=vi(s.border),d["border-spacing"]=vi(s.cellspacing)):(f.border=s.border,f.cellpadding=s.cellpadding,f.cellspacing=s.cellspacing),da(u)&&c.children)for(var m=0;m<c.children.length;m++)kc(l,c.children[m],{"border-width":vi(s.border),padding:vi(s.cellpadding)}),fa(u)&&kc(l,c.children[m],{"border-color":s.bordercolor});fa(u)&&(d["background-color"]=s.backgroundcolor,d["border-color"]=s.bordercolor,d["border-style"]=s.borderstyle),f.style=l.serializeStyle(Q(Q({},ca(u)),d)),l.setAttribs(c,Q(Q({},ua(u)),f));var g=o.select("caption",t)[0];(g&&!i.caption||!g&&i.caption)&&e.execCommand("mceTableToggleCaption"),""===i.align?Fu(e,t):Iu(e,t,i.align)}e.focus(),e.addVisual(),0<ve(a)&&(r=!(n=ye(a,"caption"))||1<ve(a),oa(e,t,{structure:n,style:r}))}))}function Tc(e,t){var n,r,o,i,a=e.dom,u=(i=fa(r=e),u=ca(r),o=ua(r),i=i?(i=r.dom,{borderstyle:be(u,"border-style").getOr(""),bordercolor:lc(i)(be(u,"border-color").getOr("")),backgroundcolor:lc(i)(be(u,"background-color").getOr(""))}):{},Q(Q(Q(Q(Q(Q({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),u),o),i),(i=u["border-width"],da(r)&&i?{border:i}:be(o,"border").fold((function(){return{}}),(function(e){return{border:e}})))),(r=be(u,"border-spacing").or(be(o,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}})),i=be(u,"border-padding").or(be(o,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}})),Q(Q({},r),i)))),c=(!1===t?(n=a.getParent(e.selection.getStart(),"table",e.getBody()))?(o=n,i=fa(r=e),a=r.dom,s=da(r)?a.getStyle(o,"border-spacing")||a.getAttrib(o,"cellspacing"):a.getAttrib(o,"cellspacing")||a.getStyle(o,"border-spacing"),l=da(r)?Pu(a,o,"padding")||a.getAttrib(o,"cellpadding"):a.getAttrib(o,"cellpadding")||Pu(a,o,"padding"),u=Q({width:a.getStyle(o,"width")||a.getAttrib(o,"width"),height:a.getStyle(o,"height")||a.getAttrib(o,"height"),cellspacing:s,cellpadding:l,border:(s=a,l=o,c=Wn(lt.fromDom(l),"border-width"),da(r)&&c.isSome()?c.getOr(""):s.getAttrib(l,"border")||Pu(r.dom,l,"border-width")||Pu(r.dom,l,"border")),caption:!!a.select("caption",o)[0],class:a.getAttrib(o,"class",""),align:_m(r,o)},i?fc(a,o):{})):fa(e)&&(u.borderstyle="",u.bordercolor="",u.backgroundcolor=""):(u.cols="1",u.rows="1",fa(e)&&(u.borderstyle="",u.bordercolor="",u.backgroundcolor="")),Zu(ga(e))),s=(0<c.length&&u.class&&(u.class=u.class.replace(/\s*mce\-item\-table\s*/g,"")),{type:"grid",columns:2,items:function(e,t,n){return n=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],e=e.getParam("table_appearance_options",!0,"boolean")?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],t=0<t.length?[{type:"listbox",name:"class",label:"Class",items:t}]:[],n.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(e).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(t)}(e,c,t)}),l=fa(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},cc(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:p(Oc,e,n,u),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u})}function _c(e){return kl(yl(e),bl(e))}function Ec(e,t,n,r,o){void 0===o&&(o=w);var i=1===r;return!i&&n<=0?Hm.first(e[0]):i&&n>=e.length-1?Hm.last(e[e.length-1]):o(n=e[i=n+r])?Hm.middle(t,n):Ec(e,t,i,r,o)}function Dc(e,t){return tr(e,t).bind((function(t){var n=rn(t);return W(n,(function(t){return mt(e,t)})).map((function(e){return{index:e,all:n}}))}))}function Ac(e,t){return(e=e.document.createRange()).selectNode(t.dom),e}function zc(e,t){return(e=e.document.createRange()).selectNodeContents(t.dom),e}function Mc(e,t,n){var r,o;e=e.document.createRange();return r=e,t.fold((function(e){r.setStartBefore(e.dom)}),(function(e,t){r.setStart(e.dom,t)}),(function(e){r.setStartAfter(e.dom)})),o=e,n.fold((function(e){o.setEndBefore(e.dom)}),(function(e,t){o.setEnd(e.dom,t)}),(function(e){o.setEndAfter(e.dom)})),e}function Rc(e,t,n,r,o){return(e=e.document.createRange()).setStart(t.dom,n),e.setEnd(r.dom,o),e}function Nc(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}function Bc(e,t,n){return t(lt.fromDom(n.startContainer),n.startOffset,lt.fromDom(n.endContainer),n.endOffset)}function Hc(e,t){return jm(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom,o),i.setEnd(t.dom,n),i}})}function Lc(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}function Pc(e,t,n,r,o){function i(n){var r=e.dom.createRange();return r.setStart(t.dom,n),r.collapse(!0),r}var a=zr(t).length;n=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var u=e(a),c=Math.abs(t-u.left);if(n<=u.bottom){if(n<u.top||i<c)return a-1;i=c}}return 0}((function(e){return i(e).getBoundingClientRect()}),n,r,o.right,a);return i(n)}function Ic(e,t,n,r){return(Mt(t)?Um:Wm)(e,t,n,r)}function Fc(e,t){return t-e.left<e.right-t}function Vc(e,t,n){return(e=e.dom.createRange()).selectNode(t.dom),e.collapse(n),e}function jc(e,t){var n=Dt(e);return"input"===n?Pm.after(e):R(["br","img"],n)?0===t?Pm.before(e):Pm.after(e):Pm.on(e,t)}function Uc(e,t){return e=e.fold(Pm.before,jc,Pm.after),t=t.fold(Pm.before,jc,Pm.after),Fm.relative(e,t)}function Wc(e,t,n,r){return e=jc(e,t),t=jc(n,r),Fm.relative(e,t)}function $c(e,t,n,r){c=t,o=n,i=r,(a=ke(u=e).dom.createRange()).setStart(u.dom,c),a.setEnd(o.dom,i);var o,i,a,u=a,c=mt(e,n)&&t===r;return u.collapsed&&!c}function qc(e){return E.from(e.getSelection())}function Gc(e,t){qc(e).each((function(e){e.removeAllRanges(),e.addRange(t)}))}function Xc(e,t,n,r,o){t=Rc(e,t,n,r,o),Gc(e,t)}function Kc(e,t){return jm(e,t).match({ltr:function(t,n,r,o){Xc(e,t,n,r,o)},rtl:function(t,n,r,o){qc(e).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom,n,r.dom,o);else if(i.extend)try{u=r,c=o,(a=i).collapse(t.dom,n),a.extend(u.dom,c)}catch(i){Xc(e,r,o,t,n)}else Xc(e,r,o,t,n);var a,u,c}))}})}function Yc(e,t,n,r,o){t=Wc(t,n,r,o),Kc(e,t)}function Jc(e,t,n){t=Uc(t,n),Kc(e,t)}function Qc(e){function t(e,t,r,o){return Rc(n,e,t,r,o)}var n=Fm.getWin(e).dom;e=e.match({domRange:function(e){var t=lt.fromDom(e.startContainer),n=lt.fromDom(e.endContainer);return Wc(t,e.startOffset,n,e.endOffset)},relative:Uc,exact:Wc});return jm(n,e).match({ltr:t,rtl:t})}function Zc(e){var t;return 0<e.rangeCount?(t=e.getRangeAt(0),e=e.getRangeAt(e.rangeCount-1),E.some(Lm(lt.fromDom(t.startContainer),t.startOffset,lt.fromDom(e.endContainer),e.endOffset))):E.none()}function es(e){var t,n;return null===e.anchorNode||null===e.focusNode?Zc(e):(t=lt.fromDom(e.anchorNode),n=lt.fromDom(e.focusNode),$c(t,e.anchorOffset,n,e.focusOffset)?E.some(Lm(t,e.anchorOffset,n,e.focusOffset)):Zc(e))}function ts(e,t,n){n=((n=void 0===n||n)?zc:Ac)(e,t),Gc(e,n)}function ns(e){return qc(e).filter((function(e){return 0<e.rangeCount})).bind(es).map((function(e){return Fm.exact(e.start,e.soffset,e.finish,e.foffset)}))}function rs(e,t){e=Hc(e,t);return 0<(e=0<(e=(t=e).getClientRects()).length?e[0]:t.getBoundingClientRect()).width||0<e.height?E.some(e).map(Nc):E.none()}function os(e,t,n){return e=lt.fromDom(e.document),Xm(e,t,n).map((function(e){return Lm(lt.fromDom(e.startContainer),e.startOffset,lt.fromDom(e.endContainer),e.endOffset)}))}function is(e,t,n){return as(e,t,(o=vf,Dc(r=n,i).fold((function(){return Hm.none()}),(function(e){return Ec(e.all,r,e.index,-1,o)}))));var r,o,i}function as(e,t,n){return n.fold(E.none,E.none,(function(t,n){return ul(n).map((function(t){return Jm(e,t)}))}),(function(n){return e.execCommand("mceTableInsertRowAfter"),Ym(e,t,n)}))}function us(e,t){return e=Hc(e,t),Lm(lt.fromDom(e.startContainer),e.startOffset,lt.fromDom(e.endContainer),e.endOffset)}function cs(e,t,n,r,o){return mt(n,r)?E.none():po(n,r,t).bind((function(t){var r=t.boxes.getOr([]);return 1<r.length?(o(e,r,t.start,t.finish),E.some(eg.create(E.some(ng(n,0,n,il(n))),!0))):E.none()}))}function ss(e,t,n,r){return void 0===r&&(r=ls),e.property().parent(t).map((function(e){return ig(e,r)}))}function ls(e,t,n,r){return void 0===r&&(r=ag),n.sibling(e,t).map((function(e){return ig(e,r)}))}function fs(e,t){return t=t,mg(hg,e,dg(hg),t)}function ds(e,t){return t=t,gg(hg,e,dg(hg),t)}function ms(e){return Dn(e,"tr")}function gs(e){return Ht(e).bind((function(t){var n=Pt(t);return W(n,p(mt,e)).map((function(r){return{parent:t,children:n,element:e,index:r}}))}))}function hs(e){return"br"===Dt(e)}function ps(e,t,n){return t(e,n).bind((function(e){return Mt(e)&&0===zr(e).trim().length?ps(e,t,n):E.some(e)}))}function vs(e,t,n,r){return _e(o=t,i=n).filter(hs).orThunk((function(){return _e(o,i-1).filter(hs)})).bind((function(t){return r.traverse(t).fold((function(){return ps(t,r.gather,e).map(r.relative)}),(function(e){return gs(e).map((function(e){return Pm.on(e.parent,e.index)}))}))}));var o,i}function bs(e,t,n,r){var o,i,a;return(hs(t)?(o=e,i=t,(a=r).traverse(i).orThunk((function(){return ps(i,a.gather,o)})).map(a.relative)):vs(e,t,n,r)).map((function(e){return{start:e,finish:e}}))}function ys(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}}function ws(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}}function xs(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}}function Cs(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Ss(e,t){return E.some(e.getRect(t))}function ks(e,t,n){return Tn(t,Fd).fold(y,(function(t){return yg(e,t).exists((function(e){return xg(n,e)}))}))}function Os(e,t,n){var r,o=e.move(n,5),i=kg(t,e,n,o,100).getOr(o);return n=i,o=t,((r=e).point(n)>o.getInnerHeight()?E.some(r.point(n)-o.getInnerHeight()):r.point(n)<0?E.some(-r.point(n)):E.none()).fold((function(){return t.situsFromPoint(i.left,e.point(i))}),(function(n){return t.scrollBy(0,n),t.situsFromPoint(i.left,e.point(i)-n)}))}function Ts(e,t,n){return e.getSelection().bind((function(r){return bs(t,r.finish,r.foffset,n).fold((function(){return E.some(Da(r.finish,r.foffset))}),(function(o){return o=e.fromSitus(o),o=vg.verify(e,r.finish,r.foffset,o.finish,o.foffset,n.failure,t),vg.cata(o,(function(e){return E.none()}),(function(){return E.none()}),(function(e){return E.some(Da(e,0))}),(function(e){return E.some(Da(e,il(e)))}))}))}))}function _s(e,t,n,r,o,i){return 0===i?E.none():(u=o,bg(a=e,n,r).bind((function(e){return Tg(a,u,e)})).bind((function(a){var u=e.fromSitus(a);u=vg.verify(e,n,r,u.finish,u.foffset,o.failure,t);return vg.cata(u,(function(){return E.none()}),(function(){return E.some(a)}),(function(a){return mt(n,a)&&0===r?Es(e,n,r,ws,o):_s(e,t,a,0,o,i-1)}),(function(a){return mt(n,a)&&r===il(a)?Es(e,n,r,ys,o):_s(e,t,a,il(a),o,i-1)}))})));var a,u}function Es(e,t,n,r,o){return bg(e,t,n).bind((function(t){return Tg(e,o,r(t,Og.getJumpSize()))}))}function Ds(e,t){return On(e,(function(e){return Ht(e).exists((function(e){return mt(e,t)}))}),n).isSome();var n}function As(e,t,n,r,o){return Dn(r,"td,th",t).bind((function(r){return Dn(r,"table",t).bind((function(i){return Ds(o,i)?Ts(a=e,u=t,c=n).bind((function(e){return _s(a,u,e.element,e.offset,c,20).map(a.fromSitus)})).bind((function(e){return Dn(e.finish,"td,th",t).map((function(t){return{start:r,finish:t,range:e}}))})):E.none();var a,u,c}))}))}function zs(e,t){return Dn(e,"td,th",t)}function Ms(e){return function(t){return t===e}}function Rs(e,t,n,r){return e=Ig(e),{clearstate:(e=zg(e,t,n,r)).clearstate,mousedown:e.mousedown,mouseover:e.mouseover,mouseup:e.mouseup}}function Ns(e,t,n,r){function o(){return r.clear(t),E.none()}var i=Ig(e);return{keydown:function(e,a,u,c,s,l){e=e.raw;var f=e.which,d=!0===e.shiftKey;return vo(t,r.selectedSelector).fold((function(){return Hg(f)&&!d&&r.clearBeforeUpdate(t),Bg(f)&&d?p(Ag,i,t,n,Mg,c,a,r.selectRange):Ng(f)&&d?p(Ag,i,t,n,Rg,c,a,r.selectRange):Bg(f)?p(_g,i,n,Mg,c,a,Dg):Ng(f)?p(_g,i,n,Rg,c,a,Eg):E.none}),(function(e){function n(n){return function(){return J(n,(function(n){return og(n.rows,n.cols,t,e,r)})).fold((function(){return bo(t,r.firstSelectedSelector,r.lastSelectedSelector).map((function(e){var n=Bg(f)||l.isForward(f)?Pm.after:Pm.before;return i.setRelativeSelection(Pm.on(e.first,0),n(e.table)),r.clear(t),eg.create(E.none(),!0)}))}),(function(e){return E.some(eg.create(E.none(),!0))}))}}return Bg(f)&&d?n([Fg(1,0)]):Ng(f)&&d?n([Fg(-1,0)]):l.isBackward(f)&&d?n([Fg(0,-1),Fg(-1,0)]):l.isForward(f)&&d?n([Fg(0,1),Fg(1,0)]):Hg(f)&&!d?o:E.none}))()},keyup:function(e,o,i,a,u){return vo(t,r.selectedSelector).fold((function(){var c=e.raw,s=c.which;return!0===c.shiftKey&&Hg(s)?rg(t,n,o,i,a,u,r.selectRange):E.none()}),E.none)}}}function Bs(e,t,n,r){var o=Ig(e);return function(e,i){r.clearBeforeUpdate(t),po(e,i,n).each((function(e){var n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish),o.selectContents(i),o.collapseSelection()}))}}function Hs(e,t,n){var r=yr.fromTable(e);return fd(r,t).map((function(e){var t=cd(r,n,!1);return{upOrLeftCells:Ug(t,e),downOrRightCells:Wg(t,e)}}))}function Ls(e){return!1===mf(lt.fromDom(e.target),"ephox-snooker-resizer-bar")}var Ps=/(\d+(\.\d+)?)%/,Is=/(\d+(\.\d+)?)px|em/,Fs=Se("col"),Vs=function(e,t,n){var r=E.from(e.dom.parentElement).map(lt.fromDom).getOrThunk((function(){return De(ke(e))}));return t(e)/n(r)*100},js=function(e,t){Fn(e,"height",t+"px")},Us=function(e,t){return Wn(e,t).orThunk((function(){return Rn(e,t).map((function(e){return e+"px"}))}))},Ws=function(e){return Vs(e,Eo,Ao)},$s=function(e){return(Fs(e)?Eo:zo)(e)},qs=g(Ps),Gs=Se("col"),Xs=function(e,t,n,r){var o=Mo(e),i=(e=yr.hasColumns(e)?B(yr.justColumns(e),(function(e){return E.from(e.element)})):o,[E.some(Uo.edge(t))].concat(B(Uo.positions(o,t),(function(e){return e.map((function(e){return e.x}))})))),a=v(tn);return B(e,(function(e,t){return oi(e,t,i,a,(function(e){var u,c;return u=e,c=(c=ct().browser).isChrome()||c.isFirefox(),!Gs(u)||c?n(e):(u=o[t],c=h,e=null!=u?c(u):E.none(),oi(e,t,i,a,(function(e){return r(E.some(Eo(e)))}),r))}),r)}))},Ks=function(e,t){return Xs(e,t,ni,ii)},Ys=function(e,t,n){return Xs(e,t,$s,(function(e){return e.getOrThunk(n.minCellWidth)}))},Js=function(e,t,n){return ai(e,t,n,Zo,(function(e){return e.getOrThunk(Yn)}))},Qs=function(e,t,n){return ai(e,t,n,ri,ii)},Zs=function(e,t){return function(){return Wt(e)?t(e):parseFloat(Wn(e,"width").getOr("0"))}},el=function(e){var t=Zs(e,(function(e){return parseFloat(ti(e))})),n=Zs(e,Eo);return{width:t,pixelWidth:n,getWidths:function(t,n){return r=n,Xs(t,e,Ws,(function(e){return e.fold((function(){return r.minCellWidth()}),(function(e){return e/r.pixelWidth()*100}))}));var r},getCellDelta:function(e){return e/n()*100},singleColumnWidth:function(e,t){return[100-e]},minCellWidth:function(){return Kn()/n()*100},setElementWidth:Ko,adjustTableWidth:function(n){var r=t();Ko(e,r+n/100*r)},isRelative:!0,label:"percent"}},tl=function(e){var t=Zs(e,Eo);return{width:t,pixelWidth:t,getWidths:function(t,n){return Ys(t,e,n)},getCellDelta:h,singleColumnWidth:function(e,t){return[Math.max(Kn(),e+t)-e]},minCellWidth:Kn,setElementWidth:Xo,adjustTableWidth:function(n){n=t()+n,Xo(e,n)},isRelative:!1,label:"pixel"}},nl=function(e){return Qo(e).fold((function(){return ui(e)}),(function(t){return n=e,t=t,(null!==qs().exec(t)?el:tl)(n);var n}))},rl=tl,ol=el,il=function(e){return"img"===Dt(e)?1:Mr(e).fold((function(){return Pt(e).length}),(function(e){return e.length}))},al=["img","br"],ul=function(e){return Xt(e,li)},cl=function(e){return t=li,(n=function(e){for(var r=Pt(e),o=r.length-1;0<=o;o--){var i=r[o];if(t(i))return E.some(i);if(i=n(i),i.isSome())return i}return E.none()})(e);var t,n},sl={scope:["row","col"]},ll=function(e){return function(){var t=lt.fromTag("td",e.dom);return Sr(t,lt.fromTag("br",e.dom)),t}},fl=function(e){return function(){return lt.fromTag("col",e.dom)}},dl=function(e){return function(){return lt.fromTag("colgroup",e.dom)}},ml=function(e){return function(){return lt.fromTag("tr",e.dom)}},gl=function(e,t,n){var r=function(e,t){return t=Wr(e,t),e=Pt(Ur(e)),Or(t,e),t}(e,t);return vt(n,(function(e,t){null===e?Nn(r,t):zn(r,t,e)})),r},hl=function(e,t,n){return ul(e).map((function(r){var o=n.join(",");r=Ae(r,o,(function(t){return mt(t,e)}));return F(r,(function(e,t){return t=jr(t),Nn(t,"contenteditable"),Sr(e,t),t}),t)})).getOr(t)},pl=function(e,t){vt(sl,(function(n,r){return Rn(e,r).filter((function(e){return R(n,e)})).each((function(e){return zn(t,r,e)}))}))},vl=function(e){return lt.fromDom(e.getBody())},bl=function(e){return function(t){return mt(t,vl(e))}},yl=function(e){return lt.fromDom(e.selection.getStart())},wl="data-mce-selected",xl="data-mce-first-selected",Cl="data-mce-last-selected",Sl={selected:wl,selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:xl,firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:Cl,lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"},kl=Ci("th,td,caption"),Ol=Ci("th,td"),Tl=yi,_l=function(e,t,n){e.on("BeforeGetContent",(function(n){function r(t){n.preventDefault(),tr(t[0]).map((function(e){return e=si(e,"[data-mce-selected]"),bi(e),[e]})).each((function(t){var r;n.content="text"===n.format?B(t,(function(e){return e.dom.innerText})).join(""):(r=e,B(t,(function(e){return r.selection.serializer.serialize(e.dom,{})})).join(""))}))}!0===n.selection&&Fr(t.get(),m,r,m)})),e.on("BeforeSetContent",(function(r){var o;!0===r.selection&&!0===r.paste&&(o=Tl(t),K(o).each((function(t){tr(t).each((function(o){var i=I(function(e,t){return t=(t||document).createElement("div"),t.innerHTML=e,Pt(lt.fromDom(t))}(r.content),(function(e){return"meta"!==Dt(e)})),a=Se("table");1===i.length&&a(i[0])&&(r.preventDefault(),a=lt.fromDom(e.getDoc()),a=mi(a),i={element:t,clipboard:i[0],generators:a},n.pasteCells(o,i).each((function(){e.focus()})))}))})))}))},El=(wl=Fe([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Q({},wl)),Dl=function(e,t,n,r,o){var i=e.slice(0);t=t,e=0===(e=e).length?El.none():1===e.length?El.only(0):0===t?El.left(0,1):t===e.length-1?El.right(t-1,t):0<t&&t<e.length-1?El.middle(t-1,t,t+1):El.none(),t=g(B(i,g(0)));return e.fold(t,(function(e){return r.singleColumnWidth(i[e],n)}),(function(e,t){return o.calcLeftEdgeDeltas(i,e,t,n,r.minCellWidth(),r.isRelative)}),(function(e,t,a){return o.calcMiddleDeltas(i,e,t,a,n,r.minCellWidth(),r.isRelative)}),(function(e,t){return o.calcRightEdgeDeltas(i,e,t,n,r.minCellWidth(),r.isRelative)}))},Al=function(e,t){return e=yr.justCells(e),B(e,(function(e){var n=Si(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))},zl=function(e,t){return B(e.all,(function(e,n){return{element:e.element,height:t[n]}}))},Ml=function(e){return F(e,(function(e,t){return e+t}),0)},Rl=function(e,t,n){e=ki(e,t),H(e,(function(e){n.setElementWidth(e.element,e.width)}))},Nl=function(e){return B(e,g(0))},Bl=function(e,t,n,r,o){return o(e.slice(0,t)).concat(r).concat(o(e.slice(n)))},Hl=Ti((function(e){return e<0})),Ll=Ti(w),Pl=function(e,t){var n=E.from(e.dom.documentElement).map(lt.fromDom).getOr(e);return{parent:g(n),view:g(e),origin:g(Lo(0,0)),isResizable:t}},Il=function(e,t,n){return{parent:g(t),view:g(e),origin:g(Lo(0,0)),isResizable:n}},Fl=Fe([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Vl=Q(Q({},Fl),{from:function(e){return ie(e,"%")?Di("%",Fl.percent,e):ie(e,"px")?Di("px",Fl.pixels,e):Fl.invalid(e)}}),jl=function(e,t,n){return n=Vl.from(n),n=G(e,(function(e){return"0px"===e}))?function(e,t){return e=e.fold((function(){return g("")}),(function(e){return g(e/t+"px")}),(function(){return g(100/t+"%")})),k(t,e)}(n,e.length):Ai(n,e,t),0===n.length?n:(e=F(n,(function(e,t){var n=Vl.from(t).fold((function(){return{value:t,remainder:0}}),(function(e){return Ul(e,"px")}),(function(e){return{value:e+"%",remainder:0}}));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),t=e.output,t.slice(0,t.length-1).concat([Wl(t[t.length-1],Math.round(e.remainder))]))},Ul=function(e,t){var n=Math.floor(e);return{value:n+t,remainder:e-n}},Wl=function(e,t){return Vl.from(e).fold(g(e),(function(e){return e+t+"px"}),(function(e){return e+t+"%"}))},$l=Vl.from,ql=function(e,t,n){H(t,(function(t){var r=e.slice(t.column,t.colspan+t.column);r=zi(r,Kn());Fn(t.element,"width",r+n)}))},Gl=function(e,t,n){H(t,(function(t,r){r=zi([e[r]],Kn()),Fn(t.element,"width",r+n)}))},Xl=function(e,t,n,r){H(n,(function(t){var n=e.slice(t.row,t.rowspan+t.row);n=zi(n,Yn());Fn(t.element,"height",n+r)})),H(t,(function(t,n){Fn(t.element,"height",e[n])}))},Kl=function(e){return $l(e).fold(g("px"),g("px"),g("%"))},Yl=function(e){return Qo(e).exists((function(e){return Ps.test(e)}))},Jl=function(e){return Qo(e).exists((function(e){return Is.test(e)}))},Ql=function(e){return Qo(e).isNone()},Zl=function(e){var t=[];return{bind:function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:function(e){t=I(t,(function(t){return t!==e}))},trigger:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};H(e,(function(e,t){o[e]=n[t]})),H(t,(function(e){e(o)}))}}},ef=function(e){return{registry:bt(e,(function(e){return{bind:e.bind,unbind:e.unbind}})),trigger:bt(e,(function(e){return e.trigger}))}},tf=function(e){throw new Error("Unsupported keys for object: "+Ni(e).join(", "))},nf=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");var r,i="required",u=t;if(!a(u))throw new Error("The "+i+" fields must be an array. Was: "+u+".");return H(u,(function(e){if(!o(e))throw new Error("The value "+e+" in the "+i+" fields was not a string.")})),r=Ni(t),U(r,(function(e,t){return t<r.length-1&&e===r[t+1]})).each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+r.join(", ")+"].")})),function(r){var o=ht(r);if(!G(t,(function(e){return R(o,e)})))throw a=o,new Error("All required keys ("+Ni(t).join(", ")+") were not specified. Specified keys were: "+Ni(a).join(", ")+".");e(t,o);var i,a=I(t,(function(e){return!n.validate(r[e],e)}));if(0<a.length)throw i=n.label,new Error("All values need to be of type: "+i+". Keys ("+Ni(a).join(", ")+") were not.");return r}},rf=(xl=Hi(["compare","extract","mutate","sink"]),Hi(["element","start","stop","destroy"])),of=Hi(["forceDrop","drop","move","delayDrop"]),af=function(e,t,n,r){return Vi(e,t,n,r,!1)},uf=w,cf=function(e,t,n){return af(e,t,uf,n)},sf=Fi,lf=function(e){return void 0!==e.dom.classList},ff=function(e,t){var n="class";return t=Ui(e,n).concat([t]),zn(e,n,t.join(" ")),!0},df=function(e,t){lf(e)?e.dom.classList.add(t):ff(e,t)},mf=function(e,t){return lf(e)&&e.dom.classList.contains(t)},gf=qi("ephox-dragster").resolve,hf=xl({compare:function(e,t){return Lo(t.left-e.left,t.top-e.top)},extract:function(e){return E.some(Lo(e.x,e.y))},sink:function(e,t){var n=function(e){e=Q({layerClass:gf("blocker")},e);var t=lt.fromTag("div");return zn(t,"role","presentation"),Vn(t,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),df(t,gf("blocker")),df(t,e.layerClass),{element:g(t),destroy:function(){_r(t)}}}(t),r=cf(n.element(),"mousedown",e.forceDrop),o=cf(n.element(),"mouseup",e.drop),i=cf(n.element(),"mousemove",e.move),a=cf(n.element(),"mouseout",e.delayDrop);return rf({element:n.element,start:function(e){Sr(e,n.element())},stop:function(){_r(n.element())},destroy:function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()}})},mutate:function(e,t){e.mutate(t.left,t.top)}}),pf=function(e,t){var n=void 0!==(t=void 0===t?{}:t).mode?t.mode:hf;return Ii(e,n,t)},vf=function(e,t){return void 0===t&&(t=!1),!ct().browser.isIE()&&Wt(e)?e.dom.isContentEditable:Gi(e).fold(g(t),(function(e){return"true"===Xi(e)}))},bf=(Cl=qi("ephox-snooker").resolve,function(){var e,t=ef({drag:Zl(["xDelta","yDelta","target"])}),n=E.none(),r={mutate:function(t,n){e.trigger.drag(t,n)},events:(e=ef({drag:Zl(["xDelta","yDelta"])})).registry};return r.events.drag.bind((function(e){n.each((function(n){t.trigger.drag(e.xDelta,e.yDelta,n)}))})),{assign:function(e){n=E.some(e)},get:function(){return n},mutate:r.mutate,events:t.registry}}),yf=Cl("resizer-bar"),wf=Cl("resizer-rows"),xf=Cl("resizer-cols"),Cf=function(e){e=ze(e.parent(),"."+yf),H(e,_r)},Sf=function(e,t,n,r,o){var i,a,u,c,s=Io(n),l=t.isResizable,f=(r=0<r.length?Vo.positions(r,n):[],0<r.length?(i=l,q(e.all,(function(e,t){return i(e.element)?[t]:[]}))):[]),d=(r=I(r,(function(e,t){return N(f,(function(e){return t===e}))})),r=(Ji(t,r,s,Do(n)),0<o.length?Uo.positions(o,n):[]),0<r.length?(u=l,c=[],k((a=e).grid.columns,(function(e){yr.getColumnAt(a,e).map((function(e){return e.element})).forall(u)&&c.push(e)})),I(c,(function(e){var t=yr.filterItems(a,(function(t){return t.column===e}));return G(t,(function(e){return u(e.element)}))}))):[]);o=I(r,(function(e,t){return N(d,(function(e){return t===e}))}));Yi(t,o,s,Zr(n))},kf=function(e,t){var n,r,o;Cf(e),e.isResizable(t)&&(n=yr.fromTable(t),r=Ro(n),o=Mo(n),Sf(n,e,t,r,o))},Of=function(e){Qi(e,(function(e){Fn(e,"display","none")}))},Tf=function(e){Qi(e,(function(e){Fn(e,"display","block")}))},_f=function(e){return mf(e,wf)},Ef=function(e){return mf(e,xf)},Df=Cl("resizer-bar-dragging"),Af=function(e,t,n){var r=Vo,o=Uo,i=(e=Zi(e),ef({beforeResize:Zl(["table","type"]),afterResize:Zl(["table","type"]),startDrag:Zl([])}));return e.events.adjustHeight.bind((function(e){var t,n,o,a,u=e.table,c=(i.trigger.beforeResize(u,"row"),r.delta(e.delta,u));t=u,n=c,o=e.row,c=r,e=yr.fromTable(t),c=Js(e,t,c),c=B(c,(function(e,t){return o===t?Math.max(n+e,Yn()):e})),a=Al(e,c),e=zl(e,c),H(e,(function(e){js(e.element,e.height)})),H(a,(function(e){js(e.element,e.height)})),e=Ml(c),js(t,e),i.trigger.afterResize(u,"row")})),e.events.startAdjust.bind((function(e){i.trigger.startDrag()})),e.events.adjustWidth.bind((function(e){var r=e.table,a=(i.trigger.beforeResize(r,"col"),o.delta(e.delta,r)),u=n(r);Oi(r,a,e.column,t,u),i.trigger.afterResize(r,"col")})),{on:e.on,off:e.off,hideBars:e.hideBars,showBars:e.showBars,destroy:e.destroy,events:i.registry}},zf={structure:!1,style:!0},Mf={structure:!0,style:!1},Rf={structure:!0,style:!0},Nf={"border-collapse":"collapse",width:"100%"},Bf=k(5,(function(e){return e=e+1+"px",{title:e,value:e}})),Hf=B(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(function(e){return{title:e,value:e.toLowerCase()}})),Lf={border:"1"},Pf="preservetable",If=function(e){return e.getParam("table_sizing_mode","auto")},Ff=function(e){return e.getParam("table_responsive_width")},Vf=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},jf=function(e){var t=ti(e);Mi(e,E.some(t),E.none()),Ta(e)},Uf=function(e){var t=Eo(e)+"px";Mi(e,E.some(t),E.none()),Ta(e)},Wf=function(e){$n(e,"width");var t=on(e);t=0<t.length?t:rn(e);H(t,(function(e){$n(e,"width"),Ta(e)})),Ta(e)},$f=function(e){function t(e){return"TABLE"===e.nodeName}function n(){return l}function r(t){return Oa(e,t)}function i(){return(wa(e)?Ei:_i)()}function a(t,n,o){var a,s;n=ie(n,"e");""===c&&jf(t),o!==u&&""!==c?(Fn(t,"width",c),a=i(),s=r(t),n=wa(e)||n?Ri(t).columns-1:0,Oi(t,o-u,n,a,s)):/^(\d+(\.\d+)?)%$/.test(c)&&(n=parseFloat(c.replace("%","")),Fn(t,"width",o*n/u+"%")),/^(\d+(\.\d+)?)px$/.test(c)&&(a=t,s=yr.fromTable(a),yr.hasColumns(s)||H(rn(a),(function(e){var t=jn(e,"width");Fn(e,"width",t),Nn(e,"width")})))}var u,c,s=E.none(),l=E.none(),f=E.none();return e.on("init",(function(){t=Ea;var t,n=(n=e).inline?Il(vl(n),_a(),t):Pl(lt.fromDom(n.getDoc()),t);f=E.some(n),function(e){return e=e.getParam("object_resizing",!0),o(e)?"table"===e:e}(e)&&e.getParam("table_resize_bars",!0,"boolean")&&(t=i(),(n=Af(n,t,r)).on(),n.events.startDrag.bind((function(t){s=E.some(e.selection.getRng())})),n.events.beforeResize.bind((function(t){var n,r,o,i=t.table.dom;n=e,o=hi(r=i),i=pi(i),t="bar-"+t.type,n.fire("ObjectResizeStart",{target:r,width:o,height:i,origin:t})})),n.events.afterResize.bind((function(t){var n,r,o=t.table,i=o.dom;bi(o),s.each((function(t){e.selection.setRng(t),e.focus()})),o=e,r=hi(n=i),i=pi(i),t="bar-"+t.type,o.fire("ObjectResized",{target:n,width:r,height:i,origin:t}),e.undoManager.add()})),l=E.some(n))})),e.on("ObjectResizeStart",(function(n){var r,o=n.target;t(o)&&(r=lt.fromDom(o),H(e.dom.select(".mce-clonedresizable"),(function(t){e.dom.addClass(t,"mce-"+ya(e)+"-columns")})),!Jl(r)&&pa(e)?Uf(r):!Yl(r)&&ha(e)&&jf(r),Ql(r)&&oe(n.origin,"bar-")&&jf(r),u=n.width,c=va(e)?"":function(e,t){return e=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width"),E.from(e).filter(ae)}(e,o).getOr(""))})),e.on("ObjectResized",(function(n){var r,o=n.target;t(o)&&(o=lt.fromDom(o),r=n.origin,oe(r,"corner-")&&a(o,r,n.width),bi(o),oa(e,o.dom,zf))})),e.on("SwitchMode",(function(){l.each((function(t){e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),{lazyResize:n,lazyWire:function(){return f.getOr(Pl(lt.fromDom(e.getBody()),Ea))},destroy:function(){l.each((function(e){e.destroy()})),f.each((function(t){t=t,e.inline&&_r(t.parent())}))}}},qf=function(e,t,n){return e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((function(t){return qf(e,t,n).orThunk((function(){return E.some(t)}))})):E.none()},Gf=za,Xf=Nr(),Kf=Se("th"),Yf=function(e){return G(e,(function(e){return Kf(e.element)}))},Jf=function(e){var t="thead"===e.section,n=Bn(Ra(e.cells),"th");return t||n?{type:"header",subType:(n=n,(t=t)&&n?"sectionCells":t?"section":"cells")}:"tfoot"===e.section?{type:"footer"}:{type:"body"}},Qf=function(e,t,n){return Tt(n(e.element,t),!0,e.isLocked)},Zf=function(e,t){return e.section!==t?_t(e.element,e.cells,t,e.isNew):e},ed=function(e,t){switch(e=yr.fromTable(e),J(e.all,(function(e){return e=Jf(e),"header"===e.type?E.from(e.subType):E.none()})).getOr(t)){case"section":return Na();case"sectionCells":return Ba();case"cells":return Ha()}},td=Na,nd=Ba,rd=Ha,od=function(){return{transformRow:h,transformCell:Qf}},id=function(e,t,n,r){n===r?Nn(e,t):zn(e,t,n)},ad=function(e,t){var n=En(e,t).getOrThunk((function(){var n=lt.fromTag(t,ke(e).dom);return"thead"===t?La(e,"caption,colgroup",n):"colgroup"===t?La(e,"caption",n):Sr(e,n),n}));return Tr(n),n},ud=function(e,t){var n=B(e,(function(e){return B(e.cells,y)}));return B(e,(function(r,o){var i=q(r.cells,(function(r,i){if(!1!==n[o][i])return[];for(var a=Fa(e,o,i,t),u=o,c=i,s=a.rowspan,l=a.colspan,f=u;f<u+s;f++)for(var d=c;d<c+l;d++)n[f][d]=!0;return[{element:r.element,rowspan:a.rowspan,colspan:a.colspan,isNew:r.isNew}]}));return{element:r.element,cells:i,section:r.section,isNew:r.isNew}}))},cd=function(e,t,n){var r=[];H(e.colgroups,(function(o){for(var i=[],a=0;a<e.grid.columns;a++){var u=yr.getColumnAt(e,a).map((function(e){return Tt(e.element,n,!1)})).getOrThunk((function(){return Tt(t.colGap(),!0,!1)}));i.push(u)}r.push(_t(o.element,i,"colgroup",n))}));for(var o=0;o<e.grid.rows;o++){for(var i=[],a=0;a<e.grid.columns;a++){var u=yr.getAt(e,o,a).map((function(e){return Tt(e.element,n,e.isLocked)})).getOrThunk((function(){return Tt(t.gap(),!0,!1)}));i.push(u)}var c=e.all[o];c=_t(c.element,i,c.section,n);r.push(c)}return r},sd=function(e,t){return J(e.all,(function(e){return U(e.cells,(function(e){return mt(t,e.element)}))}))},ld=function(e,t,n){return t=B(t.selection,(function(t){return er(t).bind((function(t){return sd(e,t)})).filter(n)})),t=Hn(t),Ln(0<t.length,t)},fd=function(e,t){return ld(e,t,w)},dd=function(e,t){return sd(e,t).exists((function(e){return!e.isLocked}))},md=function(e,t,n,r){return 0<t&&t<e[0].cells.length&&H(e,(function(e){var o=e.cells[t-1],i=e.cells[t];n(i.element,o.element)&&sr(e,t,Tt(r(),!0,i.isLocked))})),e},gd=function(e,t,n,r){var o,i,a=mr(e).rows;return 0<t&&t<a.length&&(o=a[t-1].cells,i=n,o=V(o,(function(e,t){return N(e,(function(e){return i(e.element,t.element)}))?e:e.concat([t])}),[]),H(o,(function(e){for(var o=E.none(),i=t;i<a.length;i++)for(var u=0;u<dr(a[0]);u++)!function(t){var u=a[i],c=lr(u,t);n(c.element,e.element)&&(o=o.isNone()?E.some(r()):o).each((function(e){sr(u,t,Tt(e,!0,c.isLocked))}))}(u)}))),e},hd=Ka,pd=Ya,vd=function(e,t,n){if(e.row>=t.length||e.column>dr(t[0]))return pd("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);t=t.slice(e.row),e=t[0].cells.slice(e.column);var r=dr(n[0]);n=n.length;return hd({rowDelta:t.length-n,colDelta:e.length-r})},bd=function(e,t){return{rowDelta:0,colDelta:dr(e[0])-dr(t[0])}},yd=function(e,t){return{rowDelta:e.length-t.length,colDelta:0}},wd=function(e,t,n){return B(e,(function(e){return V(n,(function(n,r){var o=Ja(1,e,t,w)[0];return cr(n,r,o)}),e)}))},xd=function(e,t,n){var r=t.colDelta<0?Za:h,o=t.rowDelta<0?Qa:h,i=pr(e),a=dr(e[0]);i=N(i,(function(e){return e===a-1})),r=r(e,Math.abs(t.colDelta),n,i?a-1:a),e=pr(r);return o(r,Math.abs(t.rowDelta),n,O(e,w))},Cd=function(e,t,n,r,o,i){for(var a,u,c=e.row,s=e.column,l=c+n.length,f=s+dr(n[0])+i.length,d=O(i,w),m=c;m<l;m++)for(var g,h,v,b=0,y=s;y<f;y++)d[y]?b++:(u=y,g=void 0,h=p(h=o,lr((v=t)[a=m],u).element),g=v[a],1<v.length&&1<dr(g)&&(0<u&&h(fr(g,u-1))||u<g.cells.length-1&&h(fr(g,u+1))||0<a&&h(fr(v[a-1],u))||a<v.length-1&&h(fr(v[a+1],u)))&&Xa(t,fr(t[m],y),o,r.cell),h=(g=lr(n[m-c],y-s-b)).element,v=r.replace(h),sr(t[m],y,Tt(v,!0,g.isLocked)));return t},Sd=function(e,t,n){var r=dr(t[0]),o=(t=mr(t).cols.length+e.row,k(r-e.column,(function(t){return t+e.column})));return{row:t,column:U(o,(function(e){return G(n,(function(t){return t!==e}))})).getOr(r-1)}},kd=function(e,t,n){return I(n,(function(n){return n>=e.column&&n<=dr(t[0])+e.column}))},Od=function(e,t,n,r){return cn(e,(function(e){return r(e,n)}),t)},Td=function(e,t,n,r,o,i,a){return"colgroup"!==n&&r?lr(e,t):(n=lr(e,o),Tt(a(n.element,i),!0,!1))},_d=function(e,t){return G(t,h)&&Yf(e.cells)?w:function(e,n,r){return!("th"===Dt(e.element)&&t[r])}},Ed=function(e,t){return G(t,h)&&Yf(e)?w:function(e,n,r){return!("th"===Dt(e.element)&&t[n])}},Dd=function(e,t){return function(n,r,o){return E.some(iu(e,n.element,"col",t[o]))}},Ad=function(e,t){return function(n,r){return E.some(iu(e,n.element,"row",t[r]))}},zd=function(e,t,n){return Tt(n(e.element,t),!0,e.isLocked)},Md=function(e,t,n,r,o,i,a){return B(e,(function(e,u){return c=function(e,c){var s,l;return l=e,N(t,(function(e){return n(l.element,e.element)}))?(s=a(e,u,c)?o(e,n,r):e,i(s,u,c).each((function(e){var t;t=s.element,e={scope:E.from(e)},vt(e,(function(e,n){e.fold((function(){Nn(t,n)}),(function(e){An(t.dom,n,e)}))}))})),s):e},s=(e=e).cells,s=B(s,c),_t(e.element,s,e.section,e.isNew);var c,s}))},Rd=function(e,t,n){return q(e,(function(r,o){return ou(e,o,t,n)?[]:[lr(r,t)]}))},Nd=function(e,t,n){var r=e[t];return q(r.cells,(function(r,o){return ou(e,t,o,n)?[]:[r]}))},Bd=function(e){return V(e,(function(e,t){return N(e,(function(e){return e.column===t.column}))?e:e.concat([t])}),[]).sort((function(e,t){return e.column-t.column}))},Hd=Se("col"),Ld=Se("colgroup"),Pd=(wl=function(e,t){function n(e){var n;return cu(e)?o({element:e}):(n=r(t(e)),i=E.some({item:e,replacement:n}),n)}void 0===t&&(t=su);var r=function(t){return Hd(t.element)?e.col(t):e.cell(t)},o=function(t){return Ld(t.element)?e.colgroup(t):e.row(t)},i=E.none();return{getOrInit:function(e,t){return i.fold((function(){return n(e)}),(function(r){return t(e,r.item)?r.replacement:n(e)}))}}},xl=function(e){return function(t){var n=[],r=function(e,t){return U(n,(function(n){return t(n.item,e)}))},o=function(r){var o=t.replace(r,e,"td"===e?{scope:null}:{});return n.push({item:r,sub:o}),o};return{replaceOrInit:function(e,t){return cu(e)||Hd(e)?e:r(e,t).fold((function(){return o(e)}),(function(n){return t(e,n.item)?n.sub:o(e)}))}}}},Cl=function(e){return{unmerge:function(t){var n=lu(t);return n.each((function(e){return zn(t,"scope",e)})),function(){var r=e.cell({element:t,colspan:1,rowspan:1});return $n(r,"width"),$n(t,"width"),n.each((function(e){return zn(r,"scope",e)})),r}},merge:function(e){var t,n,r;return $n(e[0],"width"),(0===(r=Hn(B(e,lu))).length?E.none():(t=r[0],n=["row","col"],N(r,(function(e){return e!==t&&R(n,e)}))?E.none():E.from(t))).fold((function(){return Nn(e[0],"scope")}),(function(t){return zn(e[0],"scope",t+"group")})),g(e[0])}}},["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]),Id=Nr(),Fd=function(e){var t=Id;return t=Id.property().name(e),R(Pd,t)},Vd=function(e){var t=Id;return t=Id.property().name(e),R(["ol","ul"],t)},jd=function(e){return e=e,R(["br","img","hr","input"],Id.property().name(e))},Ud=function(e,t){return{grid:e,cursor:t}},Wd=function(e,t,n){var r=mr(e).rows;return E.from(null===(t=null===(e=r[t])||void 0===e?void 0:e.cells[n])||void 0===t?void 0:t.element).filter(du).orThunk((function(){return J(r,(function(e){return J(e.cells,(function(e){return e=e.element,Ln(du(e),e)}))}))}))},$d=pu("thead",!0),qd=pu("tbody",!1),Gd=pu("tfoot",!1),Xd=xl("th"),Kd=(xl=xl("td"),ja((function(e,t,n,r){var o=t[0].row,i=hu(t);i=F(i,(function(e,t){return{grid:nu(e.grid,o,t.row+e.delta,n,r.getOrInit),delta:e.delta+1}}),{grid:e,delta:0}).grid;return gu(i,o,t[0].column)}),fd,m,m,wl)),Yd=ja((function(e,t,n,r){var o=hu(t),i=o[o.length-1],a=i.row+i.rowspan;i=F(o,(function(e,t){return nu(e,a,t.row,n,r.getOrInit)}),e);return gu(i,a,t[0].column)}),fd,m,m,wl),Jd=ja((function(e,t,n,r){t=t.details;var o=Bd(t),i=o[0].column;o=F(o,(function(e,t){return{grid:ru(e.grid,i,t.column+e.delta,n,r.getOrInit),delta:e.delta+1}}),{grid:e,delta:0}).grid;return gu(o,t[0].row,i)}),Su(!0),yu,m,wl),Qd=ja((function(e,t,n,r){t=t.details;var o=t[t.length-1],i=o.column+o.colspan;o=Bd(t),o=F(o,(function(e,t){return ru(e,i,t.column,n,r.getOrInit)}),e);return gu(o,t[0].row,i)}),Su(!1),yu,m,wl),Zd=ja((function(e,t,n,r){t=Bd(t.details),e=e,o=B(t,(function(e){return e.column})),e=q(e,(function(e){var t=e.cells;t=F(o,(function(e,t){return 0<=t&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e}),t);return 0<t.length?[_t(e.element,t,e.section,e.isNew)]:[]}));var o,i=0<e.length?e[0].cells.length-1:0;return gu(e,t[0].row,Math.min(t[0].column,i))}),(function(e,t){return Wa(e,t).map((function(t){return{details:t,pixelDelta:-Cu(e,t)}}))}),yu,mu,wl),em=ja((function(e,t,n,r){var o,i=hu(t),a=(e=(e=e,a=i[0].row,i=i[i.length-1].row,e=mr(e),o=e.rows,e.cols.concat(o.slice(0,a)).concat(o.slice(i+1))),0<e.length?e.length-1:0);return gu(e,Math.min(t[0].row,a),t[0].column)}),fd,m,mu,wl),tm=ja((function(e,t,n,r){var o=Bd(t);o=B(o,(function(e){return e.column})),e=au(e,o,!0,n,r.replaceOrInit);return gu(e,t[0].row,t[0].column)}),Wa,m,m,Xd),nm=ja((function(e,t,n,r){var o=Bd(t);o=B(o,(function(e){return e.column})),e=au(e,o,!1,n,r.replaceOrInit);return gu(e,t[0].row,t[0].column)}),Wa,m,m,xl),rm=ja($d,Wa,m,m,Xd),om=ja(qd,Wa,m,m,xl),im=ja(Gd,Wa,m,m,xl),am=ja((function(e,t,n,r){return e=uu(e,t,n,r.replaceOrInit),gu(e,t[0].row,t[0].column)}),Wa,m,m,Xd),um=ja((function(e,t,n,r){return e=uu(e,t,n,r.replaceOrInit),gu(e,t[0].row,t[0].column)}),Wa,m,m,xl),cm=ja((function(e,t,n,r){var o=t.cells;fu(o),e=function(e,t,n){var r=mr(e).rows;if(0===r.length)return e;for(var o=t.startRow;o<=t.finishRow;o++)for(var i=t.startCol;i<=t.finishCol;i++){var a=r[o],u=lr(a,i).isLocked;sr(a,i,Tt(n(),!1,u))}return e}(e,t.bounds,r.merge(o));return Ud(e,E.from(o[0]))}),qa,bu,m,Cl),sm=ja((function(e,t,n,r){return e=F(t,(function(e,t){return Xa(e,t,n,r.unmerge(t))}),e),Ud(e,E.from(t[0]))}),Ga,bu,m,Cl),lm=ja((function(e,t,n,r){var o,i,a,u,c,s,l=function(e,t){return e=yr.fromTable(e),cd(e,t,!0)}(t.clipboard,t.generators),f={row:t.row,column:t.column};return f=f,o=e,l=l,i=t.generators,a=n,n=pr(o),u=Sd(f,o,n),c=mr(l).rows,s=kd(u,c,n),vd(u,o,c).map((function(e){e=Q(Q({},e),{colDelta:e.colDelta-s.length}),e=xd(o,e,i);var t=pr(e);t=kd(u,c,t);return Cd(u,e,c,i,a,t)})).fold((function(){return Ud(e,E.some(t.element))}),(function(e){return gu(e,t.row,t.column)}))}),(function(e,t){return er(t.element).bind((function(n){return sd(e,n).map((function(e){return Q(Q({},e),{generators:t.generators,clipboard:t.clipboard})}))}))}),bu,m,wl),fm=ja((function(e,t,n,r){var o=mr(e).rows,i=t.cells[0].column;o=o[t.cells[0].row],o=vu(t.clipboard,t.generators,o),i=eu(i,e,o,t.generators,n);return gu(i,t.cells[0].row,t.cells[0].column)}),ku(!0),m,m,wl),dm=ja((function(e,t,n,r){var o=mr(e).rows,i=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan;o=o[t.cells[0].row],o=vu(t.clipboard,t.generators,o),i=eu(i,e,o,t.generators,n);return gu(i,t.cells[0].row,t.cells[0].column)}),ku(!1),m,m,wl),mm=ja((function(e,t,n,r){var o=mr(e).rows,i=t.cells[0].row;o=o[i],o=vu(t.clipboard,t.generators,o),i=tu(i,e,o,t.generators,n);return gu(i,t.cells[0].row,t.cells[0].column)}),Ua,m,m,wl),gm=ja((function(e,t,n,r){var o=mr(e).rows,i=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan;o=o[t.cells[0].row],o=vu(t.clipboard,t.generators,o),i=tu(i,e,o,t.generators,n);return gu(i,t.cells[0].row,t.cells[0].column)}),Ua,m,m,wl),hm=function(e,t){var n=yr.fromTable(e);return fd(n,t).bind((function(e){var t,r=e[e.length-1];e=e[0].row,r=r.row+r.rowspan,e=n.all.slice(e,r);return r=B(r=e,(function(e){return Jf(e).type})),e=R(r,"header"),t=R(r,"footer"),e||t?(r=R(r,"body"),!e||r||t?e||r||!t?E.none():E.some("footer"):E.some("header")):E.some("body")})).getOr("")},pm=function(e,t,n){function r(e){return"table"===Dt(vl(e))}function o(n,r){return r.cursor.fold((function(){var r=rn(n);return K(r).filter(Wt).map((function(r){t.clear(n);var o=e.dom.createRng();return o.selectNode(r.dom),e.selection.setRng(o),zn(r,"data-mce-selected","1"),o}))}),(function(r){r=Gf(Xf,r);var o=e.dom.createRng();return o.setStart(r.element.dom,r.offset),o.setEnd(r.element.dom,r.offset),e.selection.setRng(o),t.clear(n),E.some(o)}))}function i(t,n,r,i,u){return function(c,s,l){void 0===l&&(l=!1),bi(c);var f=i(),d=lt.fromDom(e.getDoc()),m=(d=di(r,d,a),{sizing:Oa(e,c),resize:(xa(e)?_i:Ei)(),section:function(t){switch(ba(e)){case"section":return td();case"sectionCells":return nd();case"cells":return rd();default:return ed(t,"section")}}(c)});return n(c)?t(f,c,s,d,m).bind((function(t){return H(t.newRows,(function(t){ea(e,t.dom)})),H(t.newCells,(function(t){ta(e,t.dom)})),t=o(c,t),Wt(c)&&(bi(c),l||oa(e,c.dom,u)),t.map((function(e){return{rng:e,effect:u}}))})):E.none()}}var a=Ca(e),u=xa(e)?m:Ma;return{deleteRow:i(em,(function(t){return!1===r(e)||1<Ri(t).rows}),m,n,Mf),deleteColumn:i(Zd,(function(t){return!1===r(e)||1<Ri(t).columns}),m,n,Mf),insertRowsBefore:i(Kd,w,m,n,Mf),insertRowsAfter:i(Yd,w,m,n,Mf),insertColumnsBefore:i(Jd,w,u,n,Mf),insertColumnsAfter:i(Qd,w,u,n,Mf),mergeCells:i(cm,w,m,n,Mf),unmergeCells:i(sm,w,m,n,Mf),pasteColsBefore:i(fm,w,m,n,Mf),pasteColsAfter:i(dm,w,m,n,Mf),pasteRowsBefore:i(mm,w,m,n,Mf),pasteRowsAfter:i(gm,w,m,n,Mf),pasteCells:i(lm,w,m,n,Rf),makeCellsHeader:i(am,w,m,n,Mf),unmakeCellsHeader:i(um,w,m,n,Mf),makeColumnsHeader:i(tm,w,m,n,Mf),unmakeColumnsHeader:i(nm,w,m,n,Mf),makeRowsHeader:i(rm,w,m,n,Mf),makeRowsBody:i(om,w,m,n,Mf),makeRowsFooter:i(im,w,m,n,Mf),getTableRowType:hm,getTableCellType:Tu,getTableColType:Ou}},vm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},bm=function(e,t,n,r){return{insertTable:(o=e,function(e,t,n){return t=Mu(o,t,e,n=void 0===n?{}:n),o.undoManager.add(),t}),setClipboardRows:Nu(t.setRows),getClipboardRows:Ru(t.getRows),setClipboardCols:Nu(t.setColumns),getClipboardCols:Ru(t.getColumns),resizeHandler:n,selectionTargets:r};var o},ym=tinymce.util.Tools.resolve("tinymce.util.Tools"),wm=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],xm=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Cm=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Sm=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,km=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Om=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:wm}],Tm={normal:sc(!1),ifTruthy:sc(!0)},_m=p(mc,["left","center","right"],"align"),Em=p(mc,["top","middle","bottom"],"valign"),Dm=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Am=function(e,t,n,r,a){function u(t){return Ol(yl(n=e),bl(n)).bind((function(e){return b(e).map((function(n){return t(n,e)}))}));var n}function c(t){e.focus()}function s(e,t){return void 0===t&&(t=!1),u((function(n,o){o=xi(r,n,o),e(n,o,t).each(c)}))}function l(){return u((function(t,n){n=xi(r,t,n);var o=di(m,lt.fromDom(e.getDoc()),E.none());return Lu(t,n,o)}))}function f(){return u((function(e,t){return t=xi(r,e,t),Hu(e,t)}))}function d(t,n){return n().each((function(n){var o=B(n,Ur);u((function(n,i){var a=mi(lt.fromDom(e.getDoc())),u=(u=o,a=a,{selection:yi(r),clipboard:u,generators:a});t(n,u).each(c)}))}))}function g(e){return function(t,n){return be(n,"type").each((function(t){s(e(t),n.no_events)}))}}var h=bl(e),b=function(e){return tr(e,h)};vt({mceTableSplitCells:function(){return s(t.unmergeCells)},mceTableMergeCells:function(){return s(t.mergeCells)},mceTableInsertRowBefore:function(){return s(t.insertRowsBefore)},mceTableInsertRowAfter:function(){return s(t.insertRowsAfter)},mceTableInsertColBefore:function(){return s(t.insertColumnsBefore)},mceTableInsertColAfter:function(){return s(t.insertColumnsAfter)},mceTableDeleteCol:function(){return s(t.deleteColumn)},mceTableDeleteRow:function(){return s(t.deleteRow)},mceTableCutCol:function(){return f().each((function(e){a.setColumns(e),s(t.deleteColumn)}))},mceTableCutRow:function(){return l().each((function(e){a.setRows(e),s(t.deleteRow)}))},mceTableCopyCol:function(){return f().each((function(e){return a.setColumns(e)}))},mceTableCopyRow:function(){return l().each((function(e){return a.setRows(e)}))},mceTablePasteColBefore:function(){return d(t.pasteColsBefore,a.getColumns)},mceTablePasteColAfter:function(){return d(t.pasteColsAfter,a.getColumns)},mceTablePasteRowBefore:function(){return d(t.pasteRowsBefore,a.getRows)},mceTablePasteRowAfter:function(){return d(t.pasteRowsAfter,a.getRows)},mceTableDelete:function(){return _c(e).each((function(t){tr(t,h).filter(v(h)).each((function(t){var n=lt.fromText("");Cr(t,n),_r(t),e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):((t=e.dom.createRng()).setStart(n.dom,0),t.setEnd(n.dom,0),e.selection.setRng(t),e.nodeChanged())}))}))},mceTableCellToggleClass:function(t,n){u((function(t){var o=Tl(r),i=G(o,(function(t){return e.formatter.match("tablecellclass",{value:n},t.dom)}))?e.formatter.remove:e.formatter.apply;H(o,(function(e){return i("tablecellclass",{value:n},e.dom)})),oa(e,t.dom,zf)}))},mceTableToggleClass:function(t,n){u((function(t){e.formatter.toggle("tableclass",{value:n},t.dom),oa(e,t.dom,zf)}))},mceTableToggleCaption:function(){_c(e).each((function(t){tr(t,h).each((function(n){En(n,"caption").fold((function(){var t,r,o=lt.fromTag("caption");Sr(o,lt.fromText("Caption")),r=o,_e(t=n,0).fold((function(){Sr(t,r)}),(function(e){xr(e,r)})),e.selection.setCursorLocation(o.dom,0)}),(function(r){Se("caption")(t)&&me("td",n).each((function(t){return e.selection.setCursorLocation(t.dom,0)})),_r(r)})),oa(e,n.dom,Mf)}))}))},mceTableSizingMode:function(t,n){return r=n,_c(e).each((function(t){va(e)||pa(e)||ha(e)||tr(t,h).each((function(t){"relative"!==r||Yl(t)?"fixed"!==r||Jl(t)?"responsive"!==r||Ql(t)||Wf(t):Uf(t):jf(t),bi(t),oa(e,t.dom,Mf)}))}));var r},mceTableCellType:g((function(e){return"th"===e?t.makeCellsHeader:t.unmakeCellsHeader})),mceTableColType:g((function(e){return"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader})),mceTableRowType:g((function(e){switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},(function(t,n){return e.addCommand(n,t)})),vt({mceTableProps:p(Tc,e,!1),mceTableRowProps:p(Sc,e),mceTableCellProps:p(yc,e,r)},(function(t,n){return e.addCommand(n,(function(){return t()}))})),e.addCommand("mceInsertTable",(function(t,n){i(n)&&0<ht(n).length?Mu(e,n.rows,n.columns,n.options):Tc(e,!0)})),e.addCommand("mceTableApplyCellStyle",(function(t,n){function a(e){return"tablecell"+e.toLowerCase().replace("-","")}var u;!i(n)||0!==(u=Tl(r)).length&&(function(e){for(var t in e)if(pt.call(e,t))return!1;return!0}(n=pe(n,(function(t,n){return e.formatter.has(a(n))&&o(t)})))||(vt(n,(function(t,n){H(u,(function(r){Tm.normal(e,r.dom).setFormat(a(n),t)}))})),b(u[0]).each((function(t){return oa(e,t.dom,zf)}))))}))},zm=function(e,t,n){function r(t){return Ol(yl(e)).bind((function(e){return tr(e,o).map((function(r){var o=xi(n,r,e);return t(r,o)}))})).getOr("")}var o=bl(e);vt({mceTableRowType:function(){return r(t.getTableRowType)},mceTableCellType:function(){return r(t.getTableCellType)},mceTableColType:function(){return r(t.getTableColType)}},(function(t,n){return e.addQueryValueHandler(n,t)}))},Mm=function(){var e=Yu(),t=Yu();return{getRows:e.get,setRows:function(n){n.fold(e.clear,e.set),t.clear()},clearRows:e.clear,getColumns:t.get,setColumns:function(n){n.fold(t.clear,t.set),e.clear()},clearColumns:t.clear}},Rm=($d={remove_similar:!0,inherit:!1},qd=Q({selector:"td,th"},$d),{tablecellbackgroundcolor:Q({styles:{backgroundColor:"%value"}},qd),tablecellverticalalign:Q({styles:{"vertical-align":"%value"}},qd),tablecellbordercolor:Q({styles:{borderColor:"%value"}},qd),tablecellclass:Q({classes:["%value"]},qd),tableclass:Q({selector:"table",classes:["%value"]},$d),tablecellborderstyle:Q({styles:{borderStyle:"%value"}},qd),tablecellborderwidth:Q({styles:{borderWidth:"%value"}},qd)}),Nm=function(e){e.formatter.register(Rm)},Bm=Fe([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Hm=Q(Q({},Bm),{none:function(e){return Bm.none(e=void 0===e?void 0:e)}}),Lm=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},Pm=(Gd=Fe([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),{before:Gd.before,on:Gd.on,after:Gd.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(h,h,h)}}),Im=Fe([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Fm={domRange:Im.domRange,relative:Im.relative,exact:Im.exact,exactFromRange:function(e){return Im.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){return e=e.match({domRange:function(e){return lt.fromDom(e.startContainer)},relative:function(e,t){return Pm.getStart(e)},exact:function(e,t,n,r){return e}}),lt.fromDom(Bt(e).dom.defaultView)},range:Lm},Vm=Fe([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),jm=function(e,t){n=e;var n,r;e=t.match({domRange:function(e){return{ltr:g(e),rtl:E.none}},relative:function(e,t){return{ltr:ee((function(){return Mc(n,e,t)})),rtl:ee((function(){return E.some(Mc(n,t,e))}))}},exact:function(e,t,r,o){return{ltr:ee((function(){return Rc(n,e,t,r,o)})),rtl:ee((function(){return E.some(Rc(n,r,o,e,t))}))}}});return(r=(t=e).ltr()).collapsed?t.rtl().filter((function(e){return!1===e.collapsed})).map((function(e){return Vm.rtl(lt.fromDom(e.endContainer),e.endOffset,lt.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Bc(0,Vm.ltr,r)})):Bc(0,Vm.ltr,r)},Um=(Vm.ltr,Vm.rtl,function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom),o=o.getClientRects();return J(o,(function(e){return Lc(e,n,r)?E.some(e):E.none()})).map((function(o){return Pc(e,t,n,r,o)}))}),Wm=function(e,t,n,r){var o=e.dom.createRange();t=Pt(t);return J(t,(function(t){return o.selectNode(t.dom),Lc(o.getBoundingClientRect(),n,r)?Ic(e,t,n,r):E.none()}))},$m=function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom),o=o.getBoundingClientRect(),n=Math.max(o.left,Math.min(o.right,n)),o=Math.max(o.top,Math.min(o.bottom,r));return Ic(e,t,n,o)},qm=function(e,t,n){var r=e.dom.createRange(),o=(r=(r.selectNode(t.dom),r.getBoundingClientRect()),Fc(r,n));return(!0===o?ul:cl)(t).map((function(t){return Vc(e,t,o)}))},Gm=function(e,t,n){var r=t.dom.getBoundingClientRect();r=Fc(r,n);return E.some(Vc(e,t,r))},Xm=document.caretPositionFromPoint?function(e,t,n){var r,o;return E.from(null===(o=(r=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,t,n)).bind((function(t){if(null===t.offsetNode)return E.none();var n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),E.some(n)}))}:document.caretRangeFromPoint?function(e,t,n){var r;return E.from(null===(r=(e=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(e,t,n))}:function(e,t,n){return lt.fromPoint(e,t,n).bind((function(r){function o(){return n=e,i=t,(0===Pt(o=r).length?Gm:qm)(n,o,i);var n,o,i}var i,a,u,c,s;return 0===Pt(r).length?o():(a=r,u=t,c=n,(s=(i=e).dom.createRange()).selectNode(a.dom),s=s.getBoundingClientRect(),u=Math.max(s.left,Math.min(s.right,u)),s=Math.max(s.top,Math.min(s.bottom,c)),$m(i,a,u,s).orThunk(o))}))},Km=tinymce.util.Tools.resolve("tinymce.util.VK"),Ym=function(e,t,n){return as(e,t,(o=vf,Dc(r=n,i).fold((function(){return Hm.none(r)}),(function(e){return Ec(e.all,r,e.index,1,o)}))));var r,o,i},Jm=function(e,t){return t=Fm.exact(t,0,t,0),Qc(t)},Qm=["table","li","dl"],Zm=function(e,t,n){var r,o,i;e.keyCode===Km.TAB&&(r=vl(t),o=function(e){var t=Dt(e);return mt(e,r)||R(Qm,t)},i=t.selection.getRng(),i=lt.fromDom(e.shiftKey?i.startContainer:i.endContainer),er(i,o).each((function(r){e.preventDefault(),tr(r,o).each(n.clear),t.selection.collapse(e.shiftKey),(e.shiftKey?is:Ym)(t,o,r).each((function(e){t.selection.setRng(e)}))})))},eg={create:function(e,t){return{selection:e,kill:t}}},tg=function(e,t,n,r){return{start:Pm.on(e,t),finish:Pm.on(n,r)}},ng=tg,rg=function(e,t,n,r,o,i,a){return mt(n,o)&&r===i?E.none():Dn(n,"td,th",t).bind((function(n){return Dn(o,"td,th",t).bind((function(r){return cs(e,t,n,r,a)}))}))},og=function(e,t,n,r,o){return Pr(r,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map((function(e){return o.clearBeforeUpdate(n),o.selectRange(n,e.boxes,e.start,e.finish),e.boxes}))},ig=function(e,t){return{item:e,mode:t}},ag=function(e,t,n,r){return void 0===r&&(r=ag),e=e.property().children(t),n.first(e).map((function(e){return ig(e,r)}))},ug=[{current:ss,next:ls,fallback:E.none()},{current:ls,next:ag,fallback:E.some(ss)},{current:ag,next:ag,fallback:E.some(ls)}],cg=function(e,t,n,r,o){return U(o=void 0===o?ug:o,(function(e){return e.current===n})).bind((function(n){return n.current(e,t,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return cg(e,t,n,r)}))}))}))},sg=function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return 0<e.length?E.some(e[e.length-1]):E.none()}}},lg=function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return 0<e.length?E.some(e[0]):E.none()}}},fg=function(e,t,n,r,o,i){return cg(e,t,r,o).bind((function(t){return i(t.item)?E.none():n(t.item)?E.some(t.item):fg(e,t.item,n,t.mode,o,i)}))},dg=function(e){return function(t){return 0===e.property().children(t).length}},mg=function(e,t,n,r){return fg(e,t,n,ls,sg(),r)},gg=function(e,t,n,r){return fg(e,t,n,ls,lg(),r)},hg=Nr(),pg=Fe([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),vg=Q(Q({},pg),{verify:function(e,t,n,r,o,i,a){return Dn(r,"td,th",a).bind((function(n){return Dn(t,"td,th",a).map((function(t){return mt(n,t)?mt(r,n)&&il(n)===o?i(t):pg.none("in same cell"):Hr(ms,[n,t]).fold((function(){return function(e,t,n){return t=e.getRect(t),e=e.getRect(n),e.right>t.left&&e.left<t.right}(e,t,n)?pg.success():i(t)}),(function(e){return i(t)}))}))})).getOr(pg.none("default"))},cata:function(e,t,n,r,o){return e.fold(t,n,r,o)}}),bg=function(e,t,n){return zt(t)?Ss(e,t).map(Cs):Mt(t)?(e=e,t=t,(0<=(n=n)&&n<il(t)?e.getRangedRect(t,n,t,n+1):0<n?e.getRangedRect(t,n-1,t,n):E.none()).map(Cs)):E.none()},yg=function(e,t){return zt(t)?Ss(e,t).map(Cs):Mt(t)?e.getRangedRect(t,0,t,il(t)).map(Cs):E.none()},wg=Fe([{none:[]},{retry:["caret"]}]),xg=function(e,t){return e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right},Cg=(Xd={point:function(e){return e.bottom},adjuster:function(e,t,n,r,o){var i=ys(o,5);return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?wg.retry(i):n.top===o.bottom?wg.retry(ys(o,1)):ks(e,t,o)?wg.retry(xs(i,5,0)):wg.none()},move:ys,gather:ds},function(e,t,n){return e.elementFromPoint(t,n).filter((function(e){return"table"===Dt(e)})).isSome()}),Sg=function(e,t,n,r,o){return kg(e,t,n,t.move(r,5),o)},kg=function(e,t,n,r,o){return 0===o?E.some(r):Cg(e,r.left,t.point(r))?Sg(e,t,n,r,o-1):e.situsFromPoint(r.left,t.point(r)).bind((function(i){return i.start.fold(E.none,(function(i){return yg(e,i).bind((function(a){return t.adjuster(e,i,a,n,r).fold(E.none,(function(r){return kg(e,t,n,r,o-1)}))})).orThunk((function(){return E.some(r)}))}),E.none)}))},Og={tryUp:p(Os,{point:function(e){return e.top},adjuster:function(e,t,n,r,o){var i=ws(o,5);return Math.abs(n.top-r.top)<1||n.bottom<o.top?wg.retry(i):n.bottom===o.top?wg.retry(ws(o,1)):ks(e,t,o)?wg.retry(xs(i,5,0)):wg.none()},move:ws,gather:fs}),tryDown:p(Os,Xd),ieTryUp:function(e,t){return e.situsFromPoint(t.left,t.top-5)},ieTryDown:function(e,t){return e.situsFromPoint(t.left,t.bottom+5)},getJumpSize:g(5)},Tg=function(e,t,n){var r=ct().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(e,n):r.isIE()?t.ieRetry(e,n):E.none()},_g=function(e,t,n,r,o,i){return ct().browser.isIE()?E.none():i(r,t).orThunk((function(){return As(e,t,n,r,o).map((function(e){return e=e.range,eg.create(E.some(ng(e.start,e.soffset,e.finish,e.foffset)),!0)}))}))},Eg=function(e,t){return Dn(e,"tr",t).bind((function(e){return Dn(e,"table",t).bind((function(n){var r=ze(n,"tr");return mt(e,r[0])?mg(hg,n,(function(e){return cl(e).isSome()}),t).map((function(e){var t=il(e);return eg.create(E.some(ng(e,t,e,t)),!0)})):E.none()}))}))},Dg=function(e,t){return Dn(e,"tr",t).bind((function(e){return Dn(e,"table",t).bind((function(n){var r=ze(n,"tr");return mt(e,r[r.length-1])?gg(hg,n,(function(e){return ul(e).isSome()}),t).map((function(e){return eg.create(E.some(ng(e,0,e,0)),!0)})):E.none()}))}))},Ag=function(e,t,n,r,o,i,a){return As(e,n,r,o,i).bind((function(e){return cs(t,n,e.start,e.finish,a)}))},zg=function(e,t,n,r){function o(o){i.on((function(i){r.clearBeforeUpdate(t),zs(o.target,n).each((function(a){po(i,a,n).each((function(n){var i,u,c,s=n.boxes.getOr([]);1===s.length?(i=s[0],u="false"===Xi(i),c=Bn(Gi(o.target),i,mt),u&&c&&(r.selectRange(t,s,i,i),e.selectContents(i))):1<s.length&&(r.selectRange(t,s,n.start,n.finish),e.selectContents(a))}))}))}))}var i=Yu(),a=i.clear;return{clearstate:a,mousedown:function(e){r.clear(t),zs(e.target,n).each(i.set)},mouseover:function(e){o(e)},mouseup:function(e){o(e),a()}}},Mg={traverse:Lt,gather:ds,relative:Pm.before,otherRetry:Og.tryDown,ieRetry:Og.ieTryDown,failure:vg.failedDown},Rg={traverse:Te,gather:fs,relative:Pm.before,otherRetry:Og.tryUp,ieRetry:Og.ieTryUp,failure:vg.failedUp},Ng=Ms(38),Bg=Ms(40),Hg=function(e){return 37<=e&&e<=40},Lg={isBackward:Ms(37),isForward:Ms(39)},Pg={isBackward:Ms(39),isForward:Ms(37)},Ig=function(e){return{elementFromPoint:function(t,n){return lt.fromPoint(lt.fromDom(e.document),t,n)},getRect:function(e){return e.dom.getBoundingClientRect()},getRangedRect:function(t,n,r,o){return t=Fm.exact(t,n,r,o),rs(e,t)},getSelection:function(){return ns(e).map((function(t){return us(e,t)}))},fromSitus:function(t){return t=Fm.relative(t.start,t.finish),us(e,t)},situsFromPoint:function(t,n){return os(e,t,n).map((function(e){return tg(e.start,e.soffset,e.finish,e.foffset)}))},clearSelection:function(){qc(e).each((function(e){return e.removeAllRanges()}))},collapseSelection:function(t){void 0===t&&(t=!1),ns(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){n=t?n:r,Jc(e,n,n)}),(function(n,r,o,i){n=t?n:o,o=t?r:i,Yc(e,n,o,n,o)}))}))},setSelection:function(t){Yc(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:function(t,n){Jc(e,t,n)},selectNode:function(t){ts(e,t,!1)},selectContents:function(t){ts(e,t)},getInnerHeight:function(){return e.innerHeight},getScrollY:function(){var t,n;return t=void 0!==(t=lt.fromDom(e.document))?t.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,t=t.body.scrollTop||t.documentElement.scrollTop,Lo(n,t).top},scrollBy:function(t,n){var r=lt.fromDom(e.document);(r=(void 0!==r?r.dom:document).defaultView)&&r.scrollBy(t,n)}}},Fg=function(e,t){return{rows:e,cols:t}},Vg=function(e,t){H(t,(function(t){var n;t=t,lf(n=e)?n.dom.classList.remove(t):Wi(n,t),$i(n)}))},jg={byClass:function(e){function t(e){df(e,o)}function n(e){Vg(e,i)}function r(t){t=ze(t,e.selectedSelector),H(t,n)}var o,i;return o=e.selected,i=[e.selected,e.lastSelected,e.firstSelected],{clearBeforeUpdate:r,clear:r,selectRange:function(n,o,i,a){r(n),H(o,t),df(i,e.firstSelected),df(a,e.lastSelected)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},byAttr:function(e,t,n){function r(t){Nn(t,e.selected),Nn(t,e.firstSelected),Nn(t,e.lastSelected)}function o(t){zn(t,e.selected,"1")}function i(e){a(e),n()}function a(t){t=ze(t,e.selectedSelector+","+e.firstSelectedSelector+","+e.lastSelectedSelector),H(t,r)}return{clearBeforeUpdate:a,clear:i,selectRange:function(n,r,a,u){i(n),H(r,o),zn(a,e.firstSelected,"1"),zn(u,e.lastSelected,"1"),t(r,a,u)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}}},Ug=function(e,t){return e=e.slice(0,t[t.length-1].row+1),e=Va(e),q(e,(function(e){return e=e.cells.slice(0,t[t.length-1].column+1),B(e,(function(e){return e.element}))}))},Wg=function(e,t){return e=e.slice(t[0].row+t[0].rowspan-1,e.length),e=Va(e),q(e,(function(e){return e=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length),B(e,(function(e){return e.element}))}))},$g=tinymce.util.Tools.resolve("tinymce.Env");function qg(e,t,n){var r=jg.byAttr(Sl,(function(t,r,o){n.targets().each((function(n){tr(r).each((function(i){var a=Ca(e);a=di(m,lt.fromDom(e.getDoc()),a),i=Hs(i,n,a);na(e,t,r,o,i)}))}))}),(function(){return ra(e)}));return e.on("init",(function(n){var o,i,a=e.getWin(),u=vl(e),c=bl(e),s=Rs(a,u,c,r),l=Ns(a,u,c,r),f=Bs(a,u,c,r),d=(e.on("TableSelectorChange",(function(e){return f(e.start,e.finish)})),function(t,n){!0===t.raw.shiftKey&&(n.kill&&t.kill(),n.selection.each((function(t){t=Fm.relative(t.start,t.finish),t=Hc(a,t),e.selection.setRng(t)})))}),g=function(e){return 0===e.button},h=function(e){return void 0===e.buttons||!(!$g.browser.isEdge()||0!==e.buttons)||0!=(1&e.buttons)};o=Xu(lt.fromDom(u)),i=Xu(0),c={touchEnd:function(e){var t,n,r=lt.fromDom(e.target);"td"!==Dt(r)&&"th"!==Dt(r)||(t=o.get(),n=i.get(),mt(t,r)&&e.timeStamp-n<300&&(e.preventDefault(),f(r,r))),o.set(r),i.set(e.timeStamp)}};e.on("dragstart",(function(e){s.clearstate()})),e.on("mousedown",(function(e){g(e)&&Ls(e)&&s.mousedown(sf(e))})),e.on("mouseover",(function(e){h(e)&&Ls(e)&&s.mouseover(sf(e))})),e.on("mouseup",(function(e){g(e)&&Ls(e)&&s.mouseup(sf(e))})),e.on("touchend",c.touchEnd),e.on("keyup",(function(t){var n,r,o=sf(t);o.raw.shiftKey&&Hg(o.raw.which)&&(t=e.selection.getRng(),n=lt.fromDom(t.startContainer),r=lt.fromDom(t.endContainer),l.keyup(o,n,t.startOffset,r,t.endOffset).each((function(e){d(o,e)})))})),e.on("keydown",(function(n){var r=sf(n),o=(n=(t().each((function(e){return e.hideBars()})),e.selection.getRng()),lt.fromDom(n.startContainer)),i=lt.fromDom(n.endContainer),a=Qr(Lg,Pg)(lt.fromDom(e.selection.getStart()));l.keydown(r,o,n.startOffset,i,n.endOffset,a).each((function(e){d(r,e)})),t().each((function(e){return e.showBars()}))})),e.on("NodeChange",(function(){var t=e.selection,n=lt.fromDom(t.getStart());t=lt.fromDom(t.getEnd());Hr(tr,[n,t]).fold((function(){return r.clear(u)}),m)}))})),{clear:r.clear}}var Gg=function(e,t){function n(e){return d.forall((function(t){return!t[e]}))}function r(){return g().bind((function(e){return Qt(tr(e),p().bind(tr),(function(n,r){return mt(n,r)?m(e)?E.some({element:r=e,mergable:E.none(),unmergable:E.none(),selection:[r]}):E.some(xi(t,n,e)):E.none()})).bind(h)}))}function o(e){return tr(e.element).map((function(t){var n=yr.fromTable(t);t=fd(n,e).getOr([]),t=V(t,(function(e,t){return t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e}),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:qa(n,e).isSome(),unmergeable:Ga(n,e).isSome(),locked:t}}))}function i(){l.set(ee(r)()),d=l.get().bind(o),H(f.get(),(function(e){return e()}))}function a(e,t){return v((function(){return l.get().fold((function(){e.setDisabled(!0)}),(function(n){e.setDisabled(t(n))}))}))}function u(e,t,n){return v((function(){return l.get().fold((function(){e.setDisabled(!0),e.setActive(!1)}),(function(r){e.setDisabled(t(r)),e.setActive(n(r))}))}))}function c(e){return d.exists((function(t){return t.locked[e]}))}function s(t,n){return function(r){return u(r,(function(e){return m(e.element)}),(function(){return e.queryCommandValue(t)===n}))}}var l=Xu(E.none()),f=Xu([]),d=E.none(),m=Se("caption"),g=function(){return kl(yl(e),bl(e))},p=function(){return kl(lt.fromDom(e.selection.getEnd()),bl(e))},v=function(e){return e(),f.set(f.get().concat([e])),function(){f.set(I(f.get(),(function(t){return t!==e})))}},b=s("mceTableRowType","header"),w=s("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",i),{onSetupTable:function(e){return a(e,(function(e){return!1}))},onSetupCellOrRow:function(e){return a(e,(function(e){return m(e.element)}))},onSetupColumn:function(e){return function(t){return a(t,(function(t){return m(t.element)||c(e)}))}},onSetupPasteable:function(e){return function(t){return a(t,(function(t){return m(t.element)||e().isNone()}))}},onSetupPasteableColumn:function(e,t){return function(n){return a(n,(function(n){return m(n.element)||e().isNone()||c(t)}))}},onSetupMergeable:function(e){return a(e,(function(e){return n("mergeable")}))},onSetupUnmergeable:function(e){return a(e,(function(e){return n("unmergeable")}))},resetTargets:i,onSetupTableWithCaption:function(t){return u(t,y,(function(t){return tr(t.element,bl(e)).exists((function(e){return En(e,"caption").isSome()}))}))},onSetupTableRowHeaders:b,onSetupTableColumnHeaders:w,targets:l.get}},Xg=function(e,t,n,r){function o(t){return function(){return e.execCommand(t)}}e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}}),e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:o("mceTableProps"),icon:"table",onSetup:n.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:o("mceTableDelete"),icon:"table-delete-table",onSetup:n.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:o("mceTableCellProps"),icon:"table-cell-properties",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:o("mceTableMergeCells"),icon:"table-merge-cells",onSetup:n.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:o("mceTableSplitCells"),icon:"table-split-cells",onSetup:n.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:o("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:o("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:o("mceTableDeleteRow"),icon:"table-delete-row",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:o("mceTableRowProps"),icon:"table-row-properties",onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:o("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:n.onSetupColumn("onFirst")}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:o("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:n.onSetupColumn("onLast")}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:o("mceTableDeleteCol"),icon:"table-delete-column",onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onFirst")}),e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onLast")}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:o("mceInsertTable"),icon:"table"}),r=nc(ga(e)),0!==r.length&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:rc(e,t,r,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",!1,t)})),onSetup:n.onSetupTable}),r=nc(ma(e)),0!==r.length&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:rc(e,t,r,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",!1,t)})),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:rc(e,t,wm,"tablecellverticalalign",tc(e,"vertical-align")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:rc(e,t,ia(e),"tablecellborderwidth",tc(e,"border-width")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:rc(e,t,aa(e),"tablecellborderstyle",tc(e,"border-style")),onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:o("mceTableToggleCaption"),icon:"table-caption",onSetup:n.onSetupTableWithCaption}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(t){return t(oc(e,Sa(e),"background-color"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(t){return t(oc(e,ka(e),"border-color"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:ic(e),onSetup:n.onSetupTableRowHeaders}),e.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:ac(e),onSetup:n.onSetupTableColumnHeaders})},Kg=function(e){var t=e.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol");0<t.length&&e.ui.registry.addContextToolbar("table",{predicate:function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},items:t,scope:"node",position:"node"})},Yg=function(e,t,n,r){function o(t){return function(){return e.execCommand(t)}}function i(t){e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})}var a={text:"Table properties",onSetup:n.onSetupTable,onAction:o("mceTableProps")},u={text:"Delete table",icon:"table-delete-table",onSetup:n.onSetupTable,onAction:o("mceTableDelete")},c=(e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:o("mceTableInsertRowBefore"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:o("mceTableInsertRowAfter"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:o("mceTableDeleteRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:o("mceTableRowProps"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:n.onSetupPasteable(r.getRows)}),e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:n.onSetupPasteable(r.getRows)}),{type:"nestedmenuitem",text:"Row",getSubmenuItems:g("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),s=(r=(e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:o("mceTableInsertColBefore"),onSetup:n.onSetupColumn("onFirst")}),e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:o("mceTableInsertColAfter"),onSetup:n.onSetupColumn("onLast")}),e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:o("mceTableDeleteCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:n.onSetupColumn("onAny")}),e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onFirst")}),e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:n.onSetupPasteableColumn(r.getColumns,"onLast")}),{type:"nestedmenuitem",text:"Column",getSubmenuItems:g("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:o("mceTableCellProps"),onSetup:n.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:o("mceTableMergeCells"),onSetup:n.onSetupMergeable}),e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:o("mceTableSplitCells"),onSetup:n.onSetupUnmergeable}),{type:"nestedmenuitem",text:"Cell",getSubmenuItems:g("tablecellprops tablemergecells tablesplitcells")}),l=(!1===e.getParam("table_grid",!0,"boolean")?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:o("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:i}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:o("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",a),e.ui.registry.addMenuItem("deletetable",u),e.ui.registry.addNestedMenuItem("row",c),e.ui.registry.addNestedMenuItem("column",r),e.ui.registry.addNestedMenuItem("cell",s),e.ui.registry.addContextMenu("table",{update:function(){return n.resetTargets(),n.targets().fold(g(""),(function(e){return"caption"===Dt(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}}),nc(ga(e))),f=(0!==l.length&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return ec(e,t,l,"tableclass",(function(t){return e.execCommand("mceTableToggleClass",!1,t)}))},onSetup:n.onSetupTable}),nc(ma(e)));0!==f.length&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return ec(e,t,f,"tablecellclass",(function(t){return e.execCommand("mceTableCellToggleClass",!1,t)}))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return ec(e,t,wm,"tablecellverticalalign",tc(e,"vertical-align"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return ec(e,t,ia(e),"tablecellborderwidth",tc(e,"border-width"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return ec(e,t,aa(e),"tablecellborderstyle",tc(e,"border-style"))},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:o("mceTableToggleCaption"),onSetup:n.onSetupTableWithCaption}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return oc(e,Sa(e),"background-color")},onSetup:n.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return oc(e,ka(e),"border-color")},onSetup:n.onSetupCellOrRow}),e.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:ic(e),onSetup:n.onSetupTableRowHeaders}),e.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:ac(e),onSetup:n.onSetupTableColumnHeaders})};Ie.add("table",(function(e){var t=So((function(){return vl(e)}),(function(){return Ol(yl(e),bl(e))}),Sl.selectedSelector),n=Gg(e,t),r=$f(e),o=qg(e,r.lazyResize,n),i=pm(e,o,r.lazyWire),a=Mm();return Am(e,i,o,t,a),zm(e,i,t),_l(e,t,i),Yg(e,t,n,a),Xg(e,t,n,a),Kg(e),e.on("PreInit",(function(){e.serializer.addTempAttr(Sl.firstSelected),e.serializer.addTempAttr(Sl.lastSelected),Nm(e)})),Vf(e)&&e.on("keydown",(function(t){Zm(t,e,o)})),e.on("remove",(function(){r.destroy()})),bm(e,a,r,n)}))}()},a0a6:function(e,t,n){"use strict";function r(e){return-1!==g.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())}function o(){return{listeners:[],scriptId:b("tiny-script"),scriptLoaded:!1}}function i(e){return function(){var t,n=C(C({},e.$props.init),{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:(n=e.$props.init&&e.$props.init.plugins,t=e.$props.plugins,y(n).concat(y(t))),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){(e.editor=t).on("init",(function(n){return n=n,o=t,i=(r=e).$props.value||"",a=r.$props.initialValue||"",o.setContent(i||(r.initialized?r.cache:a)),r.$watch("value",(function(e,t){o&&"string"==typeof e&&e!==t&&e!==o.getContent({format:r.$props.outputFormat})&&o.setContent(e)})),r.$listeners.input&&p(r,o),h(n,r.$listeners,o),void(r.initialized=!0);var r,o,i,a})),e.$props.init&&"function"==typeof e.$props.init.setup&&e.$props.init.setup(t)}});null!==(t=e.element)&&"textarea"===t.tagName.toLowerCase()&&(e.element.style.visibility="",e.element.style.display=""),Object(x.a)().init(n)}}n.r(t),n("d9e2");var a,u=n("683d"),c=n("a701"),s=n("ca00"),l=(n("2ef0"),n("5530")),f=(n("b680"),n("a9e3"),n("5880")),d=n("e5625"),m=n.n(d),g=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],h=function(e,t,n){Object.keys(t).filter(r).forEach((function(r){var o=t[r];"function"==typeof o&&("onInit"===r?o(e,n):n.on(r.substring(2),(function(e){return o(e,n)})))}))},p=function(e,t){var n=e.$props.modelEvents||null;n=Array.isArray(n)?n.join(" "):n;t.on(n||"change input undo redo",(function(){e.$emit("input",t.getContent({format:e.$props.outputFormat}))}))},v=0,b=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++v+String(t)},y=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},w=(a=o(),{load:function(e,t,n){function r(){i.removeEventListener("load",r),o()}var o,i;a.scriptLoaded?n():(a.listeners.push(n),e.getElementById(a.scriptId)||(n=a.scriptId,t=t,o=function(){a.listeners.forEach((function(e){return e()})),a.scriptLoaded=!0},(i=(e=e).createElement("script")).referrerPolicy="origin",i.type="application/javascript",i.id=n,i.src=t,i.addEventListener("load",r),e.head&&e.head.appendChild(i)))},reinitialize:function(){a=o()}}),x=n("c4a9"),C=(d={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)});d={props:d,created:function(){this.elementId=this.$props.id||b("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){var e,t;this.element=this.$el,null!==Object(x.a)()?i(this)():this.element&&this.element.ownerDocument&&(e=this.$props.cloudChannel||"5",t=this.$props.apiKey||"no-api-key",t=null==this.$props.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js":this.$props.tinymceScriptSrc,w.load(this.element.ownerDocument,t,i(this)))},beforeDestroy:function(){null!==Object(x.a)()&&Object(x.a)().remove(this.editor)},deactivated:function(){var e;this.inlineEditor||(this.cache=this.editor.getContent(),null!==(e=Object(x.a)())&&void 0!==e&&e.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&i(this)()},render:function(e){return this.inlineEditor?(t=this.elementId,n=this.$props.tagName,e(n||"div",{attrs:{id:t}})):e("textarea",{attrs:{id:this.elementId},style:{visibility:"hidden"}});var t,n}},n("030f"),n("fc39"),n("4ea8"),n("3aea"),n("07d1"),n("84ec"),n("9434"),d={components:{Editor:d},props:{value:{type:String,default:""},id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},disabled:{type:Boolean,default:!1},height:{type:Number,default:400}},computed:Object(l.a)({},Object(f.mapState)("setting",["languageId","theme"])),data:function(){return{init:{selector:this.id,language_url:"/static/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"/static/tinymce/skins/ui/oxide",content_css:"/static/tinymce/skins/content/default/content.css",plugins:"lists image media table wordcount",toolbar:"undo redo |  formatselect | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat",height:this.height,branding:!1,menubar:!1,images_upload_handler:function(e,t){t("data:image/jpeg;base64,"+e.base64())},setup:function(e){e.on("init",(function(e){}))}},editorId:this.id,content:this.value,active:!1}},watch:{value:function(e){this.content=e},content:function(e){this.$emit("input",e)}},mounted:function(){this.active=!0,1==this.languageId?(this.init.language_url="/static/tinymce/langs/hy.js",this.init.language="hy"):(this.init.language_url="/static/tinymce/langs/zh_CN.js",this.init.language="zh_CN"),"night"==this.theme.mode?this.init.skin_url="/static/tinymce/skins/ui/oxide-dark":this.init.skin_url="/static/tinymce/skins/ui/oxide",m.a.init({})},destroyed:function(){this.active=!1},methods:{tinymceInit:function(){m.a.init({})},tinymceDestroy:function(e){m.a.remove("#"+e)},inset:function(e){m.a.execCommand("mceInsertContent",!1,"".concat(e))}}},n("f4bc"),l=n("2877"),f=Object(l.a)(d,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return t("div",{staticClass:"Tinymce"},[e.active?t("editor",{attrs:{id:e.editorId,init:e.init,disabled:e.disabled,height:e.height},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}):e._e()],1)}),[],!1,null,null,null).exports,d={name:"edit",i18n:n("9225"),components:{Tinymce:f},data:function(){var e=this;return{type:"",pageTitle:"",form:{},id:0,rules:{title:[{validator:function(t,n,r){""===n?r(new Error(e.$t("401"))):r()},trigger:"change",required:!0}],content:[{validator:function(t,n,r){""===n?r(new Error(e.$t("402"))):r()},trigger:"change",required:!0}],helpType:[{validator:function(t,n,r){""===n?r(new Error(e.$t("403"))):r()},trigger:"change",required:!0}]},helpType:[],saveLoading:!1,disabled:!1,spinning:!1,hackReset:!0}},watch:{$route:function(){var e=this;this.hackReset=!1,this.$nextTick((function(){e.hackReset=!0}))}},created:function(){this.getHelpType(),"add"===this.$route.query.type?(this.type="add",this.pageTitle=this.$t("37"),this.form={status:1,helpType:"",title:"",content:"",isTop:0,remark:""}):"edit"===this.$route.query.type&&0<this.$route.query.id?(this.type="edit",this.pageTitle=this.$t("78"),this.id=this.$route.query.id,this.getHelpCenter()):(this.disabled=!0,this.spinning=!0)},methods:{getHelpType:function(){var e=this;Object(c.c)("HelpType").then((function(t){1===t.data.code&&(e.helpType=t.data.data)}))},getHelpCenter:function(){var e=this;this.disabled=!0,this.spinning=!0,Object(u.b)(this.id).then((function(t){1===t.data.code&&(t=t.data.data,e.pageTitle=e.$t("78")+"-"+t.title,e.form={status:t.status,helpType:t.helpType,title:t.title,content:t.content,isTop:t.isTop,remark:t.remark,id:t.id,version:t.version},e.disabled=!1,e.spinning=!1)}))},save:function(){var e=this;this.$refs.form.validate((function(t){if(t)if("add"==e.type){if(65500<=Object(s.i)(e.form.content))return e.$message.warning(e.$t("404")),!1;e.saveLoading=!0,e.disabled=!0,Object(u.a)(e.form).then((function(t){1===t.data.code&&(e.saveLoading=!1,e.disabled=!1,e.form={status:1,helpType:"",title:"",content:"",isTop:0,remark:""},e.$message.success(e.$t("205")),e.$refreshPage("/HelpCenterManage"))}))}else if("edit"==e.type){if(65500<=Object(s.i)(e.form.content))return e.$message.warning(e.$t("404")),!1;e.saveLoading=!0,e.disabled=!0,Object(u.e)(e.form).then((function(t){1===t.data.code&&(e.saveLoading=!1,e.disabled=!1,e.$message.success(e.$t("205")),e.getHelpCenter(),e.$refreshPage("/HelpCenterManage"))}))}}))}}},n("4e65"),f=Object(l.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"HelpCenterAddEdit"},[n("a-page-header",{attrs:{title:e.pageTitle}},[n("template",{slot:"extra"},[n("a-space",[n("a-button",{attrs:{type:"primary",loading:e.saveLoading,disabled:e.disabled},on:{click:e.save}},[e._v(e._s(e.$t("119")))])],1)],1)],2),n("a-spin",{attrs:{spinning:e.spinning}},[n("a-form-model",{ref:"form",attrs:{model:e.form,rules:e.rules}},[n("a-form-model-item",{attrs:{label:e.$t("236"),prop:"title"}},[n("a-input",{attrs:{"max-length":200},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),n("a-form-model-item",{attrs:{label:e.$t("400"),prop:"content"}},[e.hackReset?n("tinymce",{model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}}):e._e()],1),n("a-form-model-item",{attrs:{label:e.$t("398"),prop:"helpType"}},[n("a-select",{model:{value:e.form.helpType,callback:function(t){e.$set(e.form,"helpType",t)},expression:"form.helpType"}},e._l(e.helpType,(function(t,r){return n("a-select-option",{key:r,attrs:{value:t.code,disabled:0==t.status}},[e._v(" "+e._s(t.code)+" ")])})),1)],1),n("a-form-model-item",{attrs:{label:e.$t("399")}},[n("a-switch",{attrs:{checked:0!=e.form.isTop,size:"small"},on:{click:function(t){e.form.isTop=0==e.form.isTop?1:0}}})],1),n("a-form-model-item",{attrs:{label:e.$t("35")}},[n("a-switch",{attrs:{checked:0!=e.form.status,size:"small"},on:{click:function(t){e.form.status=0==e.form.status?1:0}}})],1),n("a-form-model-item",{attrs:{label:e.$t("34")}},[n("a-input",{attrs:{"max-length":200},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1)}),[],!1,null,"0d825fa2",null).exports;t.default=f},b680:function(e,t,n){"use strict";function r(e,t,n){return 0===t?n:t%2==1?r(e,t-1,n*e):r(e*e,t/2,n)}function o(e,t,n){for(var r=-1,o=n;++r<6;)o+=t*e[r],e[r]=o%1e7,o=h(o/1e7)}function i(e,t){for(var n=6,r=0;0<=--n;)r+=e[n],e[n]=h(r/t),r=r%t*1e7}function a(e){for(var t,n=6,r="";0<=--n;)""===r&&0!==n&&0===e[n]||(t=g(e[n]),r=""===r?t:r+p("0",7-t.length)+t);return r}var u=n("23e7"),c=n("da84"),s=n("e330"),l=n("5926"),f=n("408a"),d=n("1148"),m=(n=n("d039"),c.RangeError),g=c.String,h=Math.floor,p=s(d),v=s("".slice),b=s(1..toFixed);u({target:"Number",proto:!0,forced:n((function(){return"0.000"!==b(8e-5,3)||"1"!==b(.9,0)||"1.25"!==b(1.255,2)||"1000000000000000128"!==b(0xde0b6b3a7640080,0)}))||!n((function(){b({})}))},{toFixed:function(e){var t,n,u=f(this),c=(e=l(e),[0,0,0,0,0,0]),s="",d="0";if(e<0||20<e)throw m("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||1e21<=u)return g(u);if(u<0&&(s="-",u=-u),1e-21<u)if(u=(t=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(u*r(2,69,1))-69)<0?u*r(2,-t,1):u/r(2,t,1),u*=4503599627370496,0<(t=52-t)){for(o(c,0,u),n=e;7<=n;)o(c,1e7,0),n-=7;for(o(c,r(10,n,1),0),n=t-1;23<=n;)i(c,1<<23),n-=23;i(c,1<<n),o(c,1,1),i(c,2),d=a(c)}else o(c,0,u),o(c,1<<-t,0),d=a(c)+p("0",e);return 0<e?s+((u=d.length)<=e?"0."+p("0",e-u)+d:v(d,0,u-e)+"."+v(d,u-e)):s+d}})},c4a9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r=function(){var t="undefined"!=typeof window?window:e;return t&&t.tinymce?t.tinymce:null}}).call(this,n("c8ba"))},cdd9:function(e,t){!function(){"use strict";function e(e){return function(t){return n=typeof(t=t),(null===t?"null":"object"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n)===e;var n}}function t(e){return function(t){return typeof t===e}}function n(){}function r(e){return function(){return e}}function o(e){return e}function i(){return y}var a,u=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=e("string"),l=e("object"),f=e("array"),d=function(e){return a===e},m=t("boolean"),g=function(e){return!(null==e)},h=t("function"),p=t("number"),v=r(!1),b=r(!(a=null)),y={fold:function(e,t){return e()},isSome:v,isNone:b,getOr:o,getOrThunk:w,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:o,orThunk:w,map:i,each:n,bind:i,exists:v,forall:b,filter:function(){return y},toArray:function(){return[]},toString:r("none()")};function w(e){return e()}function x(e){function t(){return i}function n(t){return t(e)}var o=r(e),i={fold:function(t,n){return n(e)},isSome:b,isNone:v,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:t,orThunk:t,map:function(t){return x(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?i:y},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i}function C(e,t,n,r){for(var o=e,i=function(e,o){(t(e,o)?n:r)(e,o)},a=fe(o),u=0,c=a.length;u<c;u++){var s=a[u];i(o[s],s)}return 1}function S(e,t){return de.call(e,t)}function k(e){return e=e,(t=0)<=t&&t<e.length?le.some(e[t]):le.none();var t}function O(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}function T(e){return e.getParam("image_dimensions",!0,"boolean")}function _(e,t){return Math.max(parseInt(e,10),parseInt(t,10))}function E(e){return new we((function(t){function n(e){r.onload=r.onerror=null,r.parentNode&&r.parentNode.removeChild(r),t(e)}var r=document.createElement("img"),o=(r.onload=function(){var e=_(r.width,r.clientWidth),t=_(r.height,r.clientHeight);n(we.resolve({width:e,height:t}))},r.onerror=function(){n(we.reject("Failed to get image dimensions for: "+e))},r.style);o.visibility="hidden",o.position="fixed",o.bottom=o.left="0px",o.width=o.height="auto",document.body.appendChild(r),r.src=e}))}function D(e){return e&&e.replace(/px$/,"")}function A(e){return 0<e.length&&/^[0-9]+$/.test(e)&&(e+="px"),e}function z(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e}function M(e,t){return xe.isDomSafe(t,"img",e.settings)}function R(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?D(e.style.marginLeft):""}function N(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?D(e.style.marginTop):""}function B(e){return e.style.borderWidth?D(e.style.borderWidth):""}function H(e,t){return e.hasAttribute(t)?e.getAttribute(t):""}function L(e,t){return e.style[t]||""}function P(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName}function I(e,t){var n=e.getAttribute("style");0<(t=t(null!==n?n:"")).length?(e.setAttribute("style",t),e.setAttribute("data-mce-style",t)):e.removeAttribute("style")}function F(e,t){return e.style[t]?D(e.style[t]):H(e,t)}function V(e){return 0===ke.getAttrib(e,"alt").length&&"presentation"===ke.getAttrib(e,"role")}function j(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}}function U(e,t){var n=document.createElement("img");return Oe(n,"style",t.style),!R(n)&&""===t.hspace||Ee(n,t.hspace),!N(n)&&""===t.vspace||De(n,t.vspace),!B(n)&&""===t.border||Ae(n,t.border),!L(n,"borderStyle")&&""===t.borderStyle||ze(n,t.borderStyle),e(n.getAttribute("style"))}function W(e,t,n){var r;n?(ke.setAttrib(e,"role","presentation"),r=be.fromDom(e),pe(r,"alt","")):(d(t)?(r=be.fromDom(e),ve(r,"alt")):(r=be.fromDom(e),pe(r,"alt",t)),"presentation"===ke.getAttrib(e,"role")&&ke.setAttrib(e,"role",""))}function $(e,t,n){var r=Ne(e,n);Be(n,r,t,"caption",(function(e,t,n){return Te(e)})),Be(n,r,t,"src",Oe),Be(n,r,t,"title",Oe),Be(n,r,t,"width",_e("width",e)),Be(n,r,t,"height",_e("height",e)),Be(n,r,t,"class",Oe),Be(n,r,t,"style",Le((function(e,t){return Oe(e,"style",t)}),e)),Be(n,r,t,"hspace",Le(Ee,e)),Be(n,r,t,"vspace",Le(De,e)),Be(n,r,t,"border",Le(Ae,e)),Be(n,r,t,"borderStyle",Le(ze,e)),He(n,r,t)}function q(e,t){return t=e.dom.styles.parse(t),t=z(t),t=e.dom.styles.parse(e.dom.styles.serialize(t)),e.dom.styles.serialize(t)}function G(e,t){var r,o=e.dom,i=(a=e.schema.getTextBlockElements(),C(a,(function(t,n){return!e.schema.isValidChild(n,"figure")}),(r=a={},function(e,t){r[t]=e}),n),a),a=o.getParent(t.parentNode,(function(e){return t=i,e=e.nodeName,S(t,e)&&void 0!==t[e]&&null!==t[e];var t}),e.getBody());return a?o.split(a,t):t}function X(e,t){r=function(t){return q(e,t)},t=t,n=document.createElement("img"),$(r,c(c({},t),{caption:!1}),n),W(n,t.alt,t.isDecorative);t=t.caption?((r=ke.create("figure",{class:"image"})).appendChild(n),r.appendChild(ke.create("figcaption",{contentEditable:"true"},"Caption")),r.contentEditable="false",r):n;var n,r=(e.dom.setAttrib(t,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(t.outerHTML),e.dom.select('*[data-mce-id="__mcenew"]')[0]);e.dom.setAttrib(r,"data-mce-id",null),Me(r)?(n=G(e,r),e.selection.select(n)):e.selection.select(r)}function K(e,t){var n,r,o,i,a=Pe(e);function u(){i.onload=i.onerror=null,r.selection&&(r.selection.select(i),r.nodeChanged())}$((function(t){return q(e,t)}),t,a),e.dom.setAttrib(a,"src",a.getAttribute("src")),Me(a.parentNode)?(n=a.parentNode,G(e,n),e.selection.select(a.parentNode)):(e.selection.select(a),r=e,o=t,(i=a).onload=function(){o.width||o.height||!T(r)||r.dom.setAttribs(i,{width:String(i.clientWidth),height:String(i.clientHeight)}),u()},i.onerror=u)}function Y(e){return s(e.value)?e.value:""}function J(e){return void 0===e&&(e=Y),function(t){return t?le.from(t).map((function(t){return We(t,e)})):le.none()}}function Q(e){var t,n,r=Ge((function(t){return e.convertURL(t.value||t.url,"src")})),o=new we((function(t){var n=e,o=function(e){t(r(e).map((function(e){return ge([[{text:"None",value:""}],e])})))};n=n.getParam("image_list",!1),s(n)?Ce.send({url:n,success:function(e){o(JSON.parse(e))}}):h(n)?n(o):o(n)})),i=Xe(e.getParam("image_class_list")),a=e.getParam("image_advtab",!1,"boolean"),u=e.getParam("image_uploadtab",!0,"boolean"),c=g(e.getParam("images_upload_url")),l=g(e.getParam("images_upload_handler")),f=(n=Pe(t=e))?Ne((function(e){return q(t,e)}),n):j(),d=e.getParam("image_description",!0,"boolean"),m=e.getParam("image_title",!1,"boolean"),p=T(e),v=e.getParam("image_caption",!1,"boolean"),b=e.getParam("a11y_advanced_options",!1,"boolean"),y=e.getParam("automatic_uploads",!0,"boolean"),w=le.some(e.getParam("image_prepend_url","","string")).filter((function(e){return s(e)&&0<e.length}));return o.then((function(e){return{image:f,imageList:e,classList:i,hasAdvTab:a,hasUploadTab:u,hasUploadUrl:c,hasUploadHandler:l,hasDescription:d,hasImageTitle:m,hasDimensions:p,hasImageCaption:v,prependURL:w,hasAccessibilityOptions:b,automaticUploads:y}}))}function Z(e){var t=e.imageList.map((function(e){return{name:"images",type:"listbox",label:"Image list",items:e}})),n={name:"alt",type:"input",label:"Alternative description",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},r=e.classList.map((function(e){return{name:"classes",type:"listbox",label:"Class",items:e}}));return ge([[{name:"src",type:"urlinput",filetype:"image",label:"Source"}],t.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],e.hasDescription?[n]:[],e.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],e.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[c(c({},e.classList.isSome()&&e.hasImageCaption?{type:"grid",columns:2}:{type:"panel"}),{items:ge([r.toArray(),e.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])})]])}function ee(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}}function te(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}}function ne(e,t){var n,r=t.getData();e=e,n=r.src.value,(/^(?:[a-zA-Z]+:)?\/\//.test(n)?le.none():e.prependURL.bind((function(e){return n.substring(0,e.length)!==e?le.some(e+n):le.none()}))).each((function(e){t.setData({src:{value:e,meta:r.src.meta}})}))}function re(e,t){var n,r=t.getData(),o=r.src.meta;void 0!==o&&(r=Fe({},r),n=r,o=o,(e=e).hasDescription&&s(o.alt)&&(n.alt=o.alt),e.hasAccessibilityOptions&&(n.isDecorative=o.isDecorative||n.isDecorative||!1),e.hasImageTitle&&s(o.title)&&(n.title=o.title),e.hasDimensions&&(s(o.width)&&(n.dimensions.width=o.width),s(o.height)&&(n.dimensions.height=o.height)),s(o.class)&&Ke(e.classList,o.class).each((function(e){n.classes=e.value})),e.hasImageCaption&&m(o.caption)&&(n.caption=o.caption),e.hasAdvTab&&(s(o.style)&&(n.style=o.style),s(o.vspace)&&(n.vspace=o.vspace),s(o.border)&&(n.border=o.border),s(o.hspace)&&(n.hspace=o.hspace),s(o.borderstyle)&&(n.borderstyle=o.borderstyle)),t.setData(r))}function oe(e,t,n,r){var o,i,a,u,c;ne(t,r),re(t,r),e=e,u=t,o=n,a=(i=r).getData(),c=a.src.value,(a=a.src.meta||{}).width||a.height||!u.hasDimensions||(0<c.length?e.imageSize(c).then((function(e){o.open&&i.setData({dimensions:e})})).catch((function(e){})):i.setData({dimensions:{width:"",height:""}})),a=t,u=n,c=(e=r).getData(),a=Ke(a.imageList,c.src.value),u.prevImage=a,e.setData({images:a.map((function(e){return e.value})).getOr("")})}function ie(e,t,n){var r,o=z(e(n.style));return(n=Fe({},n)).vspace=(r=o)["margin-top"]&&r["margin-bottom"]&&r["margin-top"]===r["margin-bottom"]?D(String(r["margin-top"])):"",n.hspace=(r=o)["margin-right"]&&r["margin-left"]&&r["margin-right"]===r["margin-left"]?D(String(r["margin-right"])):"",n.border=(r=o)["border-width"]?D(String(r["border-width"])):"",n.borderstyle=(r=o)["border-style"]?String(r["border-style"]):"",n.style=t(e(t(o))),n}function ae(e,t,n,r){var o=r.getData();r.block("Uploading image"),k(o.fileinput).fold((function(){r.unblock()}),(function(o){function i(){r.unblock(),URL.revokeObjectURL(c)}function a(o){r.setData({src:{value:o,meta:{}}}),r.showTab("general"),oe(e,t,n,r)}var u,c=URL.createObjectURL(o);u=o,new we((function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(){t(n.error.message)},n.readAsDataURL(u)})).then((function(n){n=e.createBlobCache(o,c,n),t.automaticUploads?e.uploadImage(n).then((function(e){a(e.url),i()})).catch((function(t){i(),e.alertErr(t)})):(e.addToBlobCache(n),a(n.blobUri()),r.unblock())}))}))}function ue(e,t,n){return function(r,o){var i,a,u,c,s,l,f,d,m;"src"===o.name?oe(e,t,n,r):"images"===o.name?(c=e,s=t,l=n,d=(f=r).getData(),(m=Ke(s.imageList,d.images)).each((function(e){""===d.alt||l.prevImage.map((function(e){return e.text===d.alt})).getOr(!1)?""===e.value?f.setData({src:e,alt:l.prevAlt}):f.setData({src:e,alt:e.text}):f.setData({src:e})})),l.prevImage=m,oe(c,s,l,f)):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?(m=e,s=(c=r).getData(),m=ie(m.parseStyle,m.serializeStyle,s),c.setData(m)):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?(i=e,u=r,a=Fe(ee((a=t).image),u.getData()),i=U(i.normalizeCss,te(a,!1)),u.setData({style:i})):"fileinput"===o.name?ae(e,t,n,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}}function ce(e){return function(t){var n,r,o={prevImage:Ke((o=t).imageList,o.image.src),prevAlt:o.image.alt,open:!0};return{title:"Insert/Edit Image",size:"normal",body:(r=t).hasAdvTab||r.hasUploadUrl||r.hasUploadHandler?{type:"tabpanel",tabs:ge([[Je(r)],r.hasAdvTab?[Ye(r)]:[],r.hasUploadTab&&(r.hasUploadUrl||r.hasUploadHandler)?[Ze(r)]:[]])}:{type:"panel",items:Qe(r)},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ee(t.image),onSubmit:e.onSubmit(t),onChange:ue(e,t,o),onClose:(n=o,function(){n.open=!1})}}}var se,le={some:x,none:i,from:function(e){return null==e?y:x(e)}},fe=Object.keys,de=Object.hasOwnProperty,me=Array.prototype.push,ge=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!f(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);me.apply(t,e[n])}return t},he=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return le.none()},pe=("undefined"!=typeof window||Function("return this;")(),function(e,t,n){if(e=e.dom,!(s(n)||m(n)||p(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")}),ve=function(e,t){e.dom.removeAttribute(t)},be={fromHtml:function(e,t){if(t=(t||document).createElement("div"),t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw new Error("HTML must have a single root node");return O(t.childNodes[0])},fromTag:function(e,t){return t=(t||document).createElement(e),O(t)},fromText:function(e,t){return t=(t||document).createTextNode(e),O(t)},fromDom:O,fromPoint:function(e,t,n){return le.from(e.dom.elementFromPoint(t,n)).map(O)}},ye=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),we=tinymce.util.Tools.resolve("tinymce.util.Promise"),xe=tinymce.util.Tools.resolve("tinymce.util.URI"),Ce=tinymce.util.Tools.resolve("tinymce.util.XHR"),Se=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},ke=ye.DOM,Oe=function(e,t,n){""===n?e.removeAttribute(t):e.setAttribute(t,n)},Te=function(e){var t;P(e)?(t=e.parentNode,ke.insertAfter(e,t),ke.remove(t)):(t=e,e=ke.create("figure",{class:"image"}),ke.insertAfter(e,t),e.appendChild(t),e.appendChild(ke.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false")},_e=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=A(r),I(e,t)):Oe(e,n,r)}},Ee=function(e,t){t=A(t),e.style.marginLeft=t,e.style.marginRight=t},De=function(e,t){t=A(t),e.style.marginTop=t,e.style.marginBottom=t},Ae=function(e,t){t=A(t),e.style.borderWidth=t},ze=function(e,t){e.style.borderStyle=t},Me=function(e){return"FIGURE"===e.nodeName},Re=function(e){return"IMG"===e.nodeName},Ne=function(e,t){return{src:H(t,"src"),alt:V(n=t)?"":H(n,"alt"),title:H(t,"title"),width:F(t,"width"),height:F(t,"height"),class:H(t,"class"),style:e(H(t,"style")),caption:P(t),hspace:R(t),vspace:N(t),border:B(t),borderStyle:L(t,"borderStyle"),isDecorative:V(t)};var n},Be=function(e,t,n,r,o){n[r]!==t[r]&&o(e,r,n[r])},He=function(e,t,n){n.alt===t.alt&&n.isDecorative===t.isDecorative||W(e,n.alt,n.isDecorative)},Le=function(e,t){return function(n,r,o){e(n,o),I(n,t)}},Pe=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||Se(t))?null:t},Ie=function(e,t){var n,r,o,i=Pe(e);i?(n=Ne((function(t){return q(e,t)}),i),n=c(c({},n),t),r=e,o=n.src,r=c(c({},n),{src:M(r,o)?o:""}),n.src?K(e,r):(o=e,(n=i)&&(n=o.dom.is(n.parentNode,"figure.image")?n.parentNode:n,o.dom.remove(n),o.focus(),o.nodeChanged(),o.dom.isEmpty(o.getBody())&&(o.setContent(""),o.selection.setCursorLocation())))):t.src&&X(e,c(c({},j()),t))},Fe=(se=function(e,t){return l(e)&&l(t)?Fe(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o,i=e[r];for(o in i)S(i,o)&&(n[o]=se(n[o],i[o]))}return n}),Ve=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),je=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ue=function(e){return s(e.text)?e.text:s(e.title)?e.title:""},We=function(e,t){var n=[];return je.each(e,(function(e){var r,o=Ue(e);void 0!==e.menu?(r=We(e.menu,t),n.push({text:o,items:r})):(r=t(e),n.push({text:o,value:r}))})),n},$e=function(e){return S(e,"items")},qe=function(e,t){return he(e,(function(e){return $e(e)?qe(e.items,t):e.value===t?le.some(e):le.none()}))},Ge=J,Xe=function(e){return J(Y)(e)},Ke=function(e,t){return e.bind((function(e){return qe(e,t)}))},Ye=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Je=function(e){return{title:"General",name:"general",items:Z(e)}},Qe=Z,Ze=function(e){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}},et=function(e){var t,n,r,o,i,a,u,c,s,l={onSubmit:function(e){return function(t){var n=Fe(ee(e.image),t.getData());s.execCommand("mceUpdateImage",!1,te(n,e.hasAccessibilityOptions)),s.editorUpload.uploadImagesAuto(),t.close()}},imageSize:function(e){return M(c,e)?E(c.documentBaseURI.toAbsolute(e)).then((function(e){return{width:String(e.width),height:String(e.height)}})):we.resolve({width:"",height:""})},addToBlobCache:function(e){u.editorUpload.blobCache.add(e)},createBlobCache:function(e,t,n){return a.editorUpload.blobCache.create({blob:e,blobUri:t,name:e.name?e.name.replace(/\.[^\.]+$/,""):null,filename:e.name,base64:n.split(",")[1]})},alertErr:function(e){i.windowManager.alert(e)},normalizeCss:function(e){return q(o,e)},parseStyle:function(e){return r.dom.parseStyle(e)},serializeStyle:function(e,t){return n.dom.serializeStyle(e,t)},uploadImage:(t=n=r=o=i=a=u=c=s=e,function(e){return Ve(t).upload([e],!1).then((function(e){return 0===e.length?we.reject("Failed to upload image"):!1===e[0].status?we.reject(e[0].error.message):e[0]}))})};return{open:function(){Q(e).then(ce(l)).then(e.windowManager.open)}}},tt=function(e){return function(t){for(var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};n--;){var o=t[n];!function(e){return e=e.attr("class"),e&&/\bimage\b/.test(e)}(o)||(o.attr("contenteditable",e?"false":null),je.each(o.getAll("figcaption"),r))}}};u.add("image",(function(e){var t,n,r;(t=e).on("PreInit",(function(){t.parser.addNodeFilter("figure",tt(!0)),t.serializer.addNodeFilter("figure",tt(!1))})),(n=e).ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:et(n).open,onSetup:function(e){return e.setActive(g(Pe(n))),n.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",e.setActive).unbind}}),n.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:et(n).open}),n.ui.registry.addContextMenu("image",{update:function(e){return Me(e)||Re(e)&&!Se(e)?["image"]:[]}}),(r=e).addCommand("mceImage",et(r).open),r.addCommand("mceUpdateImage",(function(e,t){r.undoManager.transact((function(){return Ie(r,t)}))}))}))}()},e5625:function(e,t,n){(function(t){!function(){"use strict";function n(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}function r(e){return{eq:function(t,n){var r,o=Object.keys(t),i=Object.keys(n);if(!s(f(l),(function(e){return c(e,r)})).eq(o,i))return!1;for(var a=o.length,u=0;u<a;u++){var d=o[u];if(!e.eq(t[d],n[d]))return!1}return!0}}}function o(e){return function(t){return n=typeof(t=t),(null===t?"null":"object"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n)===e;var n}}function i(e){return function(t){return typeof t===e}}function a(e){return function(t){return e===t}}function u(e,t){return e===t}var c=function(e,t){return Array.prototype.slice.call(e).sort(t)},s=function(e,t){return{eq:function(n,r){return e.eq(t(n),t(r))}}},l={eq:function(e,t){return e===t}},f=function(e){return{eq:function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0}}},d={eq:function(e,t){if(e===t)return!0;var o=n(e);return o===n(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(o)?e===t:"array"===o?f(d).eq(e,t):"object"===o&&r(d).eq(e,t))}},m=o("string"),g=o("object"),h=o("array"),p=a(null),v=i("boolean"),b=a(void 0),y=function(e){return null==e},w=function(e){return!y(e)},x=i("function"),C=i("number"),S=function(){},k=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},O=function(e,t){return function(n){return e(t(n))}},T=function(e){return function(){return e}},_=function(e){return e};function E(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function D(e){return function(t){return!e(t)}}function A(e){return e()}function z(e){e()}function M(){return B}var R=T(!1),N=T(!0),B={fold:function(e,t){return e()},isSome:R,isNone:N,getOr:$t=_,getOrThunk:H,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:T(null),getOrUndefined:T(void 0),or:$t,orThunk:H,map:M,each:S,bind:M,exists:R,forall:N,filter:function(){return B},toArray:function(){return[]},toString:T("none()")};function H(e){return e()}function L(e){function t(){return o}function n(t){return t(e)}var r=T(e),o={fold:function(t,n){return n(e)},isSome:N,isNone:R,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:t,orThunk:t,map:function(t){return L(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?o:B},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o}function P(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)}function I(e,t,n){return P(e,(function(e,r){n=t(n,e,r)})),n}function F(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return ee.some(i);if(n(i,r))break}return ee.none()}function V(e,t){return le(e,(function(e){return!ie(t,e)}))}function j(e,t){return 0<=t&&t<e.length?ee.some(e[t]):ee.none()}function U(e,t){return Oe(e,(function(e,n){return{k:n,v:t(e,n)}}))}function W(e){return function(t,n){e[n]=t}}function $(e,t,n,r){return ke(e,(function(e,o){(t(e,o)?n:r)(e,o)})),1}function q(e){return t=_,n=[],ke(e,(function(e,r){n.push(t(e,r))})),n;var t,n}function G(e,t){return Ee(e,t)&&void 0!==e[t]&&null!==e[t]}function X(e,t,n){var r,o;if(!e)return!1;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(Ee(e,r)&&!1===t.call(n,e[r],r,e))return!1;return!0}function K(e,t){var n=[];return X(e,(function(r,o){n.push(t(r,o,e))})),n}function Y(e,t){var n=[];return X(e,(function(r,o){t&&!t(r,o,e)||n.push(r)})),n}function J(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Q(e,t,n,r){for(var o=b(n)?e[0]:n,i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o}function Z(e,t,n){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1}var ee={some:L,none:M,from:function(e){return null==e?B:L(e)}},te=Array.prototype.slice,ne=Array.prototype.indexOf,re=Array.prototype.push,oe=function(e,t){return ne.call(e,t)},ie=function(e,t){return-1<oe(e,t)},ae=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},ue=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},ce=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},se=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},le=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},fe=function(e,t,n){return ce(e,(function(e,r){n=t(n,e,r)})),n},de=function(e,t){return F(e,t,R)},me=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return ee.some(n);return ee.none()},ge=function(e,t){for(var n=ue(e,t),r=[],o=0,i=n.length;o<i;++o){if(!h(n[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+n);re.apply(r,n[o])}return r},he=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},pe=function(e){return e=te.call(e,0),e.reverse(),e},ve=function(e,t){return e=te.call(e,0),e.sort(t),e},be=function(e){return j(e,0)},ye=function(e){return j(e,e.length-1)},we=x(Array.from)?Array.from:function(e){return te.call(e)},xe=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return ee.none()},Ce=Object.keys,Se=Object.hasOwnProperty,ke=function(e,t){for(var n=Ce(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},Oe=function(e,t){var n={};return ke(e,(function(e,r){e=t(e,r),n[e.k]=e.v})),n},Te=function(e,t){var n={};return $(e,t,W(n),S),n},_e=function(e,t){return Ee(e,t)?ee.from(e[t]):ee.none()},Ee=function(e,t){return Se.call(e,t)},De=Array.isArray,Ae=function(e){return e[e.length-1]},ze=function(){return(ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Me(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Re(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}function Ne(e,t){var n=Ht(e,t);return n?Lt(r(1),r(2)):{major:0,minor:0};function r(e){return Number(t.replace(n,"$"+e))}}function Be(){return Lt(0,0)}function He(e,t){return-1!==e.indexOf(t)}function Le(e){return function(t){return t.replace(e,"")}}function Pe(e){return 0<e.length}function Ie(e){return!Pe(e)}function Fe(e){return function(t){return He(t,e)}}function Ve(e){function t(e){return function(){return n===e}}var n=e.current;e=e.version;return{current:n,version:e,isEdge:t(Xt),isChrome:t(Kt),isIE:t(Yt),isOpera:t(Jt),isFirefox:t(Qt),isSafari:t(Zt)}}function je(e){function t(e){return function(){return n===e}}var n=e.current;e=e.version;return{current:n,version:e,isWindows:t(nn),isiOS:t(rn),isAndroid:t(on),isOSX:t(un),isLinux:t(an),isSolaris:t(cn),isFreeBSD:t(sn),isChromeOS:t(ln)}}function Ue(e){return window.matchMedia(e).matches}function We(e){return null==e?"":(""+e).replace(xn,"")}function $e(e,t){return t?!("array"!==t||!De(e))||typeof e===t:void 0!==e}function qe(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),X(e,(function(e,o){if(!1===t.call(r,e,o,n))return!1;qe(e,t,n,r)})))}function Ge(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}function Xe(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n}function Ke(e,t){if((e=e.dom).nodeType!==kn)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}function Ye(e){return e.nodeType!==kn&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount}function Je(e){return e.dom.nodeType}function Qe(e){return function(t){return Je(t)===e}}function Ze(e){return Sn.fromDom(e.dom.ownerDocument)}function et(e){return Sn.fromDom(Hn(e).dom.defaultView)}function tt(e){return ee.from(e.dom.previousSibling).map(Sn.fromDom)}function nt(e){return pe(Xe(e,tt))}function rt(e){return Xe(e,In)}function ot(e){return Vn(e,0)}function it(e){return Vn(e,e.dom.childNodes.length-1)}function at(e){return Sn.fromDom(e.dom.host)}function ut(e,t){In(e).fold((function(){Ln(e).each((function(e){Kn(e,t)}))}),(function(e){Xn(e,t)}))}function ct(e,t){ot(e).fold((function(){Kn(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))}function st(e,t){ce(t,(function(t){Kn(e,t)}))}function lt(e){e.dom.textContent="",ce(Fn(e),(function(e){Jn(e)}))}function ft(e){var t=Fn(e);0<t.length&&Yn(e,t),Jn(e)}function dt(e,t){return{left:e,top:t,translate:function(n,r){return dt(e+n,t+r)}}}function mt(e,t){return void 0!==e?e:void 0!==t?t:0}function gt(e){var t=e.dom,n=t.ownerDocument.body;return n===t?Zn(n.offsetLeft,n.offsetTop):Qn(e)?er(t):Zn(0,0)}function ht(e,t,n){(n=(void 0!==n?n.dom:document).defaultView)&&n.scrollTo(e,t)}function pt(e,t){hn().browser.isSafari()&&x(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)}function vt(e){var t=void 0===e?window:e,n=(e=t.document,tr(Sn.fromDom(e)));return nr(t).fold((function(){var e=t.document.documentElement,r=e.clientWidth;e=e.clientHeight;return rr(n.left,n.top,r,e)}),(function(e){return rr(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)}))}function bt(e){return function(t){return!!t&&t.nodeType===e}}function yt(e){return!!e&&!Object.getPrototypeOf(e)}function wt(e){var t=e.map((function(e){return e.toLowerCase()}));return function(e){return!(!e||!e.nodeName)&&(e=e.nodeName.toLowerCase(),ie(t,e))}}function xt(e,t){var n=t.toLowerCase().split(" ");return function(t){if(or(t))for(var r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}}function Ct(e){return function(t){return or(t)&&t.hasAttribute(e)}}function St(e){return or(e)&&e.hasAttribute("data-mce-bogus")}function kt(e){return or(e)&&"TABLE"===e.tagName}function Ot(e){return function(t){if(or(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}}function Tt(e,t,n){return e.isSome()&&t.isSome()?ee.some(n(e.getOrDie(),t.getOrDie())):ee.none()}function _t(e){return void 0!==e.style&&x(e.style.getPropertyValue)}function Et(e,t){e.dom.removeAttribute(t)}function Dt(e,t){var n=e.dom;ke(t,(function(e,t){var r=n;if(!m(e))throw new Error("CSS value must be a string: "+e);_t(r)&&r.style.setProperty(t,e)}))}function At(e){var t={},n=e.dom;if(_t(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t}function zt(e){return de(e,zn)}function Mt(e){function t(e){n()?i(e):o.push(e)}function n(){return r.isSome()}var r=ee.none(),o=[],i=function(e){r.each((function(t){setTimeout((function(){e(t)}),0)}))};return e((function(e){n()||(r=ee.some(e),ce(o,i),o=[])})),{get:t,map:function(e){return Mt((function(n){t((function(t){n(e(t))}))}))},isReady:n}}function Rt(e,t){return t((function(t){var n=[],r=0;0===e.length?t([]):ce(e,(function(o,i){var a;o.get((a=i,function(o){n[a]=o,++r>=e.length&&t(n)}))}))}))}function Nt(e){return{isValue:N,isError:R,getOr:T(e),getOrThunk:T(e),getOrDie:T(e),or:function(t){return Nt(e)},orThunk:function(t){return Nt(e)},fold:function(t,n){return n(e)},map:function(t){return Nt(t(e))},mapError:function(t){return Nt(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return ee.some(e)}}}function Bt(e){return{isValue:R,isError:N,getOr:_,getOrThunk:function(e){return e()},getOrDie:function(){throw t=String(e),new Error(t);var t},or:_,orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return Bt(e)},mapError:function(t){return Bt(t(e))},each:S,bind:function(t){return Bt(e)},exists:R,forall:N,toOptional:ee.none}}var Ht=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Lt=function(e,t){return{major:e,minor:t}},Pt={nu:Lt,detect:function(e,t){return t=String(t).toLowerCase(),0===e.length?Be():Ne(e,t)},unknown:Be},It=function(e,t){var n=String(t).toLowerCase();return de(e,(function(e){return e.search(n)}))},Ft=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},Vt=function(e,t){return Ft(e,t,0)},jt=Le(/^\s+|\s+$/g),Ut=Le(/^\s+/g),Wt=Le(/\s+$/g),$t=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,qt=($t=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return He(e,"edge/")&&He(e,"chrome")&&He(e,"safari")&&He(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,$t],search:function(e){return He(e,"chrome")&&!He(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return He(e,"msie")||He(e,"trident")}},{name:"Opera",versionRegexes:[$t,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Fe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Fe("firefox")},{name:"Safari",versionRegexes:[$t,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(He(e,"safari")||He(e,"mobile/"))&&He(e,"applewebkit")}}],[{name:"Windows",search:Fe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return He(e,"iphone")||He(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Fe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Fe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Fe("linux"),versionRegexes:[]},{name:"Solaris",search:Fe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Fe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Fe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]),Gt={browsers:T($t),oses:T(qt)},Xt="Edge",Kt="Chrome",Yt="IE",Jt="Opera",Qt="Firefox",Zt="Safari",en=function(){return Ve({current:void 0,version:Pt.unknown()})},tn=Ve,nn=(T(Xt),T(Kt),T(Yt),T(Jt),T(Qt),T(Zt),"Windows"),rn="iOS",on="Android",an="Linux",un="OSX",cn="Solaris",sn="FreeBSD",ln="ChromeOS",fn=function(){return je({current:void 0,version:Pt.unknown()})},dn=je,mn=(T(nn),T(rn),T(on),T(an),T(un),T(cn),T(sn),T(ln),function(e,t,n){var r,o,i,a,u,c,s,l=Gt.browsers(),f=Gt.oses(),d=(t=t.bind((function(e){return t=l,xe(e.brands,(function(e){var n=e.brand.toLowerCase();return de(t,(function(e){return n===(null===(e=e.brand)||void 0===e?void 0:e.toLowerCase())})).map((function(t){return{current:t.name,version:Pt.nu(parseInt(e.version,10),0)}}))}));var t})).orThunk((function(){return It(l,t=e).map((function(e){var n=Pt.detect(e.versionRegexes,t);return{current:e.name,version:n}}));var t})).fold(en,tn),f=It(f,r=e).map((function(e){var t=Pt.detect(e.versionRegexes,r);return{current:e.name,version:t}})).fold(fn,dn),i=t,a=e,n=n,d=(o=f).isiOS()&&!0===/ipad/i.test(a),u=o.isiOS()&&!d,c=o.isiOS()||o.isAndroid(),s=c||n("(pointer:coarse)"),n=d||!u&&c&&n("(min-device-width:768px)"),c=u||c&&!n,i=i.isSafari()&&o.isiOS()&&!1===/safari/i.test(a),a=!c&&!n&&!i,{isiPad:T(d),isiPhone:T(u),isTablet:T(n),isPhone:T(c),isTouch:T(s),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:T(i),isDesktop:T(a)});return{browser:t,os:f,deviceType:d}}),gn=Re((function(){return mn(navigator.userAgent,ee.from(navigator.userAgentData),Ue)})),hn=function(){return gn()},pn=($t=navigator.userAgent,qt=hn(),qt.browser),vn=qt.os,bn=(qt=qt.deviceType,/WebKit/.test($t)&&!pn.isEdge()),yn="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,wn=($t=-1!==$t.indexOf("Windows Phone"),{opera:pn.isOpera(),webkit:bn,ie:!(!pn.isIE()&&!pn.isEdge())&&pn.version.major,gecko:pn.isFirefox(),mac:vn.isOSX()||vn.isiOS(),iOS:qt.isiPad()||qt.isiPhone(),android:vn.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:pn.isIE()?document.documentMode||7:10,fileApi:yn,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!pn.isIE(),desktop:qt.isDesktop(),windowsPhone:$t,browser:{current:pn.current,version:pn.version,isChrome:pn.isChrome,isEdge:pn.isEdge,isFirefox:pn.isFirefox,isIE:pn.isIE,isOpera:pn.isOpera,isSafari:pn.isSafari},os:{current:vn.current,version:vn.version,isAndroid:vn.isAndroid,isChromeOS:vn.isChromeOS,isFreeBSD:vn.isFreeBSD,isiOS:vn.isiOS,isLinux:vn.isLinux,isOSX:vn.isOSX,isSolaris:vn.isSolaris,isWindows:vn.isWindows},deviceType:{isDesktop:qt.isDesktop,isiPad:qt.isiPad,isiPhone:qt.isiPhone,isPhone:qt.isPhone,isTablet:qt.isTablet,isTouch:qt.isTouch,isWebView:qt.isWebView}}),xn=/^\s*|\s*$/g,Cn={trim:We,isArray:De,is:$e,toArray:function(e){if(De(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},makeMap:function(e,t,n){var r;for(t=t||",",n=n||{},r=(e="string"==typeof(e=e||[])?e.split(t):e).length;r--;)n[e[r]]={};return n},each:X,map:K,grep:Y,inArray:J,hasOwn:Ee,extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o,i,a=t[r];for(o in a)!Ee(a,o)||void 0!==(i=a[o])&&(e[o]=i)}return e},create:function(e,t,n){var r,o,i,a=0,u=(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e))[3].match(/(^|\.)(\w+)$/i)[2],c=this.createNS(e[3].replace(/\.\w+$/,""),n);if(!c[u]){if("static"===e[2])return c[u]=t,void(this.onCreate&&this.onCreate(e[2],e[3],c[u]));t[u]||(t[u]=function(){},a=1),c[u]=t[u],this.extend(c[u].prototype,t),e[5]&&(r=this.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=c[u],c[u]=a?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[u].prototype[u]=c[u],this.each(r,(function(e,t){c[u].prototype[t]=r[t]})),this.each(t,(function(e,t){r[t]?c[u].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==u&&(c[u].prototype[t]=e)}))),this.each(t.static,(function(e,t){c[u][t]=e}))}},walk:qe,createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||$e(e,"array")?e:K(e.split(t||","),We)},_addCacheSuffix:function(e){var t=wn.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Sn={fromHtml:function(e,t){if(t=(t||document).createElement("div"),t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw new Error("HTML must have a single root node");return Ge(t.childNodes[0])},fromTag:function(e,t){return t=(t||document).createElement(e),Ge(t)},fromText:function(e,t){return t=(t||document).createTextNode(e),Ge(t)},fromDom:Ge,fromPoint:function(e,t,n){return ee.from(e.dom.elementFromPoint(t,n)).map(Ge)}},kn=1,On=function(e,t){return t=void 0===t?document:t.dom,Ye(t)?[]:ue(t.querySelectorAll(e),Sn.fromDom)},Tn=function(e,t){return e.dom===t.dom},_n=function(e,t){return e=e.dom,t=t.dom,e!==t&&e.contains(t)},En=function(e,t){return e=e.dom,t=t.dom,n=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(e.compareDocumentPosition(t)&n);var n},Dn=function(e,t){return(hn().browser.isIE()?En:_n)(e,t)},An=("undefined"!=typeof window||Function("return this;")(),function(e){return e.dom.nodeName.toLowerCase()}),zn=Qe(kn),Mn=Qe(3),Rn=Qe(9),Nn=Qe(11),Bn=function(e){return function(t){return zn(t)&&An(t)===e}},Hn=function(e){return Rn(e)?e:Ze(e)},Ln=function(e){return ee.from(e.dom.parentNode).map(Sn.fromDom)},Pn=function(e){return Ln(e).map(Fn).map((function(t){return le(t,(function(t){return!Tn(e,t)}))})).getOr([])},In=function(e){return ee.from(e.dom.nextSibling).map(Sn.fromDom)},Fn=function(e){return ue(e.dom.childNodes,Sn.fromDom)},Vn=function(e,t){return e=e.dom.childNodes,ee.from(e[t]).map(Sn.fromDom)},jn=function(e){return e.dom.childNodes.length},Un=function(e){return Nn(e)&&w(e.dom.host)},Wn=(bn=x(Element.prototype.attachShadow)&&x(Node.prototype.getRootNode),T(bn)),$n=bn?function(e){return Sn.fromDom(e.dom.getRootNode())}:Hn,qn=function(e){if(Un(e))return e;if(e=Hn(e),null==(e=e.dom.head))throw new Error("Head is not available yet");return Sn.fromDom(e)},Gn=function(e){if(Wn()&&w(e.target)){var t=Sn.fromDom(e.target);if(zn(t)&&w(t.dom.shadowRoot)&&e.composed&&e.composedPath&&(t=e.composedPath(),t))return be(t)}return ee.from(e.target)},Xn=function(e,t){Ln(e).each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},Kn=function(e,t){e.dom.appendChild(t.dom)},Yn=function(e,t){ce(t,(function(t){Xn(e,t)}))},Jn=function(e){e=e.dom,null!==e.parentNode&&e.parentNode.removeChild(e)},Qn=function(e){var t=Mn(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n=t.ownerDocument;return function(e){return e=$n(e),Un(e)?ee.some(e):ee.none()}(Sn.fromDom(t)).fold((function(){return n.body.contains(t)}),O(Qn,at))},Zn=dt,er=function(e){return e=e.getBoundingClientRect(),Zn(e.left,e.top)},tr=function(e){e=void 0!==e?e.dom:document;var t=e.body.scrollLeft||e.documentElement.scrollLeft;e=e.body.scrollTop||e.documentElement.scrollTop;return Zn(t,e)},nr=function(e){return e=void 0===e?window:e,hn().browser.isFirefox()?ee.none():ee.from(e.visualViewport)},rr=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},or=bt(1),ir=wt(["textarea","input"]),ar=bt(3),ur=bt(8),cr=bt(9),sr=bt(11),lr=wt(["br"]),fr=wt(["img"]),dr=Ot("true"),mr=Ot("false"),gr=wt(["td","th"]),hr=wt(["video","audio","object","embed"]),pr=function(e,t,n){return void 0===n&&(n=u),e.exists((function(e){return n(e,t)}))},vr=function(e,t,n){if(!(m(n)||v(n)||C(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")},br=function(e,t,n){vr(e.dom,t,n)},yr=function(e,t){var n=e.dom;ke(t,(function(e,t){vr(n,t,e)}))},wr=function(e,t){return e=e.dom.getAttribute(t),null===e?void 0:e},xr=function(e,t){return ee.from(wr(e,t))},Cr=function(e,t){return e=e.dom,!(!e||!e.hasAttribute)&&e.hasAttribute(t)},Sr=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||Qn(e)?r:kr(n,t)},kr=function(e,t){return _t(e)?e.style.getPropertyValue(t):""},Or=function(e,t){return e=e.dom,e=kr(e,t),ee.from(e).filter((function(e){return 0<e.length}))},Tr=function(e){return e.dom.offsetWidth},_r=hn().browser,Er=function(e){return _r.isFirefox()&&"table"===An(e)?zt(Fn(e)).filter((function(e){return"caption"===An(e)})).bind((function(e){return zt(rt(e)).map((function(t){t=t.dom.offsetTop;var n=e.dom.offsetTop,r=e.dom.offsetHeight;return t<=n?-r:0}))})).getOr(0):0},Dr=function(e,t){return e.children&&ie(e.children,t)},Ar={},zr={exports:Ar},Mr=(function(e){var n,r;n=this,r=function(){var e,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},r={exports:{}};function o(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n,r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){try{n=r(e._value)}catch(n){return void c(t.promise,n)}u(t.promise,n)}else(1===e._state?u:c)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(t){c(e,t)}var r,o}function c(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,c(t,e))}))}catch(e){if(n)return;n=!0,c(t,e)}}d=r,n=n,e=setTimeout,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)!function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(a){n(a)}}(o,t[o])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(t){e(t,0)},i._unhandledRejectionFn=function(e){},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},d.exports?d.exports=i:n.Promise||(n.Promise=i);var d=r.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||d}},"object"==typeof Ar&&void 0!==zr?zr.exports=r():"function"==typeof e&&e.amd?e(r):(n="undefined"!=typeof globalThis?globalThis:n||self).EphoxContactWrapper=r()}(void 0),zr.exports.boltExport),Rr={nu:Mt,pure:function(e){return Mt((function(t){t(e)}))}},Nr=function(e){setTimeout((function(){throw e}),0)},Br=function(e){function t(t){e().then(t,Nr)}return{map:function(t){return Br((function(){return e().then(t)}))},bind:function(t){return Br((function(){return e().then((function(e){return t(e).toPromise()}))}))},anonBind:function(t){return Br((function(){return e().then((function(){return t.toPromise()}))}))},toLazy:function(){return Rr.nu(t)},toCached:function(){var t=null;return Br((function(){return t=null===t?e():t}))},toPromise:e,get:t}},Hr={nu:function(e){return Br((function(){return new Mr(e)}))},pure:function(e){return Br((function(){return Mr.resolve(e)}))}},Lr=function(e){return Rt(e,Hr.nu)},Pr={value:Nt,error:Bt,fromOption:function(e,t){return e.fold((function(){return Bt(t)}),Nt)}},Ir=(yn=function(e){if(!h(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return ce(e,(function(r,o){var i=Ce(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!h(u))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+i);return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:function(e){var r=Ce(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!he(t,(function(e){return ie(r,e)})))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)},log:function(e){}}}})),n},yn([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(_,_)});function Fr(e,t,n,r,o){return e(n,r)?ee.some(n):x(o)&&o(n)?ee.none():t(n,r,o)}function Vr(e,t,n){for(var r=e.dom,o=x(n)?n:R;r.parentNode;){r=r.parentNode;var i=Sn.fromDom(r);if(t(i))return ee.some(i);if(o(i))break}return ee.none()}function jr(e,t,n){return Fr((function(e,t){return t(e)}),Vr,e,t,n)}function Ur(e,t){var n,r=e.dom;return r.parentNode?(r=Sn.fromDom(r.parentNode),n=function(n){return!Tn(e,n)&&t(n)},de(r.dom.childNodes,(function(e){return n(Sn.fromDom(e))})).map(Sn.fromDom)):ee.none()}function Wr(e,t,n){return Vr(e,(function(e){return Ke(e,t)}),n)}function $r(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],o=0;o<r.length&&!n;o++)n=window[r[o]+"RequestAnimationFrame"];(n=n||function(e){window.setTimeout(e,0)})(e,t)}function qr(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function Gr(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function Xr(e,t){function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];clearTimeout(r),r=qr((function(){e.apply(this,n)}),t)}var r;return n.stop=function(){clearTimeout(r)},n}function Kr(e,t){function n(e){return Hr.nu((function(t){s(e,k(t,T(Pr.value(e))),k(t,T(Pr.error(e))))}))}function r(e){var t=Cn._addCacheSuffix(e);_e(i,t).each((function(e){var n;0==--e.count&&(delete i[t],e=e.id,n=qn(a),Qr(n,"#"+e).each(Jn))}))}void 0===t&&(t={});var o=0,i={},a=Sn.fromDom(e),u=Hn(a),c=t.maxLoadTime||5e3,s=function(n,r,s){function l(e,t){for(var n=e.length;n--;)e[n]();h.status=t,h.passed=[],h.failed=[],m&&(m.onload=null,m.onerror=null,m=null)}function f(){return l(h.passed,2),0}function d(){var t;t=d,function(){for(var t=e.styleSheets,n=t.length;n--;){var r=t[n].ownerNode;if(r&&r.id===m.id)return f(),1}}()||(Date.now()-g<c?to.setTimeout(t):p())}n=Cn._addCacheSuffix(n);var m,g,h=_e(i,n).getOrThunk((function(){return{id:"mce-u"+o++,passed:[],failed:[],count:0}})),p=((i[n]=h).count++,function(){return l(h.failed,3)});r&&h.passed.push(r),s&&h.failed.push(s),1!==h.status&&(2!==h.status?3!==h.status?(h.status=1,r=Sn.fromTag("link",u.dom),yr(r,{rel:"stylesheet",type:"text/css",id:h.id}),g=Date.now(),t.contentCssCors&&br(r,"crossOrigin","anonymous"),t.referrerPolicy&&br(r,"referrerpolicy",t.referrerPolicy),(m=r.dom).onload=d,m.onerror=p,s=r,Kn(qn(a),s),br(r,"href",n)):p():f())};return{load:s,loadAll:function(e,t,r){Lr(ue(e,n)).get((function(e){e=se(e,(function(e){return e.isValue()})),0<e.fail.length?r(e.fail.map(Ir)):t(e.pass.map(Ir))}))},unload:r,unloadAll:function(e){ce(e,(function(e){r(e)}))},_setReferrerPolicy:function(e){t.referrerPolicy=e}}}var Yr,Jr,Qr=function(e,t){return e=void 0===e?document:e.dom,Ye(e)?ee.none():ee.from(e.querySelector(t)).map(Sn.fromDom)},Zr=function(e,t,n){return Fr(Ke,Wr,e,t,n)},eo=window.Promise||Mr,to={requestAnimationFrame:function(e,t){Yr?Yr.then(e):Yr=new eo((function(e){t=t||document.body,$r(e,t)})).then(e)},setTimeout:qr,setInterval:Gr,setEditorTimeout:function(e,t,n){return qr((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,n){var r=Gr((function(){e.removed?clearInterval(r):t()}),n);return r},debounce:Xr,throttle:Xr,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},no=(Jr=new WeakMap,{forElement:function(e,t){var n=$n(e).dom;return ee.from(Jr.get(n)).getOrThunk((function(){var e=Kr(n,t);return Jr.set(n,e),e}))}}),ro=(oo.prototype.current=function(){return this.node},oo.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},oo.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},oo.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},oo.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},oo.prototype.findPreviousNode=function(e,t,n,r){var o,i;if(e&&(o=e[n],!this.rootNode||o!==this.rootNode)){if(o){if(!r)for(i=o[t];i;i=i[t])if(!i[t])return i;return o}return(n=e.parentNode)&&n!==this.rootNode?n:void 0}},oo);function oo(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function io(e){var t;return function(n){return t=t||function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}(e,N),Ee(t,An(n))}}function ao(e){return zn(e)&&!_o(e)}function uo(e,t,n){(e=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),e.setAttribute("data-mce-bogus","all"),e.appendChild(((r=document.createElement("br")).setAttribute("data-mce-bogus","1"),r));var r=t.parentNode;return n?r.insertBefore(e,t):t.nextSibling?r.insertBefore(e,t.nextSibling):r.appendChild(e),e}function co(e){return Vo(e)&&e.data[0]===Lo}function so(e){return Vo(e)&&e.data[e.data.length-1]===Lo}function lo(e){return!ri(e)&&(Zo(e)?!ei(e.parentNode):ti(e)||Qo(e)||ni(e)||ii(e))}function fo(e,t){var n;t=Sn.fromDom(t);return e=e=Sn.fromDom(e),n="pre,code",t=E(Tn,t),Wr(e,n,t).isSome()}function mo(e,t){return w(e)&&(si(e,t)||ao(Sn.fromDom(e)))}function go(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Oi[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}}function ho(e,t){return e.replace(t?wi:xi,(function(e){return Oi[e]||e}))}function po(e,t){return e.replace(t?wi:xi,(function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Oi[e]||"&#"+e.charCodeAt(0)+";"}))}function vo(e,t,n){return n=n||_i,e.replace(t?wi:xi,(function(e){return Oi[e]||n[e]||e}))}function bo(e,t){for(var n,r,o=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,s={},l=Bo,f=(e=e||{},t&&(n=t.getValidStyles(),r=t.getInvalidStyles()),("\\\" \\' \\; \\: ; : "+l).split(" ")),d=0;d<f.length;d++)s[f[d]]=l+d,s[l+d]=f[d];return{toHex:function(e){return e.replace(i,Fi)},parse:function(t){function n(e,t,n){var r=x[e+"-top"+t];if(r){var o=x[e+"-right"+t];if(o){var i=x[e+"-bottom"+t];if(i){var a=x[e+"-left"+t];if(a){var u=[r,o,i,a];for(d=u.length-1;d--&&u[d]===u[d+1];);-1<d&&n||(x[e+t]=-1===d?u[0]:u.join(" "),delete x[e+"-top"+t],delete x[e+"-right"+t],delete x[e+"-bottom"+t],delete x[e+"-left"+t])}}}}}function r(e){return p=!0,s[e]}function f(e){return e.replace(/\\[0-9a-f]+/gi,T)}function m(t,n,r,o,i,a){if(i=i||a)return"'"+(i=O(i)).replace(/\'/g,"\\'")+"'";if(n=O(n||r||o),!e.allow_script_urls){if(a=n.replace(/[\s\r\n]+/g,""),/(java|vb)script:/i.test(a))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return"url('"+(n=C?C.call(S,n,"style"):n).replace(/\'/g,"\\'")+"')"}var g,h,p,v,b,y,w,x={},C=e.url_converter,S=e.url_converter_scope||o,k=function(e){var t,n=x[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return x[e]=n[0],!0}},O=function(e,t){return p&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return s[e]}))),t?e:e.replace(/\\([\'\";:])/g,"$1")},T=function(e){return String.fromCharCode(parseInt(e.slice(1),16))};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,r).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,r)}));h=u.exec(t);)u.lastIndex=h.index+h[0].length,g=h[1].replace(c,"").toLowerCase(),h=h[2].replace(c,""),g&&h&&(g=f(g),h=f(h),-1===g.indexOf(l)&&-1===g.indexOf('"')&&(e.allow_script_urls||"behavior"!==g&&!/expression\s*\(|\/\*|\*\//.test(h))&&("font-weight"===g&&"700"===h?h="bold":"color"!==g&&"background-color"!==g||(h=h.toLowerCase()),h=(h=h.replace(i,Fi)).replace(a,m),x[g]=p?O(h,!0):h));n("border","",!0),n("border","-width"),n("border","-color"),n("border","-style"),n("padding",""),n("margin",""),v="border",y="border-style",w="border-color",k(b="border-width")&&k(y)&&k(w)&&(x[v]=x[b]+" "+x[y]+" "+x[w],delete x[b],delete x[y],delete x[w]),"medium none"===x.border&&delete x.border,"none"===x["border-image"]&&delete x["border-image"]}return x},serialize:function(e,t){function o(t){var r,o=n[t];if(o)for(var a=0,u=o.length;a<u;a++)t=o[a],(r=e[t])&&(i+=(0<i.length?" ":"")+t+": "+r+";")}var i="";return t&&n?(o("*"),o(t)):ke(e,(function(e,n){var o,a,u;!e||r&&(o=n,a=t,(u=r["*"])&&u[o]||(u=r[a])&&u[o])||(i+=(0<i.length?" ":"")+n+": "+e+";")})),i}}}function yo(e,t,n,r){var o=$i(t,r);return o.type=e,y(o.target)&&(o.target=null!==(r=o.srcElement)&&void 0!==r?r:n),Wi(t)&&(o.preventDefault=function(){o.defaultPrevented=!0,o.isDefaultPrevented=N,x(t.preventDefault)?t.preventDefault():ji(t)&&(t.returnValue=!1)},o.stopPropagation=function(){o.cancelBubble=!0,o.isPropagationStopped=N,x(t.stopPropagation)?t.stopPropagation():ji(t)&&(t.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=N,o.stopPropagation()},Ui(o)||(o.isDefaultPrevented=!0===o.defaultPrevented?N:R,o.isPropagationStopped=!0===o.cancelBubble?N:R,o.isImmediatePropagationStopped=R)),o}function wo(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function xo(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function Co(e,t){var n,r,o;t=yo(e.type,e,document,t);return w(o=e)&&qi.test(o.type)&&b(e.pageX)&&!b(e.clientX)&&(n=(o=t.target.ownerDocument||document).documentElement,o=o.body,(r=t).pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),r.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),b(t.metaKey)&&(t.metaKey=!1),t}function So(e,t,n){var r,o=e.document,i={type:"ready"};n.domLoaded?t(i):(r=function(){xo(e,"DOMContentLoaded",r),xo(e,"load",r),n.domLoaded||(n.domLoaded=!0,t(i)),e=null},"complete"===o.readyState||"interactive"===o.readyState&&o.body?r():wo(e,"DOMContentLoaded",r),n.domLoaded||wo(e,"load",r))}var ko,Oo,To=io(["h1","h2","h3","h4","h5","h6"]),_o=io(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Eo=function(e){return zn(e)&&"br"===An(e)},Do=io(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Ao=io(["ul","ol","dl"]),zo=io(["li","dd","dt"]),Mo=io(["thead","tbody","tfoot"]),Ro=io(["td","th"]),No=io(["pre","script","textarea","style"]),Bo="\ufeff",Ho=" ",Lo=Bo,Po=function(e){return e===Bo},Io=function(e){return e.replace(/\uFEFF/g,"")},Fo=or,Vo=ar,jo=function(e){return Vo(e)&&(e=e.parentNode),Fo(e)&&e.hasAttribute("data-mce-caret")},Uo=function(e){return Vo(e)&&Po(e.data)},Wo=function(e){return jo(e)||Uo(e)},$o=function(e){return e.firstChild!==e.lastChild||!lr(e.firstChild)},qo=function(e){var t=e.container();return!!ar(t)&&(t.data.charAt(e.offset())===Lo||e.isAtStart()&&Uo(t.previousSibling))},Go=function(e){var t=e.container();return!!ar(t)&&(t.data.charAt(e.offset()-1)===Lo||e.isAtEnd()&&Uo(t.nextSibling))},Xo=function(e){var t;return e&&e.hasAttribute("data-mce-caret")?(t=(t=(t=e).getElementsByTagName("br"))[t.length-1],St(t)&&t.parentNode.removeChild(t),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Ko=function(e){return jo(e.startContainer)},Yo=dr,Jo=mr,Qo=lr,Zo=ar,ei=wt(["script","style","textarea"]),ti=wt(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ni=wt(["table"]),ri=Wo,oi=function(e){return or(e)&&"true"===e.getAttribute("unselectable")},ii=function(e){return!1===oi(e)&&Jo(e)},ai=function(e,t){return lo(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(ii(e))return!1;if(Yo(e))return!0}return!0}(e,t)},ui=/^[ \t\r\n]*$/,ci=function(e){return ui.test(e)},si=function(e,t){return lo(e)&&!1===(t=t,ar(n=e)&&ci(n.data)&&!1===fo(n,t))||or(n=e)&&"A"===n.nodeName&&!n.hasAttribute("href")&&(n.hasAttribute("name")||n.hasAttribute("id"))||li(e);var n},li=Ct("data-mce-bookmark"),fi=Ct("data-mce-bogus"),di=(ko="data-mce-bogus",Oo="all",function(e){return or(e)&&e.getAttribute(ko)===Oo}),mi=function(e,t){var n=e.dom,r=t=void 0===t||t,o=0;if(si(n,n))return!1;var i=n.firstChild;if(!i)return!0;var a=new ro(i,n);do{if(r){if(di(i)){i=a.next(!0);continue}if(fi(i)){i=a.next();continue}}if(lr(i))o++,i=a.next();else{if(si(i,n))return!1;i=a.next()}}while(i);return o<=1},gi=function(e){return"span"===e.nodeName.toLowerCase()&&"bookmark"===e.getAttribute("data-mce-type")},hi=function(e,t){return ar(e)&&0<e.data.length&&(n=new ro(e=e,t=t).prev(!1),e=new ro(e,t).next(!1),n=b(n)||mo(n,t),e=b(e)||mo(e,t),n&&e);var n},pi=function(e){return!!or(e)&&0<e.childNodes.length},vi=function(e){return sr(e)||cr(e)},bi=function(e,t,n){var r=n||t;if(or(t)&&gi(t))return t;for(var o=t.childNodes,i=o.length-1;0<=i;i--)bi(e,o[i],r);return!or(t)||1===(n=t.childNodes).length&&gi(n[0])&&t.parentNode.insertBefore(n[0],t),vi(t)||si(t,r)||pi(t)||hi(t,r)||e.remove(t),t},yi=Cn.makeMap,wi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ci=/[<>&\"\']/g,Si=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ki={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Oi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Ti={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},_i=go("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ei={encodeRaw:ho,encodeAllRaw:function(e){return(""+e).replace(Ci,(function(e){return Oi[e]||e}))},encodeNumeric:po,encodeNamed:vo,getEncodeFunc:function(e,t){var n=go(t)||_i;e=yi(e.replace(/\+/g,","));return e.named&&e.numeric?function(e,t){return e.replace(t?wi:xi,(function(e){return void 0!==Oi[e]?Oi[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))}:e.named?t?function(e,t){return vo(e,t,n)}:vo:e.numeric?po:ho},decode:function(e){return e.replace(Si,(function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):ki[t]||String.fromCharCode(t):Ti[e]||_i[e]||(t=e,(e=Sn.fromTag("div").dom).innerHTML=t,e.textContent||e.innerText||t)}))}},Di={},Ai={},zi=Cn.makeMap,Mi=Cn.each,Ri=Cn.extend,Ni=Cn.explode,Bi=Cn.inArray,Hi=function(e,t){return(e=Cn.trim(e))?e.split(t||" "):[]},Li=function(e){function t(e,t,n){for(var o,i=function(e,t){for(var n={},r=0,o=e.length;r<o;r++)n[e[r]]=t||{};return n},a=(t=t||"","string"==typeof(n=n||[])&&(n=Hi(n)),Hi(e)),u=a.length;u--;)o={attributes:i(o=Hi([r,t].join(" "))),attributesOrder:o,children:i(n,Ai)},c[a[u]]=o}function n(e,t){for(var n,r,o,i=Hi(e),a=i.length,u=Hi(t);a--;)for(n=c[i[a]],r=0,o=u.length;r<o;r++)n.attributes[u[r]]={},n.attributesOrder.push(u[r])}var r,o,i,a,u,c={};return Di[e]||(r="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(r+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(r+=" xml:lang",i=[i,u="acronym applet basefont big font strike tt"].join(" "),Mi(Hi(u),(function(e){t(e,"",i)})),o=[o,u="center dir isindex noframes"].join(" "),a=[o,i].join(" "),Mi(Hi(u),(function(e){t(e,"",a)}))),a=a||[o,i].join(" "),t("html","manifest","head body"),t("head","","base command link meta noscript script style title"),t("title hr noscript br"),t("base","href target"),t("link","href rel media hreflang type sizes hreflang"),t("meta","name http-equiv content charset"),t("style","media type scoped"),t("script","src async defer type charset"),t("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),t("address dt dd div caption","",a),t("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),t("blockquote","cite",a),t("ol","reversed start type","li"),t("ul","","li"),t("li","value",a),t("dl","","dt dd"),t("a","href target rel media hreflang type",i),t("q","cite",i),t("ins del","cite datetime",a),t("img","src sizes srcset alt usemap ismap width height"),t("iframe","src name width height",a),t("embed","src type width height"),t("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),t("param","name value"),t("map","name",[a,"area"].join(" ")),t("area","alt coords shape href target rel media hreflang type"),t("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),t("colgroup","span","col"),t("col","span"),t("tbody thead tfoot","","tr"),t("tr","","td th"),t("td","colspan rowspan headers",a),t("th","colspan rowspan headers scope abbr",a),t("form","accept-charset action autocomplete enctype method name novalidate target",a),t("fieldset","disabled form name",[a,"legend"].join(" ")),t("label","form for",i),t("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),t("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?a:i),t("select","disabled form multiple name required size","option optgroup"),t("optgroup","disabled label","option"),t("option","disabled label selected value"),t("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),t("menu","type label",[a,"li"].join(" ")),t("noscript","",a),"html4"!==e&&(t("wbr"),t("ruby","",[i,"rt rp"].join(" ")),t("figcaption","",a),t("mark rt rp summary bdi","",i),t("canvas","width height",a),t("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),t("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),t("picture","","img source"),t("source","src srcset type media sizes"),t("track","kind src srclang label default"),t("datalist","",[i,"option"].join(" ")),t("article section nav aside main header footer","",a),t("hgroup","","h1 h2 h3 h4 h5 h6"),t("figure","",[a,"figcaption"].join(" ")),t("time","datetime",i),t("dialog","open",a),t("command","type label icon disabled checked radiogroup command"),t("output","for form name",i),t("progress","value max",i),t("meter","value min max low high optimum",i),t("details","open",[a,"summary"].join(" ")),t("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(n("script","language xml:space"),n("style","xml:space"),n("object","declare classid code codebase codetype archive standby align border hspace vspace"),n("embed","align name hspace vspace"),n("param","valuetype type"),n("a","charset name rev shape coords"),n("br","clear"),n("applet","codebase archive code object alt name width height align hspace vspace"),n("img","name longdesc align border hspace vspace"),n("iframe","longdesc frameborder marginwidth marginheight scrolling align"),n("font basefont","size color face"),n("input","usemap align"),n("select"),n("textarea"),n("h1 h2 h3 h4 h5 h6 div p legend caption","align"),n("ul","type compact"),n("li","type"),n("ol dl menu dir","compact"),n("pre","width xml:space"),n("hr","align noshade size width"),n("isindex","prompt"),n("table","summary width frame rules cellspacing cellpadding align bgcolor"),n("col","width align char charoff valign"),n("colgroup","width align char charoff valign"),n("thead","align char charoff valign"),n("tr","align char charoff valign bgcolor"),n("th","axis align char charoff valign nowrap bgcolor width height"),n("form","accept"),n("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),n("tfoot","align char charoff valign"),n("tbody","align char charoff valign"),n("area","nohref"),n("body","background bgcolor text link vlink alink")),"html4"!==e&&(n("input button select textarea","autofocus"),n("input textarea","placeholder"),n("a","download"),n("link script img","crossorigin"),n("img","loading"),n("iframe","sandbox seamless allowfullscreen loading")),Mi(Hi("a form meter progress dfn"),(function(e){c[e]&&delete c[e].children[e]})),delete c.caption.children.table,delete c.script,Di[e]=c)},Pi=function(e,t){var n;return e&&(n={},Mi(e="string"==typeof e?{"*":e}:e,(function(e,r){n[r]=n[r.toUpperCase()]=("map"===t?zi:Ni)(e,/[, ]/)}))),n},Ii=function(e){function t(t,n,r){var o=e[t];return o?o=zi(o,/[, ]/,zi(o.toUpperCase(),/[, ]/)):(o=Di[t])||(o=zi(n," ",zi(n.toUpperCase()," ")),o=Ri(o,r),Di[t]=o),o}function n(e){var t,n,r,o,i,a,c,l,f,d,m,g,h,p,v,b,y,w,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,C=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e){var k=Hi(e,",");for(u["@"]&&(b=u["@"].attributes,y=u["@"].attributesOrder),t=0,n=k.length;t<n;t++)if(i=x.exec(k[t])){if(p=i[1],f=i[2],v=i[3],l=i[5],a={attributes:g={},attributesOrder:h=[]},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),b&&(ke(b,(function(e,t){g[t]=e})),h.push.apply(h,y)),l)for(r=0,o=(l=Hi(l,"|")).length;r<o;r++)(i=C.exec(l[r]))&&(c={},m=i[1],d=i[2].replace(/[\\:]:/g,":"),p=i[3],w=i[4],"!"===m&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(d),c.required=!0),"-"!==m?(p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:d,value:w}),c.defaultValue=w),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:d,value:w}),c.forcedValue=w),"<"===p&&(c.validValues=zi(w,"?"))),S.test(d)?(a.attributePatterns=a.attributePatterns||[],c.pattern=O(d),a.attributePatterns.push(c)):(g[d]||h.push(d),g[d]=c)):(delete g[d],h.splice(Bi(h,d),1)));b||"@"!==f||(b=g,y=h),v&&(a.outputName=f,u[v]=a),S.test(f)?(a.pattern=O(f),s.push(a)):u[f]=a}}}function r(e){u={},s=[],n(e),Mi(d,(function(e,t){c[t]=e.children}))}function o(e){var t=/^(~)?(.+)$/;e&&(Di.text_block_elements=Di.block_elements=null,Mi(Hi(e,","),(function(e){e=t.exec(e);var n="~"===e[1],r=n?"span":"div",o=e[2];c[o]=c[r],l[o]=r,n||(S[o.toUpperCase()]={},S[o]={}),u[o]||(e=u[r],delete(e=Ri({},e)).removeEmptyAttrs,delete e.removeEmpty,u[o]=e),Mi(c,(function(e,t){e[r]&&(c[t]=e=Ri({},c[t]),e[o]=e[r])}))})))}function i(t){var n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Di[e.schema]=null,t&&Mi(Hi(t,","),(function(e){var t,r;e=n.exec(e);e&&(r=e[1],t=r?c[e[2]]:c[e[2]]={"#comment":{}},t=c[e[2]],Mi(Hi(e[3],"|"),(function(e){"-"===r?delete t[e]:t[e]={}})))}))}function a(e){var t,n=u[e];if(n)return n;for(t=s.length;t--;)if((n=s[t]).pattern.test(e))return n}var u={},c={},s=[],l={},f={},d=Li((e=e||{}).schema),m=(!1===e.verify_html&&(e.valid_elements="*[*]"),Pi(e.valid_styles)),g=Pi(e.invalid_styles,"map"),h=Pi(e.valid_classes,"map"),p=t("whitespace_elements","pre script noscript style textarea video audio iframe object code"),v=t("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),b=t("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),y=t("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),w="td th iframe video audio object script code",x=t("non_empty_elements",w+" pre",b),C=(w=t("move_caret_before_on_enter_elements",w+" table",b),t("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure")),S=t("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",C),k=t("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),O=(Mi((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(e){f[e]=new RegExp("</"+e+"[^>]*>","gi")})),function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}),_=(m=(e.valid_elements?r(e.valid_elements):(Mi(d,(function(e,t){u[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},c[t]=e.children})),"html5"!==e.schema&&Mi(Hi("strong/b em/i"),(function(e){e=Hi(e,"/"),u[e[1]].outputName=e[0]})),Mi(Hi("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(e){u[e]&&(u[e].removeEmpty=!0)})),Mi(Hi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){u[e].paddEmpty=!0})),Mi(Hi("span"),(function(e){u[e].removeEmptyAttrs=!0}))),o(e.custom_elements),i(e.valid_children),n(e.extended_valid_elements),i("+ol[ul|ol],+ul[ul|ol]"),Mi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,t){u[t]&&(u[t].parentsRequired=Hi(e))})),e.invalid_elements&&Mi(Ni(e.invalid_elements),(function(e){u[e]&&delete u[e]})),a("span")||n("span[!data-mce-type|*]"),T(m)),g=T(g),h=T(h),y=T(y),T(S)),E=(C=T(C),k=T(k),b=T(b),v=T(v),x=T(x),w=T(w),p=T(p),T(f)),D=T(l);return{children:c,elements:u,getValidStyles:m,getValidClasses:h,getBlockElements:_,getInvalidStyles:g,getShortEndedElements:b,getTextBlockElements:C,getTextInlineElements:k,getBoolAttrs:y,getElementRule:a,getSelfClosingElements:v,getNonEmptyElements:x,getMoveCaretBeforeOnEnterElements:w,getWhiteSpaceElements:p,getSpecialElements:E,isValidChild:function(e,t){return e=c[e.toLowerCase()],!(!e||!e[t.toLowerCase()])},isValid:function(e,t){var n,r,o=a(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:D,addValidElements:n,setValidElements:r,addCustomElements:o,addValidChildren:i}},Fi=function(e,t,n,r){function o(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+o(t)+o(n)+o(r)},Vi={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ji=function(e){return e instanceof Event||x(e.initEvent)},Ui=function(e){return e.isDefaultPrevented===N||e.isDefaultPrevented===R},Wi=function(e){return y(e.preventDefault)||ji(e)},$i=function(e,t){var n,r=null!=t?t:{};for(n in e)Ee(Vi,n)||(r[n]=e[n]);return w(r.composedPath)&&(r.composedPath=function(){return e.composedPath()}),r},qi=/^(?:mouse|contextmenu)|click/,Gi=(Xi.prototype.bind=function(e,t,n,r){function o(e){f.executeHandlers(Co(e||d.event),i)}var i,a,u,c,s,l,f=this,d=window;if(e&&3!==e.nodeType&&8!==e.nodeType){e[f.expando]?i=e[f.expando]:(i=f.count++,e[f.expando]=i,f.events[i]={}),r=r||e;for(var m=t.split(" "),g=m.length;g--;)s=o,c=l=!1,"DOMContentLoaded"===(u=m[g])&&(u="ready"),f.domLoaded&&"ready"===u&&"complete"===e.readyState?n.call(r,Co({type:u})):(f.hasMouseEnterLeave||(c=f.mouseEnterLeave[u])&&(s=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=Co(e||d.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,f.executeHandlers(e,i))}),f.hasFocusIn||"focusin"!==u&&"focusout"!==u||(l=!0,c="focusin"===u?"focus":"blur",s=function(e){(e=Co(e||d.event)).type="focus"===e.type?"focusin":"focusout",f.executeHandlers(e,i)}),(a=f.events[i][u])?"ready"===u&&f.domLoaded?n(Co({type:u})):a.push({func:n,scope:r}):(f.events[i][u]=a=[{func:n,scope:r}],a.fakeName=c,a.capture=l,a.nativeHandler=s,"ready"===u?So(e,s,f):wo(e,c||u,s,l)));return e=a=null,n}},Xi.prototype.unbind=function(e,t,n){var r,o,i;if(!e||3===e.nodeType||8===e.nodeType)return this;var a=e[this.expando];if(a){if(i=this.events[a],t){for(var u,c,s,l,f=t.split(" "),d=f.length;d--;)if(l=i[o=f[d]]){if(n)for(r=l.length;r--;)l[r].func===n&&(u=l.nativeHandler,c=l.fakeName,s=l.capture,(l=l.slice(0,r).concat(l.slice(r+1))).nativeHandler=u,l.fakeName=c,l.capture=s,i[o]=l);n&&0!==l.length||(delete i[o],xo(e,l.fakeName||o,l.nativeHandler,l.capture))}}else ke(i,(function(t,n){xo(e,t.fakeName||n,t.nativeHandler,t.capture)})),i={};for(o in i)if(Ee(i,o))return this;delete this.events[a];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this},Xi.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;for(var o=Co({type:t,target:e},n);(r=e[this.expando])&&this.executeHandlers(o,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!o.isPropagationStopped(););return this},Xi.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),(e=e.getElementsByTagName?e:e.document)&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},Xi.prototype.destroy=function(){this.events={}},Xi.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},Xi.prototype.executeHandlers=function(e,t){t=this.events[t];var n=t&&t[e.type];if(n)for(var r=0,o=n.length;r<o;r++){var i=n[r];if(i&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},Xi.Event=new Xi,Xi);function Xi(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}function Ki(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}var Yi,Ji,Qi,Zi,ea,ta,na,ra,oa,ia,aa,ua,ca,sa,la,fa,da,ma="sizzle"+-new Date,ga=window.document,ha=0,pa=0,va=Wa(),ba=Wa(),ya=Wa(),wa=function(e,t){return e===t&&(ia=!0),0},xa="undefined",Ca={}.hasOwnProperty,Sa=($t=[],$t.pop),ka=$t.push,Oa=$t.push,Ta=$t.slice,_a=$t.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Ea="[\\x20\\t\\r\\n\\f]",Da=(pn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",vn="\\["+Ea+"*("+pn+")(?:"+Ea+"*([*^$|!~]?=)"+Ea+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+pn+"))|)"+Ea+"*\\]",qt=":("+pn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+vn+")*)|.*)\\)|)",new RegExp("^"+Ea+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ea+"+$","g")),Aa=new RegExp("^"+Ea+"*,"+Ea+"*"),za=new RegExp("^"+Ea+"*([>+~]|"+Ea+")"+Ea+"*"),Ma=new RegExp("="+Ea+"*([^\\]'\"]*?)"+Ea+"*\\]","g"),Ra=new RegExp(qt),Na=new RegExp("^"+pn+"$"),Ba={ID:new RegExp("^#("+pn+")"),CLASS:new RegExp("^\\.("+pn+")"),TAG:new RegExp("^("+pn+"|[*])"),ATTR:new RegExp("^"+vn),PSEUDO:new RegExp("^"+qt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ea+"*(even|odd|(([+-]|)(\\d*)n|)"+Ea+"*(?:([+-]|)"+Ea+"*(\\d+)|))"+Ea+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Ea+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ea+"*((?:-\\d)?\\d*)"+Ea+"*\\)|)(?=[^-]|$)","i")},Ha=/^(?:input|select|textarea|button)$/i,La=/^h\d$/i,Pa=/^[^{]+\{\s*\[native \w/,Ia=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fa=/[+~]/,Va=/'|\\/g,ja=new RegExp("\\\\([\\da-f]{1,6}"+Ea+"?|("+Ea+")|.)","ig");try{Oa.apply($t=Ta.call(ga.childNodes),ga.childNodes),$t[ga.childNodes.length].nodeType}catch(o){Oa={apply:$t.length?function(e,t){ka.apply(e,Ta.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function Ua(e,t,n,r){var o,i,a,u,c,s,l;if((t?t.ownerDocument||t:ga)!==ua&&aa(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=(t=t||ua).nodeType)&&9!==o)return[];if(sa&&!r){if(s=Ia.exec(e))if(l=s[1]){if(9===o){if(!(u=t.getElementById(l))||!u.parentNode)return n;if(u.id===l)return n.push(u),n}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(l))&&da(t,u)&&u.id===l)return n.push(u),n}else{if(s[2])return Oa.apply(n,t.getElementsByTagName(e)),n;if((l=s[3])&&Yi.getElementsByClassName)return Oa.apply(n,t.getElementsByClassName(l)),n}if(Yi.qsa&&(!la||!la.test(e))){if(c=u=ma,s=t,l=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(a=ea(e),(u=t.getAttribute("id"))?c=u.replace(Va,"\\$&"):t.setAttribute("id",c),c="[id='"+c+"'] ",i=a.length;i--;)a[i]=c+Ya(a[i]);s=Fa.test(e)&&Xa(t.parentNode)||t,l=a.join(",")}if(l)try{return Oa.apply(n,s.querySelectorAll(l)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return na(e.replace(Da,"$1"),t,n,r)}function Wa(){var e=[];function t(n,r){return e.push(n+" ")>Ji.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function $a(e){return e[ma]=!0,e}function qa(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function Ga(e){return $a((function(t){return t=+t,$a((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function Xa(e){return e&&typeof e.getElementsByTagName!==xa&&e}function Ka(){}function Ya(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Ja(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=pa++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var u,c,s=[ha,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((u=(c=t[ma]||(t[ma]={}))[r])&&u[0]===ha&&u[1]===i)return s[2]=u[2];if((c[r]=s)[2]=e(t,n,a))return!0}}}function Qa(e){return 1<e.length?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Za(e,t,n,r,o){for(var i,a=[],u=0,c=e.length,s=null!=t;u<c;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),s&&t.push(u)));return a}function eu(e,t,n,r,o,i){return r&&!r[ma]&&(r=eu(r)),o&&!o[ma]&&(o=eu(o,i)),$a((function(i,a,u,c){var s,l,f,d=[],m=[],g=a.length,h=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)Ua(e,t[r],n);return n}(t||"*",u.nodeType?[u]:u,[]),p=!e||!i&&t?h:Za(h,d,e,u,c),v=n?o||(i?e:g||r)?[]:a:p;if(n&&n(p,v,u,c),r)for(s=Za(v,m),r(s,[],u,c),l=s.length;l--;)(f=s[l])&&(v[m[l]]=!(p[m[l]]=f));if(i){if(o||e){if(o){for(s=[],l=v.length;l--;)(f=v[l])&&s.push(p[l]=f);o(null,v=[],s,c)}for(l=v.length;l--;)(f=v[l])&&-1<(s=o?_a.call(i,f):d[l])&&(i[s]=!(a[s]=f))}}else v=Za(v===a?v.splice(g,v.length):v),o?o(null,a,v,c):Oa.apply(a,v)}))}function tu(e,t){function n(n,i,a,u,c){var s,l,f,d=0,m="0",g=n&&[],h=[],p=ra,v=n||o&&Ji.find.TAG("*",c),b=ha+=null==p?1:Math.random()||.1,y=v.length;for(c&&(ra=i!==ua&&i);m!==y&&null!=(s=v[m]);m++){if(o&&s){for(l=0;f=e[l++];)if(f(s,i,a)){u.push(s);break}c&&(ha=b)}r&&((s=!f&&s)&&d--,n&&g.push(s))}if(d+=m,r&&m!==d){for(l=0;f=t[l++];)f(g,h,i,a);if(n){if(0<d)for(;m--;)g[m]||h[m]||(h[m]=Sa.call(u));h=Za(h)}Oa.apply(u,h),c&&!n&&0<h.length&&1<d+t.length&&Ua.uniqueSort(u)}return c&&(ha=b,ra=p),g}var r=0<t.length,o=0<e.length;return r?$a(n):n}function nu(e){return void 0!==e}function ru(e){return"string"==typeof e}function ou(e,t){var n,r=(t=t||bu).createElement("div"),o=t.createDocumentFragment();for(r.innerHTML=e;n=r.firstChild;)o.appendChild(n);return o}function iu(e,t,n,r){var o;if(ru(t))t=ou(t,du(e[0]));else if(t.length&&!t.nodeType){if(t=zu.makeArray(t),r)for(o=t.length-1;0<=o;o--)iu(e,t[o],n,r);else for(o=0;o<t.length;o++)iu(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e}function au(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function uu(e,t,n){var r,o;return t=zu(t)[0],e.each((function(){n&&r===this.parentNode||(r=this.parentNode,o=t.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)})),e}function cu(e,t){return new zu.fn.init(e,t)}function su(e){return null==e?"":(""+e).replace(Au,"")}function lu(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e}function fu(e,t){var n=[];return lu(e,(function(e,r){t(r,e)&&n.push(r)})),n}function du(e){return e?9===e.nodeType?e:e.ownerDocument:bu}function mu(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof zu&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&zu(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r}function gu(e,t,n,r){var o=[];for(r instanceof zu&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&zu(e).is(r))break}o.push(e)}return o}function hu(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null}function pu(e,t){var n=t.attr("style");e=(e=e.serialize(e.parse(n),t[0].nodeName))||null;t.attr("data-mce-style",e)}function vu(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o}Yi=Ua.support={},Zi=Ua.isXML=function(e){return e=e&&(e.ownerDocument||e).documentElement,!!e&&"HTML"!==e.nodeName},aa=Ua.setDocument=function(e){var t=e?e.ownerDocument||e:ga;e=t.defaultView;return t!==ua&&9===t.nodeType&&t.documentElement?(ca=(ua=t).documentElement,sa=!Zi(t),e&&e!==function(e){try{return e.top}catch(e){}return null}(e)&&(e.addEventListener?e.addEventListener("unload",(function(){aa()}),!1):e.attachEvent&&e.attachEvent("onunload",(function(){aa()}))),Yi.attributes=!0,Yi.getElementsByTagName=!0,Yi.getElementsByClassName=Pa.test(t.getElementsByClassName),Yi.getById=!0,Ji.find.ID=function(e,t){if(typeof t.getElementById!==xa&&sa)return(t=t.getElementById(e))&&t.parentNode?[t]:[]},Ji.filter.ID=function(e){var t=e.replace(ja,Ki);return function(e){return e.getAttribute("id")===t}},Ji.find.TAG=Yi.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==xa)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},Ji.find.CLASS=Yi.getElementsByClassName&&function(e,t){if(sa)return t.getElementsByClassName(e)},fa=[],la=[],Yi.disconnectedMatch=!0,la=la.length&&new RegExp(la.join("|")),fa=fa.length&&new RegExp(fa.join("|")),e=Pa.test(ca.compareDocumentPosition),da=e||Pa.test(ca.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e;t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},wa=e?function(e,n){if(e===n)return ia=!0,0;var r=!e.compareDocumentPosition-!n.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(n.ownerDocument||n)?e.compareDocumentPosition(n):1)||!Yi.sortDetached&&n.compareDocumentPosition(e)===r?e===t||e.ownerDocument===ga&&da(ga,e)?-1:n===t||n.ownerDocument===ga&&da(ga,n)?1:oa?_a.call(oa,e)-_a.call(oa,n):0:4&r?-1:1)}:function(e,n){if(e===n)return ia=!0,0;var r,o=0,i=e.parentNode,a=n.parentNode,u=[e],c=[n];if(!i||!a)return e===t?-1:n===t?1:i?-1:a?1:oa?_a.call(oa,e)-_a.call(oa,n):0;if(i===a)return qa(e,n);for(r=e;r=r.parentNode;)u.unshift(r);for(r=n;r=r.parentNode;)c.unshift(r);for(;u[o]===c[o];)o++;return o?qa(u[o],c[o]):u[o]===ga?-1:c[o]===ga?1:0},t):ua},Ua.matches=function(e,t){return Ua(e,null,null,t)},Ua.matchesSelector=function(e,t){if((e.ownerDocument||e)!==ua&&aa(e),t=t.replace(Ma,"='$1']"),Yi.matchesSelector&&sa&&(!fa||!fa.test(t))&&(!la||!la.test(t)))try{var n=(void 0).call(e,t);if(n||Yi.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<Ua(t,ua,null,[e]).length},Ua.contains=function(e,t){return(e.ownerDocument||e)!==ua&&aa(e),da(e,t)},Ua.attr=function(e,t){(e.ownerDocument||e)!==ua&&aa(e);var n=Ji.attrHandle[t.toLowerCase()];n=n&&Ca.call(Ji.attrHandle,t.toLowerCase())?n(e,t,!sa):void 0;return void 0!==n?n:Yi.attributes||!sa?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},Ua.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Ua.uniqueSort=function(e){var t,n=[],r=0,o=0;if(ia=!Yi.detectDuplicates,oa=!Yi.sortStable&&e.slice(0),e.sort(wa),ia){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return oa=null,e},Qi=Ua.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Qi(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=Qi(t);return n},(Ji=Ua.selectors={cacheLength:50,createPseudo:$a,match:Ba,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ja,Ki),e[3]=(e[3]||e[4]||e[5]||"").replace(ja,Ki),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Ua.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Ua.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Ba.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Ra.test(n)&&(t=ea(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ja,Ki).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=va[e+" "];return t||(t=new RegExp("(^|"+Ea+")"+e+"("+Ea+"|$)"))&&va(e,(function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==xa&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){return r=Ua.attr(r,e),null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var s,l,f,d,m,g,h=i!=a?"nextSibling":"previousSibling",p=t.parentNode,v=u&&t.nodeName.toLowerCase(),b=!c&&!u;if(p){if(i){for(;h;){for(f=t;f=f[h];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;g=h="only"===e&&!g&&"nextSibling"}return!0}if(g=[a?p.firstChild:p.lastChild],a&&b){for(m=(s=(l=p[ma]||(p[ma]={}))[e]||[])[0]===ha&&s[1],d=s[0]===ha&&s[2],f=m&&p.childNodes[m];f=++m&&f&&f[h]||(d=m=0)||g.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[ha,m,d];break}}else if(b&&(s=(t[ma]||(t[ma]={}))[e])&&s[0]===ha)d=s[1];else for(;(f=++m&&f&&f[h]||(d=m=0)||g.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[ma]||(f[ma]={}))[e]=[ha,d]),f!==t)););return(d-=o)===r||d%r==0&&0<=d/r}}},PSEUDO:function(e,t){var n,r=Ji.pseudos[e]||Ji.setFilters[e.toLowerCase()]||Ua.error("unsupported pseudo: "+e);return r[ma]?r(t):1<r.length?(n=[e,e,"",t],Ji.setFilters.hasOwnProperty(e.toLowerCase())?$a((function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=_a.call(e,i[a])]=!(n[o]=i[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:$a((function(e){var t=[],n=[],r=ta(e.replace(Da,"$1"));return r[ma]?$a((function(e,t,n,o){for(var i,a=r(e,null,o,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:$a((function(e){return function(t){return 0<Ua(e,t).length}})),contains:$a((function(e){return e=e.replace(ja,Ki),function(t){return-1<(t.textContent||t.innerText||Qi(t)).indexOf(e)}})),lang:$a((function(e){return Na.test(e||"")||Ua.error("unsupported lang: "+e),e=e.replace(ja,Ki).toLowerCase(),function(t){var n;do{if(n=sa?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===ca},focus:function(e){return e===ua.activeElement&&(!ua.hasFocus||ua.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Ji.pseudos.empty(e)},header:function(e){return La.test(e.nodeName)},input:function(e){return Ha.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:Ga((function(){return[0]})),last:Ga((function(e,t){return[t-1]})),eq:Ga((function(e,t,n){return[n<0?n+t:n]})),even:Ga((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:Ga((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:Ga((function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e})),gt:Ga((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=Ji.pseudos.eq,ce(["radio","checkbox","file","password","image"],(function(e){var t;Ji.pseudos[e]=(t=e,function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t})})),ce(["submit","reset"],(function(e){var t;Ji.pseudos[e]=(t=e,function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t})})),Ka.prototype=Ji.filters=Ji.pseudos,Ji.setFilters=new Ka,ea=Ua.tokenize=function(e,t){var n,r,o,i,a,u,c,s=ba[e+" "];if(s)return t?0:s.slice(0);for(a=e,u=[],c=Ji.preFilter;a;){for(i in n&&!(r=Aa.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=za.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Da," ")}),a=a.slice(n.length)),Ji.filter)Ji.filter.hasOwnProperty(i)&&(!(r=Ba[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?Ua.error(e):ba(e,u).slice(0)},ta=Ua.compile=function(e,t){var n,r=[],o=[],i=ya[e+" "];if(!i){for(n=(t=t||ea(e)).length;n--;)((i=function e(t){for(var n,r,o,i=t.length,a=Ji.relative[t[0].type],u=a||Ji.relative[" "],c=a?1:0,s=Ja((function(e){return e===n}),u,!0),l=Ja((function(e){return-1<_a.call(n,e)}),u,!0),f=[function(e,t,r){return e=!a&&(r||t!==ra)||((n=t).nodeType?s:l)(e,t,r),n=null,e}];c<i;c++)if(r=Ji.relative[t[c].type])f=[Ja(Qa(f),r)];else{if((r=Ji.filter[t[c].type].apply(null,t[c].matches))[ma]){for(o=++c;o<i&&!Ji.relative[t[o].type];o++);return eu(1<c&&Qa(f),1<c&&Ya(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(Da,"$1"),r,c<o&&e(t.slice(c,o)),o<i&&e(t=t.slice(o)),o<i&&Ya(t))}f.push(r)}return Qa(f)}(t[n]))[ma]?r:o).push(i);(i=ya(e,tu(o,r))).selector=e}return i},na=Ua.select=function(e,t,n,r){var o,i,a,u,c,s="function"==typeof e&&e,l=!r&&ea(e=s.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(a=i[0]).type&&Yi.getById&&9===t.nodeType&&sa&&Ji.relative[i[1].type]){if(!(t=(Ji.find.ID(a.matches[0].replace(ja,Ki),t)||[])[0]))return n;s&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Ba.needsContext.test(e)?0:i.length;o--&&(a=i[o],!Ji.relative[u=a.type]);)if((c=Ji.find[u])&&(r=c(a.matches[0].replace(ja,Ki),Fa.test(i[0].type)&&Xa(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&Ya(i)))return Oa.apply(n,r),n;break}}return(s||ta(e,l))(r,t,!sa,n,Fa.test(e)&&Xa(t.parentNode)||t),n},Yi.sortStable=ma.split("").sort(wa).join("")===ma,Yi.detectDuplicates=!!ia,aa(),Yi.sortDetached=!0;var bu=document,yu=Array.prototype.push,wu=Array.prototype.slice,xu=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Cu=Gi.Event,Su=Cn.makeMap("children,contents,next,prev"),ku=Cn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Ou=Cn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Tu={for:"htmlFor",class:"className",readonly:"readOnly"},_u={float:"cssFloat"},Eu={},Du={},Au=/^\s*|\s*$/g,zu=(cu.fn=cu.prototype={constructor:cu,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return zu(e).attr(t);o.context=t=document}if(ru(e)){if(!(n="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:xu.exec(e)))return zu(t).find(e);if(n[1])for(r=ou(e,du(t)).firstChild;r;)yu.call(o,r),r=r.nextSibling;else{if(!(r=du(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return Cn.toArray(this)},add:function(e,t){var n,r;if(ru(e))return this.add(zu(e));if(!1!==t)for(n=zu.unique(this.toArray().concat(zu.makeArray(e))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else yu.apply(this,zu.makeArray(e));return this},attr:function(e,t){var n,r=this;if("object"==typeof e)lu(e,(function(e,t){r.attr(e,t)}));else{if(!nu(t)){if(r[0]&&1===r[0].nodeType){if((n=Eu[e])&&n.get)return n.get(r[0],e);if(Ou[e])return r.prop(e)?e:void 0;null===(t=r[0].getAttribute(e,2))&&(t=void 0)}return t}this.each((function(){var n;1===this.nodeType&&((n=Eu[e])&&n.set?n.set(this,t):null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2))}))}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Tu[e]||e))lu(e,(function(e,t){n.prop(e,t)}));else{if(!nu(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1===this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){function n(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))}function r(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))}var o,i,a=this;if("object"==typeof e)lu(e,(function(e,t){a.css(e,t)}));else if(nu(t))e=n(e),"number"!=typeof t||ku[e]||(t=t.toString()+"px"),a.each((function(){var n=this.style;if((i=Du[e])&&i.set)i.set(this,t);else{try{this.style[_u[e]||e]=t}catch(n){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(r(e)):n.removeAttribute(e))}}));else{if(o=a[0],(i=Du[e])&&i.get)return i.get(o);if(!o.ownerDocument.defaultView)return o.currentStyle?o.currentStyle[n(e)]:"";try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(r(e))}catch(n){return}}return a},remove:function(){for(var e,t=this.length;t--;)e=this[t],Cu.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t;if(nu(e)){t=this.length;try{for(;t--;)this[t].innerHTML=e}catch(o){zu(this[t]).empty().append(e)}return this}return this[0]?this[0].innerHTML:""},text:function(e){var t;if(nu(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return iu(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return iu(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){return this[0]&&this[0].parentNode?iu(this,arguments,(function(e){this.parentNode.insertBefore(e,this)})):this},after:function(){return this[0]&&this[0].parentNode?iu(this,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):this},appendTo:function(e){return zu(e).append(this),this},prependTo:function(e){return zu(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return uu(this,e)},wrapAll:function(e){return uu(this,e,!0)},wrapInner:function(e){return this.each((function(){zu(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){zu(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),zu(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?lu(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,r){var o,i=au(r,e);i!==t&&(o=r.className,i?r.className=su((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)}))),n},hasClass:function(e){return au(this[0],e)},each:function(e){return lu(this,e)},on:function(e,t){return this.each((function(){Cu.bind(this,e,t)}))},off:function(e,t){return this.each((function(){Cu.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"==typeof e?Cu.fire(this,e.type,e):Cu.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return zu(wu.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){for(var t=[],n=0,r=this.length;n<r;n++)zu.find(e,this[n],t);return zu(t)},filter:function(e){return zu("function"==typeof e?fu(this.toArray(),(function(t,n){return e(n,t)})):zu.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof zu&&(e=e[0]),this.each((function(n,r){for(;r;){if("string"==typeof e&&zu(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}})),zu(t)},offset:function(e){var t,n,r=0,o=0;return e?this.css(e):((e=this[0])&&(n=(t=e.ownerDocument).documentElement,e.getBoundingClientRect&&(r=(e=e.getBoundingClientRect()).left+(n.scrollLeft||t.body.scrollLeft)-n.clientLeft,o=e.top+(n.scrollTop||t.body.scrollTop)-n.clientTop)),{left:r,top:o})},push:yu,sort:Array.prototype.sort,splice:Array.prototype.splice},Cn.extend(cu,{extend:Cn.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:Cn.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:Cn.isArray,each:lu,trim:su,grep:fu,find:Ua,expr:Ua.selectors,unique:Ua.uniqueSort,text:Ua.getText,contains:Ua.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return 1===t.length?zu.find.matchesSelector(t[0],e)?[t[0]]:[]:zu.find.matches(e,t)}}),lu({parent:function(e){return e=e.parentNode,e&&11!==e.nodeType?e:null},parents:function(e){return mu(e,"parentNode")},next:function(e){return hu(e,"nextSibling",1)},prev:function(e){return hu(e,"previousSibling",1)},children:function(e){return gu(e.firstChild,"nextSibling",1)},contents:function(e){return Cn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){cu.fn[e]=function(n){var r=[],o=(this.each((function(){var e=t.call(r,this,n,r);e&&(zu.isArray(e)?r.push.apply(r,e):r.push(e))})),1<this.length&&(Su[e]||(r=zu.unique(r)),0===e.indexOf("parents")&&(r=r.reverse())),zu(r));return n?o.filter(n):o}})),lu({parentsUntil:function(e,t){return mu(e,"parentNode",t)},nextUntil:function(e,t){return gu(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return gu(e,"previousSibling",1,t).slice(1)}},(function(e,t){cu.fn[e]=function(n,r){var o=[],i=(this.each((function(){var e=t.call(o,this,n,o);e&&(zu.isArray(e)?o.push.apply(o,e):o.push(e))})),1<this.length&&(o=zu.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse())),zu(o));return r?i.filter(r):i}})),cu.fn.is=function(e){return!!e&&0<this.filter(e).length},cu.fn.init.prototype=cu.fn,cu.overrideDefaults=function(e){function t(r,o){return n=n||e(),0===arguments.length&&(r=n.element),o=o||n.context,new t.fn.init(r,o)}var n;return zu.extend(t,this),t},cu.attrHooks=Eu,cu.cssHooks=Du,cu),Mu=Cn.each,Ru=Cn.grep,Nu=wn.ie,Bu=/^([a-z0-9],?)+$/i,Hu=function(e,t){function n(e){return(e=F(e))?e.attributes:[]}function r(t,n){var r,o=e.body,i=(t=F(t),n),a=0,u=0;n=o.ownerDocument;if(i=i||o,t){if(i===o&&t.getBoundingClientRect&&"static"===Sr(Sn.fromDom(o),"position"))return{x:a=(r=t.getBoundingClientRect()).left+(n.documentElement.scrollLeft||o.scrollLeft)-n.documentElement.clientLeft,y:u=r.top+(n.documentElement.scrollTop||o.scrollTop)-n.documentElement.clientTop};for(var c=t;c&&c!==i&&c.nodeType&&!Dr(c,i);){var s=c;a+=s.offsetLeft||0,u+=s.offsetTop||0,c=s.offsetParent}for(c=t.parentNode;c&&c!==i&&c.nodeType&&!Dr(c,i);)a-=c.scrollLeft||0,u-=c.scrollTop||0,c=c.parentNode;u+=Er(Sn.fromDom(t))}return{x:a,y:u}}function o(e){var t,n;return e=F(e),t=$(e,"width"),n=$(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}}function i(e,t,n,r){var o,i=[],a=F(e);for(r=void 0===r,n=n||("BODY"!==W().nodeName?W().parentNode:null),Cn.is(t,"string")&&(t="*"===(o=t)?function(e){return 1===e.nodeType}:function(e){return q(e,o)});a&&!(a===n||y(a.nodeType)||cr(a)||sr(a));){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null}function a(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return q(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null}function u(e,t,n){var r;return!!(e="string"==typeof e?F(e):e)&&(Cn.isArray(e)&&(e.length||0===e.length)?(r=[],Mu(e,(function(e,o){e&&r.push(t.call(n,"string"==typeof e?F(e):e,o))})),r):t.call(n||this,e))}function c(e,t){V(e).each((function(e,n){Mu(t,(function(e,t){U(n,t,e)}))}))}function s(e,t){e=V(e),Nu?e.each((function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){zu("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}})):e.html(t)}function l(t,n,r,o,i){return u(t,(function(t){var a="string"==typeof n?e.createElement(n):n;return c(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&s(a,o)),i?a:t.appendChild(a)}))}function f(t,n,r){return l(e.createElement(t),t,n,r,!0)}function d(e,t){return e=V(e),(t?e.each((function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})):e).remove(),1<e.length?e.toArray():e[0]}function g(e,t,n){V(e).toggleClass(t,n).each((function(){""===this.className&&zu(this).attr("class",null)}))}function h(e,t,n){return u(t,(function(t){return Cn.is(t,"array")&&(e=e.cloneNode(!0)),n&&Mu(Ru(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))}function p(e){if(or(e)){var t="a"===e.nodeName.toLowerCase()&&!j(e,"href")&&j(e,"id");if(j(e,"name")||j(e,"data-mce-bookmark")||t)return 1}}function v(){return e.createRange()}function b(n,r,o,i){if(Cn.isArray(n)){for(var a=n.length,u=[];a--;)u[a]=b(n[a],r,o,i);return u}return!t.collect||n!==e&&n!==A||N.push([n,r,o,i]),L.bind(n,r,o,i||K)}function w(t,n,r){if(Cn.isArray(t)){for(var o=t.length,i=[];o--;)i[o]=w(t[o],n,r);return i}if(0<N.length&&(t===e||t===A))for(o=N.length;o--;){var a=N[o];t!==a[0]||n&&n!==a[1]||r&&r!==a[2]||L.unbind(a[0],a[1],a[2])}return L.unbind(t,n,r)}function x(e){var t;return e&&or(e)?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null}void 0===t&&(t={});var C,k,O,_,E,D={},A=window,z={},M=0,R=no.forElement(Sn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),N=[],B=t.schema||Ii({}),H=bo({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),L=t.ownEvents?new Gi:Gi.Event,P=B.getBlockElements(),I=zu.overrideDefaults((function(){return{context:e,element:K.getRoot()}})),F=function(t){return t&&e&&m(t)?e.getElementById(t):t},V=function(e){return I("string"==typeof e?F(e):e)},j=function(e,t,n){var r,o;e=V(e);return void 0===(o=e.length?(r=Y[t])&&r.get?r.get(e,t):e.attr(t):o)?n||"":o},U=function(e,n,r){""===r&&(r=null);e=V(e);var o,i=e.attr(n);e.length&&((o=Y[n])&&o.set?o.set(e,r,n):e.attr(n,r),i!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:e,attrName:n,attrValue:r}))},W=function(){return t.root_element||e.body},$=function(e,t,n){return e=V(e),n?e.css(t):("float"===(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})))&&(t=wn.browser.isIE()?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},q=function(e,t){if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Bu.test(t)){for(var n=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase(),o=n.length-1;0<=o;o--)if(n[o]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}return e=Array.isArray(e)?e:[e],0<Ua(t,e[0].ownerDocument||e[0],null,e).length},X=Ei.encodeAllRaw,K={doc:e,settings:t,win:A,files:z,stdMode:!0,boxModel:!0,styleSheetLoader:R,boundEvents:N,styles:H,schema:B,events:L,isBlock:function(e){if("string"==typeof e)return!!P[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!P[e.nodeName])}return!1},$:I,$$:V,root:null,clone:function(t,r){var o;return!Nu||1!==t.nodeType||r?t.cloneNode(r):(o=e.createElement(t.nodeName),Mu(n(t),(function(e){U(o,e.nodeName,j(t,e.nodeName))})),o)},getRoot:W,getViewPort:function(e){return e=vt(e),{x:e.x,y:e.y,w:e.width,h:e.height}},getRect:function(e){e=F(e);var t=r(e);e=o(e);return{x:t.x,y:t.y,w:e.w,h:e.h}},getSize:o,getParent:function(e,t,n){return e=i(e,t,n,!1),e&&0<e.length?e[0]:null},getParents:i,get:F,getNext:function(e,t){return a(e,t,"nextSibling")},getPrev:function(e,t){return a(e,t,"previousSibling")},select:function(n,r){return Ua(n,F(r)||t.root_element||e,[])},is:q,add:l,create:f,createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)G(t,r)&&(o+=" "+r+'="'+X(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},remove:d,setStyle:function(e,n,r){r=m(n)?V(e).css(n,r):V(e).css(n),t.update_styles&&pu(H,r)},getStyle:$,setStyles:function(e,n){e=V(e).css(n),t.update_styles&&pu(H,e)},removeAllAttribs:function(e){return u(e,(function(e){for(var t=e.attributes,n=t.length-1;0<=n;n--)e.removeAttributeNode(t.item(n))}))},setAttrib:U,setAttribs:c,getAttrib:j,getPos:r,parseStyle:function(e){return H.parse(e)},serializeStyle:function(e,t){return H.serialize(e,t)},addStyle:function(t){var n,r;if(K!==Hu.DOM&&e===document){if(D[t])return;D[t]=!0}(r=e.getElementById("mceDefaultStyles"))||((r=e.createElement("style")).id="mceDefaultStyles",r.type="text/css",(n=e.getElementsByTagName("head")[0]).firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(e.createTextNode(t))},loadCSS:function(e){ce((e=e||"").split(","),(function(e){z[e]=!0,R.load(e,S)}))},addClass:function(e,t){V(e).addClass(t)},removeClass:function(e,t){g(e,t,!1)},hasClass:function(e,t){return V(e).hasClass(t)},toggleClass:g,show:function(e){V(e).show()},hide:function(e){V(e).hide()},isHidden:function(e){return"none"===V(e).css("display")},uniqueId:function(e){return(e||"mce_")+M++},setHTML:s,getOuterHTML:function(e){return e="string"==typeof e?F(e):e,or(e)?e.outerHTML:zu("<div></div>").append(zu(e).clone()).html()},setOuterHTML:function(e,t){V(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}d(zu(this).html(t),!0)}))},decode:Ei.decode,encode:X,insertAfter:function(e,t){var n=F(t);return u(e,(function(e){var t=n.parentNode,r=n.nextSibling;return r?t.insertBefore(e,r):t.appendChild(e),e}))},replace:h,rename:function(e,t){var r;return e.nodeName!==t.toUpperCase()&&(r=f(t),Mu(n(e),(function(t){U(r,t.nodeName,j(e,t.nodeName))})),h(r,e,!0)),r||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return H.toHex(Cn.trim(e))},run:u,getAttribs:n,isEmpty:function(e,t){var n,r=0;if(p(e))return!1;if(e=e.firstChild){var o=new ro(e,e.parentNode),i=B?B.getWhiteSpaceElements():{};t=t||(B?B.getNonEmptyElements():null);do{if(n=e.nodeType,or(e)){var a=e.getAttribute("data-mce-bogus");if(a){e=o.next("all"===a);continue}if(a=e.nodeName.toLowerCase(),t&&t[a]){if("br"!==a)return!1;r++,e=o.next();continue}if(p(e))return!1}if(8===n)return!1;if(3===n&&!ci(e.nodeValue))return!1;if(3===n&&e.parentNode&&i[e.parentNode.nodeName]&&ci(e.nodeValue))return!1;e=o.next()}while(e)}return r<=1},createRng:v,nodeIndex:vu,split:function(e,t,n){var r,o,i=v();if(e&&t)return i.setStart(e.parentNode,vu(e)),i.setEnd(t.parentNode,vu(t)),r=i.extractContents(),(i=v()).setStart(t.parentNode,vu(t)+1),i.setEnd(e.parentNode,vu(e)+1),i=i.extractContents(),(o=e.parentNode).insertBefore(bi(K,r),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(bi(K,i),e),d(e),n||t},bind:b,unbind:w,fire:function(e,t,n){return L.fire(e,t,n)},getContentEditable:x,getContentEditableParent:function(e){for(var t=W(),n=null;e&&e!==t&&null===(n=x(e));e=e.parentNode);return n},destroy:function(){if(0<N.length)for(var e=N.length;e--;){var t=N[e];L.unbind(t[0],t[1],t[2])}ke(z,(function(e,t){R.unload(t),delete z[t]})),Ua.setDocument&&Ua.setDocument()},isChildOf:function(e,t){if(Nu){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}return e===t||t.contains(e)},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}},Y=(C=H,k=t,O=T(K),_=k.keep_values,E={style:{set:function(e,t){null===t||"object"!=typeof t?(_&&e.attr("data-mce-style",t),null!==t&&"string"==typeof t?(e.removeAttr("style"),e.css(C.parse(t))):e.attr("style",t)):e.css(t)},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return C.serialize(C.parse(t),e[0].nodeName)}}},_&&(E.href=E.src={set:function(e,t,n){k.url_converter&&null!==t&&(t=k.url_converter.call(k.url_converter_scope||O(),t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}}),E);return K},Lu=(Hu.DOM=Hu(document),Hu.nodeIndex=vu,Hu.DOM),Pu=Cn.each,Iu=Cn.grep,Fu=(Vu.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},Vu.prototype.loadScript=function(e,t,n){var r=Lu,o=function(){r.remove(i),a&&(a.onerror=a.onload=a=null)},i=r.uniqueId(),a=document.createElement("script");a.id=i,a.type="text/javascript",a.src=Cn._addCacheSuffix(e),this.settings.referrerPolicy&&r.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy),a.onload=function(){o(),t()},a.onerror=function(){o(),x(n)&&n()},(document.getElementsByTagName("head")[0]||document.body).appendChild(a)},Vu.prototype.isDone=function(e){return 2===this.states[e]},Vu.prototype.markDone=function(e){this.states[e]=2},Vu.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e),void 0===o&&(this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},Vu.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},Vu.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},Vu.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},Vu.prototype.loadScripts=function(e,t,n,r){var o=this,i=[],a=function(e,t){Pu(o.scriptLoadedCallbacks[t],(function(t){x(t[e])&&t[e].call(t.scope)})),o.scriptLoadedCallbacks[t]=void 0},u=(o.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this}),function(){var t=Iu(e);e.length=0,Pu(t,(function(e){2!==o.states[e]?3!==o.states[e]?1!==o.states[e]&&(o.states[e]=1,o.loading++,o.loadScript(e,(function(){o.states[e]=2,o.loading--,a("success",e),u()}),(function(){o.states[e]=3,o.loading--,i.push(e),a("failure",e),u()}))):a("failure",e):a("success",e)})),o.loading||(t=o.queueLoadedCallbacks.slice(0),o.queueLoadedCallbacks.length=0,Pu(t,(function(e){0===i.length?x(e.success)&&e.success.call(e.scope):x(e.failure)&&e.failure.call(e.scope,i)})))});u()},Vu.ScriptLoader=new Vu,Vu);function Vu(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}function ju(){return _e(ul,cl.get())}function Uu(){function e(e,t){var n=le(i,(function(n){return n.name===e&&n.state===t}));ce(n,(function(e){return e.callback()}))}function t(e,t,n){void 0===n&&(n="added"),Ee(o,e)&&"added"===n||Ee(r,e)&&"loaded"===n?t():i.push({name:e,state:n,callback:t})}var n=[],r={},o={},i=[],a=function(e){var t;return(t=o[e]?o[e].dependencies:t)||[]},u=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},c=function(t,n,i,s,l){var f,d;r[t]||(0!==(f="string"==typeof n?n:n.prefix+n.resource+n.suffix).indexOf("/")&&-1===f.indexOf("://")&&(f=Uu.baseURL+"/"+f),r[t]=f.substring(0,f.lastIndexOf("/")),d=function(){e(t,"loaded");var r=t,o=n,l=i,f=s;r=a(t),ce(r,(function(e){e=u(o,e),c(e.resource,e,void 0,void 0)})),l&&(f?l.call(f):l.call(Fu))},o[t]?d():Fu.ScriptLoader.add(f,d,s,l))};return{items:n,urls:r,lookup:o,_listeners:i,get:function(e){if(o[e])return o[e].instance},dependencies:a,requireLangPack:function(e,n){!1!==Uu.languageLoad&&t(e,(function(){var t=sl.getCode();!t||n&&-1===(","+(n||"")+",").indexOf(","+t+",")||Fu.ScriptLoader.add(r[e]+"/langs/"+t+".js")}),"loaded")},add:function(t,r,i){return n.push(r),o[t]={instance:r,dependencies:i},e(t,"added"),r},remove:function(e){delete r[e],delete o[e]},createUrl:u,addComponents:function(e,t){var n=r[e];ce(t,(function(e){Fu.ScriptLoader.add(n+"/"+e)}))},load:c,waitFor:t}}function Wu(e,t){var n=null;return{cancel:function(){p(n)||(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];p(n)&&(n=setTimeout((function(){n=null,e.apply(null,r)}),t))}}}function $u(e,t){return void 0===(e=wr(e,t))||""===e?[]:e.split(" ")}function qu(e){return void 0!==e.dom.classList}function Gu(e,t){var n="class";return t=$u(e,n).concat([t]),br(e,n,t.join(" ")),1}function Xu(e,t){return n=t,0<(r=le($u(t=e,e="class"),(function(e){return e!==n}))).length?br(t,e,r.join(" ")):Et(t,e),0;var n,r}function Ku(e,t){qu(e)?e.dom.classList.add(t):Gu(e,t)}function Yu(e){0===(qu(e)?e.dom.classList:$u(e,"class")).length&&Et(e,"class")}function Ju(e,t){return qu(e)&&e.dom.classList.contains(t)}function Qu(e,t){var n=[];return ce(Fn(e),(function(e){n=(n=t(e)?n.concat([e]):n).concat(Qu(e,t))})),n}function Zu(e,t){function n(){return{listeners:[],previous:fl()}}function r(e,t){i(e,(function(e){return t(e),e}))}var o=al({}),i=function(e,t){var r=o.get();t=t(_e(r,e).getOrThunk(n));r[e]=t,o.set(r)},a=dl((function(){var t=o.get();t=ve(Ce(t));ce(t,(function(t){i(t,(function(n){var o=n.previous.get();return vl(e,ee.some(t)).fold((function(){var e;o.isSome()&&(r(e=t,(function(t){ce(t.listeners,(function(t){return t(!1,e)}))})),n.previous.clear())}),(function(e){var t,i,a,u=e.uid,c=e.name;e=e.elements;pr(o,u)||(i=u,a=e,r(t=c,(function(e){ce(e.listeners,(function(e){return e(!0,t,{uid:i,nodes:ue(a,(function(e){return e.dom}))})}))})),n.previous.set(u))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);return e.on("remove",(function(){a.cancel()})),e.on("NodeChange",(function(){a.throttle()})),{addListener:function(e,t){i(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))}}}function ec(e,t){e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){ce(e,(function(e){ee.from(e.attr(hl())).bind(t.lookup).each((function(t){!1===t.persistent&&e.unwrap()}))}))}))}))}function tc(e,t){return Sn.fromDom(e.dom.cloneNode(t))}function nc(e){return tc(e,!1)}function rc(e){return tc(e,!0)}function oc(e,t,n){function r(e){for(var t;(t=o[e]())&&!ar(t)&&!n(t););return ee.from(t).filter(ar)}void 0===n&&(n=R);var o=new ro(e,t);return{current:function(){return ee.from(o.current()).filter(ar)},next:function(){return r("next")},prev:function(){return r("prev")},prev2:function(){return r("prev2")}}}function ic(e,t){var n=t||function(t){return e.isBlock(t)||lr(t)||mr(t)},r=function(e,t,n,o){return ar(e)&&(t=o(e,t,e.data),-1!==t)?ee.some({container:e,offset:t}):n().bind((function(e){return r(e.container,e.offset,n,o)}))};return{backwards:function(e,t,o,i){var a=oc(e,i,n);return r(e,t,(function(){return a.prev().map((function(e){return{container:e,offset:e.length}}))}),o).getOrNull()},forwards:function(e,t,o,i){var a=oc(e,i,n);return r(e,t,(function(){return a.next().map((function(e){return{container:e,offset:0}}))}),o).getOrNull()}}}function ac(e,t){return e=kl(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e}function uc(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2}function cc(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&uc(t.top-e.bottom,e,t)}function sc(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&uc(t.bottom-e.top,e,t)}function lc(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null}function fc(e){return e&&/[\r\n\t ]/.test(e)}function dc(e){function t(e){0!==e.height&&(0<r.length&&Ol(e,r[r.length-1])||r.push(e))}function n(e,n){var o=Il(e.ownerDocument);if(n<e.data.length){if(Al(e.data[n]))return r;if(Al(e.data[n-1])&&(o.setStart(e,n),o.setEnd(e,n+1),!Vl(o)))return t(ql($l(o),!1)),r}0<n&&(o.setStart(e,n-1),o.setEnd(e,n),Vl(o)||t(ql($l(o),!1))),n<e.data.length&&(o.setStart(e,n),o.setEnd(e,n+1),Vl(o)||t(ql($l(o),!0)))}var r=[],o=e.container(),i=e.offset();if(Bl(o))return n(o,i),r;if(zl(o))if(e.isAtEnd()){var a=Pl(o,i);Bl(a)&&n(a,a.data.length),Rl(a)&&!Hl(a)&&t(ql($l(a),!1))}else{if(a=Pl(o,i),Bl(a)&&n(a,0),Rl(a)&&e.isAtEnd())return t(ql($l(a),!1)),r;o=Pl(e.container(),e.offset()-1),Rl(o)&&!Hl(o)&&(!Ml(o)&&!Ml(a)&&Rl(a)||t(ql($l(o),!1))),Rl(a)&&t(ql($l(a),!0))}return r}function mc(e,t){ar(t)&&0===t.data.length&&e.remove(t)}function gc(e,t,n){var r,o,i,a,u;sr(n)?(r=e,o=t,i=n,a=ee.from(i.firstChild),u=ee.from(i.lastChild),o.insertNode(i),a.each((function(e){return mc(r,e.previousSibling)})),u.each((function(e){return mc(r,e.nextSibling)}))):(o=e,i=n,t.insertNode(i),mc(o,i.previousSibling),mc(o,i.nextSibling))}function hc(e){return e=e.parentNode,Kl(e)?hc(e):e}function pc(e){return e?Q(e.childNodes,(function(e,t){return Kl(t)&&"BR"!==t.nodeName?e=e.concat(pc(t)):e.push(t),e}),[]):[]}function vc(e){return function(t){return e===t}}function bc(e){var t,n=Xl(e)?"text()":e.nodeName.toLowerCase();return n+"["+(t=pc(hc(n=e)),e=Z(t,vc(n),n),t=t.slice(0,e+1),e=Q(t,(function(e,n,r){return Xl(n)&&Xl(t[r-1])&&e++,e}),0),t=Y(t,wt([n.nodeName])),Z(t,vc(n),n)-e+"]")}function yc(e,t){var n,r,o=[],i=t.container();t=t.offset();return Xl(i)?n=function(e,t){for(;(e=e.previousSibling)&&Xl(e);)t+=e.data.length;return t}(i,t):(t>=(r=i.childNodes).length?(n="after",t=r.length-1):n="before",i=r[t]),o.push(bc(i)),r=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r}(e,i),r=Y(r,D(St)),(o=o.concat(K(r,bc))).reverse().join("/")+","+n}function wc(e,t){if(!t)return null;var n=(t=t.split(","))[0].split("/");t=1<t.length?t[1]:"before",n=Q(n,(function(e,t){var n,r;t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return t?("text()"===t[1]&&(t[1]="#text"),e=e,n=t[1],t=parseInt(t[2],10),r=pc(e),r=Y(r,(function(e,t){return!Xl(e)||!Xl(r[t-1])})),(r=Y(r,wt([n])))[t]):null}),e);if(n){if(Xl(n)){for(var r,o=n,i=parseInt(t,10),a=o,u=0;Xl(a);){if(r=a.data.length,u<=i&&i<=u+r){o=a,i-=u;break}if(!Xl(a.nextSibling)){o=a,i=r;break}u+=r,a=a.nextSibling}return Xl(o)&&i>o.data.length&&(i=o.data.length),Gl(o,i)}return t="after"===t?Yl(n)+1:Yl(n),Gl(n.parentNode,t)}return null}function xc(e,t,n){var r=0;return Cn.each(e.select(t),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++})),r}function Cc(e,t){var n,r=e[(o=t?"start":"end")+"Container"],o=e[o+"Offset"];or(r)&&"TR"===r.nodeName&&(r=(n=r.childNodes)[Math.min(t?o:o-1,n.length-1)])&&(o=t?0:r.childNodes.length,e["set"+(t?"Start":"End")](r,o))}function Sc(e){return Cc(e,!0),Cc(e,!1),e}function kc(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();return Jl(r)||"IMG"===o?{name:o,index:xc(n.dom,o,r)}:(r=Zl((r=i).startContainer,r.startOffset)||Zl(r.endContainer,r.endOffset))?{name:o=r.tagName,index:xc(n.dom,o,r)}:(o=e,r=t,e=i,i=(t=n).dom,(n={}).start=Ql(i,o,r,e,!0),t.isCollapsed()||(n.end=Ql(i,o,r,e,!1)),Ko(e)&&(n.isFakeCaret=!0),n)}function Oc(e,t,n){return t={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"},n?e.create("span",t,"&#xFEFF;"):e.create("span",t)}function Tc(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;return"IMG"===u?{name:u,index:xc(n,u,a)}:(u=Sc(r.cloneRange()),i||(u.collapse(!1),a=Oc(n,o+"_end",t),gc(n,u,a)),(r=Sc(r)).collapse(!0),i=Oc(n,o+"_start",t),gc(n,r,i),e.moveToBookmark({id:o,keep:!0}),{id:o})}function _c(e,t,n){var r=e.getParam(t,n);return-1!==r.indexOf("=")?(t=e.getParam(t,"","hash"),_e(t,e.id).getOr(n)):r}function Ec(e){return e.getParam("content_security_policy","")}function Dc(e){return e.getParam("forced_root_block_attrs",{})}function Ac(e){return e.getParam("automatic_uploads",!0,"boolean")}function zc(e){return e.getParam("icons","","string")}function Mc(e){return e.getParam("language","en","string")}function Rc(e){return e=e.getParam("font_css",[]),h(e)?e:ue(e.split(","),jt)}function Nc(e){return!1!==(e=e.getParam("object_resizing"))&&!wn.iOS&&(m(e)?e:"table,img,figure.image,div,video,iframe")}function Bc(e){return e.getParam("theme")}function Hc(e){return!1!==e.getParam("inline_boundaries")}function Lc(e){return e.getParam("plugins","","string")}function Pc(e){var t=Io(e);return{count:e.length-t.length,text:t}}function Ic(e,t){return Uc(e),t}function Fc(e,t){var n=t.container(),r=function(e,t){return e=oe(e,t),-1===e?ee.none():ee.some(e)}(we(n.childNodes),e).map((function(e){return e<t.offset()?Gl(n,t.offset()-1):t})).getOr(t);return Uc(e),r}function Vc(e,t){return xf(e)&&t.container()===e?(r=t,o=Pc((n=e).data.substr(0,r.offset())),i=Pc(n.data.substr(r.offset())),0<(o.text+i.text).length?(Sf(n),Gl(n,r.offset()-o.count)):r):Ic(e,t);var n,r,o,i}function jc(e,t){return Gl.isTextPosition(t)?Vc(e,t):(e=e,((t=t).container()===e.parentNode?Fc:Ic)(e,t))}function Uc(e){wf(e)&&Wo(e)&&($o(e)?e.removeAttribute("data-mce-caret"):Cf(e)),xf(e)&&(Sf(e),0===e.data.length&&Cf(e))}function Wc(e,t,n){var r,o=ac(t.getBoundingClientRect(),n),i=(e="BODY"===e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,e.scrollTop||i.scrollTop):(i=e.getBoundingClientRect(),r=e.scrollLeft-i.left,e.scrollTop-i.top),o.left+=r,o.right+=r,o.top+=e,o.bottom+=e,o.width=1,t.offsetWidth-t.clientWidth);return 0<i&&(n&&(i*=-1),o.left+=i,o.right+=i),o}function $c(e,t,n,r){function o(){for(var e=t,n=ml(Sn.fromDom(e),"*[contentEditable=false],video,audio,embed,object"),r=0;r<n.length;r++){var o,c=n[r].dom,s=c.previousSibling;so(s)&&(1===(o=s.data).length?s.parentNode.removeChild(s):s.deleteData(o.length-1,1)),s=c.nextSibling,co(s)&&(1===(o=s.data).length?s.parentNode.removeChild(s):s.deleteData(0,1))}a&&(Uc(a),a=null),u.on((function(e){zu(e.caret).remove(),u.clear()})),i&&(to.clearInterval(i),i=void 0)}var i,a,u=fl(),c=0<(e=rf(e)).length?e:"p";return{show:function(e,s){var l;if(o(),_f(s))return null;if(!n(s))return a=function(e,t){var n=e.ownerDocument.createTextNode(Lo),r=e.parentNode;if(t){if(o=e.previousSibling,Vo(o)){if(Wo(o))return o;if(so(o))return o.splitText(o.data.length-1)}r.insertBefore(n,e)}else{var o=e.nextSibling;if(Vo(o)){if(Wo(o))return o;if(co(o))return o.splitText(1),o}e.nextSibling?r.insertBefore(n,e.nextSibling):r.appendChild(n)}return n}(s,e),l=s.ownerDocument.createRange(),Gc(a.nextSibling)?(l.setStart(a,0),l.setEnd(a,0)):(l.setStart(a,1),l.setEnd(a,1)),l;a=uo(c,s,e);var f=Wc(t,s,e);zu(a).css("top",f.top),f=zu('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(ze({},f)).appendTo(t)[0];return u.set({caret:f,element:s,before:e}),e&&zu(f).addClass("mce-visual-caret-before"),i=to.setInterval((function(){r()?zu("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):zu("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500),(l=s.ownerDocument.createRange()).setStart(a,0),l.setEnd(a,0),l},hide:o,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){u.on((function(e){var n=Wc(t,e.element,e.before);zu(e.caret).css(ze({},n))}))},destroy:function(){return to.clearInterval(i)}}}function qc(){return kf.isIE()||kf.isEdge()||kf.isFirefox()}function Gc(e){return Of(e)||Tf(e)}function Xc(e){return Gc(e)||kt(e)&&qc()}function Kc(e,t){for(var n;n=e(t);)if(!Mf(n))return n;return null}function Yc(e,t){if(!t)return null;var n=t.container();t=t.offset();return Rf(n)?n.childNodes[t+e]:null}function Jc(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function Qc(e,t,n){for(var r,o,i=e?"previousSibling":"nextSibling";n&&n!==t;){var a=n[i];if(zf(a)&&(a=a[i]),Ef(a)||Df(a)){if(o=n,Pf(a,r=t)===Pf(o,r))return a;break}if(Nf(a))break;n=n.parentNode}return null}function Zc(e,t,n){var r,o=E(Qc,!0,t),i=(t=E(Qc,!1,t),n.startContainer),a=n.startOffset;if(jo(i)){var u=(i=Rf(i)?i:i.parentNode).getAttribute("data-mce-caret");if("before"===u&&(r=i.nextSibling,Xc(r)))return Ff(r);if("after"===u&&(r=i.previousSibling,Xc(r)))return Vf(r)}if(!n.collapsed)return n;if(ar(i)){if(zf(i)){if(1===e){if(r=t(i))return Ff(r);if(r=o(i))return Vf(r)}if(-1===e){if(r=o(i))return Vf(r);if(r=t(i))return Ff(r)}return n}if(so(i)&&a>=i.data.length-1)return 1===e&&(r=t(i))?Ff(r):n;if(co(i)&&a<=1)return-1===e&&(r=o(i))?Vf(r):n;if(a===i.data.length)return(r=t(i))?Ff(r):n;if(0===a)return(r=o(i))?Vf(r):n}return n}function es(e,t){return ee.from(Yc(e?0:-1,t)).filter(Ef)}function ts(e,t,n){return t=Zc(e,t,n),-1===e?Gl.fromRangeStart(t):Gl.fromRangeEnd(t)}function ns(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function rs(e,t){return!((t=If(e,t))||!lr(e.getNode()))||t}function os(e){return{next:function(t){return ed(nl.Forwards,t,e)},prev:function(t){return ed(nl.Backwards,t,e)}}}function is(e){return Gl.isTextPosition(e)?0===e.offset():lo(e.getNode())}function as(e){var t;return Gl.isTextPosition(e)?(t=e.container(),e.offset()===t.data.length):lo(e.getNode(!0))}function us(e,t){return!Gl.isTextPosition(e)&&!Gl.isTextPosition(t)&&e.getNode()===t.getNode(!0)}function cs(e,t,n){return e?!us(t,n)&&(e=t,!(!Gl.isTextPosition(e)&&lr(e.getNode())))&&as(t)&&is(n):!us(n,t)&&is(t)&&as(n)}function ss(e,t,n){return td(e,t,n).bind((function(r){return If(n,r,t)&&cs(e,n,r)?td(e,t,r):ee.some(r)}))}function ls(e,t){var n,r=e?t.firstChild:t.lastChild;return ar(r)?ee.some(Gl(r,e?0:r.data.length)):r?lo(r)?ee.some(e?Gl.before(r):lr(n=r)?Gl.before(n):Gl.after(n)):(n=t,t=r,t=(r=e)?Gl.before(t):Gl.after(t),td(r,n,t)):ee.none()}function fs(e,t){for(;t&&t!==e;){if(t.id===ud)return t;t=t.parentNode}return null}function ds(e){return Cn.isArray(e.start)}function ms(e,t){return or(t)&&e.isBlock(t)&&!t.innerHTML&&!wn.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t}function gs(e,t,n){return!(!1!==t.hasChildNodes()||!fs(e,t))&&(e=n,t=(n=t).ownerDocument.createTextNode(Lo),n.appendChild(t),e.setStart(t,0),e.setEnd(t,0),!0)}function hs(e,t,n,r){var o,i,a,u=n[t?"start":"end"],c=e.getRoot();if(u){for(n=u[0],i=c,o=u.length-1;1<=o;o--){if(a=i.childNodes,gs(c,i,r))return 1;if(u[o]>a.length-1){if(gs(c,i,r))return 1;var s=r;return ad(i).fold(R,(function(e){return s.setStart(e.container(),e.offset()),s.setEnd(e.container(),e.offset()),!0}))}i=a[u[o]]}3===i.nodeType&&(n=Math.min(u[0],i.nodeValue.length)),1===i.nodeType&&(n=Math.min(u[0],i.childNodes.length)),t?r.setStart(i,n):r.setEnd(i,n)}return 1}function ps(e){return ar(e)&&0<e.data.length}function vs(e,t,n){var r,o,i,a,u=e.get(n.id+"_"+t),c=n.keep;if(u){if(i=u.parentNode,r="start"===t?c?u.hasChildNodes()?(i=u.firstChild,1):ps(u.nextSibling)?(i=u.nextSibling,0):ps(u.previousSibling)?(i=u.previousSibling,u.previousSibling.data.length):(i=u.parentNode,e.nodeIndex(u)+1):e.nodeIndex(u):c?u.hasChildNodes()?(i=u.firstChild,1):ps(u.previousSibling)?(i=u.previousSibling,u.previousSibling.data.length):(i=u.parentNode,e.nodeIndex(u)):e.nodeIndex(u),i=i,a=r,!c){for(c=u.previousSibling,o=u.nextSibling,Cn.each(Cn.grep(u.childNodes),(function(e){ar(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));u=e.get(n.id+"_"+t);)e.remove(u,!0);c&&o&&c.nodeType===o.nodeType&&ar(c)&&!wn.opera&&(r=c.nodeValue.length,c.appendData(o.nodeValue),e.remove(o),i=c,a=r)}return ee.some(Gl(i,a))}return ee.none()}function bs(e,t,n){return ef(e,t,n)}function ys(e,t){sd(e,t).each((function(t){e.setRng(t)}))}function ws(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)}function xs(e){return!ws(e)&&!fd(e)}function Cs(e){return!!e.nodeType}function Ss(e,t,n){var r=n.startOffset,o=n.startContainer;if((o!==n.endContainer||!(i=o.childNodes[r])||!/^(IMG)$/.test(i.nodeName))&&or(o)){var i=o.childNodes,a=void 0;r<i.length?(o=i[r],a=new ro(o,e.getParent(o,e.isBlock))):(o=i[i.length-1],(a=new ro(o,e.getParent(o,e.isBlock))).next(!0));for(var u=a.current();u;u=a.next())if(ar(u)&&!_s(u))return n.setStart(u,0),t.setRng(n),0}}function ks(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(or(e)||!_s(e))return e}}function Os(e,t){return Cs(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]}function Ts(e,t,n){return e.schema.isValidChild(t,n)}function _s(e,t){return void 0===t&&(t=!1),!(!w(e)||!ar(e))&&(t=t?e.data.replace(/ /g," "):e.data,ci(t))}function Es(e,t){return e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()}function Ds(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),""+("fontFamily"===n?t.replace(/[\'\"]/g,"").replace(/,\s+/g,","):t)}function As(e,t,n){return Ds(e,e.getStyle(t,n),n)}function zs(e,t){var n;return e.getParent(t,(function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n})),n}function Ms(e,t,n){return e.getParents(t,n,e.getRoot())}function Rs(e,t){return ae(e.formatter.get(t),(function(e){function t(e){return 1<e.length&&"%"===e.charAt(0)}return ae(["styles","attributes"],(function(n){return _e(e,n).exists((function(e){return e=h(e)?e:q(e),ae(e,t)}))}))}))}function Ns(e,t,n){function o(e){return Te(e,(function(e,t){return ae(i,(function(e){return e===t}))}))}var i=["inline","block","selector","attributes","styles","classes"];return ae(e.formatter.get(t),(function(t){var i=o(t);return ae(e.formatter.get(n),(function(e){var t;e=o(e);return r(t=void 0===t?d:t).eq(i,e)}))}))}function Bs(e){return G(e,"block")}function Hs(e){return md(e)&&!1!==e.expand&&!gd(e)}function Ls(e,t){for(var n=t;n;){if(or(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t}function Ps(e,t,n,r){for(var o=t.data,i=n;e?0<=i:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1}function Is(e,t,n){return Ps(e,t,n,(function(e){return fd(e)||ws(e)}))}function Fs(e,t,n){return Ps(e,t,n,xs)}function Vs(e,t,n,r,o,i){function a(t,n,r){var i=ic(e);i=o?i.backwards:i.forwards;return ee.from(i(t,n,(function(e,t){return hd(e.parentNode)?-1:r(o,u=e,t)}),c))}var u,c=e.getParent(n,e.isBlock)||t;return a(n,r,Is).bind((function(e){return i?a(e.container,e.offset+(o?-1:0),Fs):ee.some(e)})).orThunk((function(){return u?ee.some({container:u,offset:o?0:u.length}):ee.none()}))}function js(e,t,n,r,o){ar(r)&&Ie(r.data)&&r[o]&&(r=r[o]);for(var i=pd(e,r),a=0;a<i.length;a++)for(var u=0;u<t.length;u++){var c=t[u];if((!w(c.collapsed)||c.collapsed===n.collapsed)&&md(c)&&e.is(i[a],c.selector))return i[a]}return r}function Us(e,t,n,r){var o,i=n,a=e.dom,u=a.getRoot();t=t[0];if((i=Bs(t)?t.wrapper?null:a.getParent(n,t.block,u):i)||(o=a.getParent(n,"LI,TD,TH"),i=a.getParent(ar(n)?n.parentNode:n,(function(t){return t!==u&&bd(e,t)}),o)),!(i=i&&Bs(t)&&t.wrapper&&pd(a,i,"ul,ol").reverse()[0]||i))for(i=n;i[r]&&!a.isBlock(i[r])&&(i=i[r],!Es(i,"br")););return i||n}function Ws(e,t,n,r){var o=n.parentNode;return!w(n[r])&&(!(o!==t&&!y(o)&&!e.isBlock(o))||Ws(e,t,o,r))}function $s(e,t,n,r,o){var i,a=n,u=o?"previousSibling":"nextSibling",c=e.getRoot();if(ar(n)&&!vd(n)&&(o?0<r:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(a))return a;for(var s=a[u];s;s=s[u]){var l=ar(s)&&!Ws(e,c,s,u);if(!hd(s)&&(!lr(i=s)||!i.getAttribute("data-mce-bogus")||i.nextSibling)&&!vd(s,l))return a}if(a===c||a.parentNode===c){n=a;break}a=a.parentNode}return n}function qs(e){return hd(e.parentNode)||hd(e)}function Gs(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset,c=e.dom,s=n[0];return or(o)&&o.hasChildNodes()&&(o=El(o,i),ar(o)&&(i=0)),or(a)&&a.hasChildNodes()&&(a=El(a,t.collapsed?u:u-1),ar(a)&&(u=a.nodeValue.length)),o=Ls(c,o),a=Ls(c,a),qs(o)&&(o=hd(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,ar(o)&&(i=t.collapsed?o.length:0)),qs(a)&&(a=hd(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,ar(a)&&(u=t.collapsed?0:a.length)),t.collapsed&&(Vs(c,e.getBody(),o,i,!0,r).each((function(e){var t=e.container;e=e.offset;o=t,i=e})),Vs(c,e.getBody(),a,u,!1,r).each((function(e){var t=e.container;e=e.offset;a=t,u=e}))),(gd(s)||s.block_expand)&&(gd(s)&&ar(o)&&0!==i||(o=$s(c,n,o,i,!0)),gd(s)&&ar(a)&&u!==a.nodeValue.length||(a=$s(c,n,a,u,!1))),Hs(s)&&(o=js(c,n,t,o,"previousSibling"),a=js(c,n,t,a,"nextSibling")),(Bs(s)||md(s))&&(o=Us(e,n,o,"previousSibling"),a=Us(e,n,a,"nextSibling"),Bs(s)&&(c.isBlock(o)||(o=$s(c,n,o,i,!0)),c.isBlock(a)||(a=$s(c,n,a,u,!1)))),or(o)&&(i=c.nodeIndex(o),o=o.parentNode),or(a)&&(u=c.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}}function Xs(e,t,n){function r(e){var t=e[0];ar(t)&&t===c&&u>=t.data.length&&e.splice(0,1),t=e[e.length-1];return 0===s&&0<e.length&&t===l&&ar(t)&&e.splice(e.length-1,1),e}function o(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r}function i(t,n){return e.getParent(t,(function(e){return e.parentNode===n}),n)}function a(e,t,i){var a=i?"nextSibling":"previousSibling",u=e;for(u.parentNode;u&&u!==t;u=c){var c=u.parentNode,s=o(u===e?u:u[a],a);s.length&&(i||s.reverse(),n(r(s)))}}var u=t.startOffset,c=El(t.startContainer,u),s=t.endOffset,l=El(t.endContainer,s-1);if(c===l)return n(r([c]));if(t=e.findCommonAncestor(c,l),e.isChildOf(c,l))return a(c,t,!0);if(e.isChildOf(l,c))return a(l,t);var f=i(c,t)||c;t=i(l,t)||l;a(c,f,!0),(f=o(f===c?f:f.nextSibling,"nextSibling",t===l?t.nextSibling:t)).length&&n(r(f)),a(l,t)}function Ks(e){return le(ge(e,(function(e){return e=lc(e),e?[Sn.fromDom(e)]:[]})),Ro)}function Ys(e,t){return 0<(t=ml(t,"td[data-mce-selected],th[data-mce-selected]")).length?t:Ks(e)}function Js(e,t){return Wr(e,"table",t)}function Qs(e){return ot(e).fold(T([e]),(function(t){return[e].concat(Qs(t))}))}function Zs(e){return it(e).fold(T([e]),(function(t){return"br"===An(t)?tt(t).map((function(t){return[e].concat(Zs(t))})).getOr([]):[e].concat(Zs(t))}))}function el(e,t){return Tt((r=(n=t).startContainer,n=n.startOffset,ar(r)?0===n?ee.some(Sn.fromDom(r)):ee.none():ee.from(r.childNodes[n]).map(Sn.fromDom)),(n=(r=t).endContainer,r=r.endOffset,ar(n)?r===n.data.length?ee.some(Sn.fromDom(n)):ee.none():ee.from(n.childNodes[r-1]).map(Sn.fromDom)),(function(t,n){return t=de(Qs(e),E(Tn,t)),n=de(Zs(e),E(Tn,n)),t.isSome()&&n.isSome()})).getOr(!1);var n,r}function tl(e){return(e=e.selection.getSel())&&0<e.rangeCount}var nl,rl,ol,il,al=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},ul={},cl=al("en"),sl={getData:function(){return U(ul,(function(e){return ze({},e)}))},setCode:function(e){e&&cl.set(e)},getCode:function(){return cl.get()},add:function(e,t){var n=ul[e];n||(ul[e]=n={}),ke(t,(function(e,t){n[t.toLowerCase()]=e}))},translate:function(e){function t(e){return x(e)?Object.prototype.toString.call(e):n(e)?"":""+e}function n(e){return""===e||null==e}function r(e){return e=t(e),_e(u,e.toLowerCase()).map(t).getOr(e)}function o(e){return e.replace(/{context:\w+}$/,"")}var i,a,u=ju().getOr({});return n(e)?"":g(a=e)&&Ee(a,"raw")?t(e.raw):h(a=e)&&1<a.length?(i=e.slice(1),o(r(e[0]).replace(/\{([0-9]+)\}/g,(function(e,n){return Ee(i,n)?t(i[n]):e})))):o(r(e))},isRtl:function(){return ju().bind((function(e){return _e(e,"_dir")})).exists((function(e){return"rtl"===e}))},hasCode:function(e){return Ee(ul,e)}},ll=(Uu.languageLoad=!0,Uu.baseURL="",Uu.PluginManager=Uu(),Uu.ThemeManager=Uu(),function(e){function t(){return n.get().each(e)}var n=al(ee.none());return{clear:function(){t(),n.set(ee.none())},isSet:function(){return n.get().isSome()},get:function(){return n.get()},set:function(e){t(),n.set(ee.some(e))}}}),fl=function(){var e=ll(S);return ze(ze({},e),{on:function(t){return e.get().each(t)}})},dl=function(e,t){function n(){p(r)||(clearTimeout(r),r=null)}var r=null;return{cancel:n,throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n(),r=setTimeout((function(){r=null,e.apply(null,o)}),t)}}},ml=function(e,t){return On(t,e)},gl=T("mce-annotation"),hl=T("data-mce-annotation"),pl=T("data-mce-annotation-uid"),vl=function(e,t){function n(e,t){return Cr(e,t)?ee.some(wr(e,t)):ee.none()}var r=e.selection.getRng(),o=Sn.fromDom(r.startContainer),i=Sn.fromDom(e.getBody());t=t.fold((function(){return"."+gl()}),(function(e){return"["+hl()+'="'+e+'"]'})),r=Vn(o,r.startOffset).getOr(o),o=Zr(r,t,(function(e){return Tn(e,i)}));return o.bind((function(t){return n(t,""+pl()).bind((function(r){return n(t,""+hl()).map((function(t){var n=bl(e,r);return{uid:r,name:t,elements:n}}))}))}))},bl=function(e,t){return e=Sn.fromDom(e.getBody()),ml(e,"["+pl()+'="'+t+'"]')},yl=0,wl=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++yl+String(t)},xl=function(e){return ue(e,Sn.fromDom)},Cl=function(e,t){var n=Ze(e).dom,r=Sn.fromDom(n.createDocumentFragment());t=function(e,t){return t=(t||document).createElement("div"),t.innerHTML=e,Fn(Sn.fromDom(t))}(t,n);st(r,t),lt(e),Kn(e,r)},Sl=Math.round,kl=function(e){return e?{left:Sl(e.left),top:Sl(e.top),bottom:Sl(e.bottom),right:Sl(e.right),width:Sl(e.width),height:Sl(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Ol=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},Tl=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},_l=function(e,t,n){return Math.min(Math.max(e,t),n)},El=function(e,t){var n;return or(e)&&e.hasChildNodes()?(n=e.childNodes)[_l(t,0,n.length-1)]:e},Dl=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Al=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&Dl.test(e)},zl=or,Ml=(bn=lo,xt("display","block table")),Rl=(pn=xt("float","left right"),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}(zl,bn,D(pn))),Nl=D(xt("white-space","pre pre-line pre-wrap")),Bl=ar,Hl=lr,Ll=Hu.nodeIndex,Pl=function(e,t){if(!(t<0&&or(e)&&e.hasChildNodes()))return El(e,t)},Il=function(e){return"createRange"in e?e.createRange():Hu.DOM.createRng()},Fl=function(e){return!!e.setStart&&!!e.setEnd},Vl=function(e){var t=e.startContainer,n=e.startOffset;return!!(fc(e.toString())&&Nl(t.parentNode)&&ar(t)&&(e=t.data,fc(e[n-1])||fc(e[n+1])))},jl=function(e){var t=e.ownerDocument,n=Il(t),r=(t=t.createTextNode(Ho),e.parentNode);r.insertBefore(t,e),n.setStart(t,0),n.setEnd(t,1),e=kl(n.getBoundingClientRect());return r.removeChild(t),e},Ul=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;return t===n&&ar(n)&&0===r&&1===o?((t=e.cloneRange()).setEndAfter(n),$l(t)):null},Wl=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},$l=function(e){var t=e.getClientRects();t=0<t.length?kl(t[0]):kl(e.getBoundingClientRect());return!Fl(e)&&Hl(e)&&Wl(t)?jl(e):Wl(t)&&Fl(e)?Ul(e):t},ql=function(e,t){return e=ac(e,t),e.width=1,e.right=e.left+1,e},Gl=function(e,t,n){function r(){return n=n||dc(Gl(e,t))}return{container:T(e),offset:T(t),toRange:function(){var n=Il(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return Bl(e),0===t},isAtEnd:function(){return Bl(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return Pl(e,n?t-1:t)}}},Xl=(Gl.fromRangeStart=function(e){return Gl(e.startContainer,e.startOffset)},Gl.fromRangeEnd=function(e){return Gl(e.endContainer,e.endOffset)},Gl.after=function(e){return Gl(e.parentNode,Ll(e)+1)},Gl.before=function(e){return Gl(e.parentNode,Ll(e))},Gl.isAbove=function(e,t){return Tt(be(t.getClientRects()),ye(e.getClientRects()),cc).getOr(!1)},Gl.isBelow=function(e,t){return Tt(ye(t.getClientRects()),be(e.getClientRects()),sc).getOr(!1)},Gl.isAtStart=function(e){return!!e&&e.isAtStart()},Gl.isAtEnd=function(e){return!!e&&e.isAtEnd()},Gl.isTextPosition=function(e){return!!e&&ar(e.container())},Gl.isElementPosition=function(e){return!1===Gl.isTextPosition(e)},ar),Kl=St,Yl=Hu.nodeIndex,Jl=mr,Ql=function(e,t,n,r,o){var i=r[o?"startContainer":"endContainer"],a=(r=r[o?"startOffset":"endOffset"],[]),u=(o=0,e.getRoot());for(ar(i)?a.push(n?function(e,t,n){for(var r=e(t.data.slice(0,n)).length,o=t.previousSibling;o&&ar(o);o=o.previousSibling)r+=e(o.data).length;return r}(t,i,r):r):(r>=(t=i.childNodes).length&&t.length&&(o=1,r=Math.max(0,t.length-1)),a.push(e.nodeIndex(t[r],n)+o));i&&i!==u;i=i.parentNode)a.push(e.nodeIndex(i,n));return a},Zl=function(e,t){return or(e)&&(e=El(e,t),Jl(e))?e:Wo(e)?(t=(e=ar(e)&&jo(e)?e.parentNode:e).previousSibling,Jl(t)?t:(t=e.nextSibling,Jl(t)?t:void 0)):void 0},ef=function(e,t,n){return 2===t?kc(Io,n,e):3===t?(r=(n=e).getRng(),{start:yc(n.dom.getRoot(),Gl.fromRangeStart(r)),end:yc(n.dom.getRoot(),Gl.fromRangeEnd(r))}):t?{rng:e.getRng()}:Tc(e,!1);var r},tf=E(kc,_,!0),nf=Hu.DOM,rf=function(e){return e.getParam("force_p_newlines",!1)?"p":(e=e.getParam("forced_root_block","p"),!1===e?"":!0===e?"p":e)},of=function(e){return e.getParam("keep_styles",!0)},af=function(e){return e.getParam("end_container_on_empty_block",!1)},uf=function(e){return Cn.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},cf=function(e){return Cn.explode(e.getParam("font_size_classes",""))},sf=function(e){return e.getParam("images_upload_url","","string")},lf=function(e){return e.getParam("images_upload_base_path","","string")},ff=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},df=function(e){return e.getParam("images_upload_handler",null,"function")},mf=function(e){return e.getParam("referrer_policy","","string")},gf=function(e){return e.getParam("indent_use_margin",!1)},hf=function(e){return e.getParam("event_root")},pf=function(e){return e.getParam("service_message")},vf=function(e){return e.getParam("formats")},bf=function(e){return e=e.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),m(e)?e:""},yf=function(e){return e.getParam("content_css_cors")},wf=or,xf=ar,Cf=function(e){var t=e.parentNode;t&&t.removeChild(e)},Sf=function(e){for(var t;-1!==(t=e.data.lastIndexOf(Lo));)e.deleteData(t,1)},kf=hn().browser,Of=mr,Tf=hr,_f=gr,Ef=mr,Df=hr,Af=xt("display","block table table-cell table-caption list-item"),zf=Wo,Mf=jo,Rf=or,Nf=lo,Bf=function(e){return 0<e},Hf=function(e){return e<0},Lf=function(e,t,n,r,o){var i=new ro(e,r);r=Ef(e)||Mf(e);if(Hf(t)){if(r&&n(e=Kc(i.prev.bind(i),!0)))return e;for(;e=Kc(i.prev.bind(i),o);)if(n(e))return e}if(Bf(t)){if(r&&n(e=Kc(i.next.bind(i),!0)))return e;for(;e=Kc(i.next.bind(i),o);)if(n(e))return e}return null},Pf=function(e,t){for(;e&&e!==t;){if(Af(e))return e;e=e.parentNode}return null},If=function(e,t,n){return Pf(e.container(),n)===Pf(t.container(),n)},Ff=E(Jc,!0),Vf=E(Jc,!1),jf=function(e){return ee.from(e.getNode()).map(Sn.fromDom)},Uf=((vn=nl=nl||{})[vn.Backwards=-1]="Backwards",vn[vn.Forwards=1]="Forwards",mr),Wf=ar,$f=or,qf=lr,Gf=lo,Xf=function(e){return ti(e)||!!ii(e=e)&&!0!==fe(we(e.getElementsByTagName("*")),(function(e,t){return e||Yo(t)}),!1)},Kf=ai,Yf=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},Jf=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Qf=function(e,t){if(Bf(e)){if(Gf(t.previousSibling)&&!Wf(t.previousSibling))return Gl.before(t);if(Wf(t))return Gl(t,0)}if(Hf(e)){if(Gf(t.nextSibling)&&!Wf(t.nextSibling))return Gl.after(t);if(Wf(t))return Gl(t,t.data.length)}return!Hf(e)||qf(t)?Gl.before(t):Gl.after(t)},Zf=function(e,t){var n=t.nextSibling;return n&&Gf(n)?Wf(n)?Gl(n,0):Gl.before(n):ed(nl.Forwards,Gl.after(t),e)},ed=function(e,t,n){var r,o,i;if(!$f(n)||!t)return null;if(t.isEqual(Gl.after(n))&&n.lastChild){if(i=Gl.after(n.lastChild),Hf(e)&&Gf(n.lastChild)&&$f(n.lastChild))return qf(n.lastChild)?Gl.before(n.lastChild):i}else i=t;t=i.container();var a=i.offset();if(Wf(t)){if(Hf(e)&&0<a)return Gl(t,--a);if(Bf(e)&&a<t.length)return Gl(t,++a);r=t}else{if(Hf(e)&&0<a&&(u=Jf(t,a-1),Gf(u)))return!Xf(u)&&(o=Lf(u,e,Kf,u))?Wf(o)?Gl(o,o.data.length):Gl.after(o):Wf(u)?Gl(u,u.data.length):Gl.before(u);if(Bf(e)&&a<t.childNodes.length&&(u=Jf(t,a),Gf(u)))return qf(u)?Zf(n,u):!Xf(u)&&(o=Lf(u,e,Kf,u))?Wf(o)?Gl(o,0):Gl.before(o):Wf(u)?Gl(u,0):Gl.after(u);r=u||i.getNode()}if((Bf(e)&&i.isAtEnd()||Hf(e)&&i.isAtStart())&&(r=Lf(r,e,N,n,!0),Kf(r,n)))return Qf(e,r);var u=Lf(r,e,Kf,n);a=Ae(le(Yf(t,n),Uf));return!a||u&&a.contains(u)?u?Qf(e,u):null:Bf(e)?Gl.after(a):Gl.before(a)},td=function(e,t,n){return t=os(t),ee.from(e?t.next(n):t.prev(n))},nd=function(e,t,n,r){return ss(e,t,n).bind((function(n){return r(n)?nd(e,t,n,r):ee.some(n)}))},rd=E(td,!0),od=E(td,!1),id=E(ls,!0),ad=E(ls,!1),ud="_mce_caret",cd=function(e){return or(e)&&e.id===ud},sd=function(e,t){var n,r,o,i,a,u,c;e=e.dom;if(t){if(ds(t))return u=t,c=(a=e).createRng(),hs(a,!0,u,c)&&hs(a,!1,u,c)?ee.some(c):ee.none();if(m(t.start))return ee.some((a=t,c=(u=e).createRng(),i=wc(u.getRoot(),a.start),c.setStart(i.container(),i.offset()),i=wc(u.getRoot(),a.end),c.setEnd(i.container(),i.offset()),c));if(Ee(t,"id"))return o=vs(r=e,"start",i=t),i=vs(r,"end",i),Tt(o,i.or(o),(function(e,t){var n=r.createRng();return n.setStart(ms(r,e.container()),e.offset()),n.setEnd(ms(r,t.container()),t.offset()),n}));if(Ee(t,"name"))return n=e,o=t,ee.from(n.select(o.name)[o.index]).map((function(e){var t=n.createRng();return t.selectNode(e),t}));if(Ee(t,"rng"))return ee.some(t.rng)}return ee.none()},ld=function(e){return or(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},fd=(rl=Ho,function(e){return rl===e}),dd=function(e,t){return x(e)?e=e(t):w(t)&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e},md=function(e){return G(e,"selector")},gd=function(e){return G(e,"inline")},hd=ld,pd=Ms,vd=_s,bd=Os,yd=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},wd=function(e){return Ys(yd(e.selection.getSel()),Sn.fromDom(e.getBody()))},xd=function(e,t,n,r){var o=n,i=new ro(n,o),a=Te(e.schema.getMoveCaretBeforeOnEnterElements(),(function(e,t){return!ie(["td","th","table"],t.toLowerCase())}));do{if(ar(n)&&0!==Cn.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Cd=function(e,t){var n=wd(e);0<n.length?ce(n,(function(n){n=n.dom;var r=e.dom.createRng();r.setStartBefore(n),r.setEndAfter(n),t(r,!0)})):t(e.selection.getRng(),!1)},Sd=function(e,t,n){t=Tc(e,t),n(t),e.moveToBookmark(t)},kd=(ol=Mn,il="text",{get:function(e){if(!ol(e))throw new Error("Can only get "+il+" value of a "+il+" node");return Od(e).getOr("")},getOption:Od,set:function(e,t){if(!ol(e))throw new Error("Can only set raw "+il+" value of a "+il+" node");e.dom.nodeValue=t}});function Od(e){return ol(e)?ee.from(e.dom.nodeValue):ee.none()}function Td(e){return kd.get(e)}function _d(e,t,n,r){return Ln(t).fold((function(){return"skipping"}),(function(o){return"br"===r||Mn(i=t)&&Td(i)===Lo?"valid":zn(i=t)&&Ju(i,gl())?"existing":cd(t.dom)?"caret":Ts(e,n,r)&&Ts(e,An(o),n)?"valid":"invalid-child";var i}))}function Ed(e){t={};var t,n={register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return _e(t,e).map((function(e){return e.settings}))}},r=(ec(e,n),Zu(e));return{register:function(e,t){n.register(e,t)},annotate:function(t,r){n.lookup(t).each((function(n){var o,i,a,u;i=t,a=n,u=r,(o=e).undoManager.transact((function(){var e=o.selection,t=e.getRng(),n=0<wd(o).length;t.collapsed&&!n&&$d(o,t),e.getRng().collapsed&&!n?(t=qd(o.getDoc(),u,i,a.decorate),Cl(t,Ho),e.getRng().insertNode(t.dom),e.select(t.dom)):Sd(e,!1,(function(){Cd(o,(function(e){Gd(o,e,i,a.decorate,u)}))}))}))}))},annotationChanged:function(e,t){r.addListener(e,t)},remove:function(t){vl(e,ee.some(t)).each((function(e){e=e.elements,ce(e,ft)}))},getAll:function(t){var n,r;return n=e,t=t,n=Sn.fromDom(n.getBody()),n=ml(n,"["+hl()+'="'+t+'"]'),r={},ce(n,(function(e){var t=wr(e,pl()),n=_e(r,t).getOr([]);r[t]=n.concat([e])})),U(r,(function(e){return ue(e,(function(e){return e.dom}))}))}}}function Dd(e){return{getBookmark:E(bs,e),moveToBookmark:E(ys,e)}}function Ad(e,t){for(;t&&t!==e;){if(dr(t)||mr(t))return t;t=t.parentNode}return null}function zd(e,t,n){if(!n.collapsed){if(wn.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(or(r))return ae(r.getClientRects(),(function(n){return Tl(n,e,t)}))}return ae(n.getClientRects(),(function(n){return Tl(n,e,t)}))}}function Md(e,t,n){return e.fire(t,n)}function Rd(e,t,n,r){return e.fire("FormatApply",{format:t,node:n,vars:r})}function Nd(e,t,n,r){return e.fire("FormatRemove",{format:t,node:n,vars:r})}function Bd(e,t){function n(e){return hr(e)||_.hasClass(e,"mce-preview-object")}function r(e){var n,r,o,i=e.target;n=e,r=t.selection.getRng(),("longpress"===n.type||0===n.type.indexOf("touch")?(o=n.touches[0],!B(n.target)||zd(o.clientX,o.clientY,r)):!B(n.target)||zd(n.clientX,n.clientY,r))||e.isDefaultPrevented()||t.selection.select(i)}function i(e,n,r){w(r)&&(e=H(e),ce(e,(function(e){e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)?_.setStyle(e,n,r):_.setAttrib(e,n,""+r)})))}function a(e){U();var n=(a=_.getPos(e,R)).x,r=a.y,o=(a=e.getBoundingClientRect()).width||a.right-a.left,i=a.height||a.bottom-a.top,a=(l!==e&&(j(),l=e,C=S=0),t.fire("ObjectSelected",{target:e})),u=_.getAttrib(l,T,"1");L(e)&&!a.isDefaultPrevented()?E(N,(function(e,t){var a=_.get("mceResizeHandle"+t);a&&_.remove(a),a=_.add(R,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===wn.ie&&(a.contentEditable=!1),_.bind(a,"mousedown",(function(a){var u;a.stopImmediatePropagation(),a.preventDefault(),a=a,u=H(l)[0],h=a.screenX,p=a.screenY,v=u.clientWidth,b=u.clientHeight,y=b/v,(m=e).name=t,m.startPos={x:o*e[0]+n,y:i*e[1]+r},k=R.scrollWidth,O=R.scrollHeight,g=_.add(R,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),_.setStyles(g,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),f=P(l),_.addClass(f,"mce-clonedresizable"),_.setAttrib(f,"data-mce-bogus","all"),f.contentEditable="false",_.setStyles(f,{left:n,top:r,margin:0}),I(f,o,i),f.removeAttribute(T),R.appendChild(f),_.bind(D,"mousemove",F),_.bind(D,"mouseup",V),A!==D&&(_.bind(A,"mousemove",F),_.bind(A,"mouseup",V)),d=_.add(R,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},v+" &times; "+b)})),e.elm=a,_.setStyles(a,{left:o*e[0]+n-a.offsetWidth/2,top:i*e[1]+r-a.offsetHeight/2})})):j(),_.getAttrib(l,T)||l.setAttribute(T,u)}function u(n){function r(e,t){if(e)do{if(e===t)return 1}while(e=e.parentNode)}x||t.removed||(E(_.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute(T)})),n="mousedown"===n.type?n.target:e.getNode(),r(n=_.$(n).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],R)&&(s(),r(e.getStart(!0),n)&&r(e.getEnd(!0),n))?a(n):j())}function c(e){return Kd(Ad(t.getBody(),e))}function s(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(o){}}var l,f,d,m,g,h,p,v,b,y,x,C,S,k,O,T="data-mce-selected",_=t.dom,E=Cn.each,D=t.getDoc(),A=document,z=Math.abs,M=Math.round,R=t.getBody(),N={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},B=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},H=function(e){return _.is(e,"figure.image")?[e.querySelector("img")]:_.hasClass(e,"mce-preview-object")&&w(e.firstElementChild)?[e,e.firstElementChild]:[e]},L=function(e){var n=Nc(t);return!!n&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(_.hasClass(e,"mce-preview-object")?Ke(Sn.fromDom(e.firstElementChild),n):Ke(Sn.fromDom(e),n))},P=function(e){return n(e)?_.create("img",{src:wn.transparentSrc}):e.cloneNode(!0)},I=function(e,t,n){i(e,"width",t),i(e,"height",n)},F=function(e){var r,o=e.screenX-h,i=e.screenY-p;C=o*m[2]+v,S=i*m[3]+b,C=C<5?5:C,S=S<5?5:S,((B(l)||n(l))&&!1!==t.getParam("resize_img_proportional",!0,"boolean")?!Xd.modifierPressed(e):Xd.modifierPressed(e))&&(z(o)>z(i)?(S=M(C*y),C=M(S/y)):(C=M(S/y),S=M(C*y))),I(f,C,S),e=m.startPos.x+o,r=m.startPos.y+i,_.setStyles(d,{left:e=0<e?e:0,top:r=0<r?r:0,display:"block"}),d.innerHTML=C+" &times; "+S,m[2]<0&&f.clientWidth<=C&&_.setStyle(f,"left",void 0+(v-C)),m[3]<0&&f.clientHeight<=S&&_.setStyle(f,"top",void 0+(b-S)),(o=R.scrollWidth-k)+(i=R.scrollHeight-O)!==0&&_.setStyles(d,{left:e-o,top:r-i}),x||(e=l,o=v,r=b,i="corner-"+m.name,t.fire("ObjectResizeStart",{target:e,width:o,height:r,origin:i}),x=!0)},V=function(){var e,n,r,o=x;x=!1,o&&(i(l,"width",C),i(l,"height",S)),_.unbind(D,"mousemove",F),_.unbind(D,"mouseup",V),A!==D&&(_.unbind(A,"mousemove",F),_.unbind(A,"mouseup",V)),_.remove(f),_.remove(d),_.remove(g),a(l),o&&(o=l,e=C,n=S,r="corner-"+m.name,t.fire("ObjectResized",{target:o,width:e,height:n,origin:r}),_.setAttrib(l,"style",_.getAttrib(l,"style"))),t.nodeChanged()},j=function(){U(),l&&l.removeAttribute(T),ke(N,(function(e,t){t=_.get("mceResizeHandle"+t),t&&(_.unbind(t),_.remove(t))}))},U=function(){ke(N,(function(e){e.elm&&(_.unbind(e.elm),delete e.elm)}))};return t.on("init",(function(){s(),(wn.browser.isIE()||wn.browser.isEdge())&&(t.on("mousedown click",(function(e){var n=e.target,r=n.nodeName;x||!/^(TABLE|IMG|HR)$/.test(r)||c(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())})),_.bind(R,"mscontrolselect",e=function(e){function n(e){to.setEditorTimeout(t,(function(){return t.selection.select(e)}))}if(c(e.target)||hr(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))}),t.on("remove",(function(){return _.unbind(R,"mscontrolselect",e)})));var e,n=to.throttle((function(e){t.composing||u(e)}));t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",n),t.on("keyup compositionend",(function(e){l&&"TABLE"===l.nodeName&&n(e)})),t.on("hide blur",j),t.on("contextmenu longpress",r,!0)})),t.on("remove",U),{isResizable:L,showResizeRect:a,hideResizeRect:j,updateResizeRect:u,destroy:function(){l=f=g=null}}}function Hd(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=function(e,t,n){var r=n.elementFromPoint(e,t),o=n.body.createTextRange();if(r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),0<(n=(n=Cn.toArray(o.getClientRects())).sort((function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-Math.abs(Math.max(n.top-t,n.bottom-t))}))).length){t=(n[0].bottom+n[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(e){}}return null}(e,t,n)}return o=r,i=n.body,e=o&&o.parentElement?o.parentElement():null,mr(Jd(e,i,Yd))?null:o}return r}function Ld(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)}function Pd(e){return e&&"TABLE"===e.nodeName}function Id(e,t,n){for(var r=new ro(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(lr(t))return 1}function Fd(e,t,n,r,o){var i,a,u=e.getRoot(),c=e.schema.getNonEmptyElements(),s=e.getParent(o.parentNode,e.isBlock)||u;if(r&&lr(o)&&t&&e.isEmpty(s))return ee.some(Gl(o.parentNode,e.nodeIndex(o)));for(var l,f,d=new ro(o,s);a=d[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||(f=u,Wo(l=a)&&!1===Ld(l,f,cd)))return ee.none();if(ar(a)&&0<a.nodeValue.length)return!1===function(e,t,n){return Ld(e,t,(function(e){return e.nodeName===n}))}(a,u,"A")?ee.some(Gl(a,r?a.nodeValue.length:0)):ee.none();if(e.isBlock(a)||c[a.nodeName.toLowerCase()])return ee.none();i=a}return n&&i?ee.some(Gl(i,0)):ee.none()}function Vd(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer;e=e.endOffset;return t===r&&ar(t)?0<n&&n<t.nodeValue.length&&(t=(r=tm(t,n)).previousSibling,n<e?(t=r=tm(r,e-=n).previousSibling,e=r.nodeValue.length,n=0):e=0):(ar(t)&&0<n&&n<t.nodeValue.length&&(t=tm(t,n),n=0),ar(r)&&0<e&&e<r.nodeValue.length&&(e=(r=tm(r,e).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:e}}function jd(e){return{walk:function(t,n){return Xs(e,t,n)},split:Vd,normalize:function(t){return em(e,t).fold(R,(function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0}))}}}var Ud,Wd,$d=function(e,t){var n=Gs(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},qd=function(e,t,n,r){var o,i=t.uid;i=void 0===i?wl("mce-annotation"):i,t=function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}(t,["uid"]),e=Sn.fromTag("span",e),Ku(e,gl()),br(e,""+pl(),i),br(e,""+hl(),n),n=r(i,t),r=n.attributes,i=n.classes,t=void 0===i?[]:i;return yr(e,void 0===r?{}:r),o=e,ce(t,(function(e){Ku(o,e)})),e},Gd=function(e,t,n,r,o){function i(){s.clear()}function a(e){ce(e,l)}var u=[],c=qd(e.getDoc(),o,n,r),s=fl(),l=function(t){var n,r;switch(_d(e,t,"span",An(t))){case"invalid-child":i();var o=Fn(t);a(o),i();break;case"valid":o=s.get().getOrThunk((function(){var e=nc(c);return u.push(e),s.set(e),e})),Xn(n=t,r=o),Kn(r,n)}};return Xs(e.dom,t,(function(e){i();var t=e;t=ue(e,Sn.fromDom),a(t)})),u},Xd=(Dd.isBookmarkNode=ld,{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Xd.metaKeyPressed(e)},metaKeyPressed:function(e){return wn.mac?e.metaKey:e.ctrlKey&&!e.altKey}}),Kd=mr,Yd=function(e){return dr(e)||mr(e)},Jd=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},Qd=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Zd=function(e,t,n,r){var o,i=e.getRoot(),a=!1,u=r[(n?"start":"end")+"Container"],c=r[(n?"start":"end")+"Offset"],s=(r=or(u)&&c===u.childNodes.length,e.schema.getNonEmptyElements()),l=n;if(Wo(u))return ee.none();if(or(u)&&c>u.childNodes.length-1&&(l=!1),cr(u)&&(u=i,c=0),u===i){if(l&&(f=u.childNodes[0<c?c-1:0])){if(Wo(f))return ee.none();if(s[f.nodeName]||Pd(f))return ee.none()}if(u.hasChildNodes()){if(c=Math.min(!l&&0<c?c-1:c,u.childNodes.length-1),u=u.childNodes[c],c=ar(u)&&r?u.data.length:0,!t&&u===i.lastChild&&Pd(u))return ee.none();if(function(e,t){for(;t&&t!==e;){if(mr(t))return!0;t=t.parentNode}return!1}(i,u)||Wo(u))return ee.none();if(u.hasChildNodes()&&!1===Pd(u)){var f=u,d=new ro(u,i);do{if(mr(f)||Wo(f)){a=!1;break}if(ar(f)&&0<f.nodeValue.length){c=l?0:f.nodeValue.length,u=f,a=!0;break}if(s[f.nodeName.toLowerCase()]&&(!(o=f)||!/^(TD|TH|CAPTION)$/.test(o.nodeName))){c=e.nodeIndex(f),u=f.parentNode,l||c++,a=!0;break}}while(f=l?d.next():d.prev())}}}return t&&(ar(u)&&0===c&&Fd(e,r,t,!0,u).each((function(e){u=e.container(),c=e.offset(),a=!0})),or(u)&&(!(f=(f=u.childNodes[c])||u.childNodes[c-1])||!lr(f)||(n="A",(i=f).previousSibling&&i.previousSibling.nodeName===n)||Id(e,f,!1)||Id(e,f,!0)||Fd(e,r,t,!0,f).each((function(e){u=e.container(),c=e.offset(),a=!0})))),l&&!t&&ar(u)&&c===u.nodeValue.length&&Fd(e,r,t,!1,u).each((function(e){u=e.container(),c=e.offset(),a=!0})),a?ee.some(Gl(u,c)):ee.none()},em=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=Gl.fromRangeStart(t);return Zd(e,n,!0,r).each((function(e){n&&Gl.isAbove(o,e)||r.setStart(e.container(),e.offset())})),n||Zd(e,n,!1,r).each((function(e){r.setEnd(e.container(),e.offset())})),n&&r.collapse(!0),Qd(t,r)?ee.none():ee.some(r)},tm=function(e,t){return e.splitText(t)},nm=(jd.compareRanges=Qd,jd.getCaretRangeFromPoint=Hd,jd.getSelectedNode=lc,jd.getNode=El,Ud="height",Wd=function(e){var t=e.dom;return Qn(e)?t.getBoundingClientRect().height:t.offsetHeight},{set:function(e,t){if(!C(t)&&!t.match(/^[0-9]+$/))throw new Error(Ud+".set accepts only positive integer values. Value was "+t);e=e.dom,_t(e)&&(e.style[Ud]=t+"px")},get:rm,getOuter:rm,aggregate:om,max:function(e,t,n){return e=om(e,n),e<t?t-e:0}});function rm(e){var t=Wd(e);return t<=0||null===t?(e=Sr(e,Ud),parseFloat(e)||0):t}function om(e,t){return fe(t,(function(t,n){return n=Sr(e,n),n=void 0===n?0:parseInt(n,10),isNaN(n)?t:t+n}),0)}function im(e,t){return e.view(t).fold(T([]),(function(t){var n=e.owner(t);n=im(e,n);return[t].concat(n)}))}function am(e){var t=Sn.fromDom(document),n=(t=tr(t),function(e,t){return e=t.owner(e),im(t,e)}(e,Rm));e=gt(e),n=I(n,(function(e,t){return t=gt(t),{left:e.left+t.left,top:e.top+t.top}}),{left:0,top:0});return Zn(n.left+e.left+t.left,n.top+e.top+t.top)}function um(e){return"textarea"===An(e)}function cm(e,t){var n=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView;t=t.documentElement;if(n===e.dom)return Zn(n.offsetLeft,n.offsetTop);var o=mt(null==r?void 0:r.pageYOffset,t.scrollTop),i=(r=mt(null==r?void 0:r.pageXOffset,t.scrollLeft),mt(t.clientTop,n.clientTop));t=mt(t.clientLeft,n.clientLeft);return gt(e).translate(r-t,o-i)}(e),r=nm.get(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}}function sm(e,t,n,r){var o,i,a,u,c,s,l;o=e,l=function(o,i){return a=e,u=t,c=n,s=r,f=Sn.fromDom(a.getBody()),l=Sn.fromDom(a.getDoc()),Tr(f),f=Nm(Sn.fromDom(c.startContainer),c.startOffset),Bm(a,l,u,f,s),f.cleanup(),0;var a,u,c,s,l,f},a=(i=n).startContainer,u=i.startOffset,c=i.endContainer,s=i.endOffset,l(Sn.fromDom(a),Sn.fromDom(c)),(l=o.dom.createRng()).setStart(a,u),l.setEnd(c,s),o.selection.setRng(i)}function lm(e,t,n,r){var o=Sn.fromDom(e.getDoc());Bm(e,o,n,cm(Sn.fromDom(t),S),r)}function fm(e,t,n,r){var o=e.pos;n?ht(o.left,o.top,r):(n=o.top-t+e.height,ht(o.left,n,r))}function dm(e,t,n,r,o){var i=n+t,a=r.pos.top,u=r.bottom,c=n<=u-a;a<t?fm(r,n,!1!==o,e):i<a?fm(r,n,c?!1!==o:!0===o,e):i<u&&!c&&fm(r,n,!0===o,e)}function mm(e,t,n,r){var o=e.dom.defaultView.innerHeight;dm(e,t,o,n,r)}function gm(e,t,n,r){var o=e.dom.defaultView.innerHeight;dm(e,t,o,n,r),e=am(n.element),t=vt(window);e.top<t.y?pt(n.element,!1!==r):e.top>t.bottom&&pt(n.element,!0===r)}function hm(e){return void 0===e&&(e=Sn.fromDom(document)),ee.from(e.dom.activeElement).map(Sn.fromDom)}function pm(e,t){return(t=Mn(t)?Td(t).length:Fn(t).length+1)<e?t:e<0?0:e}function vm(e){return $m.range(e.start,pm(e.soffset,e.start),e.finish,pm(e.foffset,e.finish))}function bm(e,t){return!yt(t.dom)&&(Dn(e,t)||Tn(e,t))}function ym(e){return function(t){return bm(e,t.start)&&bm(e,t.finish)}}function wm(e){return!0===e.inline||qm.isIE()}function xm(e){return $m.range(Sn.fromDom(e.startContainer),e.startOffset,Sn.fromDom(e.endContainer),e.endOffset)}function Cm(e){return function(e){return e=e.getSelection(),(e&&0!==e.rangeCount?ee.from(e.getRangeAt(0)):ee.none()).map(xm)}(et(e).dom).filter(ym(e))}function Sm(e,t){var n,r;hn().browser.isIE()?(r=e).on("focusout",(function(){Km(r)})):(n=t,e.on("mouseup touchend",(function(e){n.throttle()}))),e.on("keyup NodeChange",(function(t){"nodechange"===(t=t).type&&t.selectionChange||Km(e)}))}function km(e,t){var n=t.editor;Qm(n),n.on("focusin",(function(){var t=e.focusedEditor;t!==n&&(t&&t.fire("blur",{focusedEditor:n}),e.setActive(n),(e.focusedEditor=n).fire("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(function(){to.setEditorTimeout(n,(function(){var t=e.focusedEditor;eg(n,tg(n))||t!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Mm||(Mm=function(t){var n=e.activeEditor;n&&Gn(t).each((function(t){t.ownerDocument===document&&(t===document.body||eg(n,t)||e.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Zm.bind(document,"focusin",Mm))}function Om(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Zm.unbind(document,"focusin",Mm),Mm=null)}function Tm(e,t){return((t=t).collapsed?ee.from(El(t.startContainer,t.startOffset)).map(Sn.fromDom):ee.none()).bind((function(t){return Mo(t)?ee.some(t):!1===Dn(e,t)?ee.some(e):ee.none()}))}function _m(e){return ag(e)||(t=e,e=$n(Sn.fromDom(t.getElement())),hm(e).filter((function(e){return!function(e){return e=e.classList,void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))}(e.dom)&&eg(t,e.dom)})).isSome());var t}function Em(e,t){var n,r;e.removed||(t?ug(e):(t=(n=e).selection,e=n.getBody(),r=t.getRng(),n.quirks.refreshContentEditable(),void 0!==n.bookmark&&!1===ag(n)&&Ym(n).each((function(e){n.selection.setRng(e),r=e})),t=ng(n,t.getNode()),n.$.contains(e,t)?(og(t),rg(n,r)):(n.inline||(wn.opera||og(e),n.getWin().focus()),(wn.gecko||n.inline)&&(og(e),rg(n,r))),ug(n)))}function Dm(e,t){return ue(t,(function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))}function Am(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}}function zm(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t}var Mm,Rm=Object.freeze({__proto__:null,view:function(e){return(e.dom===document?ee.none():ee.from(null===(e=e.dom.defaultView)||void 0===e?void 0:e.frameElement)).map(Sn.fromDom)},owner:function(e){return Hn(e)}}),Nm=function(e,t){t=t;e=0===(n=Fn(e=e)).length||um(e)?{element:e,offset:t}:t<n.length&&!um(n[t])?{element:n[t],offset:0}:(n=n[n.length-1],um(n)?{element:e,offset:t}:"img"===An(n)?{element:n,offset:1}:Mn(n)?{element:n,offset:Td(n).length}:{element:n,offset:Fn(n).length});var n,r=Sn.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Lo+"</span>");return Xn(e.element,r),cm(r,(function(){return Jn(r)}))},Bm=function(e,t,n,r,o){var i={elm:r.element.dom,alignToTop:o};e.fire("ScrollIntoView",i).isDefaultPrevented()||(n(t,tr(t).top,r,o),e.fire("AfterScrollIntoView",i))},Hm=function(e,t,n){return sm(e,mm,t,n)},Lm=function(e,t,n){return lm(e,t,mm,n)},Pm=function(e,t,n){return sm(e,gm,t,n)},Im=function(e,t,n){return lm(e,t,gm,n)},Fm=function(e,t,n){(e.inline?Hm:Pm)(e,t,n)},Vm=function(e){return e.dom.focus()},jm=function(e){var t=$n(e).dom;return e.dom===t.activeElement},Um=(qt=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},$t=yn([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),{before:$t.before,on:$t.on,after:$t.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(_,_,_)}}),Wm=yn([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),$m={domRange:Wm.domRange,relative:Wm.relative,exact:Wm.exact,exactFromRange:function(e){return Wm.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){return e=e.match({domRange:function(e){return Sn.fromDom(e.startContainer)},relative:function(e,t){return Um.getStart(e)},exact:function(e,t,n,r){return e}}),et(e)},range:qt},qm=hn().browser,Gm=function(e,t){return ee.from(t).filter(ym(e)).map(vm)},Xm=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),ee.some(t)}catch(e){return ee.none()}},Km=function(e){var t=wm(e)?Cm(Sn.fromDom(e.getBody())):ee.none();e.bookmark=t.isSome()?t:e.bookmark},Ym=function(e){return(e.bookmark||ee.none()).bind((function(t){return Gm(Sn.fromDom(e.getBody()),t)})).bind(Xm)},Jm={isEditorUIElement:function(e){return e=e.className.toString(),-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},Qm=function(e){var t=Wu((function(){Km(e)}),0);e.on("init",(function(){function n(){o.throttle()}var r,o;e.inline&&(r=e,o=t,Hu.DOM.bind(document,"mouseup",n),r.on("remove",(function(){Hu.DOM.unbind(document,"mouseup",n)}))),Sm(e,t)})),e.on("remove",(function(){t.cancel()}))},Zm=Hu.DOM,eg=function(e,t){var n=e.getParam("custom_ui_selector","","string");return null!==Zm.getParent(t,(function(t){return Jm.isEditorUIElement(t)||!!n&&e.dom.is(t,n)}))},tg=function(e){try{var t=$n(Sn.fromDom(e.getElement()));return hm(t).fold((function(){return document.body}),(function(e){return e.dom}))}catch(e){return document.body}},ng=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))},rg=function(e,t){Tm(Sn.fromDom(e.getBody()),t).bind((function(e){return id(e.dom)})).fold((function(){e.selection.normalize()}),(function(t){return e.selection.setRng(t.toRange())}))},og=function(e){if(e.setActive)try{e.setActive()}catch(o){e.focus()}else e.focus()},ig=function(e){return jm(e)||hm($n(t=e)).filter((function(e){return t.dom.contains(e.dom)})).isSome();var t},ag=function(e){var t;return e.inline?(t=(t=e).getBody())&&ig(Sn.fromDom(t)):(t=e).iframeElement&&jm(Sn.fromDom(t.iframeElement))},ug=function(e){return e.editorManager.setActive(e)},cg=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return ee.from(i).map(Sn.fromDom).map((function(e){return r&&t.collapsed?e:Vn(e,o(e,a)).getOr(e)})).bind((function(e){return zn(e)?ee.some(e):Ln(e).filter(zn)})).map((function(e){return e.dom})).getOr(e)},sg=function(e,t,n){return cg(e,t,!0,n,(function(e,t){return Math.min(jn(e),t)}))},lg=function(e,t,n){return cg(e,t,!1,n,(function(e,t){return 0<t?t-1:t}))},fg=function(e,t){for(var n=e;e&&ar(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},dg={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},mg=(gg.create=function(e,t){var n=new gg(e,dg[e]||1);return t&&ke(t,(function(e,t){n.attr(t,e)})),n},gg.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},gg.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return null!=e&&ke(e,(function(e,t){r.attr(t,e)})),r;if(n=r.attributes){if(void 0===t)return n.map[e];if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}},gg.prototype.clone=function(){var e,t=new gg(this.name,this.type);if(e=this.attributes){var n=[];n.map={};for(var r=0,o=e.length;r<o;r++){var i=e[r];"id"!==i.name&&(n[n.length]={name:i.name,value:i.value},n.map[i.name]=i.value)}t.attributes=n}return t.value=this.value,t.shortEnded=this.shortEnded,t},gg.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},gg.prototype.unwrap=function(){for(var e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()},gg.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},gg.prototype.append=function(e){e.parent&&e.remove();var t=this.lastChild;return t?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},gg.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},gg.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=Am(n,this))n.name===e&&t.push(n);return t},gg.prototype.children=function(){for(var e=[],t=this.firstChild;t;t=t.next)e.push(t);return e},gg.prototype.empty=function(){if(this.firstChild){for(var e=[],t=this.firstChild;t;t=Am(t,this))e.push(t);for(var n=e.length;n--;)(t=e[n]).parent=t.firstChild=t.lastChild=t.next=t.prev=null}return this.firstChild=this.lastChild=null,this},gg.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this.firstChild;if(zm(this))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(e[r.name])return!1;if(zm(r))return!1}if(8===r.type)return!1;if(3===r.type&&!function(e){if(!ci(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)}(r))return!1;if(3===r.type&&r.parent&&t[r.parent.name]&&ci(r.value))return!1;if(n&&n(r))return!1}while(r=Am(r,this));return!0},gg.prototype.walk=function(e){return Am(this,null,e)},gg);function gg(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}function hg(e,t){return e.replace(t.re,(function(e){return _e(t.uris,e).getOr(e)}))}function pg(e,t,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?(e=e.allow_svg_data_urls,n=n,(w(e)?!e:!w(n)||!ie(xg,n))&&/^data:image\/svg\+xml/i.test(t)):/^data:/i.test(t))}var vg=Cn.each,bg=Cn.trim,yg="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),wg={ftp:21,http:80,https:443,mailto:25},xg=["img","video"],Cg=(Sg.parseDataUri=function(e){e=decodeURIComponent(e).split(",");var t,n=/data:([^;]+)/.exec(e[0]);return{type:t=n?n[1]:t,data:e[1]}},Sg.isDomSafe=function(e,t,n){if((n=void 0===n?{}:n).allow_script_urls)return!0;e=Ei.decode(e).replace(/[\s\u0000-\u001F]+/g,"");try{e=decodeURIComponent(e)}catch(t){e=unescape(e)}return!/((java|vb)script|mhtml):/i.test(e)&&!pg(n,e,t)},Sg.getDocumentBaseUrl=function(e){return e=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},Sg.prototype.setPath=function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},Sg.prototype.toRelative=function(e){if("./"===e)return e;if(e=new Sg(e,{base_uri:this}),"mce_host"!==e.host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var t=this.getURI(),n=e.getURI();return t===n||"/"===t.charAt(t.length-1)&&t.substr(0,t.length-1)===n?t:(n=this.toRelPath(this.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},Sg.prototype.toAbsolute=function(e,t){return e=new Sg(e,{base_uri:this}),e.getURI(t&&this.isSameOrigin(e))},Sg.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=wg[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},Sg.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),u=t.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i},Sg.prototype.toAbsPath=function(e,t){var n,r=0,o=[],i=/\/$/.test(t)?"/":"",a=(e=e.split("/"),t.split("/"));for(vg(e,(function(e){e&&o.push(e)})),e=o,n=a.length-1,o=[];0<=n;n--)0!==a[n].length&&"."!==a[n]&&(".."!==a[n]?0<r?r--:o.push(a[n]):r++);return 0!==(t=(n=e.length-r)<=0?pe(o).join("/"):e.slice(0,n).join("/")+"/"+pe(o).join("/")).indexOf("/")&&(t="/"+t),i&&t.lastIndexOf("/")!==t.length-1&&(t+=i),t},Sg.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},Sg);function Sg(e,t){e=bg(e),this.settings=t||{};t=this.settings.base_uri;var n,r,o,i,a=this;/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)?a.source=e:(n=0===e.indexOf("//"),0!==e.indexOf("/")||n||(e=(t&&t.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(r=this.settings.base_uri?this.settings.base_uri.path:new Sg(document.location.href).directory,e=this.settings.base_uri&&""==this.settings.base_uri.protocol?"//mce_host"+a.toAbsPath(r,e):(o=/([^#?]*)([#?]?.*)/.exec(e),(t&&t.protocol||"http")+"://mce_host"+a.toAbsPath(r,o[1])+o[2])),e=e.replace(/@@/g,"(mce_at)"),i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),vg(yg,(function(e,t){t=(t=i[t])&&t.replace(/\(mce_at\)/g,"@@"),a[e]=t})),t&&(a.protocol||(a.protocol=t.protocol),a.userInfo||(a.userInfo=t.userInfo),a.port||"mce_host"!==a.host||(a.port=t.port),a.host&&"mce_host"!==a.host||(a.host=t.host),a.source=""),n&&(a.protocol=""))}function kg(e,t,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getShortEndedElements(),a=1,u=n;0!==a;)for(r.lastIndex=u;;){var c=r.exec(t);if(null===c)return u;if("!"===c[1]){u=Vt(c[2],"--")?Fv(t,!1,c.index+"!--".length):Fv(t,!0,c.index+1);break}o.lastIndex=r.lastIndex;var s=o.exec(t);if(!p(s)&&s.index===r.lastIndex){"/"===c[1]?--a:Ee(i,c[2])||(a+=1),u=r.lastIndex+s[0].length;break}}return u}function Og(e,t){function n(n,r){void 0===r&&(r="html");for(var m,g,h,p,v,b,y,w,x,C,S,k,O,T,_,E,D,A,z,M=n.html,R=0,N=[],B=0,H=Ei.decode,L=Cn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),P="html"===r?0:1,I=function(e){for(var t,n=N.length;n--&&N[n].name!==e;);if(0<=n){for(t=N.length-1;n<=t;t--)(e=N[t]).valid&&l(e.name);N.length=n}},F=function(e,t){return c(hg(e,n),t)},V=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),a(hg(t,n)))},j=function(e,t){var n=e||"",r=!Vt(n,"--"),o=Fv(M,r,t);return e=M.substr(t,o-t),V(r?n+e:e),o+1},U=function(t,r,a,u,c){if(r=r.toLowerCase(),u=r in X?r:H(a||u||c||""),a=hg(u,n),K&&!y&&0==(0===(c=r).indexOf("data-")||0===c.indexOf("aria-"))){var s=O[r];if(!s&&T){for(var l=T.length;l--&&!(s=T[l]).pattern.test(r););-1===l&&(s=null)}if(!s)return;if(s.validValues&&!(a in s.validValues))return}("name"===r||"id"===r)&&t in Pv&&(a in o||a in i)||L[r]&&!Cg.isDomSafe(a,t,e)||y&&(r in L||0===r.indexOf("on"))||(h.map[r]=a,h.push({name:r,value:a}))},W=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),$=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,q=t.getShortEndedElements(),G=e.self_closing_elements||t.getSelfClosingElements(),X=t.getBoolAttrs(),K=e.validate,Y=e.remove_internals,J=e.fix_self_closing,Q=t.getSpecialElements(),Z=M+">";m=W.exec(Z);){var ee=m[0];if(R<m.index&&F(H(M.substr(R,m.index-R))),g=m[7])I(g=":"===(g=g.toLowerCase()).charAt(0)?g.substr(1):g);else if(g=m[8]){if(m.index+ee.length>M.length){F(H(M.substr(m.index))),R=m.index+ee.length;continue}w=(g=":"===(g=g.toLowerCase()).charAt(0)?g.substr(1):g)in q,J&&G[g]&&0<N.length&&N[N.length-1].name===g&&I(g),z=$,te=m[9];var te=(z=z.exec(te))?(te=z[1],z=z[2],"string"==typeof te&&"data-mce-bogus"===te.toLowerCase()?z:null):null;if(null!==te){if("all"===te){R=kg(t,M,W.lastIndex),W.lastIndex=R;continue}C=!1}if(!K||(x=t.getElementRule(g))){if(C=!0,K&&(O=x.attributes,T=x.attributePatterns),(k=m[9])?((y=-1!==k.indexOf("data-mce-type"))&&Y&&(C=!1),(h=[]).map={},k.replace($,(function(e,t,n,r,o){return U(g,t,n,r,o),""}))):(h=[]).map={},K&&!y){if(_=x.attributesRequired,E=x.attributesDefault,D=x.attributesForced,x.removeEmptyAttrs&&!h.length&&(C=!1),D)for(p=D.length;p--;)b=(S=D[p]).name,"{$uid}"===(A=S.value)&&(A="mce_"+B++),h.map[b]=A,h.push({name:b,value:A});if(E)for(p=E.length;p--;)(b=(S=E[p]).name)in h.map||("{$uid}"===(A=S.value)&&(A="mce_"+B++),h.map[b]=A,h.push({name:b,value:A}));if(_){for(p=_.length;p--&&!(_[p]in h.map););-1===p&&(C=!1)}if(S=h.map["data-mce-bogus"]){if("all"===S){R=kg(t,M,W.lastIndex),W.lastIndex=R;continue}C=!1}}C&&s(g,h,w)}else C=!1;if(z=Q[g]){z.lastIndex=R=m.index+ee.length,R=(m=z.exec(M))?(C&&(v=M.substr(R,m.index-R)),m.index+m[0].length):(v=M.substr(R),M.length),C&&(0<v.length&&F(v,!0),l(g)),W.lastIndex=R;continue}w||(k&&k.indexOf("/")===k.length-1?C&&l(g):N.push({name:g,valid:C}))}else if(g=m[1])V(g);else if(g=m[2]){if(!(1==P||e.preserve_cdata||0<N.length&&t.isValidChild(N[N.length-1].name,"#cdata"))){R=j("",m.index+2),W.lastIndex=R;continue}u(g)}else if(g=m[3])d(g);else{if((g=m[4])||"<!"===ee){R=j(g,m.index+ee.length),W.lastIndex=R;continue}if(g=m[5]){if(1!=P){R=j("?",m.index+2),W.lastIndex=R;continue}f(g,m[6])}}R=m.index+ee.length}for(R<M.length&&F(H(M.substr(R))),p=N.length-1;0<=p;p--)(g=N[p]).valid&&l(g.name)}void 0===t&&(t=Ii());var r,o=null!==(r=(e=e||{}).document)&&void 0!==r?r:document,i=o.createElement("form"),a=(!1!==e.fix_self_closing&&(e.fix_self_closing=!0),e.comment||S),u=e.cdata||S,c=e.text||S,s=e.start||S,l=e.end||S,f=e.pi||S,d=e.doctype||S;return{parse:function(e,t){void 0===t&&(t="html"),n(function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,r=[],o={},i=wl("img"),a=0,u=0;t=n.exec(e);){var c=t[0],s=i+"_"+u++;o[s]=c,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(s),a=t.index+c.length}var l=new RegExp(i+"_[0-9]+","g");return 0===a?{prefix:i,uris:o,html:e,re:l}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join(""),re:l})}(e),t)}}}function Tg(e,t){for(var n,r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,o=e.schema,i=function(e,t){return e=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi"),t.replace(e,"")}(e.getTempAttrs(),t),a=o.getShortEndedElements();n=r.exec(i);){var u=r.lastIndex,c=n[0].length,s=void 0;s=a[n[1]]?u:Og.findEndTag(o,i,u),i=i.substring(0,u-c)+i.substring(s);r.lastIndex=u-c}return Io(i)}function _g(e,t,n,r){return n=n,n=ze(ze({},t),{format:n,get:!0,getInner:!0}),t=t.no_events?n:e.fire("BeforeGetContent",n),n="raw"===t.format?Cn.trim(Vv(e.serializer,r.innerHTML)):"text"===t.format?e.dom.isEmpty(r)?"":Io(r.innerText||r.textContent):"tree"===t.format?e.serializer.serialize(r,t):function(e,t){return e=rf(e),e=new RegExp("^(<"+e+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+e+">[\r\n]*|<br \\/>[\r\n]*)$"),t.replace(e,"")}(e,e.serializer.serialize(r,t)),ie(["text","tree"],t.format)||No(Sn.fromDom(r))?t.content=n:t.content=Cn.trim(n),(t.no_events?t:e.fire("GetContent",t)).content}function Eg(e){return{compare:function(t,n){if(t.nodeName!==n.nodeName)return!1;function r(t){var n={};return jv(e.getAttribs(t),(function(r){r=r.nodeName.toLowerCase(),0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=e.getAttrib(t,r))})),n}function o(e,t){var n,r;for(r in e)if(Ee(e,r)){if(void 0===(n=t[r]))return;if(e[r]!==n)return;delete t[r]}for(r in t)if(Ee(t,r))return;return 1}return!!o(r(t),r(n))&&!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&!ld(t)&&!ld(n)}}}function Dg(e){var t=[],n=(e=e||{}).indent,r=Uv(e.indent_before||""),o=Uv(e.indent_after||""),i=Ei.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,u,c){var s,l,f,d;if(n&&r[e]&&0<t.length&&0<(d=t[t.length-1]).length&&"\n"!==d&&t.push("\n"),t.push("<",e),u)for(s=0,l=u.length;s<l;s++)f=u[s],t.push(" ",f.name,'="',i(f.value,!0),'"');t[t.length]=!c||a?">":" />",c&&n&&o[e]&&0<t.length&&0<(d=t[t.length-1]).length&&"\n"!==d&&t.push("\n")},end:function(e){var r;t.push("</",e,">"),n&&o[e]&&0<t.length&&0<(r=t[t.length-1]).length&&"\n"!==r&&t.push("\n")},text:function(e,n){0<e.length&&(t[t.length]=n?e:i(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",i(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}}function Ag(e,t){void 0===t&&(t=Ii());var n=Dg(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(r){var o=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;a(e),e=e.next;);}},a=(n.reset(),function(e){var r=i[e.type];if(r)r(e);else{r=e.name;var u=e.shortEnded,c=e.attributes;if(o&&c&&1<c.length){var s=[],l=(s.map={},t.getElementRule(e.name));if(l){for(var f=0,d=l.attributesOrder.length;f<d;f++)(m=l.attributesOrder[f])in c.map&&(g=c.map[m],s.map[m]=g,s.push({name:m,value:g}));var m,g;for(f=0,d=c.length;f<d;f++)(m=c[f].name)in s.map||(g=c.map[m],s.map[m]=g,s.push({name:m,value:g}));c=s}}if(n.start(e.name,c,u),!u){if(e=e.firstChild)for(;a(e),e=e.next;);n.end(r)}}});return 1!==r.type||e.inner?i[11](r):a(r),n.getContent()}}}function zg(e,t){return Ce(e.parseStyle(e.getAttrib(t,"style")))}function Mg(e,t){return he(zg(e,t),(function(e){return!Wv.has(e)}))}function Rg(e,t,n){function r(r){var o=e.getStyle(t,r);r=e.getStyle(n,r);return Pe(o)&&Pe(r)&&o!==r}var o=zg(e,t),i=zg(e,n);return ae(o,(function(e){function t(t){return ae(t,(function(t){return t===e}))}var n;return!t(i)&&t($v)?(n=le(i,(function(e){return ae($v,(function(t){return Vt(e,t)}))})),ae(n,r)):r(e)}))}function Ng(e,t,n){return ee.from(n.container()).filter(ar).exists((function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))}))}function Bg(e,t){return function(n){return ee.from(Yc(e?0:-1,n)).filter(t).isSome()}}function Hg(e){return fr(e)&&"block"===Sr(Sn.fromDom(e),"display")}function Lg(e){return mr(e)&&!(or(e=e)&&"all"===e.getAttribute("data-mce-bogus"))}function Pg(e){var t=ml(e,"br");e=le(function(e){for(var t=[],n=e.dom;n;)t.push(Sn.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),Eo);t.length===e.length&&ce(e,Jn)}function Ig(e){it(e).each((function(t){tt(t).each((function(n){_o(e)&&Eo(t)&&_o(n)&&Jn(t)}))}))}function Fg(e,t,n){return Dn(t,e)?function(e,t){for(var n=x(t)?t:R,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Sn.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,(function(e){return n(e)||Tn(e,t)})).slice(0,-1):[]}function Vg(e,t,n){return nd(e,t,n,Xv)}function jg(e,t){return de(ib(Sn.fromDom(t.container()),e),_o)}function Ug(e,t,n){return Vg(e,t.dom,n).forall((function(e){return jg(t,n).fold((function(){return!1===If(e,n,t.dom)}),(function(r){return!1===If(e,n,t.dom)&&Dn(r,Sn.fromDom(e.container()))}))}))}function Wg(e,t,n){return jg(t,n).fold((function(){return Vg(e,t.dom,n).forall((function(e){return!1===If(e,n,t.dom)}))}),(function(t){return Vg(e,t.dom,n).isNone()}))}function $g(e){return jf(e).exists(Eo)}function qg(e,t,n){var r=le(ib(Sn.fromDom(n.container()),t),_o);r=be(r).getOr(t);return td(e,r.dom,n).filter($g)}function Gg(e,t){return jf(t).exists(Eo)||qg(!0,e,t).isSome()}function Xg(e,t){return ee.from(t.getNode(!0)).map(Sn.fromDom).exists(Eo)||qg(!1,e,t).isSome()}function Kg(e){return Gl.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()}function Yg(e,t){return t=le(ib(Sn.fromDom(t.container()),e),_o),be(t).getOr(e)}function Jg(e,t){return Kg(t)?Gv(t):Gv(t)||od(Yg(e,t).dom,t).exists(Gv)}function Qg(e,t){return Kg(t)?qv(t):qv(t)||rd(Yg(e,t).dom,t).exists(qv)}function Zg(e){return jf(e).bind((function(e){return jr(e,zn)})).exists((function(e){return e=Sr(e,"white-space"),ie(["pre","pre-wrap"],e)}))}function eh(e,t){return od(e.dom,t).isNone()||rd(e.dom,t).isNone()||ab(e,t)||ub(e,t)||Xg(e,t)||Gg(e,t)}function th(e,t){return!Zg(t)&&(ab(e,t)||cb(e,t)||Xg(e,t)||Jg(e,t))}function nh(e,t){return!Zg(t)&&(ub(e,t)||sb(e,t)||Gg(e,t)||Qg(e,t))}function rh(e,t){return th(e,t)||nh(e,(t=(e=t).container(),n=e.offset(),ar(t)&&n<t.data.length?Gl(t,n+1):e));var n}function oh(e,t){return fd(e.charAt(t))}function ih(e){return e=e.container(),ar(e)&&He(e.data,Ho)}function ah(e){var t,n=e.data,r=(t=n.split(""),ue(t,(function(e,n){return fd(e)&&0<n&&n<t.length-1&&xs(t[n-1])&&xs(t[n+1])?" ":e})).join(""));return r!==n&&(e.data=r,!0)}function uh(e,t){return ee.some(t).filter(ih).bind((function(t){var n,r,o,i,a=t.container();return n=e,o=(r=a).data,i=Gl(r,0),(!oh(o,0)||rh(n,i)?ah(a):(r.data=" "+o.slice(1),1))||(n=e,r=(i=a).data,o=Gl(i,r.length-1),oh(r,r.length-1)&&!rh(n,o)&&(i.data=r.slice(0,-1)+" ",1))?ee.some(t):ee.none()}))}function ch(e){var t=Sn.fromDom(e.getBody());e.selection.isCollapsed()&&uh(t,Gl.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))}function sh(e,t,n){var r,o,i,a,u,c;0!==n&&(i=Sn.fromDom(e),i=Vr(i,_o).getOr(i),r=e.data.slice(t,t+n),o=t+n>=e.data.length&&nh(i,Gl(e,e.data.length)),i=0===t&&th(i,Gl(e,0)),e.replaceData(t,n,(u=i,c=o,fe(a=r,(function(e,t){return ws(t)||fd(t)?e.previousCharIsSpace||""===e.str&&u||e.str.length===a.length-1&&c?{previousCharIsSpace:!1,str:e.str+Ho}:{previousCharIsSpace:!0,str:e.str+" "}:{previousCharIsSpace:!1,str:e.str+t}}),{previousCharIsSpace:!1,str:""}).str)))}function lh(e,t){var n=(n=e.data.slice(t)).length-Ut(n).length;sh(e,t,n)}function fh(e,t){var n=(n=e.data.slice(0,t)).length-Wt(n).length;sh(e,t-n,n)}function dh(e,t,n,r){void 0===r&&(r=!0);var o=Wt(e.data).length,i=r?e:t;t=r?t:e;return r?i.appendData(t.data):i.insertData(0,t.data),Jn(Sn.fromDom(t)),n&&lh(i,o),i}function mh(e,t){return e=e,r=(n=t).container(),o=n.offset(),!1===Gl.isTextPosition(n)&&r===e.parentNode&&o>Gl.before(e).offset()?Gl(t.container(),t.offset()-1):t;var n,r,o}function gh(e){return lo(e.previousSibling)?ee.some((t=e.previousSibling,ar(t)?Gl(t,t.data.length):Gl.after(t))):e.previousSibling?ad(e.previousSibling):ee.none();var t}function hh(e){return lo(e.nextSibling)?ee.some((t=e.nextSibling,ar(t)?Gl(t,0):Gl.before(t))):e.nextSibling?id(e.nextSibling):ee.none();var t}function ph(e,t){return gh(t).orThunk((function(){return hh(t)})).orThunk((function(){return n=e,r=t,o=Gl.before(r.previousSibling||r.parentNode),od(n,o).fold((function(){return rd(n,Gl.after(r))}),ee.some);var n,r,o}))}function vh(e,t){return hh(t).orThunk((function(){return gh(t)})).orThunk((function(){return r=t,rd(n=e,Gl.after(r)).fold((function(){return od(n,Gl.before(r))}),ee.some);var n,r}))}function bh(e,t,n){return(e?vh:ph)(t,n).map(E(mh,n))}function yh(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))}function wh(e,t){return t&&Ee(e.schema.getBlockElements(),An(t))}function xh(e){var t;return mi(e)?(t=Sn.fromHtml('<br data-mce-bogus="1">'),lt(e),Kn(e,t),ee.some(Gl.before(t.dom))):ee.none()}function Ch(e,t,n){var r,o,i,a=tt(e).filter(Mn),u=In(e).filter(Mn);return Jn(e),e=u,o=t,i=function(e,t,r){e=e.dom,t=t.dom;var o=e.data.length;return dh(e,t,n),r.container()===t?Gl(e,o):r},((r=a).isSome()&&e.isSome()&&o.isSome()?ee.some(i(r.getOrDie(),e.getOrDie(),o.getOrDie())):ee.none()).orThunk((function(){return n&&(a.each((function(e){return fh(e.dom,e.dom.length)})),u.each((function(e){return lh(e.dom,0)}))),t}))}function Sh(e,t,n,r){void 0===r&&(r=!0);var o,i=bh(t,e.getBody(),n.dom),a=Vr(n,E(wh,e),(o=e.getBody(),function(e){return e.dom===o})),u=Ch(n,i,(i=n,Ee(e.schema.getTextInlineElements(),An(i))));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(xh).fold((function(){r&&yh(e,t,u)}),(function(n){r&&yh(e,t,ee.some(n))}))}function kh(e){return ml(e,"td,th")}function Oh(e,t){function n(e){return Js(Sn.fromDom(e),t)}var r=n(e.startContainer),o=(e=n(e.endContainer),r.isSome()),i=e.isSome(),a=Tt(r,e,Tn).getOr(!1);return{startTable:r,endTable:e,isStartInTable:o,isEndInTable:i,isSameTable:a,isMultiTable:!a&&o&&i}}function Th(e,t){return{start:e,end:t}}function _h(e,t){return Zr(Sn.fromDom(e),"td,th",t)}function Eh(e){return!Tn(e.start,e.end)}function Dh(e,t){return Js(e.start,t).bind((function(n){return Js(e.end,t).bind((function(e){return e=Tn(n,e),t=n,e?ee.some(t):ee.none();var t}))}))}function Ah(e){return function(t){return Dh(t,e).map((function(e){return{rng:t,table:e,cells:kh(e)}}))}}function zh(e,t,n,r){return n.collapsed||!e.forall(Eh)?ee.none():t.isSameTable?(t=e.bind(Ah(r)),ee.some({start:t,end:t})):(e=_h(n.startContainer,r),t=_h(n.endContainer,r),n=e.bind((i=r,function(e){return Js(e,i).bind((function(t){return ye(kh(t)).map((function(t){return Th(e,t)}))}))})).bind(Ah(r)),e=t.bind((o=r,function(e){return Js(e,o).bind((function(t){return be(kh(t)).map((function(t){return Th(t,e)}))}))})).bind(Ah(r)),ee.some({start:n,end:e}));var o,i}function Mh(e,t){return me(e,(function(e){return Tn(e,t)}))}function Rh(e){return Tt(Mh(e.cells,e.rng.start),Mh(e.cells,e.rng.end),(function(t,n){return e.cells.slice(t,n+1)}))}function Nh(e,t,n){return e.exists((function(e){return o=n,!Eh(r=e)&&Dh(r,o).exists((function(e){return e=e.dom.rows,1===e.length&&1===e[0].cells.length}))&&el(e.start,t);var r,o}))}function Bh(e,t){var n=t.startTable,r=(t=t.endTable,e.cloneRange());return n.each((function(e){return r.setStartAfter(e.dom)})),t.each((function(e){return r.setEndBefore(e.dom)})),r}function Hh(e,t){function n(e){return Tn(r,e)}r=e,e=n,s=_h((o=t).startContainer,e),o=_h(o.endContainer,e);e=Tt(s,o,Th);var r,o,i,a,u,c,s=Oh(t,n);return Nh(e,t,n)?e.map((function(e){return db.singleCellTable(t,e.start)})):s.isMultiTable?zh(e,u=s,c=t,n).bind((function(e){var t,n=e.start;e=e.end,n=n.bind(Rh).getOr([]),e=e.bind(Rh).getOr([]);return 0<n.length&&0<e.length?(t=Bh(c,u),ee.some(db.multiTable(n,e,t))):ee.none()})):zh(e,i=s,a=t,n).bind((function(e){var t=e.start;e=e.end;return t.or(e)})).bind((function(e){var t=i.isSameTable,n=Rh(e).getOr([]);return t&&e.cells.length===n.length?ee.some(db.fullTable(e.table)):0<n.length?t?ee.some(db.partialTable(n,ee.none())):(e=Bh(a,i),ee.some(db.partialTable(n,ee.some(ze(ze({},i),{rng:e}))))):ee.none()}))}function Lh(e){return ce(e,(function(e){Et(e,"contenteditable"),rb(e)}))}function Ph(e,t,n,r){var o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),jh(e,o,t,!1)}function Ih(e){var t=wd(e),n=Sn.fromDom(e.selection.getNode());gr(n.dom)&&mi(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),1<t.length&&ae(t,(function(e){return Tn(e,n)}))&&br(n,"data-mce-selected","1")}function Fh(e,t,n){var r=e.selection.getRng();n=n.bind((function(n){var o,i,a=n.rng,u=(n=n.isStartInTable,u=n?a.endContainer:a.startContainer,ee.from(e.dom.getParent(u,e.dom.isBlock)).map(Sn.fromDom));a.deleteContents(),o=e,i=n,u.filter(mi).each((function(e){i?Jn(e):(rb(e),o.selection.setCursorLocation(e.dom,0))})),a=n?t[0]:t[t.length-1];return Ph(e,a,r,n),mi(a)?ee.none():ee.some(n?t.slice(1):t.slice(0,-1))})).getOr(t);return Lh(n),Ih(e),!0}function Vh(e,t,n,r){var o=e.selection.getRng(),i=t[0],a=n[n.length-1];Ph(e,i,o,!0),Ph(e,a,o,!1),o=mi(i)?t:t.slice(1),i=mi(a)?n:n.slice(0,-1);return Lh(o.concat(i)),r.deleteContents(),Ih(e),!0}function jh(e,t,n,r){void 0===r&&(r=!0),t.deleteContents();t=mb(n).getOr(n);var o=Sn.fromDom(e.dom.getParent(t.dom,e.dom.isBlock));return mi(o)&&(rb(o),r&&e.selection.setCursorLocation(o.dom,0)),Tn(n,o)||(t=pr(Ln(o),n)?[]:Pn(o),ce(t.concat(Fn(n)),(function(e){Tn(e,o)||Dn(e,o)||!mi(e)||Jn(e)}))),!0}function Uh(e,t){return Sh(e,!1,t),!0}function Wh(e,t,n,r){return qh(t,r).fold((function(){return r=e,Hh(t,n).map((function(e){return e.fold(E(jh,r),E(Uh,r),E(Fh,r),E(Vh,r))}));var r}),(function(t){return gb(e,t)})).getOr(!1)}function $h(e,t){return de(ib(t,e),Ro)}function qh(e,t){return de(ib(t,e),Bn("caption"))}function Gh(e,t){return rb(t),e.selection.setCursorLocation(t.dom,0),ee.some(!0)}function Xh(e,t,n,r,o){return ss(n,e.getBody(),o).bind((function(i){return c=n,s=o,l=i,id((u=r).dom).bind((function(e){return ad(u.dom).map((function(t){return c?s.isEqual(e)&&l.isEqual(t):s.isEqual(t)&&l.isEqual(e)}))})).getOr(!0)?hb(e,r):(a=r,qh(t,Sn.fromDom(i.getNode())).map((function(e){return!1===Tn(e,a)})));var a,u,c,s,l})).or(ee.some(!0))}function Kh(e,t,n,r){var o=Gl.fromRangeStart(e.selection.getRng());return $h(n,r).bind((function(r){return mi(r)?Gh(e,r):(i=n,a=r,r=o,ss(t,e.getBody(),r).bind((function(e){return $h(i,Sn.fromDom(e.getNode())).map((function(e){return!1===Tn(e,a)}))})));var i,a})).getOr(!1)}function Yh(e,t){return(e?Zv:eb)(t)}function Jh(e,t,n){var r=Sn.fromDom(e.getBody());return qh(r,n).fold((function(){return Kh(e,t,r,n)||(o=e,i=t,a=Gl.fromRangeStart(o.selection.getRng()),Yh(i,a)||td(i,o.getBody(),a).exists((function(e){return Yh(i,e)})));var o,i,a}),(function(n){return o=e,i=t,a=r,n=n,u=Gl.fromRangeStart(o.selection.getRng()),(mi(n)?Gh(o,n):Xh(o,a,i,n,u)).getOr(!1);var o,i,a,u}))}function Qh(e,t){var n,r=Sn.fromDom(e.selection.getStart(!0)),o=wd(e);return e.selection.isCollapsed()&&0===o.length?Jh(e,t,r):(t=e,e=r,r=o,o=Sn.fromDom(t.getBody()),n=t.selection.getRng(),0!==r.length?Fh(t,r,ee.none()):Wh(t,o,n,e))}function Zh(e){var t=Gl.fromRangeStart(e),n=Gl.fromRangeEnd(e),r=e.commonAncestorContainer;return td(!1,r,n).map((function(o){return!If(t,n,r)&&If(t,o,r)?(i=t.container(),a=t.offset(),u=o.container(),o=o.offset(),(c=document.createRange()).setStart(i,a),c.setEnd(u,o),c):e;var i,a,u,c})).getOr(e)}function ep(e){return e.collapsed?e:Zh(e)}function tp(e,t){return e.getBlockElements()[t.name]&&(e=t).firstChild&&e.firstChild===e.lastChild&&("br"===(e=t.firstChild).name||e.value===Ho)}function np(e,t){var n,r,o=t.firstChild;t=t.lastChild;return o&&"meta"===o.name&&(o=o.next),t&&"mce_marker"===t.attr("id")&&(t=t.prev),n=t,r=(e=e).getNonEmptyElements(),n&&(n.isEmpty(r)||tp(e,n))&&(t=t.prev),!(!o||o!==t)&&("ul"===o.name||"ol"===o.name)}function rp(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&((e=e.firstChild).data===Ho||lr(e))}function op(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||rp(t))?e.slice(0,-1):e;var t}function ip(e,t){return(t=e.getParent(t,e.isBlock))&&"LI"===t.nodeName?t:null}function ap(e,t){return e=Gl.after(e),(t=os(t).prev(e))?t.toRange():null}function up(e,t,n){var r=e.parentNode;Cn.each(t,(function(t){r.insertBefore(t,e)})),t=e;return t=Gl.before(t),(n=os(n).next(t))?n.toRange():null}function cp(e,t,n,r){function o(e){var r=Gl.fromRangeStart(n),o=os(t.getRoot());return!(e=1===e?o.prev(r):o.next(r))||ip(t,e.getNode())!==s}l=t,r=r,e=(e=e).serialize(r),r=l.createFragment(e),e=(l=r).firstChild,r=l.lastChild,e&&"META"===e.nodeName&&e.parentNode.removeChild(e),r&&"mce_marker"===r.id&&r.parentNode.removeChild(r);e=l;var i,a,u,c,s=ip(t,n.startContainer),l=op((r=e.firstChild,le(r.childNodes,(function(e){return"LI"===e.nodeName}))));e=t.getRoot();return o(1)?up(s,l,e):o(2)?(r=s,a=l,u=e,t.insertAfter(a.reverse(),r),ap(a[0],u)):(r=l,a=e,u=i=s,e=(l=l=n).cloneRange(),l=l.cloneRange(),e.setStartBefore(u),l.setEndAfter(u),u=[e.cloneContents(),l.cloneContents()],(c=i.parentNode).insertBefore(u[0],i),Cn.each(r,(function(e){c.insertBefore(e,i)})),c.insertBefore(u[1],i),c.removeChild(i),ap(r[r.length-1],a))}function sp(e,t){var n,r=e.dom,o=e.selection;if(t){o.scrollIntoView(t);var i=Ad(e.getBody(),t);if("false"===r.getContentEditable(i))return r.remove(t),o.select(i),0;i=r.createRng();var a,u=t.previousSibling;u=(ar(u)?(i.setStart(u,u.nodeValue.length),wn.ie||(a=t.nextSibling,ar(a)&&(u.appendData(a.data),a.parentNode.removeChild(a)))):(i.setStartBefore(t),i.setEndBefore(t)),r.getParent(t,r.isBlock));r.remove(t),u&&r.isEmpty(u)&&(e.$(u).empty(),i.setStart(u,0),i.setEnd(u,0),pb(u)||u.getAttribute("data-mce-fragment")||!(n=function(t){if(t=Gl.fromRangeStart(t),t=os(e.getBody()).next(t))return t.toRange()}(i))?r.add(u,r.create("br",{"data-mce-bogus":"1"})):(i=n,r.remove(u))),o.setRng(i)}}function lp(e){var t,n,r=e.dom,o=ep(e.selection.getRng()),i=(e.selection.setRng(o),r.getParent(o.startContainer,pb));r=r,t=o,null!==(n=i)&&n===r.getParent(t.endContainer,pb)&&el(Sn.fromDom(n),t)?jh(e,o,Sn.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)}function fp(e,t,n){var r=e.selection,o=e.dom,i=(/^ | $/.test(t)&&(t=function(e,t,n){return e=Sn.fromDom(e.getRoot()),n=th(e,Gl.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),nh(e,Gl.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")}(o,r.getRng(),t)),e.parser),a=n.merge,u=Ag({validate:e.getParam("validate")},e.schema),c='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',s=e.fire("BeforeSetContent",{content:t,format:"html",selection:!0,paste:n.paste});if(s.isDefaultPrevented())e.fire("SetContent",{content:s.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=s.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,c);var l,f,d,m,g,h,p=(h=r.getRng()).startContainer||(h.parentElement?h.parentElement():null),v=e.getBody(),b=(p=(p===v&&r.isCollapsed()&&o.isBlock(v.firstChild)&&(p=e,(l=v.firstChild)&&!p.schema.getShortEndedElements()[l.nodeName])&&o.isEmpty(v.firstChild)&&((h=o.createRng()).setStart(v.firstChild,0),h.setEnd(v.firstChild,0),r.setRng(h)),r.isCollapsed()||lp(e),{context:(S=r.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0}),i.parse(t,p));if(!0===n.paste&&np(e.schema,b)&&ip(o,S))return h=cp(u,o,r.getRng(),b),r.setRng(h),void e.fire("SetContent",s);for(var y=b;y=y.walk();)1===y.type&&y.attr("data-mce-fragment","1");if("mce_marker"===(C=b.lastChild).attr("id"))for(var x=C,C=C.prev;C;C=C.walk(!0))if(3===C.type||!o.isBlock(C.name)){e.schema.isValidChild(C.parent.name,"span")&&C.parent.insert(x,C,"br"===C.name);break}if(e._selectionOverrides.showBlockCaretContainer(S),p.invalid){e.selection.setContent(c);var S=r.getNode(),k=e.getBody();for(9===S.nodeType?S=C=k:C=S;C!==k;)C=(S=C).parentNode;t=S===k?k.innerHTML:o.getOuterHTML(S),t=u.serialize(i.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return u.serialize(b)})))),S===k?o.setHTML(k,t):o.setOuterHTML(S,t)}else t=u.serialize(b),l=e,v=t,"all"===(n=S).getAttribute("data-mce-bogus")?n.parentNode.insertBefore(l.dom.createFragment(v),n):(h=n.firstChild,p=n.lastChild,!h||h===p&&"BR"===h.nodeName?l.dom.setHTML(n,v):l.selection.setContent(v));c=a,m=(i=e).schema.getTextInlineElements(),g=i.dom,c&&(f=i.getBody(),d=Eg(g),Cn.each(g.select("*[data-mce-fragment]"),(function(e){if(w(m[e.nodeName.toLowerCase()])&&Mg(g,e))for(var t=e.parentNode;w(t)&&t!==f;t=t.parentNode){if(Rg(g,e,t))break;if(d.compare(t,e)){g.remove(e,!0);break}}}))),sp(e,o.get("mce_marker")),t=e.getBody(),Cn.each(t.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")})),p=o,h=r.getStart(),ee.from(p.getParent(h,"td,th")).map(Sn.fromDom).each(Ig),e.fire("SetContent",s),e.addVisual()}}function dp(e,t){t(e),e.firstChild&&dp(e.firstChild,t),e.next&&dp(e.next,t)}function mp(e,t,n){e=function(e,t,n){var r,o,i={},a={},u=[];for(r in n.firstChild&&dp(n.firstChild,(function(n){ce(e,(function(e){e.name===n.name&&(i[e.name]?i[e.name].nodes.push(n):i[e.name]={filter:e,nodes:[n]})})),ce(t,(function(e){"string"==typeof n.attr(e.name)&&(a[e.name]?a[e.name].nodes.push(n):a[e.name]={filter:e,nodes:[n]})}))})),i)Ee(i,r)&&u.push(i[r]);for(o in a)Ee(a,o)&&u.push(a[o]);return u}(e,t,n),ce(e,(function(e){ce(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))}function gp(e){return e instanceof mg}function hp(e,t,n){var r;e.dom.setHTML(e.getBody(),t),!0!==n&&ag(r=e)&&id(r.getBody()).each((function(e){var t=e.getNode();t=kt(t)?id(t).getOr(e):e;r.selection.setRng(t.toRange())}))}function pp(e,t,n){r=t;var r=ze(ze({format:"html"},n),{set:!0,content:gp(r)?"":r}),o=n.no_events?r:e.fire("BeforeSetContent",r);return gp(t)||(t=o.content),ee.from(e.getBody()).fold(T(t),(function(n){return gp(t)?(i=n,a=t,u=o,mp((r=e).parser.getNodeFilters(),r.parser.getAttributeFilters(),a),c=Ag({validate:r.validate},r.schema).serialize(a),u.content=No(Sn.fromDom(i))?c:Cn.trim(c),hp(r,u.content,u.no_selection),u.no_events||r.fire("SetContent",u),a):(i=e,c=n,r=o,0===(u=t).length||/^\s+$/.test(u)?(a='<br data-mce-bogus="1">',"TABLE"===c.nodeName?u="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(c.nodeName)&&(u="<li>"+a+"</li>"),u=(n=rf(i))&&i.schema.isValidChild(c.nodeName.toLowerCase(),n.toLowerCase())?(u=a,i.dom.createHTML(n,Dc(i),u)):u||'<br data-mce-bogus="1">',hp(i,u,r.no_selection),i.fire("SetContent",r)):("raw"!==r.format&&(u=Ag({validate:i.validate},i.schema).serialize(i.parser.parse(u,{isRootContent:!0,insert:!0}))),r.content=No(Sn.fromDom(c))?u:Cn.trim(u),hp(i,r.content,r.no_selection),r.no_events||i.fire("SetContent",r)),r.content);var r,i,a,u,c}))}function vp(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o];if(md(i)&&!1===i.inherit&&e.dom.is(t,i.selector))return 1}}function bp(e,t,n,r,o){var i=e.dom.getRoot();return t!==i&&(t=e.dom.getParent(t,(function(t){return!!vp(e,t,n)||t.parentNode===i||!!yp(e,t,n,r,!0)})),!!yp(e,t,n,r,o))}function yp(e,t,n,r,o){var i=e.formatter.get(n),a=e.dom;if(i&&t)for(var u=0;u<i.length;u++){var c=i[u];if(xb(e.dom,t,c)&&Cb(a,t,c,"attributes",o,r)&&Cb(a,t,c,"styles",o,r)){var s=c.classes;if(s)for(var l=0;l<s.length;l++)if(!e.dom.hasClass(t,dd(s[l],r)))return;return c}}}function wp(e,t,n,r,o){if(r)return bp(e,r,t,n,o);if(r=e.selection.getNode(),bp(e,r,t,n,o))return!0;var i=e.selection.getStart();return!(i===r||!bp(e,i,t,n,o))}function xp(e,t){function n(t){return Tn(t,Sn.fromDom(e.getBody()))}return ee.from(e.selection.getStart(!0)).bind((function(r){return yb(Sn.fromDom(r),(function(n){return xe(t,(function(t){return t=t,yp(e,n.dom,t)?ee.some(t):ee.none()}))}),n)})).getOrNull()}function Cp(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Sb||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length}function Sp(e){if(e){var t=new ro(e,e);for(e=t.current();e;e=t.next())if(ar(e))return e}return null}function kp(e){var t=Sn.fromTag("span");return yr(t,{id:kb,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Kn(t,Sn.fromText(Sb)),t}function Op(e,t,n){void 0===n&&(n=!0);var r,o,i,a,u,c=e.dom,s=e.selection;Cp(t)?Sh(e,!1,Sn.fromDom(t),n):(e=s.getRng(),n=c.getParent(t,c.isBlock),r=e.startContainer,o=e.startOffset,i=e.endContainer,a=e.endOffset,u=function(e){return e=Sp(e),e&&e.nodeValue.charAt(0)===Sb&&e.deleteData(0,1),e}(t),c.remove(t,!0),r===u&&0<o&&e.setStart(u,o-1),i===u&&0<a&&e.setEnd(u,a-1),n&&c.isEmpty(n)&&rb(Sn.fromDom(n)),s.setRng(e))}function Tp(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)Op(e,t,n);else if(!(t=fs(e.getBody(),o.getStart())))for(;t=r.get(kb);)Op(e,t,!1)}function _p(e,t){return e.appendChild(t),t}function Ep(e,t){return e=I(e,(function(e,t){return _p(e,t.cloneNode(!1))}),t),_p(e,e.ownerDocument.createTextNode(Sb))}function Dp(e,t,n,r,o,i){var a,u,c=e.formatter,s=e.dom,l=le(Ce(c.get()),(function(e){return e!==r&&!He(e,"removeformat")}));a=e,u=n,l=fe(l,(function(e,t){var n=Rs(a,t);return a.formatter.matchNode(u,t,{},n)?e.concat([t]):e}),[]);return 0<le(l,(function(t){return!Ns(e,t,r)})).length?(l=n.cloneNode(!1),s.add(t,l),c.remove(r,o,l,i),s.remove(l),ee.some(l)):ee.none()}function Ap(e,t,n,r){var o,i,a,u,c,s=e.dom,l=e.selection,f=[],d=l.getRng(),m=d.startContainer,g=d.startOffset,h=m;for(3===m.nodeType&&(g!==m.nodeValue.length&&(o=!0),h=h.parentNode);h;){if(yp(e,h,t,n,r)){i=h;break}h.nextSibling&&(o=!0),f.push(h),h=h.parentNode}i&&(o?(g=l.getBookmark(),d.collapse(!0),m=Gs(e,d,e.formatter.get(t),!0),m=Vd(m),e.formatter.remove(t,n,m,r),l.moveToBookmark(g)):(d=fs(e.getBody(),i),m=kp(!1).dom,g=m,u=null!==d?d:i,(a=(c=(a=e).dom).getParent(u,E(Os,a)))&&c.isEmpty(a)?u.parentNode.replaceChild(g,u):(Pg(Sn.fromDom(u)),c.isEmpty(u)?u.parentNode.replaceChild(g,u):c.insertAfter(g,u)),a=Dp(e,m,i,t,n,r),c=Ep(f.concat(a.toArray()),m),Op(e,d,!1),l.setCursorLocation(c,1),s.isEmpty(i)&&s.remove(i)))}function zp(e,t){return e=e.schema.getTextInlineElements(),Ee(e,An(t))&&!cd(t.dom)&&!St(t.dom)}function Mp(e){return or(e)&&!ld(e)&&!cd(e)&&!St(e)}function Rp(e,t){for(var n=e;n;n=n[t]){if(ar(n)&&Pe(n.data))return e;if(or(n)&&!ld(n))return n}return e}function Np(e,t,n){var r=Eg(e);if(t&&n&&(t=Rp(t,"previousSibling"),n=Rp(n,"nextSibling"),r.compare(t,n))){for(var o=t.nextSibling;o&&o!==n;){var i=o;o=o.nextSibling;t.appendChild(i)}return e.remove(n),Cn.each(Cn.grep(n.childNodes),(function(e){t.appendChild(e)})),t}return n}function Bp(e,t,n,r){r&&!1!==t.merge_siblings&&(t=Np(e,ks(r),r),Np(e,t,ks(t,!0)))}function Hp(e,t,n){Db(e.childNodes,(function(e){Mp(e)&&(t(e)&&n(e),e.hasChildNodes()&&Hp(e,t,n))}))}function Lp(e,t){return function(n){return!(!n||!As(e,n,t))}}function Pp(e,t,n){return function(r){var o;e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),o=e,"SPAN"===(r=r).nodeName&&0===o.getAttribs(r).length&&o.remove(r,!0)}}function Ip(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)}function Fp(e,t,n){var r,o=t[n?"startContainer":"endContainer"];t=t[n?"startOffset":"endOffset"];return or(o)&&(r=o.childNodes.length-1,!n&&t&&t--,o=o.childNodes[r<t?r:t]),ar(o)&&n&&t>=o.nodeValue.length&&(o=new ro(o,e.getBody()).next()||o),ar(o)&&!n&&0===t&&new ro(o,e.getBody()).prev()||o}function Vp(e,t){var n;t=t?"firstChild":"lastChild";return/^(TR|TH|TD)$/.test(e.nodeName)&&e[t]?(n=e[t],"TR"===e.nodeName&&n[t]||n):e}function jp(e,t,n,r){return e=e.create(n,r),t.parentNode.insertBefore(e,t),e.appendChild(t),e}function Up(e,t,n,r,o){return t=Sn.fromDom(t),e=Sn.fromDom(e.create(r,o)),r=(n?rt:nt)(t),st(e,r),n?(Xn(t,e),ct(e,t)):(ut(t,e),Kn(e,t)),e.dom}function Wp(e,t,n,r){return t=ks(t,n,r),y(t)||"BR"===t.nodeName||e.isBlock(t)}function $p(e,t,n){var r,o=t.parentNode,i=e.dom,a=rf(e);Bs(n)&&(a?o===i.getRoot()&&(n.list_block&&Rb(t,n.list_block)||ce(we(t.childNodes),(function(t){Ts(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=jp(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=null}))):i.isBlock(t)&&!i.isBlock(o)&&(Wp(i,t,!1)||Wp(i,t.firstChild,!0,!0)||t.insertBefore(i.create("br"),t.firstChild),Wp(i,t,!0)||Wp(i,t.lastChild,!1,!0)||t.appendChild(i.create("br")))),md(o=n)&&gd(o)&&pr(_e(o,"mixed"),!0)&&!Rb(n.inline,t)||i.remove(t,!0)}function qp(e,t,n,r,o){var i,a,u,c=e.dom;if(a=c,l=r,!(gd(u=t)&&Rb(l,u.inline)||Bs(u)&&Rb(l,u.block)||(md(u)?or(l)&&a.is(l,u.selector):void 0)||(a=r,t.links&&"A"===a.nodeName)))return Ab.keep();var s=r;if(gd(t)&&"all"===t.remove&&h(t.preserve_attributes)){var l=le(c.getAttribs(s),(function(e){return ie(t.preserve_attributes,e.name.toLowerCase())}));if(c.removeAllAttribs(s),ce(l,(function(e){return c.setAttrib(s,e.name,e.value)})),0<l.length)return Ab.rename("span")}if("all"!==t.remove){Mb(t.styles,(function(e,r){e=Ds(c,dd(e,n),r+""),C(r)&&(r=e,o=null),!t.remove_similar&&o&&!Rb(As(c,o,r),e)||c.setStyle(s,r,""),i=!0})),i&&""===c.getAttrib(s,"style")&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style")),Mb(t.attributes,(function(e,r){var i;if(e=dd(e,n),C(r)&&(r=e,o=null),t.remove_similar||!o||Rb(c.getAttrib(o,r),e))if("class"===r&&(e=c.getAttrib(s,r))&&(i="",ce(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)})),i))c.setAttrib(s,r,i);else{if(zb.test(r)&&s.removeAttribute("data-mce-"+r),"style"===r&&wt(["li"])(s)&&"none"===c.getStyle(s,"list-style-type"))return s.removeAttribute(r),void c.setStyle(s,"list-style-type","none");"class"===r&&s.removeAttribute("className"),s.removeAttribute(r)}})),Mb(t.classes,(function(e){e=dd(e,n),o&&!c.hasClass(o,e)||c.removeClass(s,e)}));for(var f=c.getAttribs(s),d=0;d<f.length;d++){var m=f[d].nodeName;if(0!==m.indexOf("_")&&0!==m.indexOf("data-"))return Ab.keep()}}return"none"!==t.remove?($p(e,s,t),Ab.removed()):Ab.keep()}function Gp(e,t,n,r,o){return qp(e,t,n,r,o).fold(R,(function(t){return e.dom.rename(r,t),!0}),N)}function Xp(e,t,n,r,o,i,a,u){var c,s,l=e.dom;if(n){for(var f=n.parentNode,d=r.parentNode;d&&d!==f;d=d.parentNode){for(var m=l.clone(d,!1),g=0;g<t.length&&null!==(m=function(e,t,n,r){return qp(e,t,n,r,r).fold(T(r),(function(t){return e.dom.createFragment().appendChild(r),e.dom.rename(r,t)}),T(null))}(e,t[g],u,m));g++);m&&(c&&m.appendChild(c),s=s||m,c=m)}!i||a.mixed&&l.isBlock(n)||(r=l.split(n,r)),c&&(o.parentNode.insertBefore(c,o),s.appendChild(o),gd(a)&&Bp(l,a,0,c))}return r}function Kp(e,t,n,r,o){function i(r){var i,a,u,c,f;return a=t,u=n,c=o,ce(Ms((i=e).dom,r.parentNode).reverse(),(function(e){var t;f||"_start"===e.id||"_end"===e.id||(t=yp(i,e,a,u,c))&&!1!==t.split&&(f=e)})),Xp(e,s,f,r,r,!0,l,n)}function a(e){var t=d.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return g(n)&&(n=n[e?"firstChild":"lastChild"]),ar(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),d.remove(t,!0),n}function u(t){if(t=Gs(e,t,s,t.collapsed),l.split){if(t=Vd(t),(n=Fp(e,t,!0))!==(r=Fp(e,t))){var n=Vp(n,!0),r=Vp(r,!1);if(Ip(d,n,r))return o=ee.from(n.firstChild).getOr(n),i(Up(d,o,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void a(!0);if(Ip(d,r,n))return o=ee.from(r.lastChild).getOr(r),i(Up(d,o,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void a(!1);n=jp(d,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=jp(d,r,"span",{id:"_end","data-mce-type":"bookmark"});var o=d.createRng();o.setStartAfter(n),o.setEndBefore(r),Xs(d,o,(function(e){ce(e,(function(e){ld(e)||ld(e.parentNode)||i(e)}))})),i(n),i(r),n=a(!0),r=a()}else n=r=i(n);t.startContainer=n.parentNode||n,t.startOffset=d.nodeIndex(n),t.endContainer=r.parentNode||r,t.endOffset=d.nodeIndex(r)+1}Xs(d,t,(function(e){ce(e,p)}))}var c,s=e.formatter.get(t),l=s[0],f=!0,d=e.dom,m=e.selection,g=function(e){return ld(e)&&or(e)&&("_start"===e.id||"_end"===e.id)},h=function(t){return ae(s,(function(r){return Gp(e,r,n,t,t)}))},p=function(t){var n,r,o=!0,i=!1,a=(or(t)&&d.getContentEditable(t)&&(o=f,f="true"===d.getContentEditable(t),i=!0),we(t.childNodes));if(f&&!i&&(n=h(t)||ae(s,(function(e){return xb(d,t,e)})),r=t.parentNode,!n&&w(r)&&Hs(l)&&h(r)),l.deep&&a.length){for(var u=0;u<a.length;u++)p(a[u]);i&&(f=o)}ce(["underline","line-through","overline"],(function(n){or(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&zs(d,t.parentNode)===n&&Gp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)}))};if(r)return Cs(r)?((c=d.createRng()).setStartBefore(r),c.setEndAfter(r),u(c)):u(r),void Nd(e,t,r,n);if("false"!==d.getContentEditable(m.getNode()))m.isCollapsed()&&gd(l)&&!wd(e).length?Ap(e,t,n,o):(Sd(m,!0,(function(){Cd(e,u)})),gd(l)&&wp(e,t,n,m.getStart())&&Ss(d,m,m.getRng()),e.nodeChanged()),Nd(e,t,r,n);else{r=m.getNode();for(var v=0;v<s.length&&(!s[v].ceFalseOverride||!Gp(e,s[v],n,r,r));v++);Nd(e,t,r,n)}}function Yp(e,t,n,r){function o(t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=zs(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))}t.styles&&(t.styles.color||t.styles.textDecoration)&&(Cn.walk(r,o,"childNodes"),o(r))}function Jp(e,t,n,r){Nb(t,(function(t){var o,i,a,u;gd(t)&&Nb(e.dom.select(t.inline,r),(function(r){Mp(r)&&Gp(e,t,n,r,t.exact?r:null)})),o=e.dom,a=r,(i=t).clear_child_styles&&(u=i.links?"*:not(a)":"*",Db(o.select(u,a),(function(e){Mp(e)&&Db(i.styles,(function(t,n){o.setStyle(e,n,"")}))})))}))}function Qp(e){return or(e)&&!ld(e)&&!cd(e)&&!St(e)}function Zp(e,t,n,r){return!(!e.getParam("format_empty_lines",!1,"boolean")||!gd(t))&&(t=ze(ze({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),e=Sn.fromDom(n),e=Ur(e,(function(e){return cd(e.dom)})).isSome(),G(t,r)&&mi(Sn.fromDom(n.parentNode),!1)&&!e)}function ev(e,t,n,r){function o(e,t){var n=!1;return Bb(e,(function(e){return!!md(e)&&(w(e.collapsed)&&e.collapsed!==C||!S.is(t,e.selector)||cd(t)?void 0:(O(t,e),!(n=!0)))})),n}function i(r,i,a){var u,c=[],s=!0,l=y.inline||y.block,f=m(u=l)?(u=S.create(u),O(u),u):null;Xs(r,i,(function(i){var u,d=function(i){var m=!1,g=s,h=i.nodeName.toLowerCase(),p=i.parentNode,v=p.nodeName.toLowerCase();if(or(i)&&r.getContentEditable(i)&&(g=s,s="true"===r.getContentEditable(i),m=!0),lr(i)&&!Zp(e,y,i,v))return u=null,void(Bs(y)&&r.remove(i));if(Bs(y)&&y.wrapper&&yp(e,i,t,n))u=null;else{if(s&&!m&&Bs(y)&&!y.wrapper&&Os(e,h)&&Ts(e,v,l))return x=r.rename(i,l),O(x),c.push(x),void(u=null);if(md(y)){var x=o(b,i);if(!x&&w(p)&&Hs(y)&&(x=o(b,p)),!gd(y)||x)return void(u=null)}!s||m||!Ts(e,l,h)||!Ts(e,v,l)||!a&&ar(i)&&Po(i.data)||cd(i)||gd(y)&&r.isBlock(i)?(u=null,ce(we(i.childNodes),d),m&&(s=g),u=null):(u||(u=r.clone(f,!1),i.parentNode.insertBefore(u,i),c.push(u)),u.appendChild(i))}};ce(i,d)})),!0===y.links&&ce(c,(function(e){var t=function(e){"A"===e.nodeName&&O(e,y),ce(we(e.childNodes),t)};t(e)})),ce(c,(function(o){i=0,ce(o.childNodes,(function(e){var t;w(t=e)&&ar(t)&&0===t.length||ld(e)||i++}));var i,a,u,s,l,f,d,m,g,h,p=i;!(1<c.length)&&r.isBlock(o)||0!==p?(gd(y)||Bs(y)&&y.wrapper)&&(y.exact||1!==p||(o=de((h=o).childNodes,Qp).filter((function(e){return xb(r,e,y)})).map((function(e){var t=r.clone(e,!1);return O(t),r.replace(t,h,!0),r.remove(e,!0),t})).getOr(h)),Jp(e,b,n,o),f=y,d=t,m=n,yp(l=e,(g=o).parentNode,d,m)&&Gp(l,f,m,g)||f.merge_with_parents&&l.dom.getParent(g.parentNode,(function(e){if(yp(l,e,d,m))return Gp(l,f,m,g),!0})),p=r,u=n,s=o,(a=y).styles&&a.styles.backgroundColor&&Hp(s,Lp(p,"fontSize"),Pp(p,"backgroundColor",dd(a.styles.backgroundColor,u))),Yp(r,y,0,o),s=r,p=o,!gd(a=y)||"sub"!==a.inline&&"sup"!==a.inline||(Hp(p,Lp(s,"fontSize"),Pp(s,"fontSize","")),s.remove(s.select("sup"===a.inline?"sub":"sup",p),!0)),Bp(r,y,0,o)):r.remove(o,!0)}))}var a,u,c,s,l,f,d,g,h,p,v,b=e.formatter.get(t),y=b[0],C=!r&&e.selection.isCollapsed(),S=e.dom,k=e.selection,O=function(e,t){var o;x((t=void 0===t?y:t).onformat)&&t.onformat(e,t,n,r),Bb(t.styles,(function(t,r){S.setStyle(e,r,dd(t,n))})),!t.styles||(o=S.getAttrib(e,"style"))&&S.setAttrib(e,"data-mce-style",o),Bb(t.attributes,(function(t,r){S.setAttrib(e,r,dd(t,n))})),Bb(t.classes,(function(t){t=dd(t,n),S.hasClass(e,t)||S.addClass(e,t)}))};if("false"!==S.getContentEditable(k.getNode()))y&&(r?Cs(r)?o(b,r)||((c=S.createRng()).setStartBefore(r),c.setEndAfter(r),i(S,Gs(e,c,b),!0)):i(S,r,!0):C&&gd(y)&&!wd(e).length?(c=t,s=n,f=(u=e).selection,d=f.getRng(),g=d.startOffset,h=d.startContainer.nodeValue,(p=fs(u.getBody(),f.getStart()))&&(l=Sp(p)),v=/[^\s\u00a0\u00ad\u200b\ufeff]/,h&&0<g&&g<h.length&&v.test(h.charAt(g))&&v.test(h.charAt(g-1))?(v=f.getBookmark(),d.collapse(!0),h=Gs(u,d,u.formatter.get(c)),h=Vd(h),u.formatter.apply(c,s,h),f.moveToBookmark(v)):(p&&l.nodeValue===Sb||(h=u.getDoc(),v=kp(!0).dom,l=(p=h.importNode(v,!0)).firstChild,d.insertNode(p),g=1),u.formatter.apply(c,s,p),f.setCursorLocation(l,g))):(h=k.getNode(),v=b[0],e.settings.forced_root_block||!v.defaultBlock||S.getParent(h,S.isBlock)||ev(e,v.defaultBlock),k.setRng(ep(k.getRng())),Sd(k,!0,(function(){Cd(e,(function(t,n){n=n?t:Gs(e,t,b),i(S,n,!1)}))})),Ss(S,k,k.getRng()),e.nodeChanged()),a=e,Eb(Tb[t],(function(e){e(a)}))),Rd(e,t,r,n);else{r=k.getNode();for(var T=0,_=b.length;T<_;T++){var E=b[T];if(E.ceFalseOverride&&md(E)&&S.is(r,E.selector)){O(r,E);break}}Rd(e,t,r,n)}}function tv(e){return e.selection.getStart()}function nv(e,t,n){var r=Pb(e,t);ke(n,(function(n,o){function i(n){var i,a=Lb(e,r,o,n.similar,Hb(n)?n.vars:void 0),u=a.isSome();n.state.get()!==u&&(n.state.set(u),i=a.getOr(t),Hb(n)?n.callback(u,{node:i,format:o,parents:r}):ce(n.callbacks,(function(e){return e(u,{node:i,format:o,parents:r})})))}ce([n.withSimilar,n.withoutSimilar],i),ce(n.withVars,i)}))}function rv(e,t,n,r,o,i){var a=t.get();ce(n.split(","),(function(t){function n(){var n=Pb(e);return Lb(e,n,t,o,i).isSome()}var u,c=_e(a,t).getOrThunk((function(){var e={withSimilar:{state:al(!1),similar:!0,callbacks:[]},withoutSimilar:{state:al(!1),similar:!1,callbacks:[]},withVars:[]};return a[t]=e}));b(i)?((u=o?c.withSimilar:c.withoutSimilar).callbacks.push(r),1===u.callbacks.length&&u.state.set(n())):c.withVars.push({state:al(n()),similar:o,vars:i,callback:r})})),t.set(a)}function ov(e,t,n,r,o,i){var a,u;return null===t.get()&&(u=e,(a=t).set({}),u.on("NodeChange",(function(e){nv(u,e.element,a.get())})),u.on("FormatApply FormatRemove",(function(e){e=ee.from(e.node).map((function(e){return Cs(e)?e:e.startContainer})).bind((function(e){return or(e)?ee.some(e):ee.from(e.parentElement)})).getOrThunk((function(){return tv(u)})),nv(u,e,a.get())}))),rv(e,t,n,r,o,i),{unbind:function(){return o=n,i=r,a=(e=t).get(),ce(o.split(","),(function(e){return _e(a,e).each((function(t){a[e]={withSimilar:ze(ze({},t.withSimilar),{callbacks:le(t.withSimilar.callbacks,(function(e){return e!==i}))}),withoutSimilar:ze(ze({},t.withoutSimilar),{callbacks:le(t.withoutSimilar.callbacks,(function(e){return e!==i}))}),withVars:le(t.withVars,(function(e){return e.callback!==i}))}}))})),void e.set(a);var e,o,i,a}}}function iv(e,t){var n=(t||document).createDocumentFragment();return ce(e,(function(e){n.appendChild(e.dom)})),Sn.fromDom(n)}function av(e,t,n){return{element:e,width:t,rows:n}}function uv(e,t){return{element:e,cells:t}}function cv(e,t){return e=parseInt(wr(e,t),10),isNaN(e)?1:e}function sv(e){return fe(e,(function(e,t){return t.cells.length>e?t.cells.length:e}),0)}function lv(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(Tn(o[i],t))return ee.some({x:i,y:r});return ee.none()}function fv(e,t,n,r,o){for(var i=[],a=e.rows,u=n;u<=o;u++){var c=a[u].cells;c=t<r?c.slice(t,r+1):c.slice(r,t+1);i.push(uv(a[u].element,c))}return i}function dv(e){var t=av(nc(e),0,[]);return ce(ml(e,"tr"),(function(e,n){ce(ml(e,"td,th"),(function(r,o){for(var i=t,a=function(e,t,n){for(;function(e,t,n){return e=e.rows,!!(e[n]?e[n].cells:[])[t]}(e,t,n);)t++;return t}(t,o,n),u=n,c=e,s=r,l=cv(s,"rowspan"),f=cv(s,"colspan"),d=i.rows,m=u;m<u+l;m++){d[m]||(d[m]=uv(rc(c),[]));for(var g=a;g<a+f;g++)d[m].cells[g]=m===u&&g===a?s:nc(s)}}))})),av(t.element,sv(t.rows),t.rows)}function mv(e){return t=ue((e=e).rows,(function(e){var t=ue(e.cells,(function(e){return e=rc(e),Et(e,"colspan"),Et(e,"rowspan"),e}));e=nc(e.element);return st(e,t),e})),e=nc(e.element),n=Sn.fromTag("tbody"),st(n,t),Kn(e,n),e;var t,n}function gv(e,t,n){return lv(e,t).bind((function(t){return lv(e,n).map((function(n){return r=e,n=n,i=(o=t).x,o=o.y,a=n.x,n=n.y,i=o<n?fv(r,i,o,a,n):fv(r,i,n,a,o),av(r.element,sv(i),i);var r,o,i,a}))}))}function hv(e,t){return de(e,(function(e){return"li"===An(e)&&el(e,t)})).fold(T([]),(function(t){return de(e,(function(e){return"ul"===An(e)||"ol"===An(e)})).map((function(e){var t=Sn.fromTag(An(e));e=Te(At(e),(function(e,t){return Vt(t,"list-style")}));return Dt(t,e),[Sn.fromTag("li"),t]})).getOr([])}))}function pv(e,t){var n,r=Sn.fromDom(t.commonAncestorContainer),o=(e=ib(r,e),le(e,(function(e){return ao(e)||To(e)})));e=hv(e,t),t=o.concat(e.length?e:zo(n=r)?Ln(n).filter(Ao).fold(T([]),(function(e){return[n,e]})):Ao(n)?[n]:[]);return ue(t,nc)}function vv(){return iv([])}function bv(e,t){var n=Sn.fromDom(t.cloneContents());e=pv(e,t);return n=fe(e,(function(e,t){return Kn(t,e),t}),n),0<e.length?iv([n]):n}function yv(e,t){return n=t[0],Wr(n,"table",E(Tn,e)).bind((function(e){var n=t[0],r=t[t.length-1];e=dv(e);return gv(e,n,r).map((function(e){return iv([mv(e)])}))})).getOrThunk(vv);var n}function wv(e,t){var n=Ys(t,e);return 0<n.length?yv(e,n):(n=e,0<(e=t).length&&e[0].collapsed?vv():bv(n,e[0]))}function xv(e,t){return 0<=t&&t<e.length&&ws(e.charAt(t))}function Cv(e,t){return e=Io(e.innerText),t?e.replace(/^[ \f\n\r\t\v]+/,""):e}function Sv(e,t,n){t=t;var r,o,i,a,u;n=ze(ze({},n=void 0===n?{}:n),{format:t,get:!0,selection:!0});return(t=e.fire("BeforeGetContent",n)).isDefaultPrevented()?(e.fire("GetContent",t),t.content):"text"===t.format?(u=e,ee.from(u.selection.getRng()).map((function(e){var t=ee.from(u.dom.getParent(e.commonAncestorContainer,u.dom.isBlock)),n=u.getBody(),r=t.map((function(e){return e.nodeName})).getOr("div").toLowerCase(),o=wn.browser.isIE()&&"pre"!==r,i=(r=u.dom.add(n,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),e=Cv(r,o),Io(r.textContent));return u.dom.remove(r),xv(i,0)||xv(i,i.length-1)?(r=t.getOr(n),-1===(t=(i=Cv(r,o)).indexOf(e))?e:(xv(i,t-1)?" ":"")+e+(xv(i,t+e.length)?" ":"")):e})).getOr("")):(t.getInner=!0,n=t,o=(r=e).selection.getRng(),i=r.dom.create("body"),a=r.selection.getSel(),a=Dm(r,yd(a)),(a=n.contextual?wv(Sn.fromDom(r.getBody()),a).dom:o.cloneContents())&&i.appendChild(a),o=r.selection.serializer.serialize(i,n),"tree"===t.format?o:(t.content=e.selection.isCollapsed()?"":o,e.fire("GetContent",t),t.content))}function kv(e,t){function n(r,u,c,s,l){var f=function(n,r,u,c){var s=r-n,l=c-u;if(0===s||0===l)return null;var f,d,m,g,h,p=s-l,v=l+s,b=(v%2===0?v:v+1)/2;for(o[1+b]=n,i[1+b]=r+1,f=0;f<=b;++f){for(d=-f;d<=f;d+=2){m=d+b,d===-f||d!==f&&o[m-1]<o[m+1]?o[m]=o[m+1]:o[m]=o[m-1]+1,g=o[m],h=g-n+u-d;while(g<r&&h<c&&e[g]===t[h])o[m]=++g,++h;if(p%2!==0&&p-f<=d&&d<=p+f&&i[m-p]<=o[m])return a(i[m-p],d+n-u,r,c)}for(d=p-f;d<=p+f;d+=2){m=d+b-p,d===p-f||d!==p+f&&i[m+1]<=i[m-1]?i[m]=i[m+1]-1:i[m]=i[m-1],g=i[m]-1,h=g-n+u-d;while(g>=n&&h>=u&&e[g]===t[h])i[m]=g--,h--;if(p%2===0&&-f<=d&&d<=f&&i[m]<=o[m+p])return a(i[m],d+n-u,r,c)}}}(r,u,c,s);if(null===f||f.start===u&&f.diag===u-s||f.end===r&&f.diag===r-c)for(var d=r,m=c;d<u||m<s;)d<u&&m<s&&e[d]===t[m]?(l.push([0,e[d]]),++d,++m):s-c<u-r?(l.push([2,e[d]]),++d):(l.push([1,t[m]]),++m);else{n(r,f.start,c,f.start-f.diag,l);for(var g=f.start;g<f.end;++g)l.push([0,e[g]]);n(f.end,u,f.end-f.diag,s,l)}}var r=e.length+t.length+2,o=new Array(r),i=new Array(r),a=function(n,r,o,i){for(var a=n;a-r<i&&a<o&&e[a]===t[a-r];)++a;return{start:n,end:a,diag:r}};r=[];return n(0,e.length,0,t.length,r),r}function Ov(e){return or(e)?e.outerHTML:ar(e)?Ei.encodeRaw(e.data,!1):ur(e)?"\x3c!--"+e.data+"--\x3e":""}function Tv(e,t,n){t=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r}(t),e.hasChildNodes()&&n<e.childNodes.length?(n=e.childNodes[n]).parentNode.insertBefore(t,n):e.appendChild(t)}function _v(e,t){var n=0;ce(e,(function(e){var r;0===e[0]?n++:1===e[0]?(Tv(t,e[1],n),n++):2===e[0]&&(e=n,(r=t).hasChildNodes()&&e<r.childNodes.length&&(r=r.childNodes[e]).parentNode.removeChild(r))}))}function Ev(e,t,n){var r,o,i;n=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?(r=t.fragments,o=e.getBody(),i=ue(we(o.childNodes),Ov),_v(kv(i,r),o)):e.setContent(t.content,{format:"raw",no_selection:!w(n)||!ds(n)||!n.isFakeCaret}),e.selection.moveToBookmark(n)}function Dv(e){return"fragmented"===e.type?e.fragments.join(""):e.content}function Av(e){var t=Sn.fromTag("body",Ib());return Cl(t,Dv(e)),ce(ml(t,"*[data-mce-bogus]"),ft),t.dom.innerHTML}function zv(e){return 0===e.get()}function Mv(e){return{undoManager:{beforeChange:function(t,n){var r;r=e,n=n,zv(t)&&n.set(tf(r.selection))},add:function(t,n,r,o,i,a){var u=e,c=t,s=n;t=r,n=o,r=i,o=a,i=Fb(u);if(r=Cn.extend(r=r||{},i),!1===zv(t)||u.removed)return null;if(i=c.data[s.get()],u.fire("BeforeAddUndo",{level:r,lastLevel:i,originalEvent:o}).isDefaultPrevented())return null;if(i&&Vb(i,r))return null;if(c.data[s.get()]&&n.get().each((function(e){c.data[s.get()].beforeBookmark=e})),(t=u.getParam("custom_undo_redo_levels",0,"number"))&&c.data.length>t){for(var l=0;l<c.data.length-1;l++)c.data[l]=c.data[l+1];c.data.length--,s.set(c.data.length)}return r.bookmark=tf(u.selection),s.get()<c.data.length-1&&(c.data.length=s.get()+1),c.data.push(r),s.set(c.data.length-1),n={level:r,lastLevel:i,originalEvent:o},0<s.get()?(u.setDirty(!0),u.fire("AddUndo",n),u.fire("change",n)):u.fire("AddUndo",n),r},undo:function(t,n,r){return o=e,n=n,r=r,(t=t).typing&&(t.add(),t.typing=!1,jb(t,!1,n)),0<r.get()&&(r.set(r.get()-1),i=t.data[r.get()],Ev(o,i,!0),o.setDirty(!0),o.fire("Undo",{level:i})),i;var o,i},redo:function(t,n){return r=e,n=n,(t=t).get()<n.length-1&&(t.set(t.get()+1),o=n[t.get()],Ev(r,o,!1),r.setDirty(!0),r.fire("Redo",{level:o})),o;var r,o},clear:function(t,n){return r=e,n=n,(t=t).data=[],n.set(0),t.typing=!1,void r.fire("ClearUndos");var r},reset:function(e){(e=e).clear(),e.add()},hasUndo:function(t,n){return r=e,t=t,0<n.get()||t.typing&&t.data[0]&&!Vb(Fb(r),t.data[0]);var r},hasRedo:function(e,t){return e=e,t.get()<e.data.length-1&&!e.typing},transact:function(e,t,n){return n=n,Ub(e=e,t),e.beforeChange(),e.ignore(n),e.add()},ignore:function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},extra:function(t,n,r,o){var i,a;i=e,n=n,r=r,o=o,(t=t).transact(r)&&(r=t.data[n.get()].bookmark,a=t.data[n.get()-1],Ev(i,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=r))}},formatter:{match:function(t,n,r,o){return wp(e,t,n,r,o)},matchAll:function(t,n){return o=t,i=n,a=[],u={},t=(r=e).selection.getStart(),r.dom.getParent(t,(function(e){for(var t=0;t<o.length;t++){var n=o[t];!u[n]&&yp(r,e,n,i)&&(u[n]=!0,a.push(n))}}),r.dom.getRoot()),a;var r,o,i,a,u},matchNode:function(t,n,r,o){return yp(e,t,n,r,o)},canApply:function(t){var n=e,r=n.formatter.get(t),o=n.dom;if(r){t=n.selection.getStart();for(var i=Ms(o,t),a=r.length-1;0<=a;a--){var u=r[a];if(!md(u)||w(u.defaultBlock))return!0;for(var c=i.length-1;0<=c;c--)if(o.is(i[c],u.selector))return!0}}return!1},closest:function(t){return xp(e,t)},apply:function(t,n,r){return ev(e,t,n,r)},remove:function(t,n,r,o){return Kp(e,t,n,r,o)},toggle:function(t,n,r){var o,i;t=t,n=n,r=r,i=(o=e).formatter.get(t),(!wp(o,t,n,r)||"toggle"in i[0]&&!i[0].toggle?ev:Kp)(o,t,n,r)},formatChanged:function(t,n,r,o,i){return ov(e,t,n,r,o,i)}},editor:{getContent:function(t,n){return r=e,o=t,i=n,ee.from(r.getBody()).fold(T("tree"===o.format?new mg("body",11):""),(function(e){return _g(r,o,i,e)}));var r,o,i},setContent:function(t,n){return pp(e,t,n)},insertContent:function(t,n){return fp(e,t,n)},addVisual:function(t){return t=t,r=(n=e).dom,o=w(t)?t:n.getBody(),b(n.hasVisual)&&(n.hasVisual=n.getParam("visual",!0,"boolean")),ce(r.select("table,a",o),(function(e){switch(e.nodeName){case"TABLE":var t=n.getParam("visual_table_class","mce-item-table","string"),o=r.getAttrib(e,"border");o&&"0"!==o||!n.hasVisual?r.removeClass(e,t):r.addClass(e,t);break;case"A":r.getAttrib(e,"href")||(o=r.getAttrib(e,"name")||e.id,t=n.getParam("visual_anchor_class","mce-item-anchor","string"),o&&n.hasVisual?r.addClass(e,t):r.removeClass(e,t))}})),void n.fire("VisualAid",{element:t,hasVisual:n.hasVisual});var n,r,o}},selection:{getContent:function(t,n){return Sv(e,t,n)}},raw:{getModel:function(){return ee.none()}}}}function Rv(e){function t(e){return g(e)?e:{}}var n=e.undoManager,r=e.formatter,o=e.editor,i=e.selection,a=e.raw;return{undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:function(e,t,r){return n.transact(r)},ignore:function(e,t){return n.ignore(t)},extra:function(e,t,r,o){return n.extra(r,o)}},formatter:{match:function(e,n,o,i){return r.match(e,t(n),i)},matchAll:r.matchAll,matchNode:r.matchNode,canApply:function(e){return r.canApply(e)},closest:function(e){return r.closest(e)},apply:function(e,n,o){return r.apply(e,t(n))},remove:function(e,n,o,i){return r.remove(e,t(n))},toggle:function(e,n,o){return r.toggle(e,t(n))},formatChanged:function(e,t,n,o,i){return r.formatChanged(t,n,o,i)}},editor:{getContent:function(e,t){return o.getContent(e)},setContent:function(e,t){return o.setContent(e,t)},insertContent:function(e,t){return o.insertContent(e)},addVisual:o.addVisual},selection:{getContent:function(e,t){return i.getContent(t)}},raw:{getModel:function(){return ee.some(a.getRawModel())}}}}function Nv(e){return Ee(e.plugins,"rtc")}function Bv(e){var t=e;return _e(e.plugins,"rtc").bind((function(e){return ee.from(e.setup)})).fold((function(){return t.rtcInstance=Mv(e),ee.none()}),(function(e){var n,r;return t.rtcInstance=(n=T(null),r=T(""),{undoManager:{beforeChange:S,add:n,undo:n,redo:n,clear:S,reset:S,hasUndo:R,hasRedo:R,transact:n,ignore:S,extra:S},formatter:{match:R,matchAll:T([]),matchNode:T(void 0),canApply:R,closest:r,apply:S,remove:S,toggle:S,formatChanged:T({unbind:S})},editor:{getContent:r,setContent:r,insertContent:S,addVisual:S},selection:{getContent:r},raw:{getModel:T(ee.none())}}),ee.some((function(){return e().then((function(e){return t.rtcInstance=Rv(e),e.rtc.isRemote}))}))}))}function Hv(e){return 0===e.dom.length?(Jn(e),ee.none()):ee.some(e)}function Lv(e,t,n,r){e.bind((function(e){return(r?fh:lh)(e.dom,r?e.dom.length:0),t.filter(Mn).map((function(t){var o,i,a,u;t=t,i=n,a=r,o=(o=e).dom,t=t.dom,u=(a?o:t).length,a?(dh(o,t,!1,!a),i.setStart(t,u)):(dh(t,o,!1,!a),i.setEnd(t,u))}))})).orThunk((function(){var e;return e=r,t.filter((function(e){return Dd.isBookmarkNode(e.dom)})).bind(e?In:tt).or(t).filter(Mn).map((function(e){var t,n;n=r,Ln(t=e).each((function(e){var r=t.dom;n&&th(e,Gl(r,0))?lh(r,0):!n&&nh(e,Gl(r,r.length))&&fh(r,r.length)}))}))}))}var Pv=Cn.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),Iv=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},Fv=function(e,t,n){void 0===n&&(n=0);var r,o=e.toLowerCase();return-1!==o.indexOf("[if ",n)&&Iv(o,n)?(r=o.indexOf("[endif]",n),o.indexOf(">",r)):t?-1!==(r=o.indexOf(">",n))?r:o.length:((t=/--!?>/g).lastIndex=n,(r=t.exec(e))?r.index+r[0].length:o.length)},Vv=(Og.findEndTag=kg,Tg),jv=Cn.each,Uv=Cn.makeMap,Wv=new Set,$v=(ce(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(function(e){Wv.add(e)})),["font","text-decoration","text-emphasis"]),qv=E(Ng,!0,ws),Gv=E(Ng,!1,ws),Xv=function(e){return e=e.container(),ar(e)&&(0===e.data.length||Po(e.data)&&Dd.isBookmarkNode(e.parentNode))},Kv=Bg(!0,Hg),Yv=Bg(!1,Hg),Jv=Bg(!0,hr),Qv=Bg(!1,hr),Zv=Bg(!0,kt),eb=Bg(!1,kt),tb=Bg(!0,Lg),nb=Bg(!1,Lg),rb=function(e){lt(e),Kn(e,Sn.fromHtml('<br data-mce-bogus="1">'))},ob=function(e,t){return Fg(e,t,R)},ib=function(e,t){return[e].concat(ob(e,t))},ab=E(Wg,!1),ub=E(Wg,!0),cb=E(Ug,!1),sb=E(Ug,!0),lb=E(qg,!1),fb=E(qg,!0),db=yn([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),mb=function(e){var t;return(8===Je(t=e)||"#comment"===An(t)?tt:it)(e).bind(mb).orThunk((function(){return ee.some(e)}))},gb=Gh,hb=Gh,pb=gr,vb=function(e){return x(e)?e:R},bb=function(e,t,n){for(var r=e.dom,o=vb(n);r.parentNode;){r=r.parentNode;var i=Sn.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return ee.none()},yb=function(e,t,n){var r=t(e),o=vb(n);return r.orThunk((function(){return o(e)?ee.none():bb(e,t,o)}))},wb=Es,xb=function(e,t,n){return!!wb(t,n.inline)||!!wb(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},Cb=function(e,t,n,r,o,i){var a=n[r];if(x(n.onmatch))return n.onmatch(t,n,r);if(a)if(b(a.length)){for(var u in a)if(Ee(a,u)){var c="attributes"===r?e.getAttrib(t,u):As(e,t,u),s=dd(a[u],i),l=y(c)||Ie(c);if(!l||!y(s)){if(o&&l&&!n.exact)return!1;if((!o||n.exact)&&!wb(c,Ds(e,s,u)))return!1}}}else for(var f=0;f<a.length;f++)if("attributes"===r?e.getAttrib(t,a[f]):As(e,t,a[f]))return!0;return!0},Sb=Lo,kb="_mce_caret",Ob=function(e,t){var n=e.selection,r=e.getBody();Tp(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==Sb||Tp(e,fs(r,n.getStart())),37!==t&&39!==t||Tp(e,fs(r,n.getStart()))},Tb={},_b=Y,Eb=X,Db=(bn=function(e){var t,n=e.selection.getRng(),r=wt(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),Eb(_b(_b(t,r),(function(e){return r(e.previousSibling)&&-1!==J(t,e.previousSibling)})),(function(e){var t;t=e.previousSibling,zu(e=e).remove(),zu(t).append("<br><br>").append(e.childNodes)})))},Tb[pn="pre"]||(Tb[pn]=[]),Tb[pn].push(bn),Cn.each),Ab=yn([{keep:[]},{rename:["name"]},{removed:[]}]),zb=/^(src|href|style)$/,Mb=Cn.each,Rb=Es,Nb=Cn.each,Bb=Cn.each,Hb=function(e){return Ee(e,"vars")},Lb=function(e,t,n,r,o){return F(t,(function(t){return t=e.formatter.matchNode(t,n,null!=o?o:{},r),!b(t)}),(function(t){return!!vp(e,t,n)||!r&&w(e.formatter.matchNode(t,n,o,!0))}))},Pb=function(e,t){return t=null!=t?t:tv(e),le(Ms(e.dom,t),(function(e){return or(e)&&!St(e)}))},Ib=Re((function(){return document.implementation.createHTMLDocument("undo")})),Fb=function(e){t=e.getBody();var t=le(ue(we(t.childNodes),Ov),(function(e){return 0<e.length})),n=(t=ge(t,(function(t){return t=Tg(e.serializer,t),0<t.length?[t]:[]})),t.join(""));return-1!==n.indexOf("</iframe>")?{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:n,bookmark:null,beforeBookmark:null}},Vb=function(e,t){return!(!e||!t)&&(n=t,Dv(e)===Dv(n)||(n=t,Av(e)===Av(n)));var n},jb=function(e,t,n){zv(n)&&(e.typing=t)},Ub=function(e,t){e.typing&&(jb(e,!1,t),e.add())},Wb=function(e){return e.rtcInstance||Mv(e)},$b=function(e){if(e=e.rtcInstance,e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},qb=function(e,t,n){return $b(e).selection.getContent(t,n)},Gb=function(e,t){var n=ee.from(t.firstChild).map(Sn.fromDom),r=ee.from(t.lastChild).map(Sn.fromDom),o=(t=(e.deleteContents(),e.insertNode(t),n.bind(tt).filter(Mn).bind(Hv)),r.bind(In).filter(Mn).bind(Hv));Lv(t,n,e,!0),Lv(o,r,e,!1),e.collapse(!1)},Xb=function(e,t){return ze(ze({format:"html"},e),{set:!0,selection:!0,content:t})},Kb=function(e,t){var n;return"raw"!==t.format?(n=e.selection.getRng(),n=(n=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock))?{context:n.nodeName.toLowerCase()}:{},n=e.parser.parse(t.content,ze(ze({isRootContent:!0,forced_root_block:!1},n),t)),Ag({validate:e.validate},e.schema).serialize(n)):t.content},Yb=function(e,t,n){var r;e&&Ee(e,t)&&(0===(r=le(e[t],(function(e){return e!==n}))).length?delete e[t]:e[t]=r)};function Jb(e,t){function n(t,n){return de(n,(function(n){return e.is(n,t)}))}function r(t){return e.getParents(t,null,e.getRoot())}var o,i;return{selectorChangedWithUnbind:function(e,a){return o||(o={},i={},t.on("NodeChange",(function(e){var t=e.element,a=r(t),u={};Cn.each(o,(function(e,t){n(t,a).each((function(n){i[t]||(ce(e,(function(e){e(!0,{node:n,selector:t,parents:a})})),i[t]=e),u[t]=e}))})),Cn.each(i,(function(e,n){u[n]||(delete i[n],Cn.each(e,(function(e){e(!1,{node:t,selector:n,parents:a})})))}))}))),o[e]||(o[e]=[]),o[e].push(a),n(e,r(t.selection.getStart())).each((function(){i[e]=o[e]})),{unbind:function(){Yb(o,e,a),Yb(i,e,a)}}}}}function Qb(e,t,n,r){function o(e,t){var n=r;if(t=Xb(t=void 0===t?{}:t,e),!(e=t).no_events){if(t=n.fire("BeforeSetContent",t),t.isDefaultPrevented())return void n.fire("SetContent",t);e=t}e.content=Kb(n,e),t=n.selection.getRng(),Gb(t,t.createContextualFragment(e.content)),n.selection.setRng(t),Fm(n,t),e.no_events||n.fire("SetContent",e)}function i(e){var t=a();t.collapse(!!e),u(t)}function a(){function n(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}var o,i,a=t.document;if(void 0!==r.bookmark&&!1===ag(r)){var u=Ym(r);if(u.isSome())return u.map((function(e){return Dm(r,[e])[0]})).getOr(a.createRange())}try{(o=d())&&!yt(o.anchorNode)&&(i=0<o.rangeCount?o.getRangeAt(0):(o.createRange?o:a).createRange(),i=Dm(r,[i])[0])}catch(n){}return(i=i||(a.createRange?a.createRange():a.body.createTextRange())).setStart&&9===i.startContainer.nodeType&&i.collapsed&&(u=e.getRoot(),i.setStart(u,0),i.setEnd(u,0)),s&&l&&(0===n(i.START_TO_START,i,s)&&0===n(i.END_TO_END,i,s)?i=l:l=s=null),i}function u(e,t){var n;if((o=e)&&(Dy(o)||Ay(o.startContainer)&&Ay(o.endContainer))){var o=Dy(e)?e:null;if(o){l=null;try{o.select()}catch(e){}}else{if(o=d(),e=r.fire("SetSelectionRange",{range:e,forward:t}).range,o){l=e;try{o.removeAllRanges(),o.addRange(e)}catch(e){}!1===t&&o.extend&&(o.collapse(e.endContainer,e.endOffset),o.extend(e.startContainer,e.startOffset)),s=0<o.rangeCount?o.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!o.setBaseAndExtent||wn.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(o.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),o.anchorNode===e.startContainer&&o.focusNode===e.endContainer||o.setBaseAndExtent(n,0,n,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}}function c(){var t=d(),n=null==t?void 0:t.anchorNode,r=null==t?void 0:t.focusNode;if(!t||!n||!r||yt(n)||yt(r))return!0;var o=e.createRng();return o.setStart(n,t.anchorOffset),o.collapse(!0),(n=e.createRng()).setStart(r,t.focusOffset),n.collapse(!0),o.compareBoundaryPoints(o.START_TO_START,n)<=0}var s,l,f=Jb(e,r).selectorChangedWithUnbind,d=function(){return t.getSelection?t.getSelection():t.document.selection},m={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:i,setCursorLocation:function(t,n){var o=e.createRng();w(t)&&w(n)?(o.setStart(t,n),o.setEnd(t,n),u(o),i(!1)):(xd(e,o,r.getBody(),!0),u(o))},getContent:function(e){return t=(e=void 0===(e=e)?{}:e).format||"html",qb(r,t,e);var t},setContent:o,getBookmark:function(e,t){return g.getBookmark(e,t)},moveToBookmark:function(e){return g.moveToBookmark(e)},select:function(t,n){var r,o;return r=e,o=n,ee.from(t).map((function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(xd(r,n,e,!0),xd(r,n,e,!1)),n})).each(u),t},isCollapsed:function(){var e=a(),t=d();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:c,setNode:function(t){return o(e.getOuterHTML(t)),t},getNode:function(){var e=r.getBody(),t=a();if(!t)return e;e=t.startContainer;var n=t.endContainer,o=t.startOffset,i=t.endOffset,u=t.commonAncestorContainer;return!t.collapsed&&(e===n&&i-o<2&&e.hasChildNodes()&&(u=e.childNodes[o]),3===e.nodeType&&3===n.nodeType&&(e=e.length===o?fg(e.nextSibling,!0):e.parentNode,n=0===i?fg(n.previousSibling,!1):n.parentNode,e&&e===n))?e:u&&3===u.nodeType?u.parentNode:u},getSel:d,setRng:u,getRng:a,getStart:function(e){return sg(r.getBody(),a(),e)},getEnd:function(e){return lg(r.getBody(),a(),e)},getSelectedBlocks:function(t,n){var r=e,o=a(),i=n,u=[];n=r.getRoot();if(t=r.getParent(t||sg(n,o,o.collapsed),r.isBlock),i=r.getParent(i||lg(n,o,o.collapsed),r.isBlock),t&&t!==n&&u.push(t),t&&i&&t!==i)for(var c,s=new ro(t,n);(c=s.next())&&c!==i;)r.isBlock(c)&&u.push(c);return i&&t!==i&&i!==n&&u.push(i),u},normalize:function(){var t=a(),n=d();return 1<yd(n).length||!tl(r)?t:((n=em(e,t)).each((function(e){u(e,c())})),n.getOr(t))},selectorChanged:function(e,t){return f(e,t),m},selectorChangedWithUnbind:f,getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){w(e)?(r.inline?Lm:Im)(r,e,t):Fm(r,a(),t)},placeCaretAt:function(e,t){return u(Hd(e,t,r.getDoc()))},getBoundingClientRect:function(){var e=a();return e.collapsed?Gl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=s=l=null,h.destroy()}},g=Dd(m),h=Bd(m,r);return m.bookmarkManager=g,m.controlSelection=h,m}function Zb(e,t,n){e.addNodeFilter("font",(function(e){ce(e,(function(e){var r,o=t.parse(e.attr("style")),i=e.attr("color"),a=e.attr("face"),u=e.attr("size");i&&(o.color=i),a&&(o["font-family"]=a),u&&(o["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(o)),r=e,ce(["color","face","size"],(function(e){r.attr(e,null)}))}))}))}function ey(e){e=decodeURIComponent(e).split(",");var t,n=/data:([^;]+)/.exec(e[0]);return{type:t=n?n[1]:t,data:e[1]}}function ty(e,t){var n;try{n=atob(t)}catch(e){return ee.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return ee.some(new Blob([r],{type:e}))}function ny(e){return 0===e.indexOf("blob:")?(t=e,new eo((function(e,n){function r(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")}try{var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){200===o.status?e(o.response):r()},o.onerror=r,o.send()}catch(e){r()}}))):0===e.indexOf("data:")?(n=e,new eo((function(e){var t=ey(n),r=t.type;t=t.data;ty(r,t).fold((function(){return e(new Blob([]))}),e)}))):null;var t,n}function ry(e){return(e||"blobid")+My++}function oy(e,t,n,r){var o,i,a,u;0!==t.src.indexOf("blob:")?(o=(i=ey(t.src)).data,i=i.type,a=o,(u=e.getByData(a,i))?n({image:t,blobInfo:u}):ny(t.src).then((function(r){u=e.create(ry(),r,a),e.add(u),n({image:t,blobInfo:u})}),(function(e){r(e)}))):(u=e.getByUri(t.src))?n({image:t,blobInfo:u}):ny(t.src).then((function(r){var o;o=r,new eo((function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(o)})).then((function(o){a=ey(o).data,u=e.create(ry(),r,a),e.add(u),n({image:t,blobInfo:u})}))}),(function(e){r(e)}))}function iy(e,t){var n={};return{findAll:function(r,o){return o=o||N,r=le((r=r)?we(r.getElementsByTagName("img")):[],(function(t){var n=t.src;return!!wn.fileApi&&!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===wn.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t))})),r=ue(r,(function(e){if(void 0!==n[e.src])return new eo((function(t){n[e.src].then((function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))}));var r=new eo((function(n,r){oy(t,e,n,r)})).then((function(e){return delete n[e.image.src],e})).catch((function(t){return delete n[e.src],t}));return n[e.src]=r})),eo.all(r)}}}function ay(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,r,o){var i,a,u,c,s,l,f,d,m=e.length,g=Cn.extend({},n.getBlockElements()),h=n.getNonEmptyElements(),p=n.getWhiteSpaceElements();for(g.body=1,i=0;i<m;i++)if(u=(a=e[i]).parent,g[a.parent.name]&&a===u.lastChild){for(s=a.prev;s;){if("span"!==(l=s.name)||"bookmark"!==s.attr("data-mce-type")){"br"===l&&(a=null);break}s=s.prev}a&&(a.remove(),Hy(n,h,p,u)&&(f=n.getElementRule(u.name))&&(f.removeEmpty?u.remove():f.paddEmpty&&Ry(t,o,g,u)))}else{for(c=a;u&&u.firstChild===c&&u.lastChild===c&&!g[(c=u).name];)u=u.parent;c===u&&!0!==t.padd_empty_with_br&&((d=new mg("#text",3)).value=Ho,a.replace(d))}})),e.addAttributeFilter("href",(function(e){var n=e.length,r=function(e){return e.split(" ").filter((function(e){return 0<e.length})).concat(["noopener"]).sort().join(" ")};if(!t.allow_unsafe_link_target)for(;n--;){var o=e[n];"a"===o.name&&"_blank"===o.attr("target")&&o.attr("rel",function(e){return e=e?Cn.trim(e):"",/\b(noopener)\b/g.test(e)?e:r(e)}(o.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href"))for(r=o.parent,t=o.lastChild;n=t.prev,r.insert(t,o),t=n;);})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){for(var t,n,r=e.length;r--;)"ul"!==(n=(t=e[r]).parent).name&&"ol"!==n.name||(t.prev&&"li"===t.prev.name?t.prev.append(t):((n=new mg("li",1)).attr("style","list-style-type: none"),t.wrap(n)))})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){for(var t=n.getValidClasses(),r=e.length;r--;){for(var o=e[r],i=o.attr("class").split(" "),a="",u=0;u<i.length;u++){var c=i[u],s=!1,l=t["*"];l&&l[c]&&(s=!0),l=t[o.name],(s=!(s||!l||!l[c])||s)&&(a&&(a+=" "),a+=c)}a.length||(a=null),o.attr("class",a)}})),Ly(e,t)}function uy(e){function t(e){return e&&"br"===e.name}var n;e=e.lastChild;!t(e)||t(n=e.prev)&&(e.remove(),n.remove())}function cy(e,t){return{schema:(e=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:Hu.DOM,o=t&&t.schema?t.schema:Ii(e),i=(e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,jy(e,o));return Uy(i,e,r),{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:function(n,a){return a=ze({format:"html"},a=void 0===a?{}:a),n=Wy(t,n,a),n=qy(r,n,a),n=Gy(i,n,a),"tree"===a.format?n:Xy(t,e,o,n,a)},addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:E($y,i,n),getTempAttrs:T(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}}(e,t)).schema,addNodeFilter:e.addNodeFilter,addAttributeFilter:e.addAttributeFilter,serialize:e.serialize,addRules:e.addRules,setRules:e.setRules,addTempAttr:e.addTempAttr,getTempAttrs:e.getTempAttrs,getNodeFilters:e.getNodeFilters,getAttributeFilters:e.getAttributeFilters}}function sy(e,t){var n=(t=void 0===t?{}:t).format||"html";return t=t,n=n,Wb(e).editor.getContent(t,n)}function ly(e,t,n){return t=t,n=n=void 0===n?{}:n,Wb(e).editor.setContent(t,n)}function fy(e){return ee.from(e).each((function(e){return e.destroy()}))}function dy(e){var t,n,r,o;e.removed||(t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement(),r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&Ky.remove(o.nextSibling),e.fire("remove"),e.editorManager.remove(e),!e.inline&&r&&Ky.setStyle(e.id,"display",e.orgDisplay),e.fire("detach"),Ky.remove(e.getContainer()),fy(t),fy(n),e.destroy())}function my(e,t){var n=e.selection,r=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),fy(n),fy(r)),(n=(t=e).formElement)&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),Ky.unbind(n,"submit reset",t.formEventDelegate)),(r=e).contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null,r.selection&&(r.selection=r.selection.win=r.selection.dom=r.selection.dom.doc=null),e.destroyed=!0):e.remove())}function gy(e){function t(e){return Ee(n,e)}var n=Cn.makeMap(e.plugins," ");e=Me(Me([],le(Qy,t),!0),ge(Zy,(function(e){return t(e)?[e+" (moving to premium)"]:[]})),!0);return ve(e)}function hy(e){return e=h(e)?e.join(" "):e,e=ue(m(e)?e.split(" "):[],jt),le(e,(function(e){return 0<e.length}))}function py(e,t){var n;return $(t,(function(t,n){return ie(e,n)}),W(t={}),W(n={})),n=(t={t:t,f:n}).f,{sections:T(t.t),settings:T(n)}}function vy(e,t){return Ee(e.sections(),t)}function by(e,t){return _e(e,"toolbar_mode").orThunk((function(){return _e(e,"toolbar_drawer").map((function(e){return!1===e?"wrap":e}))})).getOr(t)}function yy(e,t,n,r){return e&&(a=i="mobile",u=(o=t).sections(),vy(o,i)&&u[i].theme===a)?le(r,E(ie,ow)):e&&vy(t,"mobile")?r:n;var o,i,a,u}function wy(e,t,n,r){n=hy(n.forced_plugins);var o=hy(r.plugins),i=(a=vy(a=t,i="mobile")?a.sections()[i]:{}).plugins?hy(a.plugins):o,a=yy(e,t,o,i);e=a,t=[].concat(hy(n)).concat(hy(e));if(wn.browser.isIE()&&ie(t,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Cn.extend(r,{plugins:t.join(" ")})}function xy(e,t,n){return ee.from(t.settings[n]).filter(e)}function Cy(e,t,n,r){var o,i,a,u=t in e.settings?e.settings[t]:n;return"hash"===r?(a={},"string"==typeof(i=u)?ce(0<i.indexOf("=")?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),(function(e){e=e.split("="),1<e.length?a[Cn.trim(e[0])]=Cn.trim(e[1]):a[Cn.trim(e[0])]=Cn.trim(e[0])})):a=i,a):"string"===r?xy(m,e,t).getOr(n):"number"===r?xy(C,e,t).getOr(n):"boolean"===r?xy(v,e,t).getOr(n):"object"===r?xy(g,e,t).getOr(n):"array"===r?xy(h,e,t).getOr(n):"string[]"===r?xy((o=m,function(e){return h(e)&&he(e,o)}),e,t).getOr(n):"function"===r?xy(x,e,t).getOr(n):u}function Sy(e,t){return t.dom[e]}function ky(e,t){return parseInt(Sr(t,e),10)}function Oy(e,t,n){var r,o,i=Sn.fromDom(e.getBody());i=e.inline?i:Sn.fromDom(Hn(i).dom.documentElement);return e=e.inline,t=t,n=n,r=(o=i).dom.getBoundingClientRect(),n=(t={x:t-(e?r.left+o.dom.clientLeft+dw(o):0),y:n-(e?r.top+o.dom.clientTop+fw(o):0)}).x,e=t.y,o=sw(r=i),r=lw(r),0<=n&&0<=e&&n<=o&&e<=r}function Ty(e){function t(t,n){if(void 0===n&&(n=!0),!e.removed&&mw(e))return n&&e.fire("BeforeOpenNotification",{notification:t}),de(r,(function(e){return a(o().getArgs(e),t)})).getOrThunk((function(){e.editorManager.setActive(e);var n=o().open(t,(function(){s(n),u(),i().fold((function(){return e.focus()}),(function(e){return Vm(Sn.fromDom(e.getEl()))}))}));return c(n),u(),e.fire("OpenNotification",{notification:ze({},n)}),n}))}var n,r=[],o=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():gw()},i=function(){return ee.from(r[0])},a=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},u=function(){0<r.length&&o().reposition(r)},c=function(e){r.push(e)},s=function(e){me(r,(function(t){return t===e})).each((function(e){r.splice(e,1)}))},l=T(r);return(n=e).on("SkinLoaded",(function(){var e=pf(n);e&&t({text:e,type:"warning",timeout:0},!1),u()})),n.on("show ResizeEditor ResizeWindow NodeChange",(function(){to.requestAnimationFrame(u)})),n.on("remove",(function(){ce(r.slice(),(function(e){o().close(e)}))})),{open:t,close:function(){i().each((function(e){o().close(e),s(e),u()}))},getNotifications:l}}var _y,Ey,Dy=function(e){return!!e.select},Ay=function(e){return!(!e||!e.ownerDocument)&&Dn(Sn.fromDom(e.ownerDocument),Sn.fromDom(e))},zy=function(e,t){var n,r=bo();t.convert_fonts_to_spans&&Zb(e,r,Cn.explode(t.font_size_legacy_values)),n=r,e.addNodeFilter("strike",(function(e){ce(e,(function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}))}))},My=0,Ry=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new mg("br",1)).shortEnded=!0:r.empty().append(new mg("#text",3)).value=Ho},Ny=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},By=function(e,t){return e=e.getElementRule(t.name),e&&e.paddEmpty},Hy=function(e,t,n,r){return r.isEmpty(t,n,(function(t){return By(e,t)}))},Ly=function(e,t){function n(e){var n,o=e.attr("src");(n=e).attr("src")===wn.transparentSrc||w(n.attr("data-mce-placeholder"))||w(e.attr("data-mce-bogus"))||function(e){return e=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e),e?ee.some({type:e[1],data:decodeURIComponent(e[2])}):ee.none()}(o).filter((function(){return n=e,!(r=t).images_dataimg_filter||((o=new Image).src=n.attr("src"),ke(n.attributes.map,(function(e,t){o.setAttribute(t,e)})),r.images_dataimg_filter(o));var n,r,o})).bind((function(e){var t=e.type,n=e.data;return ee.from(r.getByData(n,t)).orThunk((function(){return ty(t,n).map((function(e){return e=r.create(ry(),e,n),r.add(e),e}))}))})).each((function(t){e.attr("src",t.blobUri())}))}var r=t.blob_cache;r&&e.addAttributeFilter("src",(function(e){return ce(e,n)}))},Py=Cn.makeMap,Iy=Cn.each,Fy=Cn.explode,Vy=Cn.extend,jy=function(e,t){void 0===t&&(t=Ii());var n,r,o={},i=[],a={},u={},c=((e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body",function(e){for(var t=e.name,n=(t in o&&((r=a[t])?r.push(e):a[t]=[e]),i.length);n--;){var r,c=i[n].name;c in e.attributes.map&&((r=u[c])?r.push(e):u[c]=[e])}return e}),s={schema:t,addAttributeFilter:function(e,t){Iy(Fy(e),(function(e){for(var n=0;n<i.length;n++)if(i[n].name===e)return void i[n].callbacks.push(t);i.push({name:e,callbacks:[t]})}))},getAttributeFilters:function(){return[].concat(i)},addNodeFilter:function(e,t){Iy(Fy(e),(function(e){var n=o[e];n||(o[e]=n=[]),n.push(t)}))},getNodeFilters:function(){var e,t=[];for(e in o)Ee(o,e)&&t.push({name:e,callbacks:o[e]});return t},filterNode:c,parse:function(n,r){function s(){function n(e){e&&((r=e.firstChild)&&3===r.type&&(r.value=r.value.replace(E,"")),(r=e.lastChild)&&3===r.type&&(r.value=r.value.replace(D,"")))}var r=R.firstChild,o=null;if(t.isValidChild(R.name,T.toLowerCase())){for(;r;){var i=r.next;3===r.type||1===r.type&&"p"!==r.name&&!x[r.name]&&!r.attr("data-mce-type")?(o||((o=l(T,1)).attr(e.forced_root_block_attrs),R.insert(o,r)),o.append(r)):(n(o),o=null),r=i}n(o)}}function l(e,t){var n;t=new mg(e,t);return e in o&&((n=a[e])?n.push(t):a[e]=[t]),t}function f(e){for(var n=t.getBlockElements(),r=e.prev;r&&3===r.type;){var o=r.value.replace(D,"");if(0<o.length)return r.value=o,0;if(o=r.next,o){if(3===o.type&&o.value.length){r=r.prev;continue}if(!n[o.name]&&"script"!==o.name&&"style"!==o.name){r=r.prev;continue}}o=r.prev,r.remove(),r=o}}var d,m,g,h,p,v,b,y,w=[],x=(r=r||{},a={},u={},Vy(Py("script,style,head,html,body,title,meta,param"),t.getBlockElements())),C=t.getNonEmptyElements(),S=t.children,k=e.validate,O=("forced_root_block"in r?r:e).forced_root_block,T=!1===(O=O)?"":!0===O?"p":O,_=t.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,A=/[ \t\r\n]+/g,z=/^[ \t\r\n]+$/,M=Ee(_,r.context)||Ee(_,e.root_name),R=(O=Og({validate:k,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){y.append(l("#cdata",4)).value=e},text:function(e,t){var n,r;M||(e=e.replace(A," "),n=y.lastChild,r=x,n&&(Ee(r,n.name)||"br"===n.name)&&(e=e.replace(E,""))),0!==e.length&&((r=l("#text",3)).raw=!!t,y.append(r).value=e)},comment:function(e){y.append(l("#comment",8)).value=e},pi:function(e,t){y.append(l(e,7)).value=t,f(y)},doctype:function(e){y.append(l("#doctype",10)).value=e,f(y)},start:function(e,n,r){var o=k?t.getElementRule(e):{};if(o){for(var a=l(o.outputName||e,1),c=(o=(a.attributes=n,a.shortEnded=r,y.append(a),S[y.name]),o&&S[a.name]&&!o[a.name]&&w.push(a),i.length);c--;){var s=i[c].name;s in n.map&&((v=u[s])?v.push(a):u[s]=[a])}x[e]&&f(a),r||(y=a),!M&&_[e]&&(M=!0)}},end:function(n){var o,i,a,u=k?t.getElementRule(n):{};if(u){if(x[n]&&!M){if((o=y.firstChild)&&3===o.type)if(0<(i=o.value.replace(E,"")).length)o.value=i,o=o.next;else for(a=o.next,o.remove(),o=a;o&&3===o.type;)i=o.value,a=o.next,0!==i.length&&!z.test(i)||(o.remove(),o=a),o=a;if((o=y.lastChild)&&3===o.type)if(0<(i=o.value.replace(D,"")).length)o.value=i,o=o.prev;else for(a=o.prev,o.remove(),o=a;o&&3===o.type;)i=o.value,a=o.prev,0!==i.length&&!z.test(i)||(o.remove(),o=a),o=a}if(M&&_[n]&&(M=!1),u.removeEmpty&&Hy(t,C,_,y))return n=y.parent,x[y.name]?y.empty().remove():y.unwrap(),void(y=n);u.paddEmpty&&(Ny(n=y,"#text")&&n.firstChild.value===Ho||Hy(t,C,_,y))&&Ry(e,r,x,y),y=y.parent}}},t),y=new mg(r.context||e.root_name,11));if(O.parse(n,r.format),k&&w.length)if(r.context)r.invalid=!0;else for(var N=w,B=Py("tr,td,th,tbody,thead,tfoot,table"),H=t.getNonEmptyElements(),L=t.getWhiteSpaceElements(),P=t.getTextBlockElements(),I=t.getSpecialElements(),F=function(e,n){if(void 0===n&&(n=e.parent),I[e.name])e.empty().remove();else{for(var r=0,o=e.children();r<o.length;r++){var i=o[r];t.isValidChild(n.name,i.name)||F(i,n)}e.unwrap()}},V=0;V<N.length;V++){var j=N[V],U=void 0,W=void 0;if(j.parent&&!j.fixed)if(P[j.name]&&"li"===j.parent.name){for(var $=j.next;$&&P[$.name];)$.name="li",$.fixed=!0,j.parent.insert($,j.parent),$=$.next;j.unwrap()}else{var q=[j];for(U=j.parent;U&&!t.isValidChild(U.name,j.name)&&!B[U.name];U=U.parent)q.push(U);if(U&&1<q.length)if(t.isValidChild(U.name,j.name)){q.reverse();for(var G,X=G=c(q[0].clone()),K=0;K<q.length-1;K++){t.isValidChild(X.name,q[K].name)?(W=c(q[K].clone()),X.append(W)):W=X;for(var Y=q[K].firstChild;Y&&Y!==q[K+1];){var J=Y.next;W.append(Y),Y=J}X=W}Hy(t,H,L,G)?U.insert(j,q[0],!0):(U.insert(G,q[0],!0),U.insert(j,G)),U=q[0],(Hy(t,H,L,U)||Ny(U,"br"))&&U.empty().remove()}else F(j);else j.parent&&("li"!==j.name?t.isValidChild(j.parent.name,"div")&&t.isValidChild("div",j.name)?j.wrap(c(new mg("div",1))):F(j):!($=j.prev)||"ul"!==$.name&&"ol"!==$.name?!($=j.next)||"ul"!==$.name&&"ol"!==$.name?j.wrap(c(new mg("ul",1))):$.insert(j,$.firstChild,!0):$.append(j))}}if(T&&("body"===R.name||r.isRootContent)&&s(),!r.invalid){for(b in a)if(Ee(a,b)){for(v=o[b],h=(d=a[b]).length;h--;)d[h].parent||d.splice(h,1);for(m=0,g=v.length;m<g;m++)v[m](d,b,r)}for(m=0,g=i.length;m<g;m++)if((v=i[m]).name in u){for(h=(d=u[v.name]).length;h--;)d[h].parent||d.splice(h,1);for(h=0,p=v.callbacks.length;h<p;h++)v.callbacks[h](d,v.name,r)}}return R}};return ay(s,e),n=s,(r=e).inline_styles&&zy(n,r),s},Uy=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){for(var n=e.length;n--;){var r=e[n];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(t,null)}})),e.addAttributeFilter("src,href,style",(function(e,r){for(var o="data-mce-"+r,i=t.url_converter,a=t.url_converter_scope,u=e.length;u--;){var c=e[u],s=c.attr(o);void 0!==s?(c.attr(r,0<s.length?s:null),c.attr(o,null)):(s=c.attr(r),"style"===r?s=n.serializeStyle(n.parseStyle(s),c.name):i&&(s=i.call(a,s,r,c.name)),c.attr(r,0<s.length?s:null))}})),e.addAttributeFilter("class",(function(e){for(var t=e.length;t--;){var n,r=e[t];r.attr("class")&&(n=r.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),r.attr("class",0<n.length?n:null))}})),e.addAttributeFilter("data-mce-type",(function(e,t,n){for(var r=e.length;r--;){var o=e[r];"bookmark"!==o.attr("data-mce-type")||n.cleanup||(ee.from(o.firstChild).exists((function(e){return!Po(e.value)}))?o.unwrap():o.remove())}})),e.addNodeFilter("noscript",(function(e){for(var t=e.length;t--;){var n=e[t].firstChild;n&&(n.value=Ei.decode(n.value))}})),e.addNodeFilter("script,style",(function(e,n){for(var r=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},o=e.length;o--;){var i,a=e[o],u=a.firstChild?a.firstChild.value:"";"script"===n?((i=a.attr("type"))&&a.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&0<u.length&&(a.firstChild.value="// <![CDATA[\n"+r(u)+"\n// ]]>")):"xhtml"===t.element_format&&0<u.length&&(a.firstChild.value="\x3c!--\n"+r(u)+"\n--\x3e")}})),e.addNodeFilter("#comment",(function(e){for(var r=e.length;r--;){var o=e[r];t.preserve_cdata&&0===o.value.indexOf("[CDATA[")?(o.name="#cdata",o.type=4,o.value=n.decode(o.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===o.value.indexOf("mce:protected ")&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(o.value).substr(14))}})),e.addNodeFilter("xml:namespace,input",(function(e,t){for(var n=e.length;n--;){var r=e[n];7===r.type?r.remove():1===r.type&&("input"!==t||r.attr("type")||r.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(function(t){ce(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))},Wy=function(e,t,n){return u=n,(a=e)&&a.hasEventListeners("PreProcess")&&!u.no_events?(a=t,u=n,e=(n=e).dom,a=a.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(o=i.createHTMLDocument(""),Cn.each("BODY"===a.nodeName?a.childNodes:[a],(function(e){o.body.appendChild(o.importNode(e,!0))})),a="BODY"!==a.nodeName?o.body.firstChild:o.body,r=e.doc,e.doc=o),i=n,n=ze(ze({},u),{node:a}),i.fire("PreProcess",n),r&&(e.doc=r),a):t;var r,o,i,a,u},$y=function(e,t,n){-1===Cn.inArray(t,n)&&(e.addAttributeFilter(n,(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),t.push(n))},qy=function(e,t,n){return e=Io(n.getInner?t.innerHTML:e.getOuterHTML(t)),n.selection||No(Sn.fromDom(t))?e:Cn.trim(e)},Gy=function(e,t,n){return n=n.selection?ze({forced_root_block:!1},n):n,e=e.parse(t,n),uy(e),e},Xy=function(e,t,n,r,o){return r=r,t=Ag(t,n).serialize(r),n=e,r=t,(e=o).no_events||!n?r:(n=n,e=ze(ze({},e),{content:r}),n.fire("PostProcess",e).content)},Ky=Hu.DOM,Yy=(_y=function(e,t){return g(e)&&g(t)?Yy(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o,i=e[r];for(o in i)Ee(i,o)&&(n[o]=_y(n[o],i[o]))}return n}),Jy="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Qy="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Zy="imagetools,toc".split(","),ew=function(e,t){n=e,e=le(Jy,(function(e){return Ee(n,e)})),!1!==(r=n.forced_root_block)&&""!==r||e.push("forced_root_block (false only)");var n,r=ve(e),o=(e=gy(t),0<e.length),i=0<r.length;t="mobile"===t.theme;(o||i||t)&&(t="\n- ",o&&e.join(t),i&&r.join(t))},tw=(vn=hn().deviceType,vn.isTouch()),nw=vn.isPhone(),rw=vn.isTablet(),ow=["lists","autolink","autosave"],iw={table_grid:!1,object_resizing:!1,resize:!1},aw=function(e,t,n,r,o){return t={id:t,theme:"silver",toolbar_mode:by(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o},ze(ze({},t),r?iw:{})},uw=function(e,t,n,r,o){return t=e?{mobile:function(e,t){return e={resize:!1,toolbar_mode:by(e,"scrolling"),toolbar_sticky:!1},ze(ze(ze({},iw),e),t?{menubar:!1}:{})}(o.mobile||{},t)}:{},t=py(["mobile"],Yy(t,o)),n=Cn.extend(n,r,t.settings(),(o=t,e&&vy(o,"mobile")?function(e,t,n){return void 0===n&&(n={}),e=e.sections(),e=_e(e,t).getOr({}),Cn.extend({},n,e)}(t,"mobile"):{}),{validate:!0,external_plugins:function(e,t){return t=t.external_plugins||{},e&&e.external_plugins?Cn.extend({},e.external_plugins,t):t}(r,t.settings())}),wy(e,t,r,n)},cw=(Ey={},{add:function(e,t){Ey[e]=t},get:function(e){return Ey[e]||{icons:{}}},has:function(e){return Ee(Ey,e)}}),sw=E(Sy,"clientWidth"),lw=E(Sy,"clientHeight"),fw=E(ky,"margin-top"),dw=E(ky,"margin-left"),mw=function(e){return e=e.inline?e.getBody():e.getContentAreaContainer(),ee.from(e).map(Sn.fromDom).map(Qn).getOr(!1)},gw=function(){function e(){throw new Error("Theme did not provide a NotificationManager implementation.")}return{open:e,close:e,reposition:e,getArgs:e}},hw=Uu.PluginManager,pw=Uu.ThemeManager;function vw(e){function t(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():{open:n,openUrl:n,alert:n,confirm:n,close:n,getParams:n,setParams:n};function n(){throw new Error("Theme did not provide a WindowManager implementation.")}}function n(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t?t.apply(e,n):void 0}}function r(t){a(t),0===(i=le(i,(function(e){return e!==t}))).length&&e.focus()}function o(t){return e.editorManager.setActive(e),Km(e),t=t(),u(t),t}var i=[],a=function(t){e.fire("CloseWindow",{dialog:t})},u=function(t){i.push(t),e.fire("OpenWindow",{dialog:t})};return e.on("remove",(function(){ce(i,(function(e){t().close(e)}))})),{open:function(e,n){return o((function(){return t().open(e,n,r)}))},openUrl:function(e){return o((function(){return t().openUrl(e,r)}))},alert:function(e,r,o){var i=t();i.alert(e,n(o||i,r))},confirm:function(e,r,o){var i=t();i.confirm(e,n(o||i,r))},close:function(){ee.from(i[i.length-1]).each((function(e){t().close(e),r(e)}))}}}function bw(e,t){e.notificationManager.open({type:"error",text:t})}function yw(e,t){e._skinLoaded?bw(e,t):e.on("SkinLoaded",(function(){bw(e,t)}))}function ww(e,t,n){Md(e,t,{message:n})}function xw(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t}function Cw(e,t,n){ww(e,"PluginLoadError",xw("plugin",t,n))}function Sw(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error||r.log).apply(r,Me([e],t,!1))}function kw(e){return Ow(e,(t=(e=e).getParam("content_css"),m(t)?ue(t.split(","),jt):h(t)?t:!1===t||e.inline?[]:["default"]));var t}function Ow(e,t){var n=e.editorManager.baseURL+"/skins/content",r="content"+e.editorManager.suffix+".css",o=!0===e.inline;return ue(t,(function(t){return GS(t)&&!o?n+"/"+t+"/"+r:e.documentBaseURI.toAbsolute(t)}))}function Tw(e){e.contentCSS=e.contentCSS.concat(kw(e),Ow(e,Rc(e)))}function _w(){function e(e,t){return{status:e,resultUri:t}}function t(e){return e in n}var n={};return{hasBlobUri:t,getResultUri:function(e){return e=n[e],e?e.resultUri:null},isPending:function(e){return!!t(e)&&1===n[e].status},isUploaded:function(e){return!!t(e)&&2===n[e].status},markPending:function(t){n[t]=e(1,null)},markUploaded:function(t,r){n[t]=e(2,r)},removeFailed:function(e){delete n[e]},destroy:function(){n={}}}}function Ew(e){return e+XS+++"s"+(new Date).getTime().toString(36)+t()+t()+t();function t(){return Math.round(4294967295*Math.random()).toString(36)}}function Dw(){function e(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var t=e.id||Ew("blobid"),n=e.name||t,o=e.blob;return{id:T(t),name:T(n),filename:T(e.filename||n+"."+r(o.type)),blob:T(o),base64:T(e.base64),blobUri:T(e.blobUri||URL.createObjectURL(o)),uri:T(e.uri)}}function t(e){return o((function(t){return t.id()===e}))}var n=[],r=function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[e.toLowerCase()]||"dat"},o=function(e){return de(n,e).getOrUndefined()};return{create:function(t,n,r,o,i){if(m(t))return e({id:t,name:o,filename:i,blob:n,base64:r});if(g(t))return e(t);throw new Error("Unknown input type")},add:function(e){t(e.id())||n.push(e)},get:t,getByUri:function(e){return o((function(t){return t.blobUri()===e}))},getByData:function(e,t){return o((function(n){return n.base64()===e&&n.blob().type===t}))},findFirst:o,removeByUri:function(e){n=le(n,(function(t){return t.blobUri()!==e||(URL.revokeObjectURL(t.blobUri()),!1)}))},destroy:function(){ce(n,(function(e){URL.revokeObjectURL(e.blobUri())})),n=[]}}}function Aw(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}}function zw(e,t){return KS(t,{url:sf(e),basePath:lf(e),credentials:ff(e),handler:df(e)})}function Mw(e){function t(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e}function n(t){return a=a||zw(e,s),p().then(d((function(n){var r=ue(n,(function(e){return e.blobInfo}));return a.upload(r,Aw(e)).then(d((function(r){var o=[];r=ue(r,(function(t,r){var i,a=n[r].blobInfo;r=n[r].image;return t.status&&e.getParam("images_replace_blob_uris",!0,"boolean")?(c.removeByUri(r.src),Nv(e)||h(r,t.url)):t.error&&(t.error.options.remove&&(g(r.getAttribute("src"),wn.transparentSrc),o.push(r)),i=t.error.message,yw(e,sl.translate(["Failed to upload image: {0}",i]))),{element:r,status:t.status,uploadUri:t.url,blobInfo:a}}));return 0<r.length&&f.fireIfChanged(),0<o.length&&(Nv(e)||e.undoManager.transact((function(){ce(o,(function(t){e.dom.remove(t),c.removeByUri(t.src)}))}))),t&&t(r),r})))})))}function r(t){if(Ac(e))return n(t)}function o(t){return!1!==he(l,(function(e){return e(t)}))&&(0!==t.getAttribute("src").indexOf("data:")||e.getParam("images_dataimg_filter",N,"function")(t))}function i(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var r=s.getResultUri(n);return r?'src="'+r+'"':(r=(r=c.getByUri(n))||fe(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':t)}))}var a,u,c=Dw(),s=_w(),l=[],f=function(e){var t=al(null);return e.on("change AddUndo",(function(e){t.set(ze({},e.level))})),{fireIfChanged:function(){var n=e.undoManager.data;ye(n).filter((function(e){return!Vb(t.get(),e)})).each((function(t){e.setDirty(!0),e.fire("change",{level:t,lastLevel:j(n,n.length-2).getOrNull()})}))}}}(e),d=function(t){return function(n){return e.selection?t(n):[]}},m=function(e,n,r){var o='src="'+r+'"'+(r===wn.transparentSrc?' data-mce-placeholder="1"':"");return e=t(e,'src="'+n+'"',o),t(e,'data-mce-src="'+n+'"','data-mce-src="'+r+'"')},g=function(t,n){ce(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=ue(e.fragments,(function(e){return m(e,t,n)})):e.content=m(e.content,t,n)}))},h=function(t,n){var r=e.convertURL(n,"src");g(t.src,n),e.$(t).attr({src:e.getParam("images_reuse_filename",!1,"boolean")?n+(-1===n.indexOf("?")?"?":"&")+(new Date).getTime():n,"data-mce-src":r})},p=function(){return(u=u||iy(s,c)).findAll(e.getBody(),o).then(d((function(t){return t=le(t,(function(t){return"string"!=typeof t||(yw(e,t),!1)})),Nv(e)||ce(t,(function(e){g(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))};return e.on("SetContent",(function(){(Ac(e)?r:p)()})),e.on("RawSaveContent",(function(e){e.content=i(e.content)})),e.on("GetContent",(function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=i(e.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){ce(e,(function(e){var t=e.attr("src");c.getByUri(t)||(t=s.getResultUri(t))&&e.attr("src",t)}))}))})),{blobCache:c,addFilter:function(e){l.push(e)},uploadImages:n,uploadImagesAuto:r,scanForImages:p,destroy:function(){c.destroy(),s.destroy(),u=a=null}}}function Rw(e){function t(e,r){e&&(m(e)?(h(r)||(r=[r]),ce(r,(function(e){b(e.deep)&&(e.deep=!md(e)),b(e.split)&&(e.split=!md(e)||gd(e)),b(e.remove)&&md(e)&&!gd(e)&&(e.remove="none"),md(e)&&gd(e)&&(e.mixed=!0,e.block_expand=!0),m(e.classes)&&(e.classes=e.classes.split(/\s+/))})),n[e]=r):ke(e,(function(e,n){t(n,e)})))}var n={};return t(YS(e.dom)),t(vf(e)),{get:function(e){return w(e)?n[e]:n},has:function(e){return Ee(n,e)},register:t,unregister:function(e){return e&&n[e]&&delete n[e],n}}}function Nw(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=Cn.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==Cn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}return"["!==o||(t=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(n.attrs[t[1]]=t[2]),""}))),n.name=t||"div",n}function Bw(e,t){var n,r="",o=bf(e);if(""===o)return"";function i(e){return e.replace(/%(\w+)/g,"")}if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){var a=_e(t,"preview");if(pr(a,!1))return"";o=a.getOr(o)}a=t.block||t.inline||"span";var u=(u=ek(t.selector)).length?(u[0].name||(u[0].name=a),a=t.selector,ZS(u,e)):ZS([a],e),c=QS.select(a,u)[0]||u.firstChild;return JS(t.styles,(function(e,t){e=i(e),e&&QS.setStyle(c,t,e)})),JS(t.attributes,(function(e,t){e=i(e),e&&QS.setAttrib(c,t,e)})),JS(t.classes,(function(e){e=i(e),QS.hasClass(c,e)||QS.addClass(c,e)})),e.fire("PreviewFormats"),QS.setStyles(u,{position:"absolute",left:-65535}),e.getBody().appendChild(u),n=QS.getStyle(e.getBody(),"fontSize",!0),n=/px$/.test(n)?parseInt(n,10):0,JS(o.split(" "),(function(t){var o=QS.getStyle(c,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(o)&&(o=QS.getStyle(e.getBody(),t,!0),"#ffffff"===QS.toHex(o).toLowerCase())||"color"===t&&"#000000"===QS.toHex(o).toLowerCase())){if("font-size"===t&&/em|%$/.test(o)){if(0===n)return;o=parseFloat(o)/(/%$/.test(o)?100:1)*n+"px"}"border"===t&&o&&(r+="padding:0 2px;"),r+=t+":"+o+";"}})),e.fire("AfterPreviewFormats"),QS.remove(u),r}function Hw(e){var t,n=Rw(e),r=al(null),o=e;o.addShortcut("meta+b","","Bold"),o.addShortcut("meta+i","","Italic"),o.addShortcut("meta+u","","Underline");for(var i=1;i<=6;i++)o.addShortcut("access+"+i,"",["FormatBlock",!1,"h"+i]);return o.addShortcut("access+7","",["FormatBlock",!1,"p"]),o.addShortcut("access+8","",["FormatBlock",!1,"div"]),o.addShortcut("access+9","",["FormatBlock",!1,"address"]),(t=e).on("mouseup keydown",(function(e){Ob(t,e.keyCode)})),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(t,n,r){t=t,n=n,r=r,$b(e).formatter.apply(t,n,r)},remove:function(t,n,r,o){t=t,n=n,r=r,o=o,$b(e).formatter.remove(t,n,r,o)},toggle:function(t,n,r){t=t,n=n,r=r,$b(e).formatter.toggle(t,n,r)},match:function(t,n,r,o){return t=t,n=n,r=r,o=o,$b(e).formatter.match(t,n,r,o)},closest:function(t){return t=t,$b(e).formatter.closest(t)},matchAll:function(t,n){return t=t,n=n,$b(e).formatter.matchAll(t,n)},matchNode:function(t,n,r,o){return t=t,n=n,r=r,o=o,$b(e).formatter.matchNode(t,n,r,o)},canApply:function(t){return t=t,$b(e).formatter.canApply(t)},formatChanged:function(t,n,o,i){return a=r,t=t,n=n,o=o,i=i,$b(e).formatter.formatChanged(a,t,n,o,i);var a},getCssText:E(Bw,e)}}function Lw(e,t,n){function r(e){jb(t,!1,n),t.add({},e)}var o=al(!1);e.on("init",(function(){t.add()})),e.on("BeforeExecCommand",(function(e){e=e.command,tk(e)||(Ub(t,n),t.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command;tk(t)||r(e)})),e.on("ObjectResizeStart cut",(function(){t.beforeChange()})),e.on("SaveContent ObjectResized blur",r),e.on("dragend",r),e.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((33<=i&&i<=36||37<=i&&i<=40||45===i||n.ctrlKey)&&(r(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),o.get()&&t.typing&&!1===Vb(Fb(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),o.set(!1),e.nodeChanged()))})),e.on("keydown",(function(e){var i,a=e.keyCode;e.isDefaultPrevented()||(33<=a&&a<=36||37<=a&&a<=40||45===a?t.typing&&r(e):(i=e.ctrlKey&&!e.altKey||e.metaKey,!(a<16||20<a)||224===a||91===a||t.typing||i||(t.beforeChange(),jb(t,!0,n),t.add({},e),o.set(!0))))})),e.on("mousedown",(function(e){t.typing&&r(e)})),e.on("input",(function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||"insertFromPaste"===(t=e).inputType||"insertFromDrop"===t.inputType)&&r(e)})),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))}function Pw(e){var t,n=fl(),r=al(0),o=al(0),i={data:[],typing:!1,beforeChange:function(){var t,o;t=r,o=n,$b(e).undoManager.beforeChange(t,o)},add:function(t,a){return u=i,c=o,s=r,l=n,t=t,a=a,$b(e).undoManager.add(u,c,s,l,t,a);var u,c,s,l},undo:function(){return t=i,n=r,a=o,$b(e).undoManager.undo(t,n,a);var t,n,a},redo:function(){return t=o,n=i.data,$b(e).undoManager.redo(t,n);var t,n},clear:function(){var t,n;t=i,n=o,$b(e).undoManager.clear(t,n)},reset:function(){var t;t=i,$b(e).undoManager.reset(t)},hasUndo:function(){return t=i,n=o,$b(e).undoManager.hasUndo(t,n);var t,n},hasRedo:function(){return t=i,n=o,$b(e).undoManager.hasRedo(t,n);var t,n},transact:function(t){return n=i,o=r,t=t,$b(e).undoManager.transact(n,o,t);var n,o},ignore:function(t){var n;n=r,t=t,$b(e).undoManager.ignore(n,t)},extra:function(t,n){var r,a;r=i,a=o,t=t,n=n,$b(e).undoManager.extra(r,a,t,n)}};return Nv(e)||Lw(e,i,r),(t=e).addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),i}function Iw(e){return"keydown"===e.type||"keyup"===e.type}function Fw(e){return(e=e.keyCode)===Xd.BACKSPACE||e===Xd.DELETE}function Vw(e){function t(i,a){var u,c,s,l,f,d;Iw(u=i)&&(d=u.keyCode,!Fw(u)&&(Xd.metaKeyPressed(u)||u.altKey||112<=d&&d<=123||ie(nk,d)))||(u=e.getBody(),c=!(Iw(d=i)&&!(Fw(d)||"keyup"===d.type&&229===d.keyCode))&&(i=n,c=u,s=r,!!mi(Sn.fromDom(c),!1)&&(l=""===s,!(f=c.firstElementChild)||!i.getStyle(c.firstElementChild,"padding-left")&&!i.getStyle(c.firstElementChild,"padding-right")&&(l?!i.isBlock(f):s===f.nodeName.toLowerCase()))),""!==n.getAttrib(u,rk)==c&&!a||(n.setAttrib(u,rk,c?o:null),n.setAttrib(u,"aria-placeholder",c?o:null),e.fire("PlaceholderToggle",{state:c}),e.on(c?"keydown":"keyup",t),e.off(c?"keyup":"keydown",t)))}var n=e.dom,r=rf(e),o=e.getParam("placeholder",nf.getAttrib(e.getElement(),"placeholder"),"string");o&&e.on("init",(function(n){t(n,!0),e.on("change SetContent ExecCommand",t),e.on("paste",(function(n){return to.setEditorTimeout(e,(function(){return t(n)}))}))}))}function jw(e,t){return Ke(Sn.fromDom(t),e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))}function Uw(e){return"rtl"===Hu.DOM.getStyle(e,"direction",!0)||(e=e.textContent,ok.test(e))}function Ww(e,t,n){return e=e,t=t,n=le(Hu.DOM.getParents(n.container(),"*",t),e),ee.from(n[n.length-1])}function $w(e){return Do(e)||zo(e)}function qw(e,t){return Dn(e,t)?jr(t,$w,(n=e,function(e){return Tn(n,Sn.fromDom(e.dom.parentNode))})):ee.none();var n}function Gw(e){var t;e.dom.isEmpty(e.getBody())&&(e.setContent(""),t=(t=(e=e).getBody()).firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t,e.selection.setCursorLocation(t,0))}function Xw(e,t){return{from:e,to:t}}function Kw(e,t){e=Sn.fromDom(e);var n=Sn.fromDom(t.container());return qw(e,n).map((function(e){return{block:e,position:t}}))}function Yw(e,t,n){var r=(n=Kw(e,Gl.fromRangeStart(n))).bind((function(n){return td(t,e,n.position).bind((function(n){return Kw(e,n).map((function(n){return r=e,o=t,lr((i=n).position.getNode())&&!1===mi(i.block)?ls(!1,i.block.dom).bind((function(e){return e.isEqual(i.position)?td(o,r,e).bind((function(e){return Kw(r,e)})):ee.some(i)})).getOr(i):i;var r,o,i}))}))}));return Tt(n,r,Xw).filter((function(e){return!1===Tn(e.from.block,e.to.block)&&Ln((t=e).from.block).bind((function(e){return Ln(t.to.block).filter((function(t){return Tn(e,t)}))})).isSome()&&!1===mr((e=e).from.block.dom)&&!1===mr(e.to.block.dom);var t}))}function Jw(e){t=Fn(e);var t;e=me(t,_o).fold(T(t),(function(e){return t.slice(0,e)}));return ce(e,Jn),e}function Qw(e,t){return t=ib(t,e),de(t.reverse(),(function(e){return mi(e)})).each(Jn)}function Zw(e,t,n,r){return mi(n)?(rb(n),id(n.dom)):(0===le(nt(r),(function(e){return!mi(e)})).length&&mi(t)&&Xn(r,Sn.fromTag("br")),n=od(n.dom,Gl.before(r.dom)),ce(Jw(t),(function(e){Xn(r,e)})),Qw(e,t),n)}function ex(e,t,n){if(mi(n))return Jn(n),mi(t)&&rb(t),id(t.dom);var r=ad(n.dom);return ce(Jw(t),(function(e){Kn(n,e)})),Qw(e,t),r}function tx(e,t){return Dn(t,e)?(e=ib(e,t),ee.from(e[e.length-1])):ee.none()}function nx(e,t){ls(e,t.dom).map((function(e){return e.getNode()})).map(Sn.fromDom).filter(Eo).each(Jn)}function rx(e,t,n){return nx(!0,t),nx(!1,n),tx(t,n).fold(E(ex,e,t,n),E(Zw,e,t,n))}function ox(e,t,n,r){return t?rx(e,r,n):rx(e,n,r)}function ix(e,t){var n,r,o=Sn.fromDom(e.getBody()),i=(i=o.dom,n=t,((r=e.selection.getRng()).collapsed?Yw(i,n,r):ee.none()).bind((function(e){return ox(o,t,e.from.block,e.to.block)})));return i.each((function(t){e.selection.setRng(t.toRange())})),i.isSome()}function ax(e,t){return t=Sn.fromDom(t),e=E(Tn,e),Vr(t,Ro,e).isSome()}function ux(e,t){var n=od(e.dom,Gl.fromRangeStart(t)).isNone(),r=rd(e.dom,Gl.fromRangeEnd(t)).isNone();return!(ax(e=e,(t=t).startContainer)||ax(e,t.endContainer))&&n&&r}function cx(e){var t,n,r,o=Sn.fromDom(e.getBody()),i=e.selection.getRng();return ux(o,i)?((i=e).setContent(""),i.selection.setCursorLocation(),!0):(t=o,n=e.selection,r=n.getRng(),Tt(qw(t,Sn.fromDom(r.startContainer)),qw(t,Sn.fromDom(r.endContainer)),(function(e,o){return!1===Tn(e,o)&&(r.deleteContents(),ox(t,!0,e,o).each((function(e){n.setRng(e.toRange())})),!0)})).getOr(!1))}function sx(e,t){return!e.selection.isCollapsed()&&cx(e)}function lx(e,t,n,r,o){return ee.from(t._selectionOverrides.showCaret(e,n,r,o))}function fx(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?ee.none():ee.some(((t=(e=t).ownerDocument.createRange()).selectNode(e),t))}function dx(e,t,n){t=Zc(1,e.getBody(),t);var r=(t=Gl.fromRangeStart(t)).getNode();return Gc(r)?lx(1,e,r,!t.isAtEnd(),!1):(r=t.getNode(!0),Gc(r)?lx(1,e,r,!1,!1):(r=e.dom.getParent(t.getNode(),(function(e){return sk(e)||ck(e)})),Gc(r)?lx(1,e,r,!1,n):ee.none()))}function mx(e,t,n){return t.collapsed?dx(e,t,n).getOr(t):t}function gx(e){return tb(e)||Jv(e)}function hx(e){return nb(e)||Qv(e)}function px(e,t,n,r,o,i){return lx(r,e,i.getNode(!o),o,!0).each((function(n){var r;t.collapsed?(r=t.cloneRange(),o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()):t.deleteContents(),e.selection.setRng(n)})),r=e.dom,ar(i=n)&&0===i.data.length&&r.remove(i),!0}function vx(e,t){var n=e.selection.getRng();if(!ar(n.commonAncestorContainer))return!1;var r=t?nl.Forwards:nl.Backwards,o=os(e.getBody()),i=(o=E(ns,t?o.next:o.prev),t?gx:hx),a=ts(r,e.getBody(),n),u=ik(t,o(a));return!(!u||!rs(a,u))&&(i(u)?px(e,n,a.getNode(),r,t,u):!!((o=o(u))&&i(o)&&rs(u,o))&&px(e,n,a.getNode(),r,t,o))}function bx(e,t,n,r){function o(t){return ao(Sn.fromDom(t))&&!If(n,r,e)}return es(!t,n).fold((function(){return es(t,r).fold(R,o)}),o)}function yx(e,t,n,r){var o=r.getNode(!1===t);return qw(Sn.fromDom(e),Sn.fromDom(n.getNode())).map((function(e){return mi(e)?lk.remove(e.dom):lk.moveToElement(o)})).orThunk((function(){return ee.some(lk.moveToElement(o))}))}function wx(e,t,n){return td(t,e,n).bind((function(r){return o=r.getNode(),Ro(Sn.fromDom(o))||zo(Sn.fromDom(o))||bx(e,t,n,r)?ee.none():t&&mr(r.getNode())||!1===t&&mr(r.getNode(!0))?yx(e,t,n,r):t&&nb(n)||!1===t&&tb(n)?ee.some(lk.moveToPosition(r)):ee.none();var o}))}function xx(e,t,n){return function(e,t){return t=t.getNode(!1===e),e=e?"after":"before",or(t)&&t.getAttribute("data-mce-caret")===e}(t,n)?(r=t,o=n.getNode(!1===t),(r&&mr(o.nextSibling)?ee.some(lk.moveToElement(o.nextSibling)):!1===r&&mr(o.previousSibling)?ee.some(lk.moveToElement(o.previousSibling)):ee.none()).fold((function(){return wx(e,t,n)}),ee.some)):wx(e,t,n).bind((function(t){return r=e,o=n,t.fold((function(e){return ee.some(lk.remove(e))}),(function(e){return ee.some(lk.moveToElement(e))}),(function(e){return If(o,e,r)?ee.none():ee.some(lk.moveToPosition(e))}));var r,o}));var r,o}function Cx(e,t){return ee.from(Ad(e.getBody(),t))}function Sx(e,t){var n=e.selection.getNode();return Cx(e,n).filter(mr).fold((function(){return n=e.getBody(),r=t,o=e.selection.getRng(),o=Zc(r?1:-1,n,o),o=Gl.fromRangeStart(o),i=Sn.fromDom(n),(!1===r&&nb(o)?ee.some(lk.remove(o.getNode(!0))):r&&tb(o)?ee.some(lk.remove(o.getNode())):!1===r&&tb(o)&&Xg(i,o)?lb(i,o).map((function(e){return lk.remove(e.getNode())})):r&&nb(o)&&Gg(i,o)?fb(i,o).map((function(e){return lk.remove(e.getNode())})):xx(n,r,o)).exists((function(n){return n.fold((function(e){return a._selectionOverrides.hideFakeCaret(),Sh(a,u,Sn.fromDom(e)),!0}),(i=u=t,function(e){return e=i?Gl.before(e):Gl.after(e),o.selection.setRng(e.toRange()),!0}),(r=o=a=e,function(e){return r.selection.setRng(e.toRange()),!0}));var r,o,i,a,u}));var n,r,o,i}),N)}function kx(e,t){var n=e.selection.getNode();return!(!mr(n)||gr(n))&&Cx(e,n.parentNode).filter(mr).fold((function(){var n;return n=Sn.fromDom(e.getBody()),ce(ml(n,".mce-offscreen-selection"),Jn),Sh(e,t,Sn.fromDom(e.selection.getNode())),Gw(e),!0}),N)}function Ox(e){var t,n=e.dom,r=e.selection;e=Ad(e.getBody(),r.getNode());return dr(e)&&n.isBlock(e)&&n.isEmpty(e)&&(t=n.create("br",{"data-mce-bogus":"1"}),n.setHTML(e,""),e.appendChild(t),r.setRng(Gl.before(t).toRange())),!0}function Tx(e,t){return(e.selection.isCollapsed()?Sx:kx)(e,t)}function _x(e,t){return!!e.selection.isCollapsed()&&(n=e,r=t,e=Gl.fromRangeStart(n.selection.getRng()),td(r,n.getBody(),e).filter((function(e){return(r?Kv:Yv)(e)})).bind((function(e){return ee.from(Yc(r?0:-1,e))})).exists((function(e){return n.selection.select(e),!0})));var n,r}function Ex(e,t){return e?fk((e=t).previousSibling)?(mk(e.previousSibling)||e.previousSibling.appendData(Lo),e.previousSibling):fk(e)?(dk(e)||e.insertData(0,Lo),e):(n=gk(e),e.parentNode.insertBefore(n,e),n):fk((e=t).nextSibling)?(dk(e.nextSibling)||e.nextSibling.insertData(0,Lo),e.nextSibling):fk(e)?(mk(e)||e.appendData(Lo),e):(n=gk(e),e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n);var n}function Dx(e,t){return ar(e.container())?Ex(t,e.container()):Ex(t,e.getNode())}function Ax(e,t){return(t=t.get())&&e.container()===t&&Uo(t)}function zx(e,t){return t.fold((function(t){return Uc(e.get()),t=hk(t),e.set(t),ee.some(Gl(t,t.length-1))}),(function(t){return id(t).map((function(t){return Ax(t,e)?Gl(e.get(),1):(Uc(e.get()),t=Dx(t,!0),e.set(t),Gl(t,1))}))}),(function(t){return ad(t).map((function(t){return Ax(t,e)?Gl(e.get(),e.get().length-1):(Uc(e.get()),t=Dx(t,!1),e.set(t),Gl(t,t.length-1))}))}),(function(t){return Uc(e.get()),t=pk(t),e.set(t),ee.some(Gl(t,1))}))}function Mx(e,t){return(t=Pf(t,e))||e}function Rx(e,t){return null===fs(e,t)}function Nx(e,t,n){return Ww(e,t,n).filter(E(Rx,t))}function Bx(e){return e.fold(_,_,_,_)}function Hx(e){return e.fold(T("before"),T("start"),T("end"),T("after"))}function Lx(e){return e.fold(bk.start,bk.start,bk.end,bk.end)}function Px(e,t){return e?t.fold(k(ee.some,bk.start),ee.none,k(ee.some,bk.after),ee.none):t.fold(ee.none,k(ee.some,bk.before),ee.none,k(ee.some,bk.end))}function Ix(e,t,n,r){var o=ik(e,r),i=kk(t,n,o);return kk(t,n,o).bind(E(Px,e)).orThunk((function(){return a=t,u=n,c=i,s=ik(o=e,r),td(o,u,s).map(E(ik,o)).fold((function(){return c.map(Ok)}),(function(e){return kk(a,u,e).map(E(Tk,o,a,u,s,e)).filter(E(_k,c))})).filter(Sk);var o,a,u,c,s}))}function Fx(e,t){return e===nl.Backwards?pe(t):t}function Vx(e,t,n,r){for(var o,i=os(n),a=r,u=[];a;){s=i,c=a;var c,s=t===nl.Forwards?s.next(c):s.prev(c);if(!s)break;if(lr(s.getNode(!1)))return t===nl.Forwards?{positions:Fx(t,u).concat([s]),breakType:$S.Br,breakAt:ee.some(s)}:{positions:Fx(t,u),breakType:$S.Br,breakAt:ee.some(s)};if(s.isVisible()){if(e(a,s))return c=a,c=lr((o=s).getNode(t===nl.Forwards))?$S.Br:!1===If(c,o)?$S.Block:$S.Wrap,{positions:Fx(t,u),breakType:c,breakAt:ee.some(s)};u.push(s),a=s}else a=s}return{positions:Fx(t,u),breakType:$S.Eol,breakAt:ee.none()}}function jx(e,t,n,r){return t(n,r).breakAt.map((function(r){var o=t(n,r).positions;return e===nl.Backwards?o.concat(r):[r].concat(o)})).getOr([])}function Ux(e,t){return fe(e,(function(e,n){return e.fold((function(){return ee.some(n)}),(function(r){return Tt(be(r.getClientRects()),be(n.getClientRects()),(function(e,o){return e=Math.abs(t-e.left),Math.abs(t-o.left)<=e?n:r})).or(e)}))}),ee.none())}function Wx(e,t){return be(t.getClientRects()).bind((function(t){return Ux(e,t.left)}))}function $x(e){return ge(e,Nk)}function qx(e,t,n,r,o,i){function a(r){var i=$x([r]);-1===e&&(i=i.reverse());for(var a=0;a<i.length;a++){var l=i[a];if(!n(l,s)){if(0<c.length&&t(l,Ae(c))&&u++,l.line=u,o(l))return!0;c.push(l)}}}var u=0,c=[],s=Ae(i.getClientRects());return s&&(i=i.getNode(),a(i),function(e,t,n,r){for(;r=Lf(r,e,ai,t);)if(n(r))return}(e,r,a,i)),c}function Gx(e,t,n,r){function o(e){return Ae(e.getClientRects())}t=os(t);var i,a,u,c=[],s=0,l=1===e?(i=t.next,a=sc,u=cc,Gl.after(r)):(i=t.prev,a=cc,u=sc,Gl.before(r)),f=o(l);do{if(l.isVisible()){var d=o(l);if(!u(d,f)){if(0<c.length&&a(d,Ae(c))&&s++,d=kl(d),d.position=l,d.line=s,n(d))return c;c.push(d)}}}while(l=i(l));return c}function Xx(e){return function(t){return t.line>e}}function Kx(e){return function(t){return t.line===e}}function Yx(e,t){return Math.abs(e.left-t)}function Jx(e,t){return Math.abs(e.right-t)}function Qx(e,t){return e>=t.left&&e<=t.right}function Zx(e,t){return e>=t.top&&e<=t.bottom}function eC(e,t,n){return void 0===n&&(n=N),Q(e,(function(e,r){if(Qx(t,r))return n(r)?r:e;if(Qx(t,e))return n(e)?e:r;var o=Math.min(Yx(e,t),Jx(e,t)),i=Math.min(Yx(r,t),Jx(r,t));return i===o&&G(r,"node")&&Lk(r.node)||i<o?r:e}))}function tC(e,t,n,r,o){var i=Pk(r,e,ai,t,!o);do{if(!i||n(i))return}while(i=Pk(i,e,ai,t))}function nC(e,t,n){function r(e,n){return n=le($x([n]),(function(n){return!e(n,t)})),o=o.concat(n),0===n.length}void 0===n&&(n=!0);var o=[];return o.push(t),tC(qS.Up,e,E(r,cc),t.node,n),tC(qS.Down,e,E(r,sc),t.node,n),o}function rC(e,t,n){function r(e){return!kt(e.node)&&!hr(e.node)}var o=$x(le(we(e.getElementsByTagName("*")),Xc));o=le(o,E(Zx,n));return(n=eC(o,t,r))&&(o=r(n),(n=eC(nC(e,n,o),t,r))&&Xc(n.node))?(e=t,{node:(o=n).node,before:Yx(o,e)<Jx(o,e)}):null}function oC(e,t){e.selection.setRng(t),Fm(e,e.selection.getRng())}function iC(e,t,n){return ee.some(mx(e,t,n))}function aC(e,t,n,r,o,i){var a=t===nl.Forwards,u=os(e.getBody());u=E(ns,a?u.next:u.prev),r=a?r:o;return!n.collapsed&&(o=lc(n),i(o))?lx(t,e,o,t===nl.Backwards,!1):(i=ts(t,e.getBody(),n),r(i)?fx(e,i.getNode(!a)):(o=ik(a,u(i)),i=Ko(n),o?r(o)?lx(t,e,o.getNode(!a),a,!1):(n=u(o))&&r(n)&&rs(o,n)?lx(t,e,n.getNode(!a),a,!1):i?iC(e,o.toRange(),!1):ee.none():i?ee.some(n):ee.none()))}function uC(e,t,n,r,o,i){var a=ts(t,e.getBody(),n),u=Ae(a.getClientRects()),c=t===qS.Down;if(!u)return ee.none();var s=(c?Hk:Bk)(e.getBody(),Xx(1),a),l=(s=le(s,Kx(1)),u=u.left,eC(s,u));if(l&&i(l.node))return i=Math.abs(u-l.left),f=Math.abs(u-l.right),lx(t,e,l.node,i<f,!1);if(l=r(a)?a.getNode():o(a)?a.getNode(!0):lc(n)){i=Gx(t,e.getBody(),Xx(1),l);var f=eC(le(i,Kx(1)),u);if(f)return iC(e,f.position.toRange(),!1);if(f=Ae(le(i,Kx(0))))return iC(e,f.position.toRange(),!1)}return 0===s.length?cC(e,c).filter(c?o:r).map((function(t){return mx(e,t.toRange(),!1)})):ee.none()}function cC(e,t){var n,r,o=e.selection.getRng();e=e.getBody();return t?(n=Gl.fromRangeEnd(o),r=zk(e,n),ye(r.positions)):(n=Gl.fromRangeStart(o),r=Ak(e,n),be(r.positions))}function sC(e,t,n){return cC(e,t).filter(n).exists((function(t){return e.selection.setRng(t.toRange()),!0}))}function lC(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)}function fC(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")}function dC(e,t,n){return zx(t,n).map((function(t){return lC(e,t),n}))}function mC(e,t){var n,r;e.selection.isCollapsed()&&!0!==e.composing&&t.get()&&(n=Gl.fromRangeStart(e.selection.getRng()),Gl.isTextPosition(n)&&!1===(qo(r=n)||Go(r))&&(lC(e,jc(t.get(),n)),t.set(null)))}function gC(e,t,n){return!!Hc(e)&&(o=t,t=n,n=(r=e).getBody(),e=Gl.fromRangeStart(r.selection.getRng()),i=E(jw,r),Ix(t,i,n,e).bind((function(e){return dC(r,o,e)})).isSome());var r,o,i}function hC(e,t,n){return!!Hc(t)&&(e=e,r=(t=t).selection.getRng(),r=e?Gl.fromRangeEnd(r):Gl.fromRangeStart(r),!!Ek(t)&&(e&&qo(r)?Dk(!0,t.selection,r):!(e||!Go(r))&&Dk(!1,t.selection,r)));var r}function pC(e){var t=al(null),n=E(jw,e);return e.on("NodeChange",(function(r){var o,i,a,u,c,s;!Hc(e)||wn.browser.isIE()&&r.initial||(s=n,o=e.dom,i=r.parents,o=ue(ml(Sn.fromDom(o.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom})),o=le(o,s),i=le(i,s),ce(V(o,i),E(fC,!1)),ce(V(i,o),E(fC,!0)),mC(e,t),a=n,u=e,c=t,s=r.parents,u.selection.isCollapsed()&&(s=le(s,a),ce(s,(function(e){var t=Gl.fromRangeStart(u.selection.getRng());kk(a,u.getBody(),t).bind((function(e){return dC(u,c,e)}))}))))})),t}function vC(e,t,n){var r;return!!Hc(e)&&(r=cC(e,t).getOrThunk((function(){var n=e.selection.getRng();return t?Gl.fromRangeEnd(n):Gl.fromRangeStart(n)})),kk(E(jw,e),e.getBody(),r).exists((function(t){return t=Ok(t),zx(n,t).exists((function(t){return lC(e,t),!0}))})))}function bC(e,t){return function(n){return zx(t,n).exists((function(t){return lC(e,t),!0}))}}function yC(e,t,n,r){var o=e.getBody(),i=E(jw,e);e.undoManager.ignore((function(){var a,u,c;e.selection.setRng((a=n,u=r,(c=document.createRange()).setStart(a.container(),a.offset()),c.setEnd(u.container(),u.offset()),c)),e.execCommand("Delete"),kk(i,o,Gl.fromRangeStart(e.selection.getRng())).map(Lx).map(bC(e,t))})),e.nodeChanged()}function wC(e,t,n,r){var o=function(e,t){return t=Pf(t,e),t||e}(e.getBody(),r.container()),i=E(jw,e),a=kk(i,o,r);return a.bind((function(e){return n?e.fold(T(ee.some(Lx(e))),ee.none,T(ee.some(Ok(e))),ee.none):e.fold(ee.none,T(ee.some(Ok(e))),ee.none,T(ee.some(Lx(e))))})).map(bC(e,t)).getOrThunk((function(){var u=ss(n,o,r),c=u.bind((function(e){return kk(i,o,e)}));return Tt(a,c,(function(){return Ww(i,o,r).exists((function(t){return!!Tt(id(r=t),ad(r),(function(e,t){e=ik(!0,e);var n=ik(!1,t);return rd(r,e).forall((function(e){return e.isEqual(n)}))})).getOr(!0)&&(Sh(e,n,Sn.fromDom(t)),!0);var r}))})).orThunk((function(){return c.bind((function(o){return u.map((function(o){return n?yC(e,t,r,o):yC(e,t,o,r),!0}))}))})).getOr(!1)}))}function xC(e,t,n){var r;return!(!e.selection.isCollapsed()||!Hc(e))&&(r=Gl.fromRangeStart(e.selection.getRng()),wC(e,t,n,r))}function CC(e){return 1===jn(e)}function SC(e,t,n,r){var o=E(zp,t);0===(r=ue(le(r,o),(function(e){return e.dom}))).length?Sh(t,e,n):(o=n.dom,e=r,n=kp(!1),e=Ep(e,n.dom),Xn(Sn.fromDom(o),n),Jn(Sn.fromDom(o)),r=Gl(e,0),t.selection.setRng(r.toRange()))}function kC(e,t){var n,r=Sn.fromDom(e.getBody()),o=Sn.fromDom(e.selection.getStart()),i=le((n=ib(o,r),me(n,_o).fold(T(n),(function(e){return n.slice(0,e)}))),CC);return ye(i).exists((function(n){var r,o,a,u=Gl.fromRangeStart(e.selection.getRng());return r=t,o=u,a=n.dom,!(!Tt(id(a),ad(a),(function(e,t){var n=ik(!0,e),i=ik(!1,t);e=ik(!1,o);return r?rd(a,e).exists((function(e){return e.isEqual(i)&&o.isEqual(n)})):od(a,e).exists((function(e){return e.isEqual(n)&&o.isEqual(i)}))})).getOr(!0)||cd((u=n).dom)&&Cp(u.dom))&&(SC(t,e,n,i),!0)}))}function OC(e,t){return!!e.selection.isCollapsed()&&kC(e,t)}function TC(e,t,n){return e._selectionOverrides.hideFakeCaret(),Sh(e,t,Sn.fromDom(n)),!0}function _C(e,t){return e.selection.isCollapsed()?(n=e,o=(r=t)?Jv:Qv,i=r?nl.Forwards:nl.Backwards,a=ts(i,n.getBody(),n.selection.getRng()),o(a)?TC(n,r,a.getNode(!r)):ee.from(ik(r,a)).filter((function(e){return o(e)&&rs(a,e)})).exists((function(e){return TC(n,r,e.getNode(!r))}))):(i=t,e=(t=e).selection.getNode(),!!hr(e)&&TC(t,i,e));var n,r,o,i,a}function EC(e){var t,n=DC(e);return!e.mode.isReadOnly()&&(1<n.length||(t=e,he(n,(function(e){var n=Uk(gf(t),e);n=Or(e,n).map(jk).getOr(0);return"false"!==t.dom.getContentEditable(e.dom)&&0<n}))))}function DC(e){return le(xl(e.selection.getSelectedBlocks()),(function(e){return!Wk(e)&&!$k(e)&&Vk(e)}))}function AC(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=e.getParam("indentation","40px","string"),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),c=gf(e);i=rf(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==i||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),ce(DC(e),(function(e){var r,o,i,s,l,f;r=n,o=t,i=c,s=u,l=a,e=e.dom,i=Uk(i,Sn.fromDom(e)),"outdent"===o?(f=Math.max(0,jk(e.style[i])-s),r.setStyle(e,i,f?f+l:"")):(f=jk(e.style[i])+s+l,r.setStyle(e,i,f))}))}function zC(e,t){if(e.selection.isCollapsed()&&EC(e)){var n=e.dom,r=e.selection.getRng(),o=Gl.fromRangeStart(r);r=n.getParent(r.startContainer,n.isBlock);if(null!==r&&ab(Sn.fromDom(r),o))return AC(e,"outdent"),!0}return!1}function MC(e,t){e.getDoc().execCommand(t,!1,null)}function RC(e,t){e.addCommand("delete",(function(){var n,r;r=t,zC(n=e)||Tx(n,!1)||vx(n,!1)||xC(n,r,!1)||ix(n,!1)||Qh(n)||_x(n,!1)||_C(n,!1)||sx(n)||OC(n,!1)||(MC(n,"Delete"),Gw(n))})),e.addCommand("forwardDelete",(function(){var n,r;r=t,Tx(n=e,!0)||vx(n,!0)||xC(n,r,!0)||ix(n,!0)||Qh(n)||_x(n,!0)||_C(n,!0)||sx(n)||OC(n,!0)||MC(n,"ForwardDelete")}))}function NC(e){return void 0===e.touches||1!==e.touches.length?ee.none():ee.some(e.touches[0])}function BC(e){var t=fl(),n=al(!1),r=dl((function(t){e.fire("longpress",ze(ze({},t),{type:"longpress"})),n.set(!0)}),400);e.on("touchstart",(function(e){NC(e).each((function(o){r.cancel(),o={x:o.clientX,y:o.clientY,target:e.target},r.throttle(e),n.set(!1),t.set(o)}))}),!0),e.on("touchmove",(function(o){r.cancel(),NC(o).each((function(r){t.on((function(o){var i,a;i=r,o=o,a=Math.abs(i.clientX-o.x),i=Math.abs(i.clientY-o.y),(5<a||5<i)&&(t.clear(),n.set(!1),e.fire("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&t.get().filter((function(e){return e.target.isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():e.fire("tap",ze(ze({},o),{type:"tap"}))}))}),!0)}function HC(e,t){return Ee(e,t.nodeName)}function LC(e){var t,n,r,o=e.dom,i=e.selection,a=(g=e.schema).getBlockElements(),u=i.getStart(),c=e.getBody(),s=rf(e);if(u&&or(u)&&s){var l=c.nodeName.toLowerCase();if(g.isValidChild(l,s.toLowerCase())&&(f=a,g=c,l=u,!ae(ob(Sn.fromDom(l),Sn.fromDom(g)),(function(e){return HC(f,e.dom)})))){l=i.getRng();var f,d,m,g=l.startContainer,h=l.startOffset,p=l.endContainer,v=l.endOffset,b=ag(e);for(u=c.firstChild;u;)d=a,ar(m=u)||or(m)&&!HC(d,m)&&!ld(m)?function(e,t){if(ar(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||HC(e,t.nextSibling)))return!0}return!1}(a,u)?(u=(n=u).nextSibling,o.remove(n)):(t||(t=o.create(s,Dc(e)),u.parentNode.insertBefore(t,u),r=!0),u=(n=u).nextSibling,t.appendChild(n)):(t=null,u=u.nextSibling);r&&b&&(l.setStart(g,h),l.setEnd(p,v),i.setRng(l),e.nodeChanged())}}}function PC(e,t){t.hasAttribute("data-mce-caret")&&(Xo(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))}function IC(e,t){var n=Qr(Sn.fromDom(e.getBody()),"*[data-mce-caret]").map((function(e){return e.dom})).getOrNull();if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void PC(e,n)):void($o(n)&&(PC(e,n),e.undoManager.add()))}function FC(e,t,n){var r,o=os(e.getBody());o=E(ns,1===t?o.next:o.prev);!n.collapsed||""===rf(e)||(r=e.dom.getParent(n.startContainer,"PRE"))&&(o(Gl.fromRangeStart(n))||(o=function(e){return e=e.dom.create(rf(e)),(!wn.ie||11<=wn.ie)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(e),1===t?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse()))}function VC(e,t){var n=t?nl.Forwards:nl.Backwards,r=e.selection.getRng();return aC(e,n,r,tb,nb,qk).orThunk((function(){return FC(e,n,r),ee.none()}))}function jC(e,t){var n=t?1:-1,r=e.selection.getRng();return uC(e,n,r,(function(e){return tb(e)||Zv(e)}),(function(e){return nb(e)||eb(e)}),qk).orThunk((function(){return FC(e,n,r),ee.none()}))}function UC(e,t){return VC(e,t).exists((function(t){return oC(e,t),!0}))}function WC(e,t){return jC(e,t).exists((function(t){return oC(e,t),!0}))}function $C(e,t){return sC(e,t,t?nb:tb)}function qC(e){return ie(["figcaption"],An(e))}function GC(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t}function XC(e,t,n){(n?Kn:ct)(e,t)}function KC(e,t,n,r){return""===t?(o=e,i=r,a=Sn.fromTag("br"),XC(o,a,i),GC(a)):(o=e,i=r,a=t,e=n,a=Sn.fromTag(a),r=Sn.fromTag("br"),yr(a,e),Kn(a,r),XC(o,a,i),GC(r));var o,i,a}function YC(e,t,n){return t?(t=e.dom,zk(t,n).breakAt.isNone()):(t=e.dom,Ak(t,n).breakAt.isNone())}function JC(e,t){var n=Sn.fromDom(e.getBody()),r=Gl.fromRangeStart(e.selection.getRng()),o=rf(e),i=Dc(e);return function(e,t){return t=E(Tn,t),jr(Sn.fromDom(e.container()),_o,t).filter(qC)}(r,n).exists((function(){var a;return!!YC(n,t,r)&&(a=KC(n,o,i,t),e.selection.setRng(a),!0)}))}function QC(e,t){return!!e.selection.isCollapsed()&&JC(e,t)}function ZC(e,t){return ge(ue(e,(function(e){return ze({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:S},e)})),(function(e){return n=e,(r=t).keyCode===n.keyCode&&r.shiftKey===n.shiftKey&&r.altKey===n.altKey&&r.ctrlKey===n.ctrlKey&&r.metaKey===n.metaKey?[e]:[];var n,r}))}function eS(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}}function tS(e,t){return de(ZC(e,t),(function(e){return e.action()}))}function nS(e,t){t=t?nl.Forwards:nl.Backwards;var n=e.selection.getRng();return aC(e,t,n,Jv,Qv,hr).exists((function(t){return oC(e,t),!0}))}function rS(e,t){t=t?1:-1;var n=e.selection.getRng();return uC(e,t,n,Jv,Qv,hr).exists((function(t){return oC(e,t),!0}))}function oS(e,t){return sC(e,t,t?Qv:Jv)}function iS(e,t,n,r,o){var i,a,u;n=ml(Sn.fromDom(n),"td,th,caption").map((function(e){return e.dom})),e=le((i=e,ge(n,(function(e){var t=Gk(kl(e.getBoundingClientRect()),-1);return[{x:t.left,y:i(t),cell:e},{x:t.right,y:i(t),cell:e}]}))),(function(e){return t(e,o)}));return a=r,u=o,fe(e,(function(e,t){return e.fold((function(){return ee.some(t)}),(function(e){var n=Math.sqrt(Math.abs(e.x-a)+Math.abs(e.y-u)),r=Math.sqrt(Math.abs(t.x-a)+Math.abs(t.y-u));return ee.some(r<n?t:e)}))}),ee.none()).map((function(e){return e.cell}))}function aS(e,t){return be(t.getClientRects()).bind((function(t){return Xk(e,t.left,t.top)})).bind((function(e){return Wx(ad(n=e).map((function(e){return Ak(n,e).positions.concat(e)})).getOr([]),t);var n}))}function uS(e,t){return ye(t.getClientRects()).bind((function(t){return Kk(e,t.left,t.top)})).bind((function(e){return Wx(id(n=e).map((function(e){return[e].concat(zk(n,e).positions)})).getOr([]),t);var n}))}function cS(e,t,n){var r,o,i,a=e(t,n);return(i=a).breakType===$S.Wrap&&0===i.positions.length||!lr(n.getNode())&&(i=a).breakType===$S.Br&&1===i.positions.length?(r=e,o=t,!a.breakAt.exists((function(e){return r(o,e).breakAt.isSome()}))):a.breakAt.isNone()}function sS(e,t,n,r){var o,i,a,u=e.selection.getRng(),c=t?1:-1;return!(!qc()||(o=t,i=n,a=Gl.fromRangeStart(u),!ls(!o,i).exists((function(e){return e.isEqual(a)}))))&&(lx(c,e,n,!t,!1).each((function(t){oC(e,t)})),!0)}function lS(e,t){return t=t.getNode(e),or(t)&&"TABLE"===t.nodeName?ee.some(t):ee.none()}function fS(e,t,n){var r=lS(!!t,n),o=!1===t;r.fold((function(){return oC(e,n.toRange())}),(function(r){return ls(o,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return oC(e,n.toRange())}),(function(o){var i,a,u,c,s;i=t,u=r,c=n,(s=rf(a=e))?a.undoManager.transact((function(){var e=Sn.fromTag(s),t=(yr(e,Dc(a)),Kn(e,Sn.fromTag("br")),(i?ut:Xn)(Sn.fromDom(u),e),a.dom.createRng());t.setStart(e.dom,0),t.setEnd(e.dom,0),oC(a,t)})):oC(a,c.toRange())}))}))}function dS(e,t,n,r){var o,i,a,u,c,s,l,f=e.selection.getRng(),d=(f=Gl.fromRangeStart(f),e.getBody());return!t&&Yk(r,f)?(c=d,o=aS(s=n,l=f).orThunk((function(){return be(l.getClientRects()).bind((function(e){return Ux(Mk(c,Gl.before(s)),e.left)}))})).getOr(Gl.before(s)),fS(e,t,o),!0):!(!t||!Jk(r,f))&&(i=d,o=uS(a=n,u=f).orThunk((function(){return be(u.getClientRects()).bind((function(e){return Ux(Rk(i,Gl.after(a)),e.left)}))})).getOr(Gl.after(a)),fS(e,t,o),!0)}function mS(e,t,n){return ee.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(r){return ee.from(e.dom.getParent(r,"table")).map((function(o){return n(e,t,o,r)}))})).getOr(!1)}function gS(e,t){return mS(e,t,sS)}function hS(e,t){return mS(e,t,dS)}function pS(e,t){e.on("keydown",(function(n){var r,o,i;!1===n.isDefaultPrevented()&&(r=e,o=t,i=n,n=hn().os,tS([{keyCode:Xd.RIGHT,action:eS(UC,r,!0)},{keyCode:Xd.LEFT,action:eS(UC,r,!1)},{keyCode:Xd.UP,action:eS(WC,r,!1)},{keyCode:Xd.DOWN,action:eS(WC,r,!0)},{keyCode:Xd.RIGHT,action:eS(gS,r,!0)},{keyCode:Xd.LEFT,action:eS(gS,r,!1)},{keyCode:Xd.UP,action:eS(hS,r,!1)},{keyCode:Xd.DOWN,action:eS(hS,r,!0)},{keyCode:Xd.RIGHT,action:eS(nS,r,!0)},{keyCode:Xd.LEFT,action:eS(nS,r,!1)},{keyCode:Xd.UP,action:eS(rS,r,!1)},{keyCode:Xd.DOWN,action:eS(rS,r,!0)},{keyCode:Xd.RIGHT,action:eS(gC,r,o,!0)},{keyCode:Xd.LEFT,action:eS(gC,r,o,!1)},{keyCode:Xd.RIGHT,ctrlKey:!n.isOSX(),altKey:n.isOSX(),action:eS(Ik,r,o)},{keyCode:Xd.LEFT,ctrlKey:!n.isOSX(),altKey:n.isOSX(),action:eS(Fk,r,o)},{keyCode:Xd.UP,action:eS(QC,r,!1)},{keyCode:Xd.DOWN,action:eS(QC,r,!0)}],i).each((function(e){i.preventDefault()})))}))}function vS(e,t){e.on("keydown",(function(n){var r,o,i;!1===n.isDefaultPrevented()&&(r=e,o=t,i=n,tS([{keyCode:Xd.BACKSPACE,action:eS(zC,r,!1)},{keyCode:Xd.BACKSPACE,action:eS(Tx,r,!1)},{keyCode:Xd.DELETE,action:eS(Tx,r,!0)},{keyCode:Xd.BACKSPACE,action:eS(vx,r,!1)},{keyCode:Xd.DELETE,action:eS(vx,r,!0)},{keyCode:Xd.BACKSPACE,action:eS(xC,r,o,!1)},{keyCode:Xd.DELETE,action:eS(xC,r,o,!0)},{keyCode:Xd.BACKSPACE,action:eS(Qh,r,!1)},{keyCode:Xd.DELETE,action:eS(Qh,r,!0)},{keyCode:Xd.BACKSPACE,action:eS(_x,r,!1)},{keyCode:Xd.DELETE,action:eS(_x,r,!0)},{keyCode:Xd.BACKSPACE,action:eS(_C,r,!1)},{keyCode:Xd.DELETE,action:eS(_C,r,!0)},{keyCode:Xd.BACKSPACE,action:eS(sx,r,!1)},{keyCode:Xd.DELETE,action:eS(sx,r,!0)},{keyCode:Xd.BACKSPACE,action:eS(ix,r,!1)},{keyCode:Xd.DELETE,action:eS(ix,r,!0)},{keyCode:Xd.BACKSPACE,action:eS(OC,r,!1)},{keyCode:Xd.DELETE,action:eS(OC,r,!0)}],i).each((function(e){i.preventDefault()})))})),e.on("keyup",(function(t){var n;!1===t.isDefaultPrevented()&&(n=e,t=t,tS([{keyCode:Xd.BACKSPACE,action:eS(Ox,n)},{keyCode:Xd.DELETE,action:eS(Ox,n)}],t))}))}function bS(e){return ee.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))}function yS(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t}function wS(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)}function xS(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e}function CS(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!or(r);)r=r[n?"nextSibling":"previousSibling"];return r===t}function SS(e,t){function n(t){var n,r=i,o=h.getTextInlineElements(),a=t||"TABLE"===d||"HR"===d?g.create(t||c):l.cloneNode(!1),u=a;if(!1===of(e))g.setAttrib(a,"style",null),g.setAttrib(a,"class",null);else for(;o[r.nodeName]&&(cd(r)||ld(r)||(n=r.cloneNode(!1),g.setAttrib(n,"id",""),a.hasChildNodes()?n.appendChild(a.firstChild):u=n,a.appendChild(n))),(r=r.parentNode)&&r!==y;);return sO(e,a),tO(u),a}function r(e){var t,n,r=iO(e,i,a);if(!ar(i)||!(e?0<r:r<i.nodeValue.length)){if(i.parentNode===l&&s&&!e)return 1;if(e&&or(i)&&i===l.firstChild)return 1;if(nO(i,"TABLE")||nO(i,"HR"))return s&&!e||!s&&e;var o=new ro(i,l);for(ar(i)&&(e&&0===r?o.prev():e||r!==i.nodeValue.length||o.next());t=o.current();){if(or(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),p[n]&&"br"!==n))return}else if(ar(t)&&!ci(t.nodeValue))return;e?o.prev():o.next()}return 1}}function o(){u=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==m?n(c):n(),af(e)&&rO(g,f)&&g.isEmpty(l)?u=g.split(f,l):g.insertAfter(u,l),Qk(e,u)}var i,a,u,c,s,l,f,d,m,g=e.dom,h=e.schema,p=h.getNonEmptyElements(),v=e.selection.getRng(),b=(em(g,v).each((function(e){v.setStart(e.startContainer,e.startOffset),v.setEnd(e.endContainer,e.endOffset)})),i=v.startContainer,a=v.startOffset,c=rf(e),!(!t||!t.shiftKey)),y=(t=!(!t||!t.ctrlKey),or(i)&&i.hasChildNodes()&&(s=a>i.childNodes.length-1,i=i.childNodes[Math.min(a,i.childNodes.length-1)]||i,a=s&&ar(i)?i.nodeValue.length:0),cO(g,i));y&&((c&&!b||!c&&b)&&(i=lO(e,c,v,i,a)),f=(l=g.getParent(i,g.isBlock))?g.getParent(l.parentNode,g.isBlock):null,d=l?l.nodeName.toUpperCase():"","LI"!==(m=f?f.nodeName.toUpperCase():"")||t||(f=(l=f).parentNode,d=m),/^(LI|DT|DD)$/.test(d)&&g.isEmpty(l)?Zk(e,n,f,l,c):c&&l===e.getBody()||(c=c||"P",jo(l)?(u=Xo(l),g.isEmpty(l)&&tO(l),sO(e,u),Qk(e,u)):r()?o():r(!0)?(u=l.parentNode.insertBefore(n(),l),Qk(e,nO(l,"HR")?u:l)):((b=aO(v).cloneRange()).setEndAfter(l),t=b.extractContents(),eO(t),uO(t),u=t.firstChild,g.insertAfter(t,l),oO(g,p,u),fO(g,l),g.isEmpty(l)&&tO(l),u.normalize(),g.isEmpty(u)?(g.remove(u),o()):(sO(e,u),Qk(e,u))),g.setAttrib(u,"id",""),e.fire("NewBlock",{newBlock:u})))}function kS(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Fm(e,r)}function OS(e,t){var n=Sn.fromTag("br");Xn(Sn.fromDom(t),n),e.undoManager.add()}function TS(e,t){!function(e,t){return!!mO(Gl.after(t))||rd(e,Gl.after(t)).map((function(e){return lr(e.getNode())})).getOr(!1)}(e.getBody(),t)&&ut(Sn.fromDom(t),Sn.fromTag("br"));var n=Sn.fromTag("br");ut(Sn.fromDom(t),n),kS(e,n.dom,!1),e.undoManager.add()}function _S(e){return e&&"A"===e.nodeName&&"href"in e}function ES(e){return e.fold(R,_S,_S,R)}function DS(e,t){var n=gO(e);n.isSome()?n.each(E(hO,e)):dO(e,t)}function AS(e,t){return bS(e).filter((function(e){return 0<t.length&&Ke(Sn.fromDom(e),t)})).isSome()}function zS(e,t){return function(n,r){return bS(n).fold(T(""),(function(e){return e.nodeName.toUpperCase()}))===e.toUpperCase()===t}}function MS(e,t){var n,r;n=e,r=t,vk([TO([vO],pO.none()),TO([xO()],pO.br()),TO([wO(!0),CO(!1),kO],pO.br()),TO([wO(!0),CO(!1)],pO.block()),TO([wO(!0),CO(!0),kO],pO.block()),TO([wO(!0),CO(!0)],pO.br()),TO([yO(!0),kO],pO.br()),TO([yO(!0)],pO.block()),TO([bO(!0),kO,OO],pO.block()),TO([bO(!0)],pO.br()),TO([SO],pO.br()),TO([bO(!1),kO],pO.br()),TO([OO],pO.block())],[n,!(!r||!r.shiftKey)]).getOr(pO.none()).fold((function(){DS(e,t)}),(function(){SS(e,t)}),S)}function RS(e){e.on("keydown",(function(t){var n,r;t.keyCode===Xd.ENTER&&(n=e,(r=t).isDefaultPrevented()||(r.preventDefault(),(t=n.undoManager).typing&&(t.typing=!1,t.add()),n.undoManager.transact((function(){!1===n.selection.isCollapsed()&&n.execCommand("Delete"),MS(n,r)}))))}))}function NS(e,t){e.on("keydown",(function(n){var r,o,i;!1===n.isDefaultPrevented()&&(r=e,o=t,i=n,tS([{keyCode:Xd.END,action:eS($C,r,!0)},{keyCode:Xd.HOME,action:eS($C,r,!1)},{keyCode:Xd.END,action:eS(oS,r,!0)},{keyCode:Xd.HOME,action:eS(oS,r,!1)},{keyCode:Xd.END,action:eS(vC,r,!0,o)},{keyCode:Xd.HOME,action:eS(vC,r,!1,o)}],i).each((function(e){i.preventDefault()})))}))}function BS(e){var t,n;t=e,n=Wu((function(){t.composing||ch(t)}),0),_O.isIE()&&(t.on("keypress",(function(e){n.throttle()})),t.on("remove",(function(e){n.cancel()}))),e.on("input",(function(t){!1===t.isComposing&&ch(e)}))}function HS(e){return e.stopImmediatePropagation()}function LS(e){return e.keyCode===Xd.PAGE_UP||e.keyCode===Xd.PAGE_DOWN}function PS(e,t,n){n&&!e.get()?t.on("NodeChange",HS,!0):!n&&e.get()&&t.off("NodeChange",HS),e.set(n)}function IS(e,t){var n;EO.os.isOSX()||(n=al(!1),e.on("keydown",(function(t){LS(t)&&PS(n,e,!0)})),e.on("keyup",(function(r){var o,i,a;!1===r.isDefaultPrevented()&&(o=e,i=t,a=r,tS([{keyCode:Xd.PAGE_UP,action:eS(vC,o,!1,i)},{keyCode:Xd.PAGE_DOWN,action:eS(vC,o,!0,i)}],a)),LS(r)&&n.get()&&(PS(n,e,!1),e.nodeChanged())})))}function FS(e,t){var n=t.container(),r=t.offset();return ar(n)?(n.insertData(r,e),ee.some(Gl(n,r+e.length))):jf(t).map((function(n){var r=Sn.fromText(e);return(t.isAtEnd()?ut:Xn)(n,r),Gl(r.dom,e.length)}))}function VS(e,t){return function(n){return r=e,(!Zg(n=n)&&(eh(r,n)||Jg(r,n)||Qg(r,n))?DO:AO)(t);var r}}function jS(e){var t,n,r,o,i=Gl.fromRangeStart(e.selection.getRng()),a=Sn.fromDom(e.getBody());return!!e.selection.isCollapsed()&&(t=E(jw,e),n=Gl.fromRangeStart(e.selection.getRng()),kk(t,e.getBody(),n).bind((o=a,function(e){return e.fold((function(e){return od(o.dom,Gl.before(e))}),(function(e){return id(e)}),(function(e){return ad(e)}),(function(e){return rd(o.dom,Gl.after(e))}))})).bind(VS(a,i)).exists((r=e,function(e){return r.selection.setRng(e.toRange()),r.nodeChanged(),!0})))}function US(e){e.on("keydown",(function(t){var n;!1===t.isDefaultPrevented()&&(n=t,tS([{keyCode:Xd.SPACEBAR,action:eS(jS,e)}],n).each((function(e){n.preventDefault()})))}))}function WS(e){var t=pC(e);return e.on("keyup compositionstart",E(IC,e)),pS(e,t),vS(e,t),RS(e),US(e),BS(e),NS(e,t),IS(e,t),t}var $S,qS,GS=function(e){return/^[a-z0-9\-]+$/i.test(e)},XS=0,KS=function(e,t){function n(e,t){return{url:t,blobInfo:e,status:!0}}function r(e,t,n){return{url:"",blobInfo:e,status:!1,error:{message:t,options:n}}}function o(e,t){Cn.each(i[e],(function(e){e(t)})),delete i[e]}var i={},a=function(e,n,r,o){var i=new XMLHttpRequest,a=(i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=function(e){o(e.loaded/e.total*100)},i.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){var e,o;i.status<200||300<=i.status?r("HTTP Error: "+i.status):(o=JSON.parse(i.responseText))&&"string"==typeof o.location?n((e=t.basePath,o=o.location,e?e.replace(/\/$/,"")+"/"+o.replace(/^\//,""):o)):r("Invalid JSON: "+i.responseText)},new FormData);a.append("file",e.blob(),e.filename()),i.send(a)},u=function(t,i,a){return e.markPending(t.blobUri()),new eo((function(u){var c;try{var s=function(){c&&c.close()};i(t,(function(r){s(),e.markUploaded(t.blobUri(),r),o(t.blobUri(),n(t,r)),u(n(t,r))}),(function(n,i){i=i||{},s(),e.removeFailed(t.blobUri()),o(t.blobUri(),r(t,n,i)),u(r(t,n,i))}),(function(e){e<0||100<e||ee.from(c).orThunk((function(){return ee.from(a).map(A)})).each((function(t){(c=t).progressBar.value(e)}))}))}catch(i){u(r(t,i.message,{}))}}))},c=function(e){var t=e.blobUri();return new eo((function(e){i[t]=i[t]||[],i[t].push(e)}))};return!1===x(t.handler)&&(t.handler=a),{upload:function(n,r){return t.url||t.handler!==a?(o=n,i=r,o=Cn.grep(n,(function(t){return!e.isUploaded(t.blobUri())})),eo.all(Cn.map(o,(function(n){return e.isPending(n.blobUri())?c(n):u(n,t.handler,i)})))):new eo((function(e){e([])}));var o,i}}},YS=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return or(e)&&e.hasAttribute("href")},onformat:function(t,n,r){Cn.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(e){return null!==(e=null==e?void 0:e.customValue)&&void 0!==e?e:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Cn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}})),t},JS=Cn.each,QS=Hu.DOM,ZS=function(e,t){function n(e){o="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t,n;e=QS.create(o.name);return t=e,(n=o).classes.length&&QS.addClass(t,n.classes.join(" ")),QS.setAttribs(t,n.attrs),e}function r(e,t,o){var i,u,c=0<t.length&&t[0],s=c&&c.name,l=function(e,t){return e="string"!=typeof e?e.nodeName.toLowerCase():e,e=a.getElementRule(e),e=e&&e.parentsRequired,!(!e||!e.length)&&(t&&-1!==Cn.inArray(e,t)?t:e[0])}(e,s);if(l)s===l?(u=t[0],t=t.slice(1)):u=l;else if(c)u=t[0],t=t.slice(1);else if(!o)return e;return u&&(i=n(u)).appendChild(e),o&&(i||(i=QS.create("div")).appendChild(e),Cn.each(o,(function(t){t=n(t),i.insertBefore(t,e)}))),r(i,t,u&&u.siblings)}var o,i,a=t&&t.schema||Ii({});return e&&e.length?(o=e[0],t=n(o),(i=QS.create("div")).appendChild(r(t,e.slice(1),o.siblings)),i):""},ek=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Cn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){e=Cn.map(e.split(/(?:~\+|~|\+)/),Nw);var t=e.pop();return e.length&&(t.siblings=e),t})).reverse()):[]},tk=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},nk=[9,27,Xd.HOME,Xd.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Xd.DOWN,Xd.UP,Xd.LEFT,Xd.RIGHT].concat(wn.browser.isFirefox()?[224]:[]),rk="data-mce-placeholder",ok=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,ik=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?Uo(n)?ar(n.nextSibling)?Gl(n.nextSibling,0):Gl.after(n):qo(t)?Gl(n,r+1):t:Uo(n)?ar(n.previousSibling)?Gl(n.previousSibling,n.previousSibling.data.length):Gl.before(n):Go(t)?Gl(n,r-1):t},ak=E(ik,!0),uk=E(ik,!1),ck=dr,sk=mr,lk=yn([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),fk=ar,dk=function(e){return fk(e)&&e.data[0]===Lo},mk=function(e){return fk(e)&&e.data[e.data.length-1]===Lo},gk=function(e){return e.ownerDocument.createTextNode(Lo)},hk=E(Ex,!0),pk=E(Ex,!1),vk=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return ee.none()},bk=yn([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),yk=function(e,t,n){var r=ak(n),o=Mx(t,r.container());return Ww(e,o,r).fold((function(){return rd(o,r).bind(E(Ww,e,o)).map((function(e){return bk.before(e)}))}),ee.none)},wk=function(e,t,n){var r=uk(n);return Nx(e,t,r).bind((function(e){return od(e,r).isNone()?ee.some(bk.start(e)):ee.none()}))},xk=function(e,t,n){var r=ak(n);return Nx(e,t,r).bind((function(e){return rd(e,r).isNone()?ee.some(bk.end(e)):ee.none()}))},Ck=function(e,t,n){var r=uk(n),o=Mx(t,r.container());return Ww(e,o,r).fold((function(){return od(o,r).bind(E(Ww,e,o)).map((function(e){return bk.after(e)}))}),ee.none)},Sk=function(e){return!1===Uw(Bx(e))},kk=function(e,t,n){return vk([yk,wk,xk,Ck],[e,t,n]).filter(Sk)},Ok=function(e){return e.fold(bk.before,bk.before,bk.after,bk.after)},Tk=function(e,t,n,r,o,i){return Tt(Ww(t,n,r),Ww(t,n,o),(function(t,r){return t!==r&&function(e,t,n){return t=Pf(t,e),n=Pf(n,e),t&&t===n}(n,t,r)?bk.after(e?t:r):i})).getOr(i)},_k=function(e,t){return e.fold(N,(function(e){return n=t,!(Hx(e=e)===Hx(n)&&Bx(e)===Bx(n));var n}))},Ek=(E(Ix,!1),E(Ix,!0),function(e){return x(e.selection.getSel().modify)}),Dk=function(e,t,n){var r=e?1:-1;return t.setRng(Gl(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Ak=(($t=$S=$S||{})[$t.Br=0]="Br",$t[$t.Block=1]="Block",$t[$t.Wrap=2]="Wrap",$t[$t.Eol=3]="Eol",E(Vx,Gl.isAbove,-1)),zk=E(Vx,Gl.isBelow,1),Mk=E(jx,-1,Ak),Rk=E(jx,1,zk),Nk=function(e){function t(t){return ue(t,(function(t){return t=kl(t),t.node=e,t}))}var n;return or(e)?t(e.getClientRects()):ar(e)?((n=e.ownerDocument.createRange()).setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())):void 0},Bk=((qt=qS=qS||{})[qt.Up=-1]="Up",qt[qt.Down=1]="Down",E(qx,qS.Up,cc,sc)),Hk=E(qx,qS.Down,sc,cc),Lk=mr,Pk=Lf,Ik=E(hC,!0),Fk=E(hC,!1),Vk=function(e){return jr(e,(function(e){return dr(e.dom)||mr(e.dom)})).exists((function(e){return dr(e.dom)}))},jk=function(e){return e=parseInt(e,10),isNaN(e)?0:e},Uk=function(e,t){return(e||"table"===An(t)?"margin":"padding")+("rtl"===Sr(t,"direction")?"-right":"-left")},Wk=function(e){return Ao(e)||zo(e)},$k=function(e){return Ln(e).exists(Wk)},qk=mr,Gk=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},Xk=E(iS,(function(e){return e.bottom}),(function(e,t){return e.y<t})),Kk=E(iS,(function(e){return e.top}),(function(e,t){return e.y>t})),Yk=E(cS,Ak),Jk=E(cS,zk),Qk=function(e,t){var n,r=t,o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){!/^(LI|DT|DD)$/.test(t.nodeName)||(a=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild))&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(o.doc.createTextNode(Ho),t.firstChild);var a,u=o.createRng();if(t.normalize(),t.hasChildNodes()){for(var c=new ro(t,t);n=c.current();){if(ar(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=c.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else lr(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),Fm(e,u)}},Zk=function(e,t,n,r,o){var i,a,u,c=e.dom,s=e.selection.getRng();n!==e.getBody()&&(i=(o=wS(i=n)&&wS(i.parentNode)?"LI":o)?t(o):c.create("BR"),CS(n,r,!0)&&CS(n,r,!1)?yS(n,"LI")?(t=xS(n),c.insertAfter(i,t),(null===(u=(a=n).parentNode)||void 0===u?void 0:u.firstChild)===a?c.remove(t):c.remove(n)):c.replace(i,n):(CS(n,r,!0)?yS(n,"LI")?(c.insertAfter(i,xS(n)),i.appendChild(c.doc.createTextNode(" ")),i.appendChild(n)):n.parentNode.insertBefore(i,n):CS(n,r,!1)?c.insertAfter(i,xS(n)):(n=xS(n),(u=s.cloneRange()).setStartAfter(r),u.setEndAfter(n),a=u.extractContents(),"LI"===o&&(t="LI",(s=a).firstChild&&s.firstChild.nodeName===t)?(i=a.firstChild,c.insertAfter(a,n)):(c.insertAfter(a,n),c.insertAfter(i,n))),c.remove(r)),Qk(e,i))},eO=function(e){ce(Qu(Sn.fromDom(e),Mn),(function(e){e=e.dom,e.nodeValue=Io(e.nodeValue)}))},tO=function(e){e.innerHTML='<br data-mce-bogus="1">'},nO=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},rO=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},oO=function(e,t,n){var r,o,i,a=n,u=[];if(a){for(;a=a.firstChild;){if(e.isBlock(a))return;or(a)&&!t[a.nodeName.toLowerCase()]&&u.push(a)}for(r=u.length;r--;)!(a=u[r]).hasChildNodes()||a.firstChild===a.lastChild&&""===a.firstChild.nodeValue?e.remove(a):(o=e,(i=a)&&"A"===i.nodeName&&o.isEmpty(i)&&e.remove(a))}},iO=function(e,t,n){return!1===ar(t)?n:e?1===n&&t.data.charAt(n-1)===Lo?0:n:n===t.data.length-1&&t.data.charAt(n)===Lo?t.data.length:n},aO=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,iO(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,iO(!1,e.endContainer,e.endOffset)),t},uO=function(e){for(;ar(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);},cO=function(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r},sO=function(e,t){var n,r,o,i=rf(e);i&&i.toLowerCase()===t.tagName.toLowerCase()&&(i=Dc(e),n=t,t=i,r=(i=e).dom,ee.from(t.style).map(r.parseStyle).each((function(e){var t=At(Sn.fromDom(n));t=ze(ze({},t),e);r.setStyles(n,t)})),i=ee.from(t.class).map((function(e){return e.split(/\s+/)})),e=ee.from(n.className).map((function(e){return le(e.split(/\s+/),(function(e){return""!==e}))})),Tt(i,e,(function(e,t){t=le(t,(function(t){return!ie(e,t)})),t=Me(Me([],e,!0),t,!0),r.setAttrib(n,"class",t.join(" "))})),o=["style","class"],i=Te(t,(function(e,t){return!ie(o,t)})),r.setAttribs(n,i))},lO=function(e,t,n,r,o){t=t||"P";var i,a,u,c,s=e.dom,l=cO(s,r),f=s.getParent(r,s.isBlock);if(!f||!rO(s,f)){if(l=((f=f||l)===e.getBody()||(l=f)&&/^(TD|TH|CAPTION)$/.test(l.nodeName)?f:f.parentNode).nodeName.toLowerCase(),!f.hasChildNodes())return i=s.create(t),sO(e,i),f.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==f;)u=u.parentNode;for(;u&&!s.isBlock(u);)u=(a=u).previousSibling;if(a&&e.schema.isValidChild(l,t.toLowerCase())){for(i=s.create(t),sO(e,i),a.parentNode.insertBefore(i,a),u=a;u&&!s.isBlock(u);)c=u.nextSibling,i.appendChild(u),u=c;n.setStart(r,o),n.setEnd(r,o)}}return r},fO=function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},dO=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng(),u=(o=(em(i,a).each((function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)})),a.startOffset),a.startContainer),c=(1===u.nodeType&&u.hasChildNodes()&&(c=o>u.childNodes.length-1,u=u.childNodes[Math.min(o,u.childNodes.length-1)]||u,o=c&&3===u.nodeType?u.nodeValue.length:0),i.getParent(u,i.isBlock)),s=c?i.getParent(c.parentNode,i.isBlock):null,l=s?s.nodeName.toUpperCase():"";t=!(!t||!t.ctrlKey);"LI"!==l||t||(c=s),u&&3===u.nodeType&&o>=u.nodeValue.length&&!function(e,t,n){for(var r,o=new ro(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||0<r.length)return!0}(e.schema,u,c)&&(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0),n=i.create("br"),gc(i,a,n),kS(e,n,r),e.undoManager.add()},mO=function(e){return lr(e.getNode())},gO=function(e){var t=E(jw,e),n=Gl.fromRangeStart(e.selection.getRng());return kk(t,e.getBody(),n).filter(ES)},hO=function(e,t){t.fold(S,E(OS,e),E(TS,e),S)},pO=yn([{br:[]},{block:[]},{none:[]}]),vO=function(e,t){return AS(e,e.getParam("no_newline_selector",""))},bO=function(e){return function(t,n){return""===rf(t)===e}},yO=function(e){return function(t,n){return bS(t).filter((function(e){return zo(Sn.fromDom(e))})).isSome()===e}},wO=function(e){return zS("pre",e)},xO=function(){return zS("summary",!0)},CO=function(e){return function(t,n){return t.getParam("br_in_pre",!0)===e}},SO=function(e,t){return AS(e,e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))},kO=function(e,t){return t},OO=function(e){var t=rf(e),n=function(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},TO=function(e,t){return function(n,r){return fe(e,(function(e,t){return e&&t(n,r)}),!0)?ee.some(t):ee.none()}},_O=hn().browser,EO=hn(),DO=E(FS,Ho),AO=E(FS," "),zO=(MO.prototype.nodeChanged=function(e){var t,n,r=this.editor.selection;this.editor.initialized&&r&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(n=this.editor.getBody(),(r=r.getStart(!0)||n).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,n)||(r=n),t=[],this.editor.dom.getParent(r,(function(e){if(e===n)return!0;t.push(e)})),(e=e||{}).element=r,e.parents=t,this.editor.fire("NodeChange",e))},MO.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;0<=t&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},MO);function MO(e){this.lastPath=[],this.editor=e;var t,n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(n){var r=e.selection.getRng();r={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&Qd(r,t)||e.fire("SelectionChange"),t=r})),e.on("contextmenu",(function(){e.fire("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);!t||!wn.range&&e.selection.isCollapsed()||tl(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(function(t){!t.isDefaultPrevented()&&tl(e)&&("IMG"===e.selection.getNode().nodeName?to.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}function RO(e){var t;(t=e).on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})),(e=e).parser.addNodeFilter("details",(function(e){ce(e,(function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(function(e){ce(e,(function(e){var t=e.attr("data-mce-open");e.attr("open",m(t)?t:null),e.attr("data-mce-open",null)}))}))}function NO(e){return or(e)&&Do(Sn.fromDom(e))}function BO(e){e.on("click",(function(t){var n,r,o,i;3<=t.detail&&(r=(t=e).selection.getRng(),o=Gl.fromRangeStart(r),i=Gl.fromRangeEnd(r),Gl.isElementPosition(o)&&(n=o.container(),NO(n)&&id(n).each((function(e){return r.setStart(e.container(),e.offset())}))),Gl.isElementPosition(i)&&(n=o.container(),NO(n)&&ad(n).each((function(e){return r.setEnd(e.container(),e.offset())}))),t.selection.setRng(ep(r)))}))}function HO(e){var t=e.getBoundingClientRect(),n=(e=e.ownerDocument).documentElement;e=e.defaultView;return{top:t.top+e.pageYOffset-n.clientTop,left:t.left+e.pageXOffset-n.clientLeft}}function LO(e,t){return u=(u=e).inline?HO(u.getBody()):{left:0,top:0},a=(i=e).getBody(),i=i.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},a=e,{pageX:(a=(e=t).target.ownerDocument!==a.getDoc()?(t=HO(a.getContentAreaContainer()),n=(a=a).getBody(),r=a.getDoc().documentElement,o={left:n.scrollLeft,top:n.scrollTop},n={left:n.scrollLeft||r.scrollLeft,top:n.scrollTop||r.scrollTop},r=a.inline?o:n,{left:e.pageX-t.left+r.left,top:e.pageY-t.top+r.top}):{left:e.pageX,top:e.pageY}).left-u.left+i.left,pageY:a.top-u.top+i.top};var n,r,o,i,a,u}function PO(e,t){return function(n){var r,o,i,a;0===n.button&&(o=de(t.dom.getParents(n.target),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}(xT,CT)).getOr(null),i=t.getBody(),xT(a=o)&&a!==i&&(a=t.dom.getPos(o),i=t.getBody(),r=t.getDoc().documentElement,e.set({element:o,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:r.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:r.offsetHeight)-2,relX:n.pageX-a.x,relY:n.pageY-a.y,width:o.offsetWidth,height:o.offsetHeight,ghost:(i=t,n=(r=o).offsetWidth,a=o.offsetHeight,i=i.dom,r=r.cloneNode(!0),i.setStyles(r,{width:n,height:a}),i.setAttrib(r,"data-mce-selected",null),o=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}),i.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:a}),i.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o)})))}}function IO(e,t){var n=to.throttle((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return t.on("remove",n.stop),function(r){return e.on((function(e){var o,i,a,u,c,s,l=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&10<l){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}e.dragging&&(l=e,l={pageX:(s=LO(t,r)).pageX-l.relX,pageY:s.pageY+5},s=e.ghost,c=t.getBody(),s.parentNode!==c&&c.appendChild(s),c=e.ghost,s=l,l=e.width,o=e.height,i=e.maxX,e=e.maxY,u=a=0,c.style.left=s.pageX+"px",c.style.top=s.pageY+"px",s.pageX+l>i&&(a=s.pageX+l-i),s.pageY+o>e&&(u=s.pageY+o-e),c.style.width=l-a+"px",c.style.height=o-u+"px",n(r.clientX,r.clientY))}))}}function FO(e,t){return function(n){e.on((function(e){var r,o,i,a;e.dragging&&(i=function(e){return e=e.getSel().getRangeAt(0).startContainer,3===e.nodeType?e.parentNode:e}((o=t).selection),a=e.element,i===a||o.dom.isChildOf(i,a)||xT(i)||(r=function(e){return e=e.cloneNode(!0),e.removeAttribute("data-mce-selected"),e}(e.element),t.fire("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||t.undoManager.transact((function(){ST(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))),t.fire("dragend"))})),VO(e)}}function VO(e){e.on((function(e){ST(e.ghost)})),e.clear()}function jO(e){var t,n,r=fl(),o=Hu.DOM,i=document,a=PO(r,e),u=IO(r,e),c=FO(r,e),s=(t=r,function(){t.on((function(e){e.dragging&&n.fire("dragend")})),VO(t)});(n=e).on("mousedown",a),e.on("mousemove",u),e.on("mouseup",c),o.bind(i,"mousemove",u),o.bind(i,"mouseup",s),e.on("remove",(function(){o.unbind(i,"mousemove",u),o.unbind(i,"mouseup",s)})),e.on("keydown",(function(e){e.keyCode===Xd.ESC&&s()}))}function UO(e){function t(t){eg(e,t.target)&&r(t)}function n(){var n=Hu.DOM,o=e.dom,i=document,a=e.inline?e.getBody():e.getDoc(),u=["drop","dragover"];ce(u,(function(e){n.bind(i,e,t),o.bind(a,e,r)})),e.on("remove",(function(){ce(u,(function(e){n.unbind(i,e,t),o.unbind(a,e,r)}))}))}var r=function(t){var n;t.isDefaultPrevented()||(n=t.dataTransfer)&&(ie(n.types,"Files")||0<n.files.length)&&(t.preventDefault(),"drop"===t.type&&yw(e,"Dropped file type is not supported"))};e.on("init",(function(){to.setEditorTimeout(e,n,0)}))}function WO(e){var t;jO(e),(t=e).on("drop",(function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;!xT(n)&&"false"!==t.dom.getContentEditableParent(n)||e.preventDefault()})),e.getParam("block_unsupported_drop",!0,"boolean")&&UO(e)}function $O(e,t){return Ad(e.getBody(),t)}function qO(e){function t(e){return tb(e)||nb(e)||Jv(e)||Qv(e)}function n(e){e&&c.setRng(e)}function r(){function r(n,r){var o=s.getParent(n,l);r=s.getParent(r,l);return!y(o)&&(!(n===r||!s.isChildOf(o,r)||!1!==OT($O(e,o)))||!s.isChildOf(r,o)&&(n=r,!(s.getParent(o,l)===s.getParent(n,l)))&&function(e){var n=e.firstChild;return!y(n)&&(n=Gl.before(n),lr(n.getNode())&&1===e.childNodes.length?!t(n):(e=os(e).next(n))&&!t(e))}(o))}var g,b,x;e.on("mouseup",(function(t){var r=p();r.collapsed&&Oy(e,t.clientX,t.clientY)&&dx(e,r,!1).each(n)})),e.on("click",(function(t){var n=$O(e,t.target);n&&(OT(n)&&(t.preventDefault(),e.focus()),kT(n)&&s.isChildOf(n,c.getNode())&&i())})),e.on("blur NewBlock",i),e.on("ResizeWindow FullscreenStateChanged",d.reposition),e.on("tap",(function(t){var n=t.target,r=$O(e,n);OT(r)?(t.preventDefault(),fx(e,r).each(o)):h(n)&&fx(e,n).each(o)}),!0),e.on("mousedown",(function(t){var u,l=t.target;l!==f&&"HTML"!==l.nodeName&&!s.isChildOf(l,f)||!1===Oy(e,t.clientX,t.clientY)||((u=$O(e,l))?OT(u)?(t.preventDefault(),fx(e,u).each(o)):(i(),kT(u)&&t.shiftKey||zd(t.clientX,t.clientY,c.getRng())||(a(),c.placeCaretAt(t.clientX,t.clientY))):h(l)?fx(e,l).each(o):!1===Xc(l)&&(i(),a(),(u=rC(f,t.clientX,t.clientY))&&(r(l,u.node)||(t.preventDefault(),l=v(1,u.node,u.before,!1),n(l),e.getBody().focus()))))})),e.on("keypress",(function(e){Xd.modifierPressed(e)||OT(c.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(function(e){var t=e.range;u&&(u.parentNode?((t=t.cloneRange()).selectNode(u),e.range=t):u=null)})),e.on("SetSelectionRange",(function(t){t.range=function(t){var n=e.schema.getShortEndedElements(),r=s.createRng(),o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset;return Ee(n,o.nodeName.toLowerCase())?0===i?r.setStartBefore(o):r.setStartAfter(o):r.setStart(o,i),Ee(n,a.nodeName.toLowerCase())?0===u?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,u),r}(t.range);var n=o(t.range,t.forward);n&&(t.range=n)})),e.on("AfterSetSelectionRange",(function(e){e=e.range;var t=e.startContainer.parentNode;w(e)||"mcepastebin"===t.id||a(),s.hasClass(t,"mce-offscreen-selection")||i()})),e.on("copy",(function(e){var t,n=e.clipboardData;e.isDefaultPrevented()||!e.clipboardData||wn.ie||(t=(t=s.get(m))&&t.getElementsByTagName("*")[0])&&(e.preventDefault(),n.clearData(),n.setData("text/html",t.outerHTML),n.setData("text/plain",t.outerText||t.innerText))})),WO(e),b=Wu((function(){var e;g.removed||!g.getBody().contains(document.activeElement)||(e=g.selection.getRng()).collapsed&&(e=mx(g,e,!1),g.selection.setRng(e))}),0),(g=e).on("focus",(function(){b.throttle()})),g.on("blur",(function(){b.cancel()})),(x=e).on("init",(function(){x.on("focusin",(function(e){var t;e=e.target;hr(e)&&(t=Ad(x.getBody(),e),t=mr(t)?t:e,x.selection.getNode()!==t&&fx(x,t).each((function(e){return x.selection.setRng(e)})))}))}))}function o(e,t){if(!e)return null;if(e.collapsed){if(!w(e)){var n=t?1:-1,r=ts(n,f,e),o=r.getNode(!t);if(Xc(o))return v(n,o,!!t&&!r.isAtEnd(),!1);if(o=r.getNode(t),Xc(o))return v(n,o,!t&&!r.isAtEnd(),!1)}return null}return n=e.startContainer,o=e.startOffset,t=e.endOffset,3===n.nodeType&&0===o&&OT(n.parentNode)&&(n=n.parentNode,o=s.nodeIndex(n),n=n.parentNode),1!==n.nodeType?null:t===o+1&&n===e.endContainer&&(r=n.childNodes[o],h(r))?x(r):null}function i(){u&&u.removeAttribute(g),Qr(Sn.fromDom(e.getBody()),"#"+m).each(Jn),u=null}function a(){d.hide()}var u,c=e.selection,s=e.dom,l=s.isBlock,f=e.getBody(),d=$c(e,f,l,(function(){return ag(e)})),m="sel-"+s.uniqueId(),g="data-mce-selected",h=function(e){return e!==f&&(OT(e)||hr(e))&&s.isChildOf(e,f)},p=c.getRng,v=function(t,n,r,o){return void 0===o&&(o=!0),e.fire("ShowCaret",{target:n,direction:t,before:r}).isDefaultPrevented()?null:(o&&c.scrollIntoView(n,-1===t),d.show(r,n))},b=function(e){return Wo(e)||co(e)||so(e)},w=function(e){return b(e.startContainer)||b(e.endContainer)},x=function(t){var n=t.cloneNode(!0),r=e.fire("ObjectSelected",{target:t,targetClone:n});if(r.isDefaultPrevented())return null;o=t,r=r.targetClone,n=n,i=e.$,0===(l=Qr(Sn.fromDom(e.getBody()),"#"+m).fold((function(){return i([])}),(function(e){return i([e.dom])}))).length&&(l=i('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",m)).appendTo(e.getBody()),f=s.createRng(),r===n&&wn.ie?(l.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(r),f.setStartAfter(l[0].firstChild.firstChild),f.setEndAfter(r)):(l.empty().append(Ho).append(r).append(Ho),f.setStart(l[0].firstChild,1),f.setEnd(l[0].lastChild,0)),l.css({top:s.getPos(o,e.getBody()).y}),l[0].focus(),(n=c.getSel()).removeAllRanges(),n.addRange(f);r=f;var o,i,l,f,d=Sn.fromDom(t);return ce(ml(Sn.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){Tn(d,e)||Et(e,g)})),s.getAttrib(t,g)||t.setAttribute(g,"1"),u=t,a(),r};return wn.ceFalse&&!Nv(e)&&r(),{showCaret:v,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Xo(e),n(p()),c.scrollIntoView(e))},hideFakeCaret:a,destroy:function(){d.destroy(),u=null}}}function GO(e){function t(){function t(e){var t=w.create("body");e=e.cloneContents();return t.appendChild(e),x.serializer.serialize(t,{format:"html"})}e.on("keydown",(function(n){var r,o,i=n.keyCode;A(n)||i!==y&&i!==b||(i=e.selection.isCollapsed(),r=e.getBody(),i&&!w.isEmpty(r)||!i&&(i=e.selection.getRng(),i=t(i),(o=w.createRng()).selectNode(e.getBody()),i!==t(o))||(n.preventDefault(),e.setContent(""),r.firstChild&&w.isBlock(r.firstChild)?e.selection.setCursorLocation(r.firstChild,0):e.selection.setCursorLocation(r,0),e.nodeChanged()))}))}function n(){e.shortcuts.add("meta+a",null,"SelectAll")}function r(){e.inline||w.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;t.target===e.getDoc().documentElement&&(n=x.getRng(),e.getBody().focus(),"mousedown"===t.type?Wo(n.startContainer)||x.placeCaretAt(t.clientX,t.clientY):x.setRng(n))}))}function o(){Range.prototype.getClientRects||e.on("mousedown",(function(t){var n;A(t)||"HTML"!==t.target.nodeName||((n=e.getBody()).blur(),to.setEditorTimeout(e,(function(){n.focus()})))}))}function i(){e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==w.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&w.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),x.select(n))}))}function a(){function t(){var t=w.getAttribs(x.getStart().cloneNode(!1));return function(){var n=x.getStart();n!==e.getBody()&&(w.setAttrib(n,"style",null),v(t,(function(e){n.setAttributeNode(e.cloneNode(!0))})))}}function n(){return!x.isCollapsed()&&w.getParent(x.getStart(),w.isBlock)!==w.getParent(x.getEnd(),w.isBlock)}e.on("keypress",(function(r){var o;if(!A(r)&&(8===r.keyCode||46===r.keyCode)&&n())return o=t(),e.getDoc().execCommand("delete",!1,null),o(),r.preventDefault(),!1})),w.bind(e.getDoc(),"cut",(function(r){var o;!A(r)&&n()&&(o=t(),to.setEditorTimeout(e,(function(){o()})))}))}function u(){e.on("keydown",(function(e){if(!A(e)&&e.keyCode===b&&x.isCollapsed()&&0===x.getRng().startOffset){var t=x.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))}function c(){e.getParam("readonly")||e.on("BeforeExecCommand mousedown",(function(){D("StyleWithCSS",!1),D("enableInlineTableEditing",!1),Nc(e)||D("enableObjectResizing",!1)}))}function s(){e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||v(w.select("a"),(function(e){var t=e.parentNode,n=w.getRoot();if(t.lastChild===e){for(;t&&!w.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}w.add(t,"br",{"data-mce-bogus":1})}}))}))}function l(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function f(){e.inline||e.on("keydown",(function(){document.activeElement===document.body&&e.getWin().focus()}))}function d(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){"HTML"===t.target.nodeName&&(11<wn.ie?e.getBody().focus():(t=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(t),e.selection.normalize(),e.nodeChanged()))})))}function m(){wn.mac&&e.on("keydown",(function(t){!Xd.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}))}function g(){e.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function h(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))}))}function p(){e.on("keydown",(function(t){if(!A(t)&&t.keyCode===Xd.BACKSPACE){var n=(t=x.getRng()).startContainer,r=t.startOffset,o=w.getRoot(),i=n;if(t.collapsed&&0===r){for(;i&&i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==o;)i=i.parentNode;"BLOCKQUOTE"===i.tagName&&(e.formatter.toggle("blockquote",null,i),(t=w.createRng()).setStart(n,0),t.setEnd(n,0),x.setRng(t))}}})),t(),wn.windowsPhone||e.on("keyup focusin mouseup",(function(e){Xd.modifierPressed(e)||x.normalize()}),!0),T&&(r(),i(),rf(e)&&e.on("init",(function(){D("DefaultParagraphSeparator",rf(e))})),h(),u(),C.addNodeFilter("br",(function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),wn.iOS?(f(),d(),g()):n()),11<=wn.ie&&(d(),u()),wn.ie&&(n(),D("AutoUrlDetect",!1),e.on("dragstart",(function(e){z(e)})),e.on("drop",(function(t){var n;A(t)||(n=M(t))&&n.id!==e.id&&(t.preventDefault(),t=Hd(t.x,t.y,e.getDoc()),x.setRng(t),R(n.html,!0))}))),k&&(e.on("keydown",(function(t){if(!A(t)&&t.keyCode===b&&e.getBody().getElementsByTagName("hr").length&&x.isCollapsed()&&0===x.getRng().startOffset){var n=x.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return w.remove(n),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(w.remove(r),t.preventDefault())}})),o(),a(),c(),s(),l(),m(),u())}var v=Cn.each,b=Xd.BACKSPACE,y=Xd.DELETE,w=e.dom,x=e.selection,C=e.parser,k=wn.gecko,O=wn.ie,T=wn.webkit,_="data:text/mce-internal,",E=O?"Text":"URL",D=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(t){}},A=function(e){return e.isDefaultPrevented()},z=function(t){var n;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&x.select(t.target),0<(n=e.selection.getContent()).length&&(n=_+escape(e.id)+","+escape(n),t.dataTransfer.setData(E,n)))},M=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(E))&&0<=t.indexOf(_)?(t=t.substr(_.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},R=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)};O=S;return Nv(e)?(T&&(r(),i(),h(),n(),wn.iOS&&(f(),d(),g())),k&&(o(),c(),l(),m())):p(),{refreshContentEditable:O,isHidden:function(){if(!k||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}}function XO(e){return Te(e,(function(e){return!1===b(e)}))}function KO(e){var t,n=e.settings,r=e.editorUpload.blobCache;return XO({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:(t=e).inline?t.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:r,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})}function YO(e){var t=e.dom.getRoot();e.inline||tl(e)&&e.selection.getStart(!0)!==t||id(t).each((function(t){var n,r,o=t.getNode();o=kt(o)?id(o).getOr(t):t;wn.browser.isIE()?(t=e,n=o.toRange(),r=Sn.fromDom(t.getBody()),n=(wm(t)?ee.from(n):ee.none()).map(xm).filter(ym(r)),t.bookmark=n.isSome()?n:t.bookmark):e.selection.setRng(o.toRange())}))}function JO(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("Init"),e.focus(!0),YO(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&to.setEditorTimeout(t,(function(){var e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus);e.destroyed||e.focus()}),100)}function QO(e){return(e.inline?e.ui:e.dom).styleSheetLoader}function ZO(e){function t(){f.unloadAll(m),e.inline||e.ui.styleSheetLoader.unloadAll(d)}function n(){e.removed?t():e.on("remove",t)}var r,o,i,a,u,c,s,l,f=QO(e),d=Rc(e),m=e.contentCSS,g=(0<e.contentStyles.length&&(r="",Cn.each(e.contentStyles,(function(e){r+=e+"\r\n"})),e.dom.addStyle(r)),eo.all((o=e,i=m,a=d,g=[new eo((function(e,t){return QO(o).loadAll(i,e,t)}))],o.inline?g:g.concat([new eo((function(e,t){return o.ui.styleSheetLoader.loadAll(a,e,t)}))]))).then(n).catch(n));return e.settings.content_style&&(c=(u=e).settings.content_style,s=Sn.fromDom(u.getBody()),s=qn($n(s)),l=Sn.fromTag("style"),br(l,"type","text/css"),Kn(l,Sn.fromText(c)),Kn(s,l),u.on("remove",(function(){Jn(l)}))),g}function eT(e){var t=e.settings,n=e.getDoc(),r=e.getBody();e.fire("PreInit"),t.browser_spellcheck||t.gecko_spellcheck||(n.body.spellcheck=!1,TT.setAttrib(r,"spellcheck","false")),e.quirks=GO(e),e.fire("PostRender"),void 0!==(n=e.getParam("directionality",sl.isRtl()?"rtl":void 0))&&(r.dir=n),t.protect&&e.on("BeforeSetContent",(function(e){Cn.each(t.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type}))}function tT(e){var t;!0!==e.removed&&(Nv(t=e)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),JO(e))}function nT(e,t){var n,r=e.settings,o=e.getElement(),i=e.getDoc();r.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(i.open(),i.write(e.iframeHTML),i.close()),e.inline&&(TT.addClass(o,"mce-content-body"),e.contentDocument=i=document,e.contentWindow=window,e.bodyElement=o,e.contentAreaContainer=o),(t=e.getBody()).disabled=!0,e.readonly=!!r.readonly,e.readonly||(e.inline&&"static"===TT.getStyle(t,"position",!0)&&(t.style.position="relative"),t.contentEditable=e.getParam("content_editable_state",!0)),t.disabled=!1,e.editorUpload=Mw(e),e.schema=Ii(r),e.dom=Hu(i,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:e.getParam("content_css_cors",!1,"boolean"),referrerPolicy:mf(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=((o=jy(KO(n=e),n.schema)).addAttributeFilter("src,href,style,tabindex",(function(e,t){for(var r,o,i=e.length,a=n.dom,u="data-mce-"+t;i--;)(o=(r=e[i]).attr(t))&&!r.attr(u)&&0!==o.indexOf("data:")&&0!==o.indexOf("blob:")&&("style"===t?((o=a.serializeStyle(a.parseStyle(o),r.name)).length||(o=null),r.attr(u,o),r.attr(t,o)):"tabindex"===t?(r.attr(u,o),r.attr(t,null)):r.attr(u,n.convertURL(o,t,r.name)))})),o.addNodeFilter("script",(function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),n.settings.preserve_cdata&&o.addNodeFilter("#cdata",(function(e){for(var t=e.length;t--;){var r=e[t];r.type=8,r.name="#comment",r.value="[CDATA["+n.dom.encode(r.value)+"]]"}})),o.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var t=e.length,r=n.schema.getNonEmptyElements();t--;){var o=e[t];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new mg("br",1)).shortEnded=!0)}})),o),e.serializer=cy((t=e.settings,ze(ze({},KO(e)),XO({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))),e),e.selection=Qb(e.dom,e.getWin(),e.serializer,e),e.annotator=Ed(e),e.formatter=Hw(e),e.undoManager=Pw(e),e._nodeChangeDispatcher=new zO(e),e._selectionOverrides=qO(e),BC(e),RO(e),Nv(e)||BO(e),r=Nv(i=e)?al(null):WS(i),RC(e,r),rf(o=e)&&o.on("NodeChange",E(LC,o)),Vw(e),t=Bv(e),eT(e),t.fold((function(){ZO(e).then((function(){return tT(e)}))}),(function(t){e.setProgressState(!0),ZO(e).then((function(){t().then((function(t){e.setProgressState(!1),tT(e)}),(function(t){e.notificationManager.open({type:"error",text:String(t)}),tT(e)}))}))}))}function rT(e){var t=e.getParam("doctype","<!DOCTYPE html>")+"<html><head>",n=(e.getParam("document_base_url","")!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',_c(e,"body_id","tinymce")),r=_c(e,"body_class",""),o=e.translate(e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string"));return Ec(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Ec(e)+'" />'),t+'</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'" aria-label="'+o+'"><br></body></html>'}function oT(e,t){var n,r,o,i,a=e.translate("Rich Text Area"),u=(i=e.id,a=a,t.height,o=e.getParam("iframe_attrs",{}),n=Sn.fromTag("iframe"),yr(n,o),yr(n,{id:i+"_ifr",frameBorder:"0",allowTransparency:"true",title:a}),Ku(n,"tox-edit-area__iframe"),n.dom);u.onload=function(){u.onload=null,e.fire("load")},r=e,o=u,a=!(document.domain===window.location.hostname||!wn.browser.isIE())&&(i=Ew("mce"),r[i]=function(){nT(r)},i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+r.id+'");document.write(ed.iframeHTML);document.close();ed.'+i+"(true);})()",_T.setAttrib(o,"src",i),!0);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=u,e.iframeHTML=rT(e),_T.add(t.iframeContainer,u),a}function iT(e,t,n){var r=hw.get(n),i=hw.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Cn.trim(n),r&&-1===Cn.inArray(t,n)&&(Cn.each(hw.dependencies(n),(function(n){iT(e,t,n)})),!e.plugins[n]))try{var a=new r(e,i,e.$);(e.plugins[n]=a).init&&(a.init(e,i),t.push(n))}catch(o){r=e,a=n,i=o,a=sl.translate(["Failed to initialize plugin: {0}",a]),Md(r,"PluginLoadError",{message:a}),Sw(a,i),yw(r,a)}}function aT(e){return e.replace(/^\-/,"")}function uT(e){return{editorContainer:e,iframeContainer:e,api:{}}}function cT(e){var t=e.getElement();return e.inline?uT(null):(e=t,t=ET.create("div"),ET.insertAfter(t,e),uT(t))}function sT(e){var t,n,r=e.getElement();return e.orgDisplay=r.style.display,m(Bc(e))?e.theme.renderUI():x(Bc(e))?(t=(r=e).getElement(),(n=Bc(r)(r,t)).editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||r.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||r.id+"_iframecontainer"),n.height=n.iframeHeight||t.offsetHeight,n):cT(e)}function lT(e){return"-"===e.charAt(0)}function fT(e,t,n){return ee.from(t).filter((function(e){return 0<e.length&&!cw.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:ee.some(t)}}))}function dT(e){function t(){AT.unbind(window,"ready",t),e.render()}var n,r,o,i,a,u,c,s=e.id;sl.setCode(Mc(e)),Gi.Event.domLoaded?e.getElement()&&wn.contentEditable&&(n=Sn.fromDom(e.getElement()),r=fe(n.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{}),e.on("remove",(function(){P(n.dom.attributes,(function(e){return Et(n,e.name),0})),yr(n,r)})),e.ui.styleSheetLoader=(o=e,no.forElement(n,{contentCssCors:yf(o),referrerPolicy:mf(o)})),e.getParam("inline")?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden"),(i=e.getElement().form||AT.getParent(s,"form"))&&(e.formElement=i,e.getParam("hidden_input")&&!ir(e.getElement())&&(AT.insertAfter(AT.create("input",{type:"hidden",name:s}),s),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},AT.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.resetContent()})),!e.getParam("submit_patch")||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=vw(e),e.notificationManager=Ty(e),"xml"===e.getParam("encoding")&&e.on("GetContent",(function(e){e.save&&(e.content=AT.encode(e.content))})),e.getParam("add_form_submit_trigger")&&e.on("submit",(function(){e.initialized&&e.save()})),e.getParam("add_unload_trigger")&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),u=(a=e).suffix,c=Fu.ScriptLoader,MT(c,a,u,(function(){zT(c,a),RT(c,a,u),NT(a,u),c.loadQueue((function(){a.removed||DT(a)}),a,(function(){a.removed||DT(a)}))}))):AT.bind(window,"ready",t)}function mT(e,t){return t=t,$b(e).editor.addVisual(t)}function gT(e,t,n){return yb(Sn.fromDom(n),(function(t){return Or(n=t,e).orThunk((function(){return"font"===An(n)?_e(BT,e).bind((function(e){return xr(n,e)})):ee.none()}));var n}),(function(e){return Tn(Sn.fromDom(t),e)}))}function hT(e){return function(t,n){return ee.from(n).map(Sn.fromDom).filter(zn).bind((function(n){return gT(e,t,n.dom).or((n=n.dom,ee.from(Hu.DOM.getStyle(n,e,!0))))})).getOr("")}}function pT(e){return id(e.getBody()).map((function(e){return e=e.container(),ar(e)?e.parentNode:e}))}function vT(e,t){return PT(e,O(ee.some,t))}function bT(e,t){var n,r;return/^[0-9.]+$/.test(t)&&1<=(n=parseInt(t,10))&&n<=7?(r=uf(e),(e=cf(e))?e[n-1]||t:r[n-1]||t):t}function yT(e,t){t=bT(e,t),e.formatter.toggle("fontname",{value:function(e){return e=e.split(/\s*,\s*/),ue(e,(function(e){return-1===e.indexOf(" ")||Vt(e,'"')||Vt(e,"'")?e:"'"+e+"'"})).join(",")}(t)}),e.nodeChanged()}function wT(e,t){var n,r="string"!=typeof(t=t)?(r=Cn.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:r}):{content:t,details:{}};t=r.content,n=r.details,Wb(e).editor.insertContent(t,n)}var xT=mr,CT=dr,ST=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},kT=dr,OT=mr,TT=Hu.DOM,_T=Hu.DOM,ET=Hu.DOM,DT=function(e){e.fire("ScriptsLoaded"),t=e,s=Cn.trim(zc(t)),n=t.ui.registry.getAll().icons,s=ze(ze({},cw.get("default").icons),cw.get(s).icons),ke(s,(function(e,r){Ee(n,r)||t.ui.registry.addIcon(r,e)})),u=Bc(s=e),m(u)?(s.settings.theme=aT(u),c=pw.get(u),s.theme=new c(s,pw.urls[u]),s.theme.init&&s.theme.init(s,pw.urls[u]||s.documentBaseUrl.replace(/\/$/,""),s.$)):s.theme={},r=e,o=[],Cn.each(Lc(r).split(/[ ,]/),(function(e){iT(r,o,aT(e))}));var t,n,r,o,i,a,u,c=sT(e),s=(i=e,a=ee.from(c.api).getOr({}),u={show:ee.from(a.show).getOr(S),hide:ee.from(a.hide).getOr(S),disable:ee.from(a.disable).getOr(S),isDisabled:ee.from(a.isDisabled).getOr(R),enable:function(){i.mode.isReadOnly()||ee.from(a.enable).map(z)}},i.ui=ze(ze({},i.ui),u),{editorContainer:c.editorContainer,iframeContainer:c.iframeContainer});return e.editorContainer=s.editorContainer||null,Tw(e),e.inline?nT(e):(s=oT(u=e,e=s),e.editorContainer&&(_T.get(e.editorContainer).style.display=u.orgDisplay,u.hidden=_T.isHidden(e.editorContainer)),u.getElement().style.display="none",_T.setAttrib(u.id,"aria-hidden","true"),void(s||nT(u)))},AT=Hu.DOM,zT=function(e,t){var n,r=Mc(t),o=t.getParam("language_url","","string");!1===sl.hasCode(r)&&"en"!==r&&(n=""!==o?o:t.editorManager.baseURL+"/langs/"+r+".js",e.add(n,S,void 0,(function(){ww(t,"LanguageLoadError",xw("language",n,r))})))},MT=function(e,t,n,r){var o,i=Bc(t);m(i)?(lT(i)||Ee(pw.urls,i)||((o=t.getParam("theme_url"))?pw.load(i,t.documentBaseURI.toAbsolute(o)):pw.load(i,"themes/"+i+"/theme"+n+".js")),e.loadQueue((function(){pw.waitFor(i,r)}))):r()},RT=function(e,t,n){n=fT(t,"default",n);var r=ee.from(t.getParam("icons_url","","string")).filter((function(e){return 0<e.length})).map((function(e){return{url:e,name:ee.none()}})).orThunk((function(){return fT(t,zc(t),"")}));ce(function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}([n,r]),(function(n){e.add(n.url,S,void 0,(function(){var e,r,o;e=t,r=n.url,o=n.name.getOrUndefined(),ww(e,"IconsLoadError",xw("icons",r,o))}))}))},NT=function(e,t){Cn.each(e.getParam("external_plugins"),(function(t,n){hw.load(n,t,S,void 0,(function(){Cw(e,t,n)})),e.settings.plugins+=" "+n})),Cn.each(Lc(e).split(/[ ,]/),(function(n){var r,o;(n=Cn.trim(n))&&!hw.urls[n]&&(lT(n)?(n=n.substr(1,n.length),r=hw.dependencies(n),Cn.each(r,(function(n){var r=hw.createUrl({prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"},n);hw.load(r.resource,r,S,void 0,(function(){Cw(e,r.prefix+r.resource+r.suffix,r.resource)}))}))):(o={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"},hw.load(n,o,S,void 0,(function(){Cw(e,o.prefix+o.resource+o.suffix,n)}))))}))},BT={"font-size":"size","font-family":"face"},HT=hT("font-size"),LT=k((function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),hT("font-family")),PT=function(e,t){return n=e,ee.from(n.selection.getRng()).bind((function(e){var t=n.getBody();return e.startContainer===t&&0===e.startOffset?ee.none():ee.from(n.selection.getStart(!0))})).orThunk(E(pT,e)).map(Sn.fromDom).filter(zn).bind(t);var n},IT=Cn.each,FT=Cn.map,VT=Cn.inArray,jT=(UT.prototype.execCommand=function(e,t,n,r){var o,i,a=!1,u=this;if(!u.editor.removed){if("mcefocus"!==e.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?(i=u.editor,Ym(i).each((function(e){return i.selection.setRng(e)}))):u.editor.focus()),(r=u.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n})).isDefaultPrevented())return!1;if(r=e.toLowerCase(),o=u.commands.exec[r])return o(r,t,n),u.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(IT(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(e,t,n))return u.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!(a=!0)})),a)return a;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(e,t,n))return u.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{a=u.editor.getDoc().execCommand(e,t,n)}catch(r){}return!!a&&(u.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},UT.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},UT.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},UT.prototype.addCommands=function(e,t){void 0===t&&(t="exec");var n=this;IT(e,(function(e,r){IT(r.toLowerCase().split(","),(function(r){n.commands[t][r]=e}))}))},UT.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},UT.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},UT.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},UT.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},UT.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},UT.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},UT.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},UT.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t),this.editor.nodeChanged()},UT.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},UT.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},UT.prototype.setupCommands=function(e){function t(t){return function(){var n=e.selection;n=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks(),n=FT(n,(function(n){return!!e.formatter.matchNode(n,t)}));return-1!==VT(n,!0)}}var n=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":S,"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},mceFocus:function(t,n,r){Em(e,r)},"Cut,Copy,Paste":function(t){var r,o=e.getDoc();try{n.execNativeCommand(t)}catch(t){r=!0}!(r="paste"===t&&!o.queryCommandEnabled(t)||r)&&o.queryCommandSupported(t)||(r=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),wn.mac&&(r=r.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:r,type:"error"}))},unlink:function(){var t;e.selection.isCollapsed()?(t=e.dom.getParent(e.selection.getStart(),"a"))&&e.dom.remove(t,!0):e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var r=t.substring(7);"full"===r&&(r="justify"),IT("left,center,right,justify".split(","),(function(t){r!==t&&e.formatter.remove("align"+t)})),"none"!==r&&n.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(t){n.execNativeCommand(t);var r;t=e.dom.getParent(e.selection.getNode(),"ol,ul");t&&(r=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(n.storeSelection(),e.dom.split(r,t),n.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){n.toggleFormat(e)},"ForeColor,HiliteColor":function(e,t,r){n.toggleFormat(e,{value:r})},FontName:function(t,n,r){yT(e,r)},FontSize:function(t,n,r){var o;(o=e).formatter.toggle("fontsize",{value:bT(o,r)}),o.nodeChanged()},LineHeight:function(t,n,r){var o;(o=e).formatter.toggle("lineheight",{value:String(r)}),o.nodeChanged()},Lang:function(e,t,r){n.toggleFormat(e,{value:r.code,customValue:r.customCode})},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){n.toggleFormat("blockquote")},FormatBlock:function(e,t,r){return n.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(t,r,o){o=o||e.selection.getNode(),o!==e.getBody()&&(n.storeSelection(),e.dom.remove(o,!0),n.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1}),e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){wT(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(t,n,r){MS(e,r)},mceToggleFormat:function(e,t,r){n.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){AC(e,t)},mceRepaint:S,InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"==typeof r&&(r={href:r});var o=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t,n=e.dom.getParent(e.selection.getStart(),dr);n&&((t=e.dom.createRng()).selectNodeContents(n),e.selection.setRng(t))},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return DS(e,r),!0}}),n.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return n.isFormatMatch(e)},mceBlockQuote:function(){return n.isFormatMatch("blockquote")},Outdent:function(){return EC(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),n.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),n.addQueryValueHandler("FontName",(function(){return vT(t=e,(function(e){return LT(t.getBody(),e.dom)})).getOr("");var t}),this),n.addQueryValueHandler("FontSize",(function(){return vT(t=e,(function(e){return HT(t.getBody(),e.dom)})).getOr("");var t}),this),n.addQueryValueHandler("LineHeight",(function(){return vT(t=e,(function(e){var n=Sn.fromDom(t.getBody());return yb(e,(function(e){return Or(e,"line-height")}),E(Tn,n)).getOrThunk((function(){var t=parseFloat(Sr(e,"line-height")),n=parseFloat(Sr(e,"font-size"));return String(t/n)}))})).getOr("");var t}),this)},UT);function UT(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}function WT(e,t,n){var r,o;Ju(e,t)&&!1===n?(o=t,qu(r=e)?r.dom.classList.remove(o):Xu(r,o),Yu(r)):n&&Ku(e,t)}function $T(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}}function qT(e,t){e.dom.contentEditable=t?"true":"false"}function GT(e,t){var n=Sn.fromDom(e.getBody());WT(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),ee.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")})),e.readonly=!0,qT(n,!1),ce(ml(n,'*[contenteditable="true"]'),(function(e){br(e,KT,"true"),qT(e,!1)}))):(e.readonly=!1,qT(n,!0),ce(ml(n,"*["+KT+'="true"]'),(function(e){Et(e,KT),qT(e,!0)})),$T(e,"StyleWithCSS",!1),$T(e,"enableInlineTableEditing",!1),$T(e,"enableObjectResizing",!1),_m(e)&&e.focus(),e.selection.setRng(e.selection.getRng()),e.nodeChanged())}function XT(e){e.parser.addAttributeFilter("contenteditable",(function(t){YT(e)&&ce(t,(function(e){e.attr(KT,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(KT,(function(t){YT(e)&&ce(t,(function(e){e.attr("contenteditable",e.attr(KT))}))})),e.serializer.addTempAttr(KT)}var KT="data-mce-contenteditable",YT=function(e){return e.readonly},JT=function(e){e.serializer?XT(e):e.on("PreInit",(function(){XT(e)}))},QT=function(e,t){var n,r;"click"!==t.type||Xd.metaKeyPressed(t)||(n=Sn.fromDom(t.target),r=e,Zr(n,"a",(function(e){return Tn(e,Sn.fromDom(r.getBody()))})).bind((function(e){return xr(e,"href")})).each((function(n){var r,o;t.preventDefault(),/^#/.test(n)?(o=e.dom.select(n+',[name="'+(Vt(r=n,o="#")?(o=o.length,r.substring(o)):r)+'"]')).length&&e.selection.scrollIntoView(o[0],!0):window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})))},ZT=function(e){e.on("ShowCaret",(function(t){YT(e)&&t.preventDefault()})),e.on("ObjectSelected",(function(t){YT(e)&&t.preventDefault()}))},e_=Cn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),t_=(n_.isNative=function(e){return!!e_[e.toLowerCase()]},n_.prototype.fire=function(e,t){var n=e.toLowerCase(),r=yo(n,t||{},this.scope),o=(this.settings.beforeFire&&this.settings.beforeFire(r),this.bindings[n]);if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(!u.removed){if(u.once&&this.off(n,u.func),r.isImmediatePropagationStopped())return r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}}return r},n_.prototype.on=function(e,t,n,r){if(t=!1===t?R:t)for(var o={func:t,removed:!1},i=(r&&Cn.extend(o,r),e.toLowerCase().split(" ")),a=i.length;a--;){var u=i[a],c=this.bindings[u];c||(c=[],this.toggleEvent(u,!0)),c=n?Me([o],c,!0):Me(Me([],c,!0),[o],!1),this.bindings[u]=c}return this},n_.prototype.off=function(e,t){var n=this;if(e)for(var r=e.toLowerCase().split(" "),o=r.length;o--;){var i,a=r[o],u=this.bindings[a];if(!a)return ke(this.bindings,(function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]})),this;u&&(t?(u=(i=se(u,(function(e){return e.func===t}))).fail,this.bindings[a]=u,ce(i.pass,(function(e){e.removed=!0}))):u.length=0,u.length||(this.toggleEvent(e,!1),delete this.bindings[a]))}else ke(this.bindings,(function(e,t){n.toggleEvent(t,!1)})),this.bindings={};return this},n_.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},n_.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},n_);function n_(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||R}function r_(e){return e._eventDispatcher||(e._eventDispatcher=new t_({scope:e,toggleEvent:function(t,n){t_.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher}function o_(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:(t=hf(e))?(e.eventRoot||(e.eventRoot=l_.select(t)[0]),e.eventRoot):e.getBody()}function i_(e,t,n){f_(e)?e.fire(t,n):YT(e)&&QT(e,n)}function a_(e,t){var n,r;e.delegates||(e.delegates={}),e.delegates[t]||e.removed||(r=o_(e,t),hf(e)?(s_||(s_={},e.editorManager.on("removeEditor",(function(){e.editorManager.activeEditor||s_&&(ke(s_,(function(t,n){e.dom.unbind(o_(e,n))})),s_=null)}))),s_[t]||(s_[t]=n=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();a!==r&&!l_.isChildOf(r,a)||i_(o[i],t,n)}},l_.bind(r,t,n))):(l_.bind(r,t,n=function(n){i_(e,t,n)}),e.delegates[t]=n))}function u_(e,t,n,r){var o=n[t.get()];n=n[r];try{n.activate()}catch(e){return}o.deactivate(),o.editorReadOnly!==n.editorReadOnly&&GT(e,n.editorReadOnly),t.set(r),e.fire("SwitchMode",{mode:r})}function c_(e){var t,n={},r=(p_(v_(e.toLowerCase(),"+"),(function(e){e in y_?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=b_[e]||e.toUpperCase().charCodeAt(0))})),[n.keyCode]);for(t in y_)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,wn.mac?n.ctrl=!0:n.shift=!0),n.meta&&(wn.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n}pn={fire:function(e,t,n){if(this.removed&&"remove"!==e&&"detach"!==e)return t;var r=r_(this).fire(e,t);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(e,r,!1),o=o.parent();return r},on:function(e,t,n){return r_(this).on(e,t,n)},off:function(e,t){return r_(this).off(e,t)},once:function(e,t){return r_(this).once(e,t)},hasEventListeners:function(e){return r_(this).has(e)}};var s_,l_=Hu.DOM,f_=function(e){return!e.hidden&&!YT(e)},d_=ze(ze({},pn),{bindPendingEventDelegates:function(){var e=this;Cn.each(e._pendingNativeEvents,(function(t){a_(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?a_(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(o_(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(ke(e.delegates,(function(t,n){e.dom.unbind(o_(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),m_=["design","readonly"],g_=function(e,t,n,r){if(r!==n.get()){if(!Ee(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?u_(e,n,t,r):e.on("init",(function(){return u_(e,n,t,r)}))}},h_=function(e,t,n){if(ie(m_,t))throw new Error("Cannot override default mode "+t);return ze(ze({},e),((e={})[t]=ze(ze({},n),{deactivate:function(){try{n.deactivate()}catch(e){}}}),e))},p_=Cn.each,v_=Cn.explode,b_={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},y_=Cn.makeMap("alt,ctrl,shift,meta,access"),w_=(x_.prototype.add=function(e,t,n,r){var o=this,i=o.normalizeCommandFunc(n);return p_(v_(Cn.trim(e)),(function(e){e=o.createShortcut(e,t,i,r),o.shortcuts[e.id]=e})),!0},x_.prototype.remove=function(e){return e=this.createShortcut(e),!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},x_.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return"string"==typeof n?function(){t.editor.execCommand(n,!1,null)}:Cn.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},x_.prototype.createShortcut=function(e,t,n,r){return e=Cn.map(v_(e,">"),c_),e[e.length-1]=Cn.extend(e[e.length-1],{func:n,scope:r||this.editor}),Cn.extend(e[0],{desc:this.editor.translate(t),subpatterns:e.slice(1)})},x_.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},x_.prototype.isFunctionKey=function(e){return"keydown"===e.type&&112<=e.keyCode&&e.keyCode<=123},x_.prototype.matchShortcut=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},x_.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},x_);function x_(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",(function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(p_(t.shortcuts,(function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}var C_=function(){function e(e,t){return function(n,r){return e[n.toLowerCase()]=ze(ze({},r),{type:t})}}var t={},n={},r={},o={},i={},a={},u={};return{addButton:e(t,"button"),addGroupToolbarButton:e(t,"grouptoolbarbutton"),addToggleButton:e(t,"togglebutton"),addMenuButton:e(t,"menubutton"),addSplitButton:e(t,"splitbutton"),addMenuItem:e(n,"menuitem"),addNestedMenuItem:e(n,"nestedmenuitem"),addToggleMenuItem:e(n,"togglemenuitem"),addAutocompleter:e(r,"autocompleter"),addContextMenu:e(i,"contextmenu"),addContextToolbar:e(a,"contexttoolbar"),addContextForm:e(a,"contextform"),addSidebar:e(u,"sidebar"),addIcon:function(e,t){return o[e.toLowerCase()]=t},getAll:function(){return{buttons:t,menuItems:n,icons:o,popups:r,contextMenus:i,contextToolbars:a,sidebars:u}}}},S_=Hu.DOM,k_=Cn.extend,O_=Cn.each,T_=Cn.resolve,__=wn.ie,E_=(D_.prototype.render=function(){dT(this)},D_.prototype.focus=function(e){this.execCommand("mceFocus",!1,e)},D_.prototype.hasFocus=function(){return ag(this)},D_.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this.settings[e];if(o)return this.callbackLookup&&(r=this.callbackLookup[e])&&(o=r.func,r=r.scope),"string"==typeof o&&(r=(r=o.replace(/\.\w+$/,""))?T_(r):0,o=T_(o),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:o,scope:r}),o.apply(r||this,t)},D_.prototype.translate=function(e){return sl.translate(e)},D_.prototype.getParam=function(e,t,n){return Cy(this,e,t,n)},D_.prototype.hasPlugin=function(e,t){return!!ie(Lc(this).split(/[ ,]/),e)&&(!t||void 0!==hw.get(e))},D_.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},D_.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},D_.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},D_.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},D_.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},D_.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},D_.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},D_.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},D_.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},D_.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(S_.show(this.getContainer()),S_.hide(this.id)),this.load(),this.fire("show"))},D_.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(__&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(S_.hide(e.getContainer()),S_.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},D_.prototype.isHidden=function(){return!!this.hidden},D_.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},D_.prototype.load=function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=ir(n)?n.value:n.innerHTML,t=this.setContent(t,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},D_.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,ir(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=S_.getParent(r.id,"form"))&&O_(n.elements,(function(e){if(e.name===r.id)return e.value=t,!1}))),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},D_.prototype.setContent=function(e,t){return ly(this,e,t)},D_.prototype.getContent=function(e){return sy(this,e)},D_.prototype.insertContent=function(e,t){t&&(e=k_({content:e},t)),this.execCommand("mceInsertContent",!1,e)},D_.prototype.resetContent=function(e){void 0===e?ly(this,this.startContent,{format:"raw"}):ly(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},D_.prototype.isDirty=function(){return!this.isNotDirty},D_.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},D_.prototype.getContainer=function(){return this.container||(this.container=S_.get(this.editorContainer||this.id+"_parent")),this.container},D_.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},D_.prototype.getElement=function(){return this.targetElm||(this.targetElm=S_.get(this.id)),this.targetElm},D_.prototype.getWin=function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},D_.prototype.getDoc=function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},D_.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},D_.prototype.convertURL=function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):this.documentBaseURI.toAbsolute(e,r.remove_script_host)},D_.prototype.addVisual=function(e){mT(this,e)},D_.prototype.remove=function(){dy(this)},D_.prototype.destroy=function(e){my(this,e)},D_.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},D_.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},D_.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},D_.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},D_.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},D_.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},D_);function D_(e,t,n){var r,o,i,a=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,k_(this,d_),this.settings=function(e,t,n,r,o){return t=aw(o,t,n,tw,e),n=uw(nw||rw,nw,t,r,o),!1!==n.deprecation_warnings&&ew(o,n),n}(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Fu.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Hu.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Uu.languageLoad=this.settings.language_load,Uu.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new Cg(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new w_(this),this.editorCommands=new jT(this),this.settings.cache_suffix&&(wn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(t=C_()).addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll},styleSheetLoader:void 0,show:S,hide:S,enable:S,disable:S,isDisabled:R},r=this,o=al("design"),i=al({design:{activate:S,deactivate:S,editorReadOnly:!1},readonly:{activate:S,deactivate:S,editorReadOnly:!0}}),JT(r),ZT(r),e={isReadOnly:function(){return YT(r)},set:function(e){return g_(r,i.get(),o,e)},get:function(){return o.get()},register:function(e,t){i.set(h_(i.get(),e,t))}};this.mode=e,this.setMode=e.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=zu.overrideDefaults((function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}}))}function A_(e){var t=e.type;$_(Z_.get(),(function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}}))}function z_(e){e!==X_&&(e?zu(window).on("resize scroll",A_):zu(window).off("resize scroll",A_),X_=e)}function M_(e,t,n){var r=t.x,o=t.y,i=e.w,a=(e=e.h,t.w);t=t.h;return"b"===(n=(n||"").split(""))[0]&&(o+=t),"r"===n[1]&&(r+=a),"c"===n[0]&&(o+=nE(t/2)),"c"===n[1]&&(r+=nE(a/2)),"b"===n[3]&&(o-=e),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=nE(e/2)),"c"===n[4]&&(r-=nE(i/2)),R_(r,o,i,e)}function R_(e,t,n,r){return{x:e,y:t,w:n,h:r}}function N_(e,t,n){function r(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];o||(o=!0,null!==i&&(clearTimeout(i),i=null),e.apply(null,t))}}void 0===n&&(n=1e3);var o=!1,i=null,a=(e=r(e),r(t));return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||null!==i||(i=setTimeout((function(){return a.apply(null,e)}),n))},resolve:e,reject:a}}function B_(){}var H_,L_,P_,I_,F_,V_,j_,U_=Hu.DOM,W_=Cn.explode,$_=Cn.each,q_=Cn.extend,G_=0,X_=!1,K_=[],Y_=[],J_=function(e){var t=Y_;delete K_[e.id];for(var n=0;n<K_.length;n++)if(K_[n]===e){K_.splice(n,1);break}return Y_=le(Y_,(function(t){return e!==t})),Z_.activeEditor===e&&(Z_.activeEditor=0<Y_.length?Y_[0]:null),Z_.focusedEditor===e&&(Z_.focusedEditor=null),t.length!==Y_.length},Q_="CSS1Compat"!==document.compatMode,Z_=ze(ze({},pn),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:zu,majorVersion:"5",minorVersion:"10.3",releaseDate:"2022-02-09",editors:K_,i18n:sl,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t="",n=Cg.getDocumentBaseUrl(document.location),r=(/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),window.tinymce||window.tinyMCEPreInit);if(r)e=r.base||r.baseURL,t=r.suffix;else{for(var o,i=document.getElementsByTagName("script"),a=0;a<i.length;a++)if(""!==(o=i[a].src||"")){var u=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==u.indexOf(".min")&&(t=".min"),e=o.substring(0,o.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!==(o=document.currentScript.src).indexOf(".min")&&(t=".min"),e=o.substring(0,o.lastIndexOf("/")))}this.baseURL=new Cg(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new Cg(this.baseURL),this.suffix=t,(r=this).on("AddEditor",E(km,r)),r.on("RemoveEditor",E(Om,r))},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t),t=e.suffix,e.suffix&&(this.suffix=t),t=(this.defaultSettings=e).plugin_base_urls;void 0!==t&&ke(t,(function(e,t){Uu.PluginManager.urls[t]=e}))},init:function(e){var t,n=this,r=Cn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(e,t){return e.inline&&t.tagName.toLowerCase()in r},i=function(e){var t=e.id;return t||(t=_e(e,"name").filter((function(e){return!U_.get(e)})).getOrThunk(U_.uniqueId),e.setAttribute("id",t)),t},a=function(t){if(t=e[t],t)return t.apply(n,[])},u=function(e,t){return t.constructor===RegExp?t.test(e.className):U_.hasClass(e,t)},c=function(e){var t=[];if(wn.browser.isIE()&&wn.browser.version.major<11)return Sw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(Q_)return Sw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return $_(e.types,(function(e){t=t.concat(U_.select(e.selector))})),t;if(e.selector)return U_.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var n=e.elements||"";0<n.length&&$_(W_(n),(function(e){var n=U_.get(e);n?t.push(n):$_(document.forms,(function(n){$_(n.elements,(function(n){n.name===e&&(e="mce_editor_"+G_++,U_.setAttrib(n,"id",e),t.push(n))}))}))}));break;case"textareas":case"specific_textareas":$_(U_.select("textarea"),(function(n){e.editor_deselector&&u(n,e.editor_deselector)||e.editor_selector&&!u(n,e.editor_selector)||t.push(n)}))}return t},s=function(e){t=e},l=function(){function t(e,t,o){e=new E_(e,t,n),f.push(e),e.on("init",(function(){++u===r.length&&s(f)})),e.targetElm=e.targetElm||o,e.render()}var r,u=0,f=[];U_.unbind(window,"ready",l),a("onpageload"),r=zu.unique(c(e)),e.types?$_(e.types,(function(n){Cn.each(r,(function(r){return!U_.is(r,n.selector)||(t(i(r),q_({},e,n),r),!1)}))})):(Cn.each(r,(function(e){(e=n.get(e.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(J_(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)})),0===(r=Cn.grep(r,(function(e){return!n.get(e.id)}))).length?s([]):$_(r,(function(n){o(e,n)?Sw("Could not initialize inline editor on invalid inline target element",n):t(i(n),e,n)})))};return n.settings=e,U_.bind(window,"ready",l),new eo((function(e){t?e(t):s=function(t){e(t)}}))},get:function(e){return 0===arguments.length?Y_.slice(0):m(e)?de(Y_,(function(t){return t.id===e})).getOr(null):C(e)&&Y_[e]||null},add:function(e){var t=this;return K_[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(K_[e.id]=e),K_.push(e),Y_.push(e)),z_(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),H_||(H_=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",H_))),e},createEditor:function(e,t){return this.add(new E_(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!m(e))return n=e,p(r.get(n.id))?null:(J_(n)&&r.fire("RemoveEditor",{editor:n}),0===Y_.length&&window.removeEventListener("beforeunload",H_),n.remove(),z_(0<Y_.length),n);$_(U_.select(e),(function(e){(n=r.get(e.id))&&r.remove(n)}))}else for(t=Y_.length-1;0<=t;t--)r.remove(Y_[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new E_(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand("mceAddEditor",!1,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){$_(Y_,(function(e){e.save()}))},addI18n:function(e,t){sl.add(e,t)},translate:function(e){return sl.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Cg(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Cg(this.baseURL)}}),eE=(Z_.setup(),Math.min),tE=Math.max,nE=Math.round,rE=(bn={inflate:function(e,t,n){return R_(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:M_,findBestRelativePosition:function(e,t,n,r){for(var o,i=0;i<r.length;i++)if((o=M_(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n=tE(e.x,t.x),r=tE(e.y,t.y),o=eE(e.x+e.w,t.x+t.w);e=eE(e.y+e.h,t.y+t.h);return o-n<0||e-r<0?null:R_(n,r,o-n,e-r)},clamp:function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=(e=e.y+e.h,t.x+t.w),u=t.y+t.h,c=tE(0,t.x-r);t=tE(0,t.y-o),a=tE(0,i-a),u=tE(0,e-u);return r+=c,o+=t,n&&(i+=c,e+=t,r-=a,o-=u),R_(r,o,(i-=a)-r,(e-=u)-o)},create:R_,fromClientRect:function(e){return R_(e.left,e.top,e.width,e.height)}},vn=(L_={},P_={},{load:function(e,t){var n,r='Script at URL "'+t+'" failed to load',o='Script at URL "'+t+"\" did not call `tinymce.Resource.add('"+e+"', data)` within 1 second";return void 0!==L_[e]?L_[e]:(n=new eo((function(n,i){var a=N_(n,i);P_[e]=a.resolve,Fu.ScriptLoader.loadScript(t,(function(){return a.start(o)}),(function(){return a.reject(r)}))})),L_[e]=n)},add:function(e,t){void 0!==P_[e]&&(P_[e](t),delete P_[e]),L_[e]=eo.resolve(t)}}),Cn.each),oE=Cn.extend,iE=(B_.extend=I_=function(e){function t(){var e,t,n;if(!F_&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)}function n(){return this}var r=this.prototype,o=(F_=!0,new this);return F_=!1,e.Mixins&&(rE(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),r.Mixins&&(e.Mixins=r.Mixins.concat(e.Mixins))),e.Methods&&rE(e.Methods.split(","),(function(t){e[t]=n})),e.Properties&&rE(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}})),e.Statics&&rE(e.Statics,(function(e,n){t[n]=e})),e.Defaults&&r.Defaults&&(e.Defaults=oE({},r.Defaults,e.Defaults)),ke(e,(function(e,t){var n,i;"function"==typeof e&&r[t]?o[t]=(n=t,i=e,function(){var e=this._super,t=(this._super=r[n],i.apply(this,arguments));return this._super=e,t}):o[t]=e})),t.prototype=o,(t.constructor=t).extend=I_,t},Math.min),aE=Math.max,uE=Math.round,cE={serialize:function(e){return e=JSON.stringify(e),m(e)?e.replace(/[\u0080-\uFFFF]/g,(function(e){return e=e.charCodeAt(0).toString(16),"\\u"+"0000".substring(e.length)+e})):e},parse:function(e){try{return JSON.parse(e)}catch(e){}}},sE=($t={callbacks:{},count:0,send:function(e){var t=this,n=Hu.DOM,r=(void 0!==e.count?e:t).count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},ze(ze({},pn),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):to.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",sE.fire("beforeInitialize",{settings:e}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Cn.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)})),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=sE.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();to.setTimeout(r,10)}})),lE=Cn.extend;fE.sendRPC=function(e){return(new fE).send(e)},fE.prototype.send=function(e){var t=e.error,n=e.success,r=lE(this.settings,e);r.success=function(e,o){(e=void 0===(e=cE.parse(e))?{error:"JSON Parse error."}:e).error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=cE.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",sE.send(r)},qt=fE;function fE(e){this.settings=lE({},e),this.count=0}try{var dE,mE="__storage_test__";(dE=window.localStorage).setItem(mE,mE),dE.removeItem(mE)}catch(o){V_={},j_=[],yn={getItem:function(e){return e=V_[e],e||null},setItem:function(e,t){j_.push(e),V_[e]=String(t)},key:function(e){return j_[e]},removeItem:function(e){j_=j_.filter((function(t){return t===e})),delete V_[e]},clear:function(){j_=[],V_={}},length:0},Object.defineProperty(yn,"length",{get:function(){return j_.length},configurable:!1,enumerable:!1}),dE=yn}mE={geom:{Rect:bn},util:{Promise:eo,Delay:to,Tools:Cn,VK:Xd,URI:Cg,Class:B_,EventDispatcher:t_,Observable:pn,I18n:sl,XHR:sE,JSON:cE,JSONRequest:qt,JSONP:$t,LocalStorage:dE,Color:function(e){function t(e){if("object"==typeof e){if("r"in e)r=e.r,o=e.g,i=e.b;else if("v"in e){var t=e.h,a=e.s,u=e.v;if(t=(parseInt(t,10)||0)%360,a=parseInt(a,10)/100,u=parseInt(u,10)/100,a=aE(0,iE(a,1)),u=aE(0,iE(u,1)),0!==a){t=t/60;var c=u*a,s=c*(1-Math.abs(t%2-1));a=u-c;switch(Math.floor(t)){case 0:r=c,o=s,i=0;break;case 1:r=s,o=c,i=0;break;case 2:r=0,o=c,i=s;break;case 3:r=0,o=s,i=c;break;case 4:r=s,o=0,i=c;break;case 5:r=c,o=0,i=s;break;default:r=o=i=0}r=uE(255*(r+a)),o=uE(255*(o+a)),i=uE(255*(i+a))}else r=o=i=uE(255*u)}}else(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(r=parseInt(t[1],10),o=parseInt(t[2],10),i=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(r=parseInt(t[1],16),o=parseInt(t[2],16),i=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(r=parseInt(t[1]+t[1],16),o=parseInt(t[2]+t[2],16),i=parseInt(t[3]+t[3],16));return r=r<0?0:255<r?255:r,o=o<0?0:255<o?255:o,i=i<0?0:255<i?255:i,n}var n={},r=0,o=0,i=0;return e&&t(e),n.toRgb=function(){return{r:r,g:o,b:i}},n.toHsv=function(){return e=r,t=o,n=i,u=0,c=iE(e/=255,iE(t/=255,n/=255)),s=aE(e,aE(t,n)),c===s?{h:0,s:0,v:100*(u=c)}:(a=(s-c)/s,{h:uE(60*((e===c?3:n===c?1:5)-(e===c?t-n:n===c?e-t:n-e)/((u=s)-c))),s:uE(100*a),v:uE(100*u)});var e,t,n,a,u,c,s},n.toHex=function(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+e(r)+e(o)+e(i)},n.parse=t,n},ImageUploader:function(e){var t=_w(),n=zw(e,t);return{upload:function(t,r){return n.upload(t,(r=void 0===r||r)?Aw(e):void 0)}}}},dom:{EventUtils:Gi,Sizzle:Ua,DomQuery:zu,TreeWalker:ro,TextSeeker:ic,DOMUtils:Hu,ScriptLoader:Fu,RangeUtils:jd,Serializer:cy,StyleSheetLoader:Kr,ControlSelection:Bd,BookmarkManager:Dd,Selection:Qb,Event:Gi.Event},html:{Styles:bo,Entities:Ei,Node:mg,Schema:Ii,SaxParser:Og,DomParser:jy,Writer:Dg,Serializer:Ag},Env:wn,AddOnManager:Uu,Annotator:Ed,Formatter:Hw,UndoManager:Pw,EditorCommands:jT,WindowManager:vw,NotificationManager:Ty,EditorObservable:d_,Shortcuts:w_,Editor:E_,FocusManager:Jm,EditorManager:Z_,DOM:Hu.DOM,ScriptLoader:Fu.ScriptLoader,PluginManager:hw,ThemeManager:pw,IconManager:cw,Resource:vn,trim:Cn.trim,isArray:Cn.isArray,is:Cn.is,toArray:Cn.toArray,makeMap:Cn.makeMap,each:Cn.each,map:Cn.map,grep:Cn.grep,inArray:Cn.inArray,extend:Cn.extend,create:Cn.create,walk:Cn.walk,createNS:Cn.createNS,resolve:Cn.resolve,explode:Cn.explode,_addCacheSuffix:Cn._addCacheSuffix,isOpera:wn.opera,isWebKit:wn.webkit,isIE:wn.ie,isGecko:wn.gecko,isMac:wn.mac},yn=Cn.extend(Z_,mE),bn=yn,window.tinymce=bn,window.tinyMCE=bn,pn=yn;try{e.exports=pn}catch(o){}}()}).call(this,n("c8ba"))},e8b0:function(e,t){!function(){"use strict";function e(e){return e}function t(e,t){for(var n,r=t.getBlockElements(),o=t.getShortEndedElements(),i=[],a="",u=new W(e,e);e=u.next();)3===e.nodeType?a+=e.data.replace(/\uFEFF/g,""):(r[(n=e).nodeName]||o[n.nodeName])&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i}function n(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}var r,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},u="[-'\\.‘’․﹒＇．]",c="[:··״‧︓﹕：]",s="[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",l="[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",f="\\r",d="\\n",m="[\v\f\u2028\u2029]",g="[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",h="[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",p="[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",v="[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",b="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",y=0,w=1,x=2,C=3,S=4,k=5,O=6,T=7,_=8,E=9,D=10,A=11,z=12,M=13,R=(u=[new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),new RegExp(u),new RegExp(c),new RegExp(s),new RegExp(l),new RegExp(f),new RegExp(d),new RegExp(m),new RegExp(g),new RegExp(h),new RegExp(p),new RegExp(v),new RegExp("@")],c=new RegExp("^"+b+"$"),u),N=M,B=function(e){for(var t=N,n=R.length,r=0;r<n;++r){var o=R[r];if(o&&o.test(e)){t=r;break}}return t},H=function(e){var t={};return function(n){var r;return t[n]||(r=e(n),t[n]=r)}},L=function(e,t){var n=e[t],r=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===y&&r===y)return!1;var o=e[t+2];return(n!==y||r!==x&&r!==w&&r!==z||o!==y)&&(e=e[t-1],(n!==x&&n!==w&&r!==z||r!==y||e!==y)&&(n!==S&&n!==y||r!==S&&r!==y)&&(n!==C&&n!==w||r!==S||e!==S)&&(n!==S||r!==C&&r!==w||o!==S)&&n!==_&&n!==E&&e!==_&&e!==E&&r!==_&&r!==E&&(n!==k||r!==O)&&(n===T||n===k||n===O||r===T||r===k||r===O||(n!==D||r!==D)&&(r!==A||n!==y&&n!==S&&n!==D&&n!==A)&&(n!==A||r!==y&&r!==S&&r!==D)&&n!==z))},P="",I=/^\s+$/,F=c,V=function(e){return"http"===e||"https"===e},j=function(e,t){var n=function(e,t){for(var n=t;n<e.length&&!I.test(e[n]);n++);return n}(e,t+1);return"://"===e.slice(t+1,n).join(P).substr(0,3)?n:t},U=function(e,t,n){n=i(i({},{includeWhitespace:!1,includePunctuation:!1}),n);for(var r=[],o=[],u=0;u<e.length;u++){var c=t(e[u]);"\ufeff"!==c&&(r.push(e[u]),o.push(c))}d=o,s=H(B);for(var s,l,f,d=a(d,s),m=r,g=o,h=d,p=n,v=[],b=[],y=0;y<h.length;++y)b.push(m[y]),L(h,y)&&(f=g[y],!p.includeWhitespace&&I.test(f)||!p.includePunctuation&&F.test(f)||(f=y-b.length+1,l=g.slice(f,f=y+1).join(P),V(l)&&(l=j(g,y),f=m.slice(f,l),Array.prototype.push.apply(b,f),y=l),v.push(b)),b=[]);return v},W=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),$=function(n,r){return n=t(n,r).join("\n").replace(/\u200B/g,""),U(n.split(""),e).length},q=function(e,r){return e=t(e,r).join(""),n(e)},G=function(e,r){return e=t(e,r).join("").replace(/\s/g,""),n(e)},X=function(e,t){return function(){return t(e.getBody(),e.schema)}},K=function(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}},Y=function(e){return X(e,$)},J=function(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Q=tinymce.util.Tools.resolve("tinymce.util.Delay"),Z=function(e,t){t=t,e.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})};void 0===r&&(r=300),o.add("wordcount",(function(e){var t,n,o,i,a,u,c={body:{getWordCount:Y(c=e),getCharacterCount:X(c,q),getCharacterCountWithoutSpaces:X(c,G)},selection:{getWordCount:K(c,$),getCharacterCount:K(c,q),getCharacterCountWithoutSpaces:K(c,G)},getCount:Y(c)};function s(){return o.execCommand("mceWordCount")}return n=c,(t=e).addCommand("mceWordCount",(function(){return J(t,n)})),(o=e).ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:s}),o.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:s}),i=e,a=c,e=r,u=Q.debounce((function(){return Z(i,a)}),e),i.on("init",(function(){Z(i,a),Q.setEditorTimeout(i,(function(){i.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",u)}),0)})),c}))}()},f4bc:function(e,t,n){"use strict";n("4e44")},fc39:function(e,t){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})}}]);