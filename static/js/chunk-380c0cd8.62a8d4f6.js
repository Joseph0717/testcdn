(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-380c0cd8"],{"2fc4":function(t,e,i){"use strict";i("4de4"),i("d3b7");var a={name:"MySearch",props:{fields:{type:Array,default:function(){return[]}}},data:function(){return{filter:{field:"",value:"",operator:"Contains"}}},created:function(){this.filter.field=this.fields[0].value},methods:{change:function(t){this.filter.field=t},onSearch:function(t){this.filter.value=t,t=this.filter,this.$emit("click",t)}}};i=i("2877"),i=Object(i.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-input-search",{attrs:{allowClear:""},on:{search:t.onSearch}},[i("a-select",{staticStyle:{"min-width":"100px"},attrs:{slot:"addonBefore"},on:{change:t.change},slot:"addonBefore",model:{value:t.filter.field,callback:function(e){t.$set(t.filter,"field",e)},expression:"filter.field"}},[t._l(t.fields,(function(e){return["string"==e.type?i("a-select-option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label)+" ")]):t._e()]}))],2),i("a-button",{attrs:{slot:"enterButton",icon:"search"},slot:"enterButton"})],1)],1)}),[],!1,null,null,null);e.a=i.exports},"388f":function(t,e,i){"use strict";i.r(e),i("d9e2"),i("ac1f"),i("1276"),i("a15b");var a=i("1da1"),n=(i("96cf"),i("7424")),r=i("b775");function o(t,e,i){return s.apply(this,arguments)}function s(){return(s=Object(a.a)(regeneratorRuntime.mark((function t(e,i,a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(n.RFATTACHTYPEGETPAGE,r.a.POST,{currentPage:e,pageSize:i,dynamicFilter:a}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(n.RFATTACHTYPEADD,r.a.POST,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(t){return f.apply(this,arguments)}function f(){return(f=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(n.RFATTACHTYPEGET,r.a.GET,{id:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return d.apply(this,arguments)}function d(){return(d=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(n.RFATTACHTYPEUPDATE,r.a.PUT,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(n.RFATTACHTYPESOFTDELETE,r.a.DELETE,{id:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var g=i("a701"),y=(i("2ef0"),i("2fc4"));y={name:"RFAttachType",i18n:i("9225"),components:{MySearch:y.a},computed:{fields:function(){return[{value:"rfAttachTypeCode",label:this.$t("414"),type:"string",default:!0}]}},data:function(){var t=this;return{minHeight:window.innerHeight-219,RFAttachTypeList:[],fileSuffixs:[],fileTypeLimit:[],loading:!1,pagination:{currentPage:1,pageSize:100,totalResult:0},dynamicFilter:{},title:"",spinning:!1,visible:!1,disabled:!1,confirmLoading:!1,type:"",form:{},rules:{rfAttachTypeCode:[{validator:function(e,i,a){""===i?a(new Error(t.$t("420"))):a()},trigger:"change",required:!0}],rfAttachTypeDesc:[{validator:function(e,i,a){""===i?a(new Error(t.$t("421"))):a()},trigger:"change",required:!0}],fileTypeLimit:[{validator:function(e,i,a){0==t.fileTypeLimit.length?a(new Error(t.$t("422"))):20<t.form.fileTypeLimit.length?a(new Error(t.$t("423"))):a()},trigger:"change",required:!0}],fileSizeLimit:[{validator:function(e,i,a){0==i?a(new Error(t.$t("424"))):a()},trigger:"change",required:!0}]}}},created:function(){this.getFileType(),this.getRFAttachTypeList()},methods:{getFileType:function(){var t=this;Object(g.c)("FileSuffix").then((function(e){1===e.data.code&&(t.fileSuffixs=e.data.data)}))},getRFAttachTypeList:function(){var t=this;this.loading=!0,o(this.pagination.currentPage,this.pagination.pageSize,this.dynamicFilter).then((function(e){1===e.data.code&&(t.RFAttachTypeList=e.data.data.list,t.pagination.totalResult=e.data.data.total,t.loading=!1)}))},handlePageChange:function(t){var e=t.currentPage;t=t.pageSize;this.pagination.currentPage=e,this.pagination.pageSize=t,this.getRFAttachTypeList()},onSearch:function(t){this.dynamicFilter=t,this.pagination.currentPage=1,this.getRFAttachTypeList()},showModalAdd:function(){this.title=this.$t("37"),this.type="add",this.visible=!0,this.fileTypeLimit=[],this.form={status:1,rfAttachTypeCode:"",rfAttachTypeDesc:"",isRFIUsed:0,isRFQUsed:0,fileTypeLimit:"",fileSizeLimit:0,remark:""}},showModalEdit:function(t){var e=this;this.title=this.$t("78"),this.type="edit",this.disabled=!0,this.visible=!0,this.spinning=!0,this.fileTypeLimit=[],u(t.id).then((function(t){1===t.data.code&&(e.form=t.data.data,e.fileTypeLimit=e.form.fileTypeLimit.split("^"),e.spinning=!1,e.disabled=!1)}))},handleOk:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.confirmLoading=!0,"add"==t.type?c(t.form).then((function(e){1===e.data.code?(t.confirmLoading=!1,t.visible=!1,t.getRFAttachTypeList()):(t.confirmLoading=!1,t.$message.error(e.data.msg))})):p(t.form).then((function(e){1===e.data.code?(t.confirmLoading=!1,t.visible=!1,t.getRFAttachTypeList()):(t.confirmLoading=!1,t.$message.error(e.data.msg))})))}))},handleCancel:function(){this.visible=!1,this.confirmLoading=!1},confirmDelete:function(t){var e=this;m(t.id).then((function(t){1===t.data.code&&e.getRFAttachTypeList()}))},onChange:function(t){this.form.fileTypeLimit=t.join("^")}}},i("ea17"),i=i("2877"),i=Object(i.a)(y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"RFAttachType"},[i("vxe-toolbar",{attrs:{custom:"",print:""},scopedSlots:t._u([{key:"tools",fn:function(){return[i("a-space",[i("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:rfattachtype:add",expression:"`api:admin:rfattachtype:add`",arg:"permission"}],attrs:{type:"primary",size:"small",icon:"plus-circle"},on:{click:t.showModalAdd}},[t._v(t._s(t.$t("37")))]),i("my-search",{attrs:{fields:t.fields},on:{click:t.onSearch}})],1)]},proxy:!0}])}),i("vxe-table",{ref:"xTable",attrs:{"keep-source":"",data:t.RFAttachTypeList,loading:t.loading,"print-config":{},"show-overflow":"",resizable:"",border:"","highlight-hover-row":"",height:t.minHeight}},[i("vxe-column",{attrs:{type:"checkbox",width:"50"},scopedSlots:t._u([{key:"header",fn:function(e){var a=e.checked;e=e.indeterminate;return[i("span",{staticClass:"custom-checkbox",on:{click:function(e){return e.stopPropagation(),t.$refs.xTable.toggleAllCheckboxRow()}}},[i("span",e?[i("a-checkbox",{attrs:{indeterminate:!0}})]:a?[i("a-checkbox",{attrs:{checked:!0}})]:[i("a-checkbox")],1)])]}},{key:"checkbox",fn:function(e){var a=e.row,n=e.checked;e=e.indeterminate;return[i("span",{staticClass:"custom-checkbox",on:{click:function(e){return e.stopPropagation(),t.$refs.xTable.toggleCheckboxRow(a)}}},[i("span",e?[i("a-checkbox",{attrs:{indeterminate:!0}})]:n?[i("a-checkbox",{attrs:{checked:!0}})]:[i("a-checkbox")],1)])]}}])}),i("vxe-column",{attrs:{field:"rfAttachTypeCode",title:"附件类型编码"}}),i("vxe-column",{attrs:{field:"rfAttachTypeDesc",title:"附件类型描述"}}),i("vxe-column",{attrs:{field:"fileTypeLimit",title:"附件类型"},scopedSlots:t._u([{key:"default",fn:function(e){return e=e.row,t._l(e.fileTypeLimit.split("^"),(function(e,a){return i("a-tag",{key:a},[t._v(t._s(e))])}))}}])}),i("vxe-column",{attrs:{field:"fileSizeLimit",title:"附件大小"},scopedSlots:t._u([{key:"default",fn:function(e){return e=e.row,[t._v(" "+t._s(e.fileSizeLimit)+"/Mb ")]}}])}),i("vxe-column",{attrs:{field:"remark",title:"备注"}}),i("vxe-column",{attrs:{field:"status",title:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return e=e.row,[0==e.status?i("a-tag",{attrs:{color:"#f5222d"}},[t._v("禁用")]):t._e(),1==e.status?i("a-tag",{attrs:{color:"#1890ff"}},[t._v("启用")]):t._e()]}}])}),i("vxe-column",{attrs:{width:"100",fixed:"right",title:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("a-space",[i("a-tooltip",{attrs:{placement:"top",title:t.$t("78")}},[i("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:rfattachtype:update",expression:"`api:admin:rfattachtype:update`",arg:"permission"}],attrs:{type:"primary",size:"small",icon:"edit"},on:{click:function(e){return t.showModalEdit(a)}}})],1),i("a-tooltip",{attrs:{placement:"top",title:t.$t("46")}},[i("a-popconfirm",{attrs:{title:t.$t("47")},on:{confirm:function(e){return t.confirmDelete(a)}}},[i("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:rfattachtype:softdelete",expression:"`api:admin:rfattachtype:softdelete`",arg:"permission"}],attrs:{type:"danger",size:"small",icon:"delete"}})],1)],1)],1)]}}])})],1),i("vxe-pager",{attrs:{"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,total:t.pagination.totalResult,"page-sizes":[20,50,100,200],layouts:["PrevPage","JumpNumber","NextPage","Sizes","Total"]},on:{"page-change":t.handlePageChange}}),i("a-modal",{attrs:{destroyOnClose:!0,width:700,title:t.title,centered:"",visible:t.visible,"confirm-loading":t.confirmLoading,maskClosable:!1,"ok-button-props":{props:{disabled:t.disabled}}},on:{ok:t.handleOk,cancel:t.handleCancel}},[i("template",{slot:"closeIcon"},[i("a-button",{attrs:{type:"danger",size:"small",shape:"circle",icon:"close-circle"}})],1),i("a-spin",{attrs:{spinning:t.spinning}},[i("a-form-model",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-col":{span:5},"wrapper-col":{span:19}}},[i("a-form-model-item",{attrs:{label:t.$t("414"),prop:"rfAttachTypeCode"}},[i("a-input",{attrs:{"max-length":20},model:{value:t.form.rfAttachTypeCode,callback:function(e){t.$set(t.form,"rfAttachTypeCode",e)},expression:"form.rfAttachTypeCode"}})],1),i("a-form-model-item",{attrs:{label:t.$t("415"),prop:"rfAttachTypeDesc"}},[i("a-input",{attrs:{"max-length":50},model:{value:t.form.rfAttachTypeDesc,callback:function(e){t.$set(t.form,"rfAttachTypeDesc",e)},expression:"form.rfAttachTypeDesc"}})],1),i("a-form-model-item",{attrs:{label:t.$t("418"),prop:"fileTypeLimit"}},[i("a-select",{attrs:{mode:"multiple"},on:{change:t.onChange},model:{value:t.fileTypeLimit,callback:function(e){t.fileTypeLimit=e},expression:"fileTypeLimit"}},t._l(t.fileSuffixs,(function(e,a){return i("a-select-option",{key:a,attrs:{value:e.code}},[t._v(" "+t._s(e.code)+" ")])})),1)],1),i("a-form-model-item",{attrs:{label:t.$t("419"),prop:"fileSizeLimit"}},[i("a-input-number",{attrs:{min:0,max:500},model:{value:t.form.fileSizeLimit,callback:function(e){t.$set(t.form,"fileSizeLimit",e)},expression:"form.fileSizeLimit"}}),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("/Mb")])],1),i("a-form-model-item",{attrs:{label:t.$t("34")}},[i("a-input",{attrs:{"max-length":200},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1),i("a-form-model-item",{attrs:{label:t.$t("35")}},[i("a-switch",{attrs:{checked:0!=t.form.status,size:"small"},on:{click:function(e){t.form.status=0==t.form.status?1:0}}})],1)],1)],1)],2)],1)}),[],!1,null,"00f35488",null).exports;e.default=i},a7a9:function(t,e,i){},ea17:function(t,e,i){"use strict";i("a7a9")}}]);