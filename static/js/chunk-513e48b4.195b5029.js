(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-513e48b4"],{"162d":function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return h})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return v}));e=n("96cf");var a=n("1da1"),r=n("7424"),i=n("b775");function o(t,e,n){return u.apply(this,arguments)}function u(){return(u=Object(a.a)(regeneratorRuntime.mark((function t(e,n,a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i.e)(r.QUOTATIONGETPAGE,i.a.POST,{currentPage:e,pageSize:n,dynamicFilter:a}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(t){return s.apply(this,arguments)}function s(){return(s=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i.e)(r.QUOTATIONADD,i.a.POST,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return p.apply(this,arguments)}function p(){return(p=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i.e)(r.QUOTATIONGET,i.a.GET,{id:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return f.apply(this,arguments)}function f(){return(f=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i.e)(r.QUOTATIONUPDATE,i.a.PUT,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i.e)(r.QUOTATIONBATCHSOFTDELETE,i.a.PUT,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t,e,n){return b.apply(this,arguments)}function b(){return(b=Object(a.a)(regeneratorRuntime.mark((function t(e,n,a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i.e)(r.QUOTATIONGETBYCOLSMAPPINGASYNC,i.a.GET,{businesstype:e,orgId:n,quotationid:a}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t,e){return y.apply(this,arguments)}function y(){return(y=Object(a.a)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i.e)(r.QUOTATIONGETCOLUMNSBYBUSASYNC,i.a.GET,{businesstype:e,orgId:n}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},"1e9c":function(t,e,n){"use strict";n("26c6")},"26c6":function(t,e,n){},"2fc4":function(t,e,n){"use strict";n("4de4");var a={name:"MySearch",props:{fields:{type:Array,default:function(){return[]}}},data:function(){return{filter:{field:"",value:"",operator:"Contains"}}},created:function(){this.filter.field=this.fields[0].value},methods:{change:function(t){this.filter.field=t},onSearch:function(t){this.filter.value=t,t=this.filter,this.$emit("click",t)}}};n=n("2877"),a=Object(n.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-input-search",{attrs:{allowClear:""},on:{search:t.onSearch}},[n("a-select",{staticStyle:{"min-width":"100px"},attrs:{slot:"addonBefore"},on:{change:t.change},slot:"addonBefore",model:{value:t.filter.field,callback:function(e){t.$set(t.filter,"field",e)},expression:"filter.field"}},[t._l(t.fields,(function(e){return["string"==e.type?n("a-select-option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label)+" ")]):t._e()]}))],2),n("a-button",{attrs:{slot:"enterButton",icon:"search"},slot:"enterButton"})],1)],1)}),[],!1,null,null,null);e.a=a.exports},ba4c:function(t,e,n){"use strict";n.r(e),n("c975"),n("d81d");var a=n("162d"),r=n("a701"),i=n("2fc4");i={name:"Quotation",i18n:n("9225"),components:{MySearch:i.a},computed:{fields:function(){return[{value:"quotationNo",label:"报价编码",type:"string"},{value:"quotationDesc",label:"描述",type:"string"}]}},data:function(){return{minHeight:window.innerHeight-219,quotationList:[],businessTypes:[],ARAPs:[],quotationTypes:[],loading:!1,pagination:{currentPage:1,pageSize:100,totalResult:0},dynamicFilter:{}}},created:function(){this.getDictionary(),this.getQuotationList()},methods:{getDictionary:function(){var t=this;Object(r.c)("BusinessType").then((function(e){1===e.data.code&&(t.businessTypes=e.data.data)})),Object(r.c)("ARAP").then((function(e){1===e.data.code&&(t.ARAPs=e.data.data)})),Object(r.c)("QuotationType").then((function(e){1===e.data.code&&(t.quotationTypes=e.data.data)}))},getQuotationList:function(){var t=this;this.loading=!0,Object(a.f)(this.pagination.currentPage,this.pagination.pageSize,this.dynamicFilter).then((function(e){1===e.data.code&&(t.quotationList=e.data.data.list,t.pagination.totalResult=e.data.data.total,t.loading=!1)}))},handlePageChange:function(t){var e=t.currentPage;t=t.pageSize;this.pagination.currentPage=e,this.pagination.pageSize=t,this.getQuotationList()},onSearch:function(t){this.dynamicFilter=t,this.pagination.currentPage=1,this.getQuotationList()},insert:function(){this.$router.push("/QuotationDetail?time=".concat(Date.now(),"&id=0"))},toQuotationDetail:function(t){this.$router.push("/QuotationDetail?id=".concat(t.id))},batchDelete:function(){var t=this,e=this.$refs.xTable.getCheckboxRecords();if(0==e.length)return!1;e=e.map((function(t){return t.id})),Object(a.b)(e).then((function(e){1===e.data.code&&t.getQuotationList()}))},filterOption:function(t,e){return 0<=e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())}}},n("1e9c"),n=n("2877"),i=Object(n.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Quotation"},[n("vxe-toolbar",{attrs:{custom:"",print:""},scopedSlots:t._u([{key:"tools",fn:function(){return[n("a-space",[n("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:quotation:add",expression:"`api:admin:quotation:add`",arg:"permission"}],attrs:{type:"primary",size:"small",icon:"plus-circle"},on:{click:t.insert}},[t._v(t._s(t.$t("37")))]),!t.loading&&0<t.$refs.xTable.getCheckboxRecords().length?n("a-popconfirm",{attrs:{title:t.$t("47")},on:{confirm:t.batchDelete}},[n("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:quotation:batchsoftdelete",expression:"`api:admin:quotation:batchsoftdelete`",arg:"permission"}],attrs:{type:"danger",size:"small",icon:"delete"}},[t._v("删除")])],1):t._e(),n("my-search",{attrs:{fields:t.fields},on:{click:t.onSearch}})],1)]},proxy:!0}])}),n("vxe-table",{ref:"xTable",attrs:{"keep-source":"",data:t.quotationList,loading:t.loading,"print-config":{},"show-overflow":"",resizable:"",border:"","highlight-hover-row":"",height:t.minHeight}},[n("vxe-column",{attrs:{type:"checkbox",width:"50"},scopedSlots:t._u([{key:"header",fn:function(e){var a=e.checked;e=e.indeterminate;return[n("span",{staticClass:"custom-checkbox",on:{click:function(e){return e.stopPropagation(),t.$refs.xTable.toggleAllCheckboxRow()}}},[n("span",e?[n("a-checkbox",{attrs:{indeterminate:!0}})]:a?[n("a-checkbox",{attrs:{checked:!0}})]:[n("a-checkbox")],1)])]}},{key:"checkbox",fn:function(e){var a=e.row,r=e.checked;e=e.indeterminate;return[n("span",{staticClass:"custom-checkbox",on:{click:function(e){return e.stopPropagation(),t.$refs.xTable.toggleCheckboxRow(a)}}},[n("span",e?[n("a-checkbox",{attrs:{indeterminate:!0}})]:r?[n("a-checkbox",{attrs:{checked:!0}})]:[n("a-checkbox")],1)])]}}])}),n("vxe-column",{attrs:{field:"quotationNo",title:"报价编码"}}),n("vxe-column",{attrs:{field:"quotationDesc",title:"描述"}}),n("vxe-column",{attrs:{field:"businessType",title:"业务类型"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._l(t.businessTypes,(function(e){return[a.businessType==e.code?n("span",{key:e.id},[t._v(t._s(e.name))]):t._e()]}))]}}])}),n("vxe-column",{attrs:{field:"partnerCode",title:"配置名称"}}),n("vxe-column",{attrs:{field:"rpType",title:"收付类型","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._l(t.ARAPs,(function(e){return[a.rpType==e.value?n("span",{key:e.id},[t._v(t._s(e.name))]):t._e()]}))]}}])}),n("vxe-column",{attrs:{field:"remark",title:"备注"}}),n("vxe-column",{attrs:{field:"status",title:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._l(t.quotationTypes,(function(e){return[a.status==e.value?n("span",{key:e.id},[t._v(t._s(e.name))]):t._e()]}))]}}])}),n("vxe-column",{attrs:{width:"100",fixed:"right",title:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("a-space",[a.id?n("a-tooltip",{attrs:{placement:"top",title:"编辑"}},[n("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:quotation:update",expression:"`api:admin:quotation:update`",arg:"permission"}],attrs:{type:"primary",size:"small",icon:"edit"},on:{click:function(e){return t.toQuotationDetail(a)}}})],1):t._e()],1)]}}])})],1),n("vxe-pager",{attrs:{"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,total:t.pagination.totalResult,"page-sizes":[20,50,100,200],layouts:["PrevPage","JumpNumber","NextPage","Sizes","Total"]},on:{"page-change":t.handlePageChange}})],1)}),[],!1,null,"40a85d94",null).exports;e.default=i}}]);