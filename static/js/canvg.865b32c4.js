(window.webpackJsonp=window.webpackJsonp||[]).push([["canvg"],{"0538":function(t,e,n){"use strict";var r=n("da84"),i=n("e330"),o=n("59ed"),a=n("861d"),u=n("1a2d"),s=n("f36a"),c=(n=n("40d5"),r.Function),l=i([].concat),h=i([].join),f={};t.exports=n?c.bind:function(t){var e=o(this),n=e.prototype,r=s(arguments,1),i=function(){var n=l(r,s(arguments));if(this instanceof i){var o=e,a=n.length,y=n;if(!u(f,a)){for(var p=[],g=0;g<a;g++)p[g]="a["+g+"]";f[a]=c("C,a","return new C("+h(p,",")+")")}return f[a](o,y)}return e.apply(t,n)};return a(n)&&(i.prototype=n),i}},"131a":function(t,e,n){n("23e7")({target:"Object",stat:!0},{setPrototypeOf:n("d2bb")})},"278c":function(t,e,n){var r=n("c135"),i=n("9b42"),o=n("6613"),a=n("c240");t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},3410:function(t,e,n){var r=n("23e7"),i=n("d039"),o=n("7b0b"),a=n("e163");n=n("e177");r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!n},{getPrototypeOf:function(t){return a(o(t))}})},"36c6e":function(t,e,n){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}n("131a"),n("3410"),t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},"3c96":function(t,e,n){n("d9e2"),t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},4160:function(t,e,n){"use strict";var r=n("23e7");n=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"45fc":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").some;r({target:"Array",proto:!0,forced:!n("a640")("some")},{some:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}})},"4a4b":function(t,e,n){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e,n)}n("131a"),t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},"4ae1":function(t,e,n){var r=n("23e7"),i=n("d066"),o=n("2ba4"),a=n("0538"),u=n("5087"),s=n("825a"),c=n("861d"),l=n("7c73"),h=(n=n("d039"),i("Reflect","construct")),f=Object.prototype,y=[].push,p=n((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),g=!n((function(){h((function(){}))}));i=p||g;r({target:"Reflect",stat:!0,forced:i,sham:i},{construct:function(t,e){u(t),s(e);var n=arguments.length<3?t:u(arguments[2]);if(g&&!p)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(y,r,e),new(o(a,t,r))}return r=n.prototype,n=l(c(r)?r:f),r=o(t,n,e),c(r)?r:n}})},"4ec9":function(t,e,n){"use strict";n("6d61")("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n("6566"))},"5bc3":function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},"5d41":function(t,e,n){var r=n("23e7"),i=n("c65b"),o=n("861d"),a=n("825a"),u=n("c60d"),s=n("06cf"),c=n("e163");r({target:"Reflect",stat:!0},{get:function t(e,n){var r,l=arguments.length<3?e:arguments[2];return a(e)===l?e[n]:(r=s.f(e,n))?u(r)?r.value:void 0===r.get?void 0:i(r.get,l):o(r=c(e))?t(r,n,l):void 0}})},"6b58":function(t,e,n){n("d9e2");var r=n("7037").default,i=n("3c96");t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},"7f78":function(t,e,n){var r=n("23e7"),i=n("825a"),o=n("e163");r({target:"Reflect",stat:!0,sham:!n("e177")},{getPrototypeOf:function(t){return o(i(t))}})},8890:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"AElement",(function(){return Ae})),n.d(e,"AnimateColorElement",(function(){return le})),n.d(e,"AnimateElement",(function(){return se})),n.d(e,"AnimateTransformElement",(function(){return fe})),n.d(e,"BoundingBox",(function(){return xt})),n.d(e,"CB1",(function(){return j})),n.d(e,"CB2",(function(){return _})),n.d(e,"CB3",(function(){return $})),n.d(e,"CB4",(function(){return q})),n.d(e,"Canvg",(function(){return vn})),n.d(e,"CircleElement",(function(){return zt})),n.d(e,"ClipPathElement",(function(){return Qe})),n.d(e,"DefsElement",(function(){return Qt})),n.d(e,"DescElement",(function(){return hn})),n.d(e,"Document",(function(){return pn})),n.d(e,"Element",(function(){return pt})),n.d(e,"EllipseElement",(function(){return It})),n.d(e,"FeColorMatrixElement",(function(){return Xe})),n.d(e,"FeCompositeElement",(function(){return on})),n.d(e,"FeDropShadowElement",(function(){return tn})),n.d(e,"FeGaussianBlurElement",(function(){return un})),n.d(e,"FeMorphologyElement",(function(){return nn})),n.d(e,"FilterElement",(function(){return Je})),n.d(e,"Font",(function(){return mt})),n.d(e,"FontElement",(function(){return de})),n.d(e,"FontFaceElement",(function(){return me})),n.d(e,"GElement",(function(){return Jt})),n.d(e,"GlyphElement",(function(){return we})),n.d(e,"GradientElement",(function(){return te})),n.d(e,"ImageElement",(function(){return Te})),n.d(e,"LineElement",(function(){return jt})),n.d(e,"LinearGradientElement",(function(){return ne})),n.d(e,"MarkerElement",(function(){return Yt})),n.d(e,"MaskElement",(function(){return He})),n.d(e,"Matrix",(function(){return at})),n.d(e,"MissingGlyphElement",(function(){return be})),n.d(e,"Mouse",(function(){return Q})),n.d(e,"PSEUDO_ZERO",(function(){return z})),n.d(e,"Parser",(function(){return nt})),n.d(e,"PathElement",(function(){return Vt})),n.d(e,"PathParser",(function(){return Mt})),n.d(e,"PatternElement",(function(){return Wt})),n.d(e,"Point",(function(){return U})),n.d(e,"PolygonElement",(function(){return Gt})),n.d(e,"PolylineElement",(function(){return $t})),n.d(e,"Property",(function(){return H})),n.d(e,"QB1",(function(){return G})),n.d(e,"QB2",(function(){return X})),n.d(e,"QB3",(function(){return W})),n.d(e,"RadialGradientElement",(function(){return ie})),n.d(e,"RectElement",(function(){return Lt})),n.d(e,"RenderedElement",(function(){return kt})),n.d(e,"Rotate",(function(){return it})),n.d(e,"SVGElement",(function(){return Tt})),n.d(e,"SVGFontLoader",(function(){return Ne})),n.d(e,"Scale",(function(){return ot})),n.d(e,"Screen",(function(){return K})),n.d(e,"Skew",(function(){return st})),n.d(e,"SkewX",(function(){return lt})),n.d(e,"SkewY",(function(){return ft})),n.d(e,"StopElement",(function(){return ae})),n.d(e,"StyleElement",(function(){return Be})),n.d(e,"SymbolElement",(function(){return Le})),n.d(e,"TRefElement",(function(){return Pe})),n.d(e,"TSpanElement",(function(){return Rt})),n.d(e,"TextElement",(function(){return St})),n.d(e,"TextPathElement",(function(){return Ve})),n.d(e,"TitleElement",(function(){return cn})),n.d(e,"Transform",(function(){return yt})),n.d(e,"Translate",(function(){return rt})),n.d(e,"UnknownElement",(function(){return dt})),n.d(e,"UseElement",(function(){return Fe})),n.d(e,"ViewPort",(function(){return Y})),n.d(e,"compressSpaces",(function(){return x})),n.d(e,"getSelectorSpecificity",(function(){return N})),n.d(e,"normalizeAttributeName",(function(){return P})),n.d(e,"normalizeColor",(function(){return A})),n.d(e,"parseExternalUrl",(function(){return R})),n.d(e,"presets",(function(){return mn})),n.d(e,"toNumbers",(function(){return w})),n.d(e,"trimLeft",(function(){return b})),n.d(e,"trimRight",(function(){return k})),n.d(e,"vectorMagnitude",(function(){return B})),n.d(e,"vectorsAngle",(function(){return F})),n.d(e,"vectorsRatio",(function(){return I})),n("d81d"),n("ac1f"),n("466d"),n("5319"),n("2ca0"),n("a15b");var r=n("278c"),i=n.n(r),o=(r=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("a34a")),n.n(r)),a=(r=n("c973"),n.n(r)),u=(r=n("9523"),n.n(r)),s=(r=n("970b"),n.n(r)),c=(r=n("5bc3"),n.n(r)),l=(r=(n("99af"),n("a623"),n("13d5"),n("d3b7"),n("e6cf"),n("1276"),n("c449")),n.n(r)),h=(r=(n("b0c0"),n("58e1")),n.n(r)),f=(r=(n("4ae1"),n("25f0"),n("6b58")),n.n(r)),y=(r=n("36c6e"),n.n(r)),p=(r=n("ed6d"),n.n(r)),g=(r=(n("a630"),n("caad"),n("45fc"),n("2532"),n("3ca3"),n("498a"),n("448a")),n.n(r)),d=(r=(n("c975"),n("26e9e"),n("8962")),n.n(r)),v=(r=(n("a9e3"),n("cb29"),n("ac16"),n("3c96")),n.n(r)),m=(n("e260"),n("ddb0"),n("e01a"),n("d28b"),n("fb6a"),n("4ec9"),n("a6fd"),n("7f78"),n("5e9e"));function x(t){return t.replace(/(?!\u3000)\s+/gm," ")}function b(t){return t.replace(/^[\n \t]+/,"")}function k(t){return t.replace(/[\n \t]+$/,"")}function w(t){return((t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var S=/^[A-Z-]+$/;function P(t){return S.test(t)?t.toLowerCase():t}function R(t){return t=t.match(/url\(('([^']+)'|"([^"]+)"|([^'"\)]+))\)/)||[],t[2]||t[3]||t[4]}function A(t){if(!t.startsWith("rgb"))return t;var e=3;return t.replace(/\d+(\.\d+)?/g,(function(t,n){return e--&&n?String(Math.round(parseFloat(t))):t}))}var C=/(\[[^\]]+\])/g,M=/(#[^\s\+>~\.\[:]+)/g,E=/(\.[^\s\+>~\.\[:]+)/g,V=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,D=/(:[\w-]+\([^\)]*\))/gi,T=/(:[^\s\+>~\.\[:]+)/g,O=/([^\s\+>~\.\[:]+)/g;function L(t,e){var n=t.match(e);return n?[t.replace(e," "),n.length]:[t,0]}function N(t){var e=[0,0,0],n=L(t=t.replace(/:not\(([^\)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),C),r=(n=i()(n,2),t=n[0],n=n[1],e[1]+=n,L(t,M));r=i()(r,2),t=r[0],n=r[1],e[0]+=n,r=L(t,E),r=i()(r,2),t=r[0],n=r[1],e[1]+=n,r=L(t,V),r=i()(r,2),t=r[0],n=r[1],e[2]+=n,r=L(t,D),r=i()(r,2),t=r[0],n=r[1],e[1]+=n,r=L(t,T),r=i()(r,2),t=r[0],n=r[1],e[1]+=n,r=L(t=t.replace(/[\*\s\+>~]/g," ").replace(/[#\.]/g," "),O),r=i()(r,2);return t=r[0],n=r[1],e[2]+=n,e.join("")}var z=1e-8;function B(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function I(t,e){return(t[0]*e[0]+t[1]*e[1])/(B(t)*B(e))}function F(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(I(t,e))}function j(t){return t*t*t}function _(t){return 3*t*t*(1-t)}function $(t){return 3*t*(1-t)*(1-t)}function q(t){return(1-t)*(1-t)*(1-t)}function G(t){return t*t}function X(t){return 2*t*(1-t)}function W(t){return(1-t)*(1-t)}(function(t){e=t.exports,t=Object.prototype,r=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",e.wrap=g,s="suspendedStart",c="suspendedYield",l="executing",h="completed",f={},(i={})[o]=function(){return this},(y=(y=Object.getPrototypeOf)&&y(y(R([]))))&&y!==t&&r.call(y,o)&&(i=y),p=x.prototype=v.prototype=Object.create(i),(m.prototype=p.constructor=x).constructor=m,x[u]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(t){return t="function"==typeof t&&t.constructor,!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(p),t},e.awrap=function(t){return{__await:t}},b(k.prototype),k.prototype[a]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(g(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(p),p[u]="Generator",p[o]=function(){return this},p.toString=function(){return"[object Generator]"},e.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=R,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(r,i){return u.type="throw",u.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,S(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:R(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),f}};var e,n,r,i,o,a,u,s,c,l,h,f,y,p;t=e;function g(t,e,r,i){var o,a,u,y;e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),i=new P(i||[]);return e._invoke=(o=t,a=r,u=i,y=s,function(t,e){if(y===l)throw new Error("Generator is already running");if(y===h){if("throw"===t)throw e;return A()}for(u.method=t,u.arg=e;;){var r=u.delegate;if(r&&(r=function t(e,r){var i=e.iterator[r.method];if(i===n){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=n,t(e,r),"throw"===r.method))return f;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}return i=d(i,e.iterator,r.arg),"throw"===i.type?(r.method="throw",r.arg=i.arg,r.delegate=null,f):(i=i.arg,i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f))}(r,u),r)){if(r===f)continue;return r}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(y===s)throw y=h,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);if(y=l,r=d(o,a,u),"normal"===r.type){if(y=u.done?h:c,r.arg!==f)return{value:r.arg,done:u.done}}else"throw"===r.type&&(y=h,u.method="throw",u.arg=r.arg)}}),e}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function v(){}function m(){}function x(){}function b(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function k(t,e){var n;this._invoke=function(i,o){function a(){return new e((function(n,a){!function n(i,o,a,u){var s;i=d(t[i],t,o);if("throw"!==i.type)return(o=(s=i.arg).value)&&"object"==typeof o&&r.call(o,"__await")?e.resolve(o.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(o).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}));u(i.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function R(t){if(t){var e,i=t[o];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(i=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i}).next=i}return{next:A}}function A(){return{value:n,done:!0}}try{regeneratorRuntime=t}catch(i){Function("r","regeneratorRuntime = r")(t)}})({exports:{}});var H=function(){function t(e,n,r){s()(this,t),this.document=e,this.name=n,this.value=r,this.isNormalizedColor=!1}return c()(t,[{key:"hasValue",value:function(){var t=this.value;return null!==t&&""!==t&&0!==t&&void 0!==t}},{key:"isString",value:function(t){var e=this.value,n="string"==typeof e;return n&&t?t.test(e):n}},{key:"isUrlDefinition",value:function(){return this.isString(/^url\(/)}},{key:"isPixels",value:function(){if(!this.hasValue())return!1;var t=this.getString();switch(!0){case/px$/.test(t):case/^[0-9]+$/.test(t):return!0;default:return!1}}},{key:"setValue",value:function(t){return this.value=t,this}},{key:"getValue",value:function(t){return void 0===t||this.hasValue()?this.value:t}},{key:"getNumber",value:function(t){return this.hasValue()?(t=this.value,t=parseFloat(t),this.isString(/%$/)&&(t/=100),t):void 0===t?0:parseFloat(t)}},{key:"getString",value:function(t){return void 0===t||this.hasValue()?void 0===this.value?"":String(this.value):String(t)}},{key:"getColor",value:function(t){return t=this.getString(t),this.isNormalizedColor?t:(this.isNormalizedColor=!0,t=A(t),this.value=t)}},{key:"getDpi",value:function(){return 96}},{key:"getRem",value:function(){return this.document.rootEmSize}},{key:"getEm",value:function(){return this.document.emSize}},{key:"getUnits",value:function(){return this.getString().replace(/[0-9\.\-]/g,"")}},{key:"getPixels",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;t="boolean"==typeof t?[void 0,t]:[t],t=i()(t,2);var n=t[0],r=(t=t[1],this.document.screen.viewPort);switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(r.computeSize("x"),r.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(r.computeSize("x"),r.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*r.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*r.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&t:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*r.computeSize(n);default:var o=this.getNumber();return e&&o<1?o*r.computeSize(n):o}}},{key:"getMilliseconds",value:function(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}},{key:"getRadians",value:function(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}},{key:"getDefinition",value:function(){var t=this.getString(),e=(e=t.match(/#([^\)'"]+)/))&&e[1];return this.document.definitions[e=e||t]}},{key:"getFillStyleDefinition",value:function(t,e){var n,r=this.getDefinition();return r?"function"==typeof r.createGradient?r.createGradient(this.document.ctx,t,e):"function"!=typeof r.createPattern?null:(r.getHrefAttribute().hasValue()&&(n=r.getAttribute("patternTransform"),r=r.getHrefAttribute().getDefinition(),n.hasValue()&&r.getAttribute("patternTransform",!0).setValue(n.value)),r.createPattern(this.document.ctx,t,e)):null}},{key:"getTextBaseline",value:function(){return this.hasValue()?t.textBaselineMapping[this.getString()]:null}},{key:"addOpacity",value:function(e){for(var n,r=this.getColor(),i=r.length,o=0,a=0;a<i&&(","===r[a]&&o++,3!==o);a++);return e.hasValue()&&this.isString()&&3!==o&&(n=new h.a(r)).ok&&(n.alpha=e.getNumber(),r=n.toRGBA()),new t(this.document,this.name,r)}}],[{key:"empty",value:function(e){return new t(e,"EMPTY","")}}]),t}(),Y=(H.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"},function(){function t(){s()(this,t),this.viewPorts=[]}return c()(t,[{key:"clear",value:function(){this.viewPorts=[]}},{key:"setCurrent",value:function(t,e){this.viewPorts.push({width:t,height:e})}},{key:"removeCurrent",value:function(){this.viewPorts.pop()}},{key:"getCurrent",value:function(){var t=this.viewPorts;return t[t.length-1]}},{key:"computeSize",value:function(t){return"number"==typeof t?t:"x"===t?this.width:"y"===t?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}},{key:"width",get:function(){return this.getCurrent().width}},{key:"height",get:function(){return this.getCurrent().height}}]),t}()),U=function(){function t(e,n){s()(this,t),this.x=e,this.y=n}return c()(t,[{key:"angleTo",value:function(t){return Math.atan2(t.y-this.y,t.x-this.x)}},{key:"applyTransform",value:function(t){var e=this.x,n=this.y,r=e*t[0]+n*t[2]+t[4];e=e*t[1]+n*t[3]+t[5];this.x=r,this.y=e}}],[{key:"parse",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=(e=w(e),e=i()(e,2),e[0]);e=e[1];return new t(void 0===r?n:r,void 0===e?n:e)}},{key:"parseScale",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=(e=w(e),e=i()(e,2),e[0]);n=void 0===r?n:r,r=e[1];return new t(n,void 0===r?n:r)}},{key:"parsePath",value:function(e){for(var n=w(e),r=n.length,i=[],o=0;o<r;o+=2)i.push(new t(n[o],n[o+1]));return i}}]),t}(),Q=function(){function t(e){s()(this,t),this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}return c()(t,[{key:"isWorking",value:function(){return this.working}},{key:"start",value:function(){var t,e,n;this.working||(n=this.screen,t=this.onClick,e=this.onMouseMove,(n=n.ctx.canvas).onclick=t,n.onmousemove=e,this.working=!0)}},{key:"stop",value:function(){var t;this.working&&(t=this.screen.ctx.canvas,this.working=!1,t.onclick=null,t.onmousemove=null)}},{key:"hasEvents",value:function(){return this.working&&0<this.events.length}},{key:"runEvents",value:function(){var t,e,n;this.working&&(n=this.screen,t=this.events,e=this.eventElements,(n=n.ctx.canvas.style)&&(n.cursor=""),t.forEach((function(t,n){for(var r=t.run,i=e[n];i;)r(i),i=i.parent})),this.events=[],this.eventElements=[])}},{key:"checkPath",value:function(t,e){var n,r;this.working&&e&&(n=this.events,r=this.eventElements,n.forEach((function(n,i){var o=n.x;n=n.y;!r[i]&&e.isPointInPath&&e.isPointInPath(o,n)&&(r[i]=t)})))}},{key:"checkBoundingBox",value:function(t,e){var n,r;this.working&&e&&(n=this.events,r=this.eventElements,n.forEach((function(n,i){var o=n.x;n=n.y;!r[i]&&e.isPointInBox(o,n)&&(r[i]=t)})))}},{key:"mapXY",value:function(t,e){for(var n=this.screen,r=n.window,i=(n=n.ctx,new U(t,e)),o=n.canvas;o;)i.x-=o.offsetLeft,i.y-=o.offsetTop,o=o.offsetParent;return r.scrollX&&(i.x+=r.scrollX),r.scrollY&&(i.y+=r.scrollY),i}},{key:"onClick",value:function(t){t=this.mapXY((t||event).clientX,(t||event).clientY);var e=t.x;t=t.y;this.events.push({type:"onclick",x:e,y:t,run:function(t){t.onClick&&t.onClick()}})}},{key:"onMouseMove",value:function(t){t=this.mapXY((t||event).clientX,(t||event).clientY);var e=t.x;t=t.y;this.events.push({type:"onmousemove",x:e,y:t,run:function(t){t.onMouseMove&&t.onMouseMove()}})}}]),t}(),Z="undefined"!=typeof window?window:null,J="undefined"!=typeof fetch?fetch.bind(void 0):null,K=function(){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.fetch;r=void 0===r?J:r,n=n.window,n=void 0===n?Z:n;s()(this,t),this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Y,this.mouse=new Q(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=n,this.fetch=r}return c()(t,[{key:"wait",value:function(t){this.waits.push(t)}},{key:"ready",value:function(){return this.readyPromise||Promise.resolve()}},{key:"isReady",value:function(){if(this.isReadyLock)return!0;var t=this.waits.every((function(t){return t()}));return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t}},{key:"setDefaults",value:function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}},{key:"setViewBox",value:function(t){var e=t.document,n=t.ctx,r=t.aspectRatio,o=t.width,a=t.desiredWidth,u=t.height,s=t.desiredHeight,c=t.minX,l=(c=void 0===c?0:c,t.minY),h=(l=void 0===l?0:l,t.refX),f=t.refY,y=t.clip,p=(y=void 0!==y&&y,t.clipX),g=(p=void 0===p?0:p,t=t.clipY,t=void 0===t?0:t,r=x(r).replace(/^defer\s/,"").split(" "),r=i()(r,2),r[0]||"xMidYMid"),d=(r=r[1]||"meet",o/a),v=u/s,m=Math.min(d,v),b=Math.max(d,v);"meet"===r&&(a*=m,s*=m),"slice"===r&&(a*=b,s*=b),h=new H(e,"refX",h),e=new H(e,"refY",f),f=h.hasValue()&&e.hasValue();switch(f&&n.translate(-m*h.getPixels("x"),-m*e.getPixels("y")),y&&(h=m*p,e=m*t,n.beginPath(),n.moveTo(h,e),n.lineTo(o,e),n.lineTo(o,u),n.lineTo(h,u),n.closePath(),n.clip()),f||(y="meet"===r&&m===v,p="slice"===r&&b===v,t="meet"===r&&m===d,e="slice"===r&&b===d,/^xMid/.test(g)&&(y||p)&&n.translate(o/2-a/2,0),/YMid$/.test(g)&&(t||e)&&n.translate(0,u/2-s/2),/^xMax/.test(g)&&(y||p)&&n.translate(o-a,0),/YMax$/.test(g)&&(t||e)&&n.translate(0,u-s)),!0){case"none"===g:n.scale(d,v);break;case"meet"===r:n.scale(m,m);break;case"slice"===r:n.scale(b,b)}n.translate(-c,-l)}},{key:"start",value:function(t){var e,n,r,i=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=o.enableRedraw,u=(a=void 0!==a&&a,o.ignoreMouse),s=(u=void 0!==u&&u,o.ignoreAnimation),c=void 0!==s&&s,h=(s=o.ignoreDimensions,void 0!==s&&s),f=(s=o.ignoreClear,void 0!==s&&s),y=o.forceRedraw,p=o.scaleWidth,g=o.scaleHeight,d=o.offsetX,v=o.offsetY,m=(s=this.FRAMERATE,this.mouse),x=1e3/s;this.frameDuration=x,this.readyPromise=new Promise((function(t){i.resolveReady=t})),this.isReady()&&this.render(t,h,f,p,g,d,v),a&&(e=Date.now(),n=e,r=0,o=function o(){e=Date.now(),x<=(r=e-n)&&(n=e-r%x,i.shouldUpdate(c,y)&&(i.render(t,h,f,p,g,d,v),m.runEvents())),i.intervalId=l()(o)},u||m.start(),this.intervalId=l()(o))}},{key:"stop",value:function(){this.intervalId&&(l.a.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}},{key:"shouldUpdate",value:function(t,e){if(!t){var n=this.frameDuration;if(this.animations.reduce((function(t,e){return e.update(n)||t}),!1))return!0}return!("function"!=typeof e||!e())||!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents()}},{key:"render",value:function(t,e,n,r,i,o,a){var u=this.CLIENT_WIDTH,s=this.CLIENT_HEIGHT,c=this.viewPort,l=this.ctx,h=this.isFirstRender,f=l.canvas,y=(u=(c.clear(),f.width&&f.height?c.setCurrent(f.width,f.height):c.setCurrent(u,s),t.getStyle("width")),s=t.getStyle("height"),!e&&(h||"number"!=typeof r&&"number"!=typeof i)&&(u.hasValue()&&(f.width=u.getPixels("x"),f.style&&(f.style.width="".concat(f.width,"px"))),s.hasValue()&&(f.height=s.getPixels("y"),f.style&&(f.style.height="".concat(f.height,"px")))),f.clientWidth||f.width);f=f.clientHeight||f.height;e&&u.hasValue()&&s.hasValue()&&(y=u.getPixels("x"),f=s.getPixels("y")),c.setCurrent(y,f),"number"==typeof o&&t.getAttribute("x",!0).setValue(o),"number"==typeof a&&t.getAttribute("y",!0).setValue(a),"number"!=typeof r&&"number"!=typeof i||(e=w(t.getAttribute("viewBox").getString()),s=u=0,"number"==typeof r&&((c=t.getStyle("width")).hasValue()?u=c.getPixels("x")/r:isNaN(e[2])||(u=e[2]/r)),"number"==typeof i&&((o=t.getStyle("height")).hasValue()?s=o.getPixels("y")/i:isNaN(e[3])||(s=e[3]/i)),u=u||s,s=s||u,t.getAttribute("width",!0).setValue(r),t.getAttribute("height",!0).setValue(i),(a=t.getStyle("transform",!0,!0)).setValue("".concat(a.getString()," scale(").concat(1/u,", ").concat(1/s,")"))),n||l.clearRect(0,0,y,f),t.render(l),h&&(this.isFirstRender=!1)}}]),t}(),tt=(K.defaultWindow=Z,K.defaultFetch=J,K.defaultFetch),et="undefined"!=typeof DOMParser?DOMParser:null,nt=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.fetch;n=void 0===n?tt:n,e=e.DOMParser,e=void 0===e?et:e;s()(this,t),this.fetch=n,this.DOMParser=e}var e,n;return c()(t,[{key:"parse",value:(n=a()(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(/^</.test(e))return t.abrupt("return",this.parseFromString(e));t.next=2;break;case 2:return t.abrupt("return",this.load(e));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"parseFromString",value:function(t){var e=new this.DOMParser;try{return this.checkDocument(e.parseFromString(t,"image/svg+xml"))}catch(pt){return this.checkDocument(e.parseFromString(t,"text/xml"))}}},{key:"checkDocument",value:function(t){var e=t.getElementsByTagName("parsererror")[0];if(e)throw new Error(e.textContent);return t}},{key:"load",value:(e=a()(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetch(e);case 2:return n=t.sent,t.next=5,n.text();case 5:return n=t.sent,t.abrupt("return",this.parseFromString(n));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}(),rt=function(){function t(e,n){s()(this,t),this.type="translate",this.point=null,this.point=U.parse(n)}return c()(t,[{key:"apply",value:function(t){var e=this.point,n=e.x;e=e.y;t.translate(n||0,e||0)}},{key:"unapply",value:function(t){var e=this.point,n=e.x;e=e.y;t.translate(-1*n||0,-1*e||0)}},{key:"applyToPoint",value:function(t){var e=this.point,n=e.x;e=e.y;t.applyTransform([1,0,0,1,n||0,e||0])}}]),t}(),it=function(){function t(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];s()(this,t),this.type="rotate",this.angle=null,this.cx=0,this.cy=0,n=w(n);this.angle=new H(e,"angle",n[0]),this.cx=(n[1]||0)+(r[0]||0),this.cy=(n[2]||0)+(r[1]||0)}return c()(t,[{key:"apply",value:function(t){var e=this.cx,n=this.cy,r=this.angle;t.translate(e,n),t.rotate(r.getRadians()),t.translate(-e,-n)}},{key:"unapply",value:function(t){var e=this.cx,n=this.cy,r=this.angle;t.translate(e,n),t.rotate(-1*r.getRadians()),t.translate(-e,-n)}},{key:"applyToPoint",value:function(t){var e=this.cx,n=this.cy,r=this.angle.getRadians();t.applyTransform([1,0,0,1,e||0,n||0]),t.applyTransform([Math.cos(r),Math.sin(r),-Math.sin(r),Math.cos(r),0,0]),t.applyTransform([1,0,0,1,-e||0,-n||0])}}]),t}(),ot=function(){function t(e,n){s()(this,t),this.type="scale",this.scale=null,n=U.parseScale(n),0!==n.x&&0!==n.y||(n.x=z,n.y=z),this.scale=n}return c()(t,[{key:"apply",value:function(t){var e=this.scale,n=e.x;e=e.y;t.scale(n,e||n)}},{key:"unapply",value:function(t){var e=this.scale,n=e.x;e=e.y;t.scale(1/n,1/e||n)}},{key:"applyToPoint",value:function(t){var e=this.scale,n=e.x;e=e.y;t.applyTransform([n||0,0,0,e||0,0,0])}}]),t}(),at=function(){function t(e,n){s()(this,t),this.type="matrix",this.matrix=[],this.matrix=w(n)}return c()(t,[{key:"apply",value:function(t){var e=this.matrix;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},{key:"unapply",value:function(t){var e=this.matrix,n=e[0],r=e[2],i=e[4],o=e[1],a=e[3],u=(e=e[5],1/(n*(+a-0*e)-r*(+o-0*e)+i*(0*o-0*a)));t.transform(u*(+a-0*e),u*(0*e-+o),u*(0*i-+r),u*(+n-0*i),u*(r*e-i*a),u*(i*o-n*e))}},{key:"applyToPoint",value:function(t){t.applyTransform(this.matrix)}}]),t}();function ut(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var st=function(t){p()(n,t);var e=ut(n);function n(t,r){var i;return s()(this,n),(i=e.call(this,t,r)).type="skew",i.angle=null,i.angle=new H(t,"angle",r),i}return n}(at);function ct(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var lt=function(t){p()(n,t);var e=ct(n);function n(t,r){return s()(this,n),(t=e.call(this,t,r)).type="skewX",t.matrix=[1,0,Math.tan(t.angle.getRadians()),1,0,0],t}return n}(st);function ht(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var ft=function(t){p()(n,t);var e=ht(n);function n(t,r){return s()(this,n),(t=e.call(this,t,r)).type="skewY",t.matrix=[1,Math.tan(t.angle.getRadians()),0,1,0,0],t}return n}(st),yt=function(){function t(e,n,r){var o=this,a=(e=(s()(this,t),this.document=e,this.transforms=[],x(n).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)),r?w(r):[]);e.forEach((function(e){var n;"none"!==e&&(e=(e=e).split("("),n=(e=i()(e,2))[0],e=e[1],n=[n.trim(),e.trim().replace(")","")],n=(e=i()(n,2))[0],e=e[1],void 0!==(n=t.transformTypes[n])&&o.transforms.push(new n(o.document,e,a)))}))}return c()(t,[{key:"apply",value:function(t){for(var e=this.transforms,n=e.length,r=0;r<n;r++)e[r].apply(t)}},{key:"unapply",value:function(t){for(var e=this.transforms,n=e.length-1;0<=n;n--)e[n].unapply(t)}},{key:"applyToPoint",value:function(t){for(var e=this.transforms,n=e.length,r=0;r<n;r++)e[r].applyToPoint(t)}}],[{key:"fromElement",value:function(e,n){var r=n.getStyle("transform",!1,!0);n=n.getStyle("transform-origin",!1,!0);return r.hasValue()?new t(e,r.getString(),n.getString()):null}}]),t}(),pt=(yt.transformTypes={translate:rt,rotate:it,scale:ot,matrix:at,skewX:lt,skewY:ft},function(){function t(e,n){var r,o,a=this,u=2<arguments.length&&void 0!==arguments[2]&&arguments[2];s()(this,t),this.document=e,this.node=n,this.captureTextNodes=u,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],n&&1===n.nodeType&&(Array.from(n.attributes).forEach((function(t){var n=P(t.nodeName);a.attributes[n]=new H(e,n,t.value)})),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map((function(t){return t.trim()})).forEach((function(t){var n;t&&(t=t.split(":").map((function(t){return t.trim()})),n=(t=i()(t,2))[0],t=t[1],a.styles[n]=new H(e,n,t))})),r=e.definitions,(o=this.getAttribute("id")).hasValue()&&(r[o.getValue()]||(r[o.getValue()]=this)),Array.from(n.childNodes).forEach((function(t){1===t.nodeType?a.addChild(t):!u||3!==t.nodeType&&4!==t.nodeType||0<(t=e.createTextNode(t)).getText().length&&a.addChild(t)})))}return c()(t,[{key:"getAttribute",value:function(t){var e,n=this.attributes[t];return!n&&1<arguments.length&&void 0!==arguments[1]&&arguments[1]?(e=new H(this.document,t,""),this.attributes[t]=e):n||H.empty(this.document)}},{key:"getHrefAttribute",value:function(){for(var t in this.attributes)if("href"===t||/:href$/.test(t))return this.attributes[t];return H.empty(this.document)}},{key:"getStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=this.styles[t];if(r)return r;var i=this.getAttribute(t);if(i&&i.hasValue())return this.styles[t]=i;if(!n){i=this.parent;if(i&&(n=i.getStyle(t),n&&n.hasValue()))return n}return e?(i=new H(this.document,t,""),this.styles[t]=i):r||H.empty(this.document)}},{key:"render",value:function(t){var e;"none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()&&(t.save(),this.getStyle("mask").hasValue()?(e=this.getStyle("mask").getDefinition())&&(this.applyEffects(t),e.apply(t,this)):"none"!==this.getStyle("filter").getValue("none")?(e=this.getStyle("filter").getDefinition())&&(this.applyEffects(t),e.apply(t,this)):(this.setContext(t),this.renderChildren(t),this.clearContext(t)),t.restore())}},{key:"setContext",value:function(t){}},{key:"applyEffects",value:function(t){var e=yt.fromElement(this.document,this);e&&e.apply(t),e=this.getStyle("clip-path",!1,!0);!e.hasValue()||(e=e.getDefinition())&&e.apply(t)}},{key:"clearContext",value:function(t){}},{key:"renderChildren",value:function(t){this.children.forEach((function(e){e.render(t)}))}},{key:"addChild",value:function(e){e=e instanceof t?e:this.document.createElement(e),e.parent=this,t.ignoreChildTypes.includes(e.type)||this.children.push(e)}},{key:"matchesSelector",value:function(t){var e=this.node;return"function"==typeof e.matches?e.matches(t):(e=e.getAttribute("class"),!(!e||""===e)&&e.split(" ").some((function(e){if(".".concat(e)===t)return!0})))}},{key:"addStylesFromStyleDefinition",value:function(){var t,e=this.document,n=e.styles,r=e.stylesSpecificity;for(t in n)if("@"!==t[0]&&this.matchesSelector(t)){var i=n[t],o=r[t];if(i)for(var a in i){var u=this.stylesSpecificity[a];(u=void 0===u?"000":u)<=o&&(this.styles[a]=i[a],this.stylesSpecificity[a]=o)}}}},{key:"removeStyles",value:function(t,e){return e.reduce((function(e,n){var r=t.getStyle(n);if(!r.hasValue())return e;var i=r.getString();return r.setValue(""),[].concat(g()(e),[[n,i]])}),[])}},{key:"restoreStyles",value:function(t,e){e.forEach((function(e){e=i()(e,2);var n=e[0];e=e[1];t.getStyle(n,!0).setValue(e)}))}}]),t}());function gt(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}pt.ignoreChildTypes=["title"];var dt=function(t){p()(n,t);var e=gt(n);function n(t,r,i){return s()(this,n),e.call(this,t,r,i)}return n}(pt);function vt(t){return t=t.trim(),/^('|")/.test(t)?t:'"'.concat(t,'"')}var mt=function(){function e(t,n,r,i,o,a){s()(this,e),a=a?"string"==typeof a?e.parse(a):a:{},this.fontFamily=o||a.fontFamily,this.fontSize=i||a.fontSize,this.fontStyle=t||a.fontStyle,this.fontWeight=r||a.fontWeight,this.fontVariant=n||a.fontVariant}return c()(e,[{key:"toString",value:function(){return[function(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}(this.fontStyle),this.fontVariant,function(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}(this.fontWeight),this.fontSize,(e=this.fontFamily,void 0===t?e:e.trim().split(",").map(vt).join(","))].join(" ").trim();var e}}],[{key:"parse",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length?arguments[1]:void 0,r="",o="",a="",u="",s="",c=(t=x(t).trim().split(" "),{fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1});return t.forEach((function(t){switch(!0){case!c.fontStyle&&e.styles.includes(t):"inherit"!==t&&(r=t),c.fontStyle=!0;break;case!c.fontVariant&&e.variants.includes(t):"inherit"!==t&&(o=t),c.fontStyle=!0,c.fontVariant=!0;break;case!c.fontWeight&&e.weights.includes(t):"inherit"!==t&&(a=t),c.fontStyle=!0,c.fontVariant=!0,c.fontWeight=!0;break;case!c.fontSize:var n;"inherit"!==t&&(n=t.split("/"),n=i()(n,1),u=n[0]),c.fontStyle=!0,c.fontVariant=!0,c.fontWeight=!0,c.fontSize=!0;break;default:"inherit"!==t&&(s+=t)}})),new e(r,o,a,u,s,n)}}]),e}(),xt=(mt.styles="normal|italic|oblique|inherit",mt.variants="normal|small-caps|inherit",mt.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Number.NaN,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Number.NaN,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Number.NaN,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Number.NaN;s()(this,t),this.x1=e,this.y1=n,this.x2=r,this.y2=i,this.addPoint(e,n),this.addPoint(r,i)}return c()(t,[{key:"addPoint",value:function(t,e){void 0!==t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),void 0!==e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}},{key:"addX",value:function(t){this.addPoint(t,null)}},{key:"addY",value:function(t){this.addPoint(null,t)}},{key:"addBoundingBox",value:function(t){var e,n,r;t&&(e=t.x1,n=t.y1,r=t.x2,t=t.y2,this.addPoint(e,n),this.addPoint(r,t))}},{key:"sumCubic",value:function(t,e,n,r,i){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*n+3*(1-t)*Math.pow(t,2)*r+Math.pow(t,3)*i}},{key:"bezierCurveAdd",value:function(t,e,n,r,i){var o,a,u=6*e-12*n+6*r,s=-3*e+9*n-9*r+3*i,c=3*n-3*e;0!=s?(a=Math.pow(u,2)-4*c*s)<0||(0<(o=(-u+Math.sqrt(a))/(2*s))&&o<1&&(t?this.addX(this.sumCubic(o,e,n,r,i)):this.addY(this.sumCubic(o,e,n,r,i))),0<(o=(-u-Math.sqrt(a))/(2*s))&&o<1&&(t?this.addX(this.sumCubic(o,e,n,r,i)):this.addY(this.sumCubic(o,e,n,r,i)))):0==u||0<(a=-c/u)&&a<1&&(t?this.addX(this.sumCubic(a,e,n,r,i)):this.addY(this.sumCubic(a,e,n,r,i)))}},{key:"addBezierCurve",value:function(t,e,n,r,i,o,a,u){this.addPoint(t,e),this.addPoint(a,u),this.bezierCurveAdd(!0,t,n,i,a),this.bezierCurveAdd(!1,e,r,o,u)}},{key:"addQuadraticCurve",value:function(t,e,n,r,i,o){n=t+2/3*(n-t),r=e+2/3*(r-e),this.addBezierCurve(t,e,n,n+1/3*(i-t),r,r+1/3*(o-e),i,o)}},{key:"isPointInBox",value:function(t,e){var n=this.x1,r=this.y1,i=this.x2,o=this.y2;return n<=t&&t<=i&&r<=e&&e<=o}},{key:"x",get:function(){return this.x1}},{key:"y",get:function(){return this.y1}},{key:"width",get:function(){return this.x2-this.x1}},{key:"height",get:function(){return this.y2-this.y1}}]),t}());function bt(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var kt=function(t){p()(n,t);var e=bt(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).modifiedEmSizeStack=!1,t}return c()(n,[{key:"calculateOpacity",value:function(){for(var t=1,e=this;e;){var n=e.getStyle("opacity",!1,!0);n.hasValue()&&(t*=n.getNumber()),e=e.parent}return t}},{key:"setContext",value:function(t){var e,n,r,i,o,a,u=1<arguments.length&&void 0!==arguments[1]&&arguments[1];u||(a=this.getStyle("fill"),r=this.getStyle("fill-opacity"),n=this.getStyle("stroke"),o=this.getStyle("stroke-opacity"),a.isUrlDefinition()?(e=a.getFillStyleDefinition(this,r))&&(t.fillStyle=e):a.hasValue()&&("currentColor"===a.getString()&&a.setValue(this.getStyle("color").getColor()),"inherit"!==(e=a.getColor())&&(t.fillStyle="none"===e?"rgba(0,0,0,0)":e)),r.hasValue()&&(a=new H(this.document,"fill",t.fillStyle).addOpacity(r).getColor(),t.fillStyle=a),n.isUrlDefinition()?(e=n.getFillStyleDefinition(this,o))&&(t.strokeStyle=e):n.hasValue()&&("currentColor"===n.getString()&&n.setValue(this.getStyle("color").getColor()),"inherit"!==(r=n.getString())&&(t.strokeStyle="none"===r?"rgba(0,0,0,0)":r)),o.hasValue()&&(a=new H(this.document,"stroke",t.strokeStyle).addOpacity(o).getString(),t.strokeStyle=a),(e=this.getStyle("stroke-width")).hasValue()&&(n=e.getPixels(),t.lineWidth=n||z),r=this.getStyle("stroke-linecap"),o=this.getStyle("stroke-linejoin"),a=this.getStyle("stroke-miterlimit"),e=this.getStyle("paint-order"),n=this.getStyle("stroke-dasharray"),i=this.getStyle("stroke-dashoffset"),r.hasValue()&&(t.lineCap=r.getString()),o.hasValue()&&(t.lineJoin=o.getString()),a.hasValue()&&(t.miterLimit=a.getNumber()),e.hasValue()&&(t.paintOrder=e.getValue()),n.hasValue()&&"none"!==n.getString()&&(r=w(n.getString()),void 0!==t.setLineDash?t.setLineDash(r):void 0!==t.webkitLineDash?t.webkitLineDash=r:void 0===t.mozDash||1===r.length&&0===r[0]||(t.mozDash=r),o=i.getPixels(),void 0!==t.lineDashOffset?t.lineDashOffset=o:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=o:void 0!==t.mozDashOffset&&(t.mozDashOffset=o))),this.modifiedEmSizeStack=!1,void 0!==t.font&&(a=this.getStyle("font"),e=this.getStyle("font-style"),n=this.getStyle("font-variant"),r=this.getStyle("font-weight"),i=this.getStyle("font-size"),o=this.getStyle("font-family"),a=new mt(e.getString(),n.getString(),r.getString(),i.hasValue()?"".concat(i.getPixels(!0),"px"):"",o.getString(),mt.parse(a.getString(),t.font)),e.setValue(a.fontStyle),n.setValue(a.fontVariant),r.setValue(a.fontWeight),i.setValue(a.fontSize),o.setValue(a.fontFamily),t.font=a.toString(),i.isPixels()&&(this.document.emSize=i.getPixels(),this.modifiedEmSizeStack=!0)),u||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}},{key:"clearContext",value:function(t){d()(y()(n.prototype),"clearContext",this).call(this,t),this.modifiedEmSizeStack&&this.document.popEmSize()}}]),n}(pt);function wt(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var St=function(t){p()(n,t);var e=wt(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,(this instanceof n?this.constructor:void 0)===n||i)).type="text",t.x=0,t.y=0,t.measureCache=-1,t}return c()(n,[{key:"setContext",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];d()(y()(n.prototype),"setContext",this).call(this,t,e),e=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();e&&(t.textBaseline=e)}},{key:"initializeCoordinates",value:function(t){this.x=this.getAttribute("x").getPixels("x"),this.y=this.getAttribute("y").getPixels("y");var e=this.getAttribute("dx"),n=this.getAttribute("dy");e.hasValue()&&(this.x+=e.getPixels("x")),n.hasValue()&&(this.y+=n.getPixels("y")),this.x+=this.getAnchorDelta(t,this,0)}},{key:"getBoundingBox",value:function(t){var e=this;if("text"!==this.type)return this.getTElementBoundingBox(t);this.initializeCoordinates(t);var n=null;return this.children.forEach((function(r,i){i=e.getChildBoundingBox(t,e,e,i),n?n.addBoundingBox(i):n=i})),n}},{key:"getFontSize",value:function(){var t=this.document,e=this.parent;t=mt.parse(t.ctx.font).fontSize;return e.getStyle("font-size").getNumber(t)}},{key:"getTElementBoundingBox",value:function(t){var e=this.getFontSize();return new xt(this.x,this.y-e,this.x+this.measureText(t),this.y)}},{key:"getGlyph",value:function(t,e,n){var r,i,o=e[n],a=null;return t.isArabic?(r=e.length,i=e[n-1],e=e[n+1],void 0!==t.glyphs[o]&&((a=t.glyphs[o][0<n&&" "!==i&&(n===r-1||" "===e)?"initial":0<n&&" "!==i&&n<r-2&&" "!==e?"medial":(0===n||" "===i)&&n<r-2&&" "!==e?"terminal":"isolated"])||"glyph"!==t.glyphs[o].type||(a=t.glyphs[o]))):a=t.glyphs[o],a||t.missingGlyph}},{key:"getText",value:function(){return""}},{key:"getTextFromNode",value:function(t){t=t||this.node;var e=Array.from(t.parentNode.childNodes),n=e.indexOf(t);e=e.length-1,t=x(t.value||t.text||t.textContent||"");return 0===n&&(t=b(t)),n===e?k(t):t}},{key:"renderChildren",value:function(t){var e,n=this;"text"===this.type?(this.initializeCoordinates(t),this.children.forEach((function(e,r){n.renderChild(t,n,n,r)})),(e=this.document.screen.mouse).isWorking()&&e.checkBoundingBox(this,this.getBoundingBox(t))):this.renderTElementChildren(t)}},{key:"renderTElementChildren",value:function(t){var e=this.document,n=this.parent,r=this.getText(),i=n.getStyle("font-family").getDefinition();if(i)for(var o=i.fontFace.unitsPerEm,a=(e=mt.parse(e.ctx.font),n.getStyle("font-size").getNumber(e.fontSize)),u=n.getStyle("font-style").getString(e.fontStyle),s=a/o,c=i.isRTL?r.split("").reverse().join(""):r,l=w(n.getAttribute("dx").getString()),h=c.length,f=0;f<h;f++){var y=this.getGlyph(i,c,f),p=(t.translate(this.x,this.y),t.scale(s,-s),t.lineWidth);t.lineWidth=t.lineWidth*o/a,"italic"===u&&t.transform(1,0,.4,1,0,0),y.render(t),"italic"===u&&t.transform(1,0,-.4,1,0,0),t.lineWidth=p,t.scale(1/s,-1/s),t.translate(-this.x,-this.y),this.x+=a*(y.horizAdvX||i.horizAdvX)/o,void 0===l[f]||isNaN(l[f])||(this.x+=l[f])}else e=this.x,n=this.y,"stroke"===t.paintOrder?(t.strokeStyle&&t.strokeText(r,e,n),t.fillStyle&&t.fillText(r,e,n)):(t.fillStyle&&t.fillText(r,e,n),t.strokeStyle&&t.strokeText(r,e,n))}},{key:"getAnchorDelta",value:function(t,e,n){var r=this.getStyle("text-anchor").getString("start");if("start"===r)return 0;for(var i=e.children,o=i.length,a=null,u=0,s=n;s<o&&(a=i[s],!(n<s&&a.getAttribute("x").hasValue()||a.getAttribute("text-anchor").hasValue()));s++)u+=a.measureTextRecursive(t);return-1*("end"===r?u:u/2)}},{key:"adjustChildCoordinates",value:function(t,e,n,r){var i=n.children[r];if("function"!=typeof i.measureText)return i;t.save(),i.setContext(t,!0);var o=i.getAttribute("x"),a=i.getAttribute("y"),u=i.getAttribute("dx"),s=i.getAttribute("dy"),c=i.getAttribute("text-anchor").getString("start");return 0===r&&"textNode"!==i.type&&(o.hasValue()||o.setValue(e.getAttribute("x").getValue("0")),a.hasValue()||a.setValue(e.getAttribute("y").getValue("0")),u.hasValue()||u.setValue(e.getAttribute("dx").getValue("0")),s.hasValue()||s.setValue(e.getAttribute("dy").getValue("0"))),o.hasValue()?(i.x=o.getPixels("x")+e.getAnchorDelta(t,n,r),"start"!==c&&(o=i.measureTextRecursive(t),i.x+=-1*("end"===c?o:o/2)),u.hasValue()&&(i.x+=u.getPixels("x"))):("start"!==c&&(n=i.measureTextRecursive(t),e.x+=-1*("end"===c?n:n/2)),u.hasValue()&&(e.x+=u.getPixels("x")),i.x=e.x),e.x=i.x+i.measureText(t),a.hasValue()?(i.y=a.getPixels("y"),s.hasValue()&&(i.y+=s.getPixels("y"))):(s.hasValue()&&(e.y+=s.getPixels("y")),i.y=e.y),e.y=i.y,i.clearContext(t),t.restore(),i}},{key:"getChildBoundingBox",value:function(t,e,n,r){var i=this.adjustChildCoordinates(t,e,n,r),o=i.getBoundingBox(t);return o?(i.children.forEach((function(n,r){r=e.getChildBoundingBox(t,e,i,r),o.addBoundingBox(r)})),o):null}},{key:"renderChild",value:function(t,e,n,r){var i=this.adjustChildCoordinates(t,e,n,r);i.render(t),i.children.forEach((function(n,r){e.renderChild(t,e,i,r)}))}},{key:"measureTextRecursive",value:function(t){return this.children.reduce((function(e,n){return e+n.measureTextRecursive(t)}),this.measureText(t))}},{key:"measureText",value:function(t){var e=this.measureCache;return~e?e:(e=this.getText(),t=this.measureTargetText(t,e),this.measureCache=t)}},{key:"measureTargetText",value:function(t,e){if(!e.length)return 0;var n=this.parent,r=n.getStyle("font-family").getDefinition();if(r){for(var i=this.getFontSize(),o=r.isRTL?e.split("").reverse().join(""):e,a=w(n.getAttribute("dx").getString()),u=o.length,s=0,c=0;c<u;c++)s+=(this.getGlyph(r,o,c).horizAdvX||r.horizAdvX)*i/r.fontFace.unitsPerEm,void 0===a[c]||isNaN(a[c])||(s+=a[c]);return s}return t.measureText?(t.save(),this.setContext(t,!0),n=t.measureText(e).width,this.clearContext(t),t.restore(),n):10*e.length}}]),n}(kt);function Pt(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Rt=function(t){p()(n,t);var e=Pt(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,(this instanceof n?this.constructor:void 0)===n||i)).type="tspan",t.text=0<t.children.length?"":t.getTextFromNode(),t}return c()(n,[{key:"getText",value:function(){return this.text}}]),n}(St);function At(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Ct=function(t){p()(n,t);var e=At(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="textNode",t}return n}(Rt),Mt=function(){function t(e){s()(this,t),this.control=null,this.start=null,this.current=null,this.command="",this.tokens=[],this.i=-1,this.previousCommand="",this.points=[],this.angles=[],this.tokens=x(e.replace(/,/gm," ").replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2").replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2").replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2").replace(/([0-9])([+\-])/gm,"$1 $2").replace(/(\.[0-9]*)(\.)/gm,"$1 $2").replace(/(\.[0-9]*)(\.)/gm,"$1 $2").replace(/([Aa](?:\s+(?:[0-9]*\.)?[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $2 $3 ")).trim().split(" ")}return c()(t,[{key:"reset",value:function(){this.i=-1,this.command="",this.previousCommand="",this.start=new U(0,0),this.control=new U(0,0),this.current=new U(0,0),this.points=[],this.angles=[]}},{key:"isEnd",value:function(){return this.i>=this.tokens.length-1}},{key:"isCommandOrEnd",value:function(){if(this.isEnd())return!0;var t=this.i,e=this.tokens;return/^[A-Za-z]$/.test(e[t+1])}},{key:"isRelativeCommand",value:function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0;default:return!1}}},{key:"getToken",value:function(){return this.i++,this.tokens[this.i]}},{key:"getScalar",value:function(){return parseFloat(this.getToken())}},{key:"nextCommand",value:function(){this.previousCommand=this.command,this.command=this.getToken()}},{key:"getPoint",value:function(){var t=new U(this.getScalar(),this.getScalar());return this.makeAbsolute(t)}},{key:"getAsControlPoint",value:function(){var t=this.getPoint();return this.control=t}},{key:"getAsCurrentPoint",value:function(){var t=this.getPoint();return this.current=t}},{key:"getReflectedControlPoint",value:function(){var t=this.previousCommand.toLowerCase();if("c"!==t&&"s"!==t&&"q"!==t&&"t"!==t)return this.current;t=this.current;var e=t.x,n=(t=t.y,this.control),r=n.x;n=n.y;return new U(2*e-r,2*t-n)}},{key:"makeAbsolute",value:function(t){var e,n;return this.isRelativeCommand()&&(e=(n=this.current).x,n=n.y,t.x+=e,t.y+=n),t}},{key:"addMarker",value:function(t,e,n){var r=this.points,i=this.angles;n&&0<i.length&&!i[i.length-1]&&(i[i.length-1]=r[r.length-1].angleTo(n)),this.addMarkerAngle(t,e?e.angleTo(t):null)}},{key:"addMarkerAngle",value:function(t,e){this.points.push(t),this.angles.push(e)}},{key:"getMarkerPoints",value:function(){return this.points}},{key:"getMarkerAngles",value:function(){for(var t=this.angles,e=t.length,n=0;n<e;n++)if(!t[n])for(var r=n+1;r<e;r++)if(t[r]){t[n]=t[r];break}return t}}]),t}();function Et(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Vt=function(t){p()(n,t);var e=Et(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,i)).type="path",t.pathParser=null,t.pathParser=new Mt(t.getAttribute("d").getString()),t}return c()(n,[{key:"path",value:function(t){var e=this.pathParser,n=new xt;for(e.reset(),t&&t.beginPath();!e.isEnd();)switch(e.nextCommand(),e.command){case"M":case"m":this.pathM(t,n);break;case"L":case"l":this.pathL(t,n);break;case"H":case"h":this.pathH(t,n);break;case"V":case"v":this.pathV(t,n);break;case"C":case"c":this.pathC(t,n);break;case"S":case"s":this.pathS(t,n);break;case"Q":case"q":this.pathQ(t,n);break;case"T":case"t":this.pathT(t,n);break;case"A":case"a":this.pathA(t,n);break;case"Z":case"z":this.pathZ(t,n)}return n}},{key:"getBoundingBox",value:function(t){return this.path()}},{key:"getMarkers",value:function(){var t=this.pathParser,e=t.getMarkerPoints(),n=t.getMarkerAngles();return e.map((function(t,e){return[t,n[e]]}))}},{key:"renderChildren",value:function(t){this.path(t),this.document.screen.mouse.checkPath(this,t);var e=this.getStyle("fill-rule"),n=(""!==t.fillStyle&&("inherit"!==e.getString("inherit")?t.fill(e.getString()):t.fill()),""!==t.strokeStyle&&t.stroke(),this.getMarkers());if(n){var r,o,a=n.length-1,u=(e=this.getStyle("marker-start"),this.getStyle("marker-mid")),s=this.getStyle("marker-end");if(e.isUrlDefinition()&&(e=e.getDefinition(),r=(o=i()(n[0],2))[0],o=o[1],e.render(t,r,o)),u.isUrlDefinition())for(var c=u.getDefinition(),l=1;l<a;l++){var h=i()(n[l],2),f=h[0];h=h[1];c.render(t,f,h)}s.isUrlDefinition()&&(e=s.getDefinition(),o=(r=i()(n[a],2))[0],u=r[1],e.render(t,o,u))}}},{key:"pathM",value:function(t,e){var n=this.pathParser,r=n.getAsCurrentPoint(),i=r.x,o=r.y;for(n.addMarker(r),e.addPoint(i,o),t&&t.moveTo(i,o),n.start=n.current;!n.isCommandOrEnd();){var a=n.getAsCurrentPoint(),u=a.x,s=a.y;n.addMarker(a,n.start),e.addPoint(u,s),t&&t.lineTo(u,s)}}},{key:"pathL",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getAsCurrentPoint(),o=i.x,a=i.y;n.addMarker(i,r),e.addPoint(o,a),t&&t.lineTo(o,a)}}},{key:"pathH",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=new U((n.isRelativeCommand()?r.x:0)+n.getScalar(),r.y);n.addMarker(i,r),n.current=i,e.addPoint(i.x,i.y),t&&t.lineTo(i.x,i.y)}}},{key:"pathV",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=new U(r.x,(n.isRelativeCommand()?r.y:0)+n.getScalar());n.addMarker(i,r),n.current=i,e.addPoint(i.x,i.y),t&&t.lineTo(i.x,i.y)}}},{key:"pathC",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getPoint(),o=n.getAsControlPoint(),a=n.getAsCurrentPoint();n.addMarker(a,o,i),e.addBezierCurve(r.x,r.y,i.x,i.y,o.x,o.y,a.x,a.y),t&&t.bezierCurveTo(i.x,i.y,o.x,o.y,a.x,a.y)}}},{key:"pathS",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getReflectedControlPoint(),o=n.getAsControlPoint(),a=n.getAsCurrentPoint();n.addMarker(a,o,i),e.addBezierCurve(r.x,r.y,i.x,i.y,o.x,o.y,a.x,a.y),t&&t.bezierCurveTo(i.x,i.y,o.x,o.y,a.x,a.y)}}},{key:"pathQ",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getAsControlPoint(),o=n.getAsCurrentPoint();n.addMarker(o,i,i),e.addQuadraticCurve(r.x,r.y,i.x,i.y,o.x,o.y),t&&t.quadraticCurveTo(i.x,i.y,o.x,o.y)}}},{key:"pathT",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getReflectedControlPoint(),o=(n.control=i,n.getAsCurrentPoint());n.addMarker(o,i,i),e.addQuadraticCurve(r.x,r.y,i.x,i.y,o.x,o.y),t&&t.quadraticCurveTo(i.x,i.y,o.x,o.y)}}},{key:"pathA",value:function(t,e){for(var n=this.pathParser;!n.isCommandOrEnd();){var r=n.current,i=n.getScalar(),o=n.getScalar(),a=n.getScalar()*(Math.PI/180),u=n.getScalar(),s=n.getScalar(),c=n.getAsCurrentPoint(),l=new U(Math.cos(a)*(r.x-c.x)/2+Math.sin(a)*(r.y-c.y)/2,-Math.sin(a)*(r.x-c.x)/2+Math.cos(a)*(r.y-c.y)/2),h=Math.pow(l.x,2)/Math.pow(i,2)+Math.pow(l.y,2)/Math.pow(o,2),f=(h=(1<h&&(i*=Math.sqrt(h),o*=Math.sqrt(h)),(u===s?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(o,2)-Math.pow(i,2)*Math.pow(l.y,2)-Math.pow(o,2)*Math.pow(l.x,2))/(Math.pow(i,2)*Math.pow(l.y,2)+Math.pow(o,2)*Math.pow(l.x,2)))),u=(isNaN(h)&&(h=0),new U(h*i*l.y/o,h*-o*l.x/i)),h=new U((r.x+c.x)/2+Math.cos(a)*u.x-Math.sin(a)*u.y,(r.y+c.y)/2+Math.sin(a)*u.x+Math.cos(a)*u.y),r=F([1,0],[(l.x-u.x)/i,(l.y-u.y)/o]),[(l.x-u.x)/i,(l.y-u.y)/o]),y=(l=[(-l.x-u.x)/i,(-l.y-u.y)/o],u=F(f,l),I(f,l)<=-1&&(u=Math.PI),1-s?1:-1);f=r+(u=1<=I(f,l)?0:u)/2*y,l=new U(h.x+i*Math.cos(f),h.y+o*Math.sin(f));n.addMarkerAngle(l,f-y*Math.PI/2),n.addMarkerAngle(c,f-y*Math.PI),e.addPoint(c.x,c.y),!t||isNaN(r)||isNaN(u)||(l=o<i?i:o,f=o<i?1:i/o,y=o<i?o/i:1,t.translate(h.x,h.y),t.rotate(a),t.scale(f,y),t.arc(0,0,l,r,r+u,Boolean(1-s)),t.scale(1/f,1/y),t.rotate(-a),t.translate(-h.x,-h.y))}}},{key:"pathZ",value:function(t,e){var n=this.pathParser;t&&e.x1!==e.x2&&e.y1!==e.y2&&t.closePath(),n.current=n.start}}]),n}(kt);function Dt(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Tt=function(t){p()(n,t);var e=Dt(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="svg",t.root=!1,t}return c()(n,[{key:"clearContext",value:function(t){d()(y()(n.prototype),"clearContext",this).call(this,t),this.document.screen.viewPort.removeCurrent()}},{key:"setContext",value:function(t){var e=this.document,r=e.screen,i=e.window,o=t.canvas,a=(o=(r.setDefaults(t),o.style&&void 0!==t.font&&i&&void 0!==i.getComputedStyle&&(t.font=i.getComputedStyle(o).getPropertyValue("font"),(i=new H(e,"fontSize",mt.parse(t.font).fontSize)).hasValue()&&(e.rootEmSize=i.getPixels("y"),e.emSize=e.rootEmSize)),d()(y()(n.prototype),"setContext",this).call(this,t),this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),r.viewPort),i=o.width,o=o.height,this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black"),this.getAttribute("refX")),u=this.getAttribute("refY"),s=this.getAttribute("viewBox"),c=(s=s.hasValue()?w(s.getString()):null,!this.root&&"visible"!==this.getAttribute("overflow").getValue("hidden")),l=0,h=0,f=0,p=0;s&&(l=s[0],h=s[1]),this.root||(i=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y"),"marker"===this.type&&(f=l,p=h,h=l=0)),r.viewPort.setCurrent(i,o),s&&(i=s[2],o=s[3]),e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:r.viewPort.width,desiredWidth:i,height:r.viewPort.height,desiredHeight:o,minX:l,minY:h,refX:a.getValue(),refY:u.getValue(),clip:c,clipX:f,clipY:p}),s&&(r.viewPort.removeCurrent(),r.viewPort.setCurrent(i,o))}},{key:"resize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=this.getAttribute("width",!0),i=this.getAttribute("height",!0),o=this.getAttribute("viewBox"),a=this.getAttribute("style"),u=r.getNumber(0),s=i.getNumber(0);n&&("string"==typeof n?this.getAttribute("preserveAspectRatio",!0).setValue(n):(n=this.getAttribute("preserveAspectRatio")).hasValue()&&n.setValue(n.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))),r.setValue(t),i.setValue(e),o.hasValue()||o.setValue("0 0 ".concat(u||t," ").concat(s||e)),a.hasValue()&&(n=this.getStyle("width"),r=this.getStyle("height"),n.hasValue()&&n.setValue("".concat(t,"px")),r.hasValue()&&r.setValue("".concat(e,"px")))}}]),n}(kt);function Ot(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Lt=function(t){p()(n,t);var e=Ot(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="rect",t}return c()(n,[{key:"path",value:function(t){var e=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),i=this.getStyle("height").getPixels("y"),o=this.getAttribute("rx"),a=this.getAttribute("ry"),u=o.getPixels("x"),s=a.getPixels("y");return o.hasValue()&&!a.hasValue()&&(s=u),a.hasValue()&&!o.hasValue()&&(u=s),u=Math.min(u,r/2),s=Math.min(s,i/2),t&&(a=(Math.sqrt(2)-1)/3*4,t.beginPath(),0<i&&0<r&&(t.moveTo(e+u,n),t.lineTo(e+r-u,n),t.bezierCurveTo(e+r-u+a*u,n,e+r,n+s-a*s,e+r,n+s),t.lineTo(e+r,n+i-s),t.bezierCurveTo(e+r,n+i-s+a*s,e+r-u+a*u,n+i,e+r-u,n+i),t.lineTo(e+u,n+i),t.bezierCurveTo(e+u-a*u,n+i,e,n+i-s+a*s,e,n+i-s),t.lineTo(e,n+s),t.bezierCurveTo(e,n+s-a*s,e+u-a*u,n,e+u,n),t.closePath())),new xt(e,n,e+r,n+i)}},{key:"getMarkers",value:function(){return null}}]),n}(Vt);function Nt(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var zt=function(t){p()(n,t);var e=Nt(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="circle",t}return c()(n,[{key:"path",value:function(t){var e=this.getAttribute("cx").getPixels("x"),n=this.getAttribute("cy").getPixels("y"),r=this.getAttribute("r").getPixels();return t&&0<r&&(t.beginPath(),t.arc(e,n,r,0,2*Math.PI,!1),t.closePath()),new xt(e-r,n-r,e+r,n+r)}},{key:"getMarkers",value:function(){return null}}]),n}(Vt);function Bt(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var It=function(t){p()(n,t);var e=Bt(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="ellipse",t}return c()(n,[{key:"path",value:function(t){var e=(Math.sqrt(2)-1)/3*4,n=this.getAttribute("rx").getPixels("x"),r=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),o=this.getAttribute("cy").getPixels("y");return t&&0<n&&0<r&&(t.beginPath(),t.moveTo(i+n,o),t.bezierCurveTo(i+n,o+e*r,i+e*n,o+r,i,o+r),t.bezierCurveTo(i-e*n,o+r,i-n,o+e*r,i-n,o),t.bezierCurveTo(i-n,o-e*r,i-e*n,o-r,i,o-r),t.bezierCurveTo(i+e*n,o-r,i+n,o-e*r,i+n,o),t.closePath()),new xt(i-n,o-r,i+n,o+r)}},{key:"getMarkers",value:function(){return null}}]),n}(Vt);function Ft(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var jt=function(t){p()(n,t);var e=Ft(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="line",t}return c()(n,[{key:"getPoints",value:function(){return[new U(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new U(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}},{key:"path",value:function(t){var e=this.getPoints(),n=(e=i()(e,2),e[0]),r=n.x,o=(n=n.y,e=e[1],e.x);e=e.y;return t&&(t.beginPath(),t.moveTo(r,n),t.lineTo(o,e)),new xt(r,n,o,e)}},{key:"getMarkers",value:function(){var t=this.getPoints(),e=(t=i()(t,2),t[0]),n=(t=t[1],e.angleTo(t));return[[e,n],[t,n]]}}]),n}(Vt);function _t(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var $t=function(t){p()(n,t);var e=_t(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,i)).type="polyline",t.points=[],t.points=U.parsePath(t.getAttribute("points").getString()),t}return c()(n,[{key:"path",value:function(t){var e=this.points,n=i()(e,1)[0],r=n.x,o=(n=n.y,new xt(r,n));return t&&(t.beginPath(),t.moveTo(r,n)),e.forEach((function(e){var n=e.x;e=e.y;o.addPoint(n,e),t&&t.lineTo(n,e)})),o}},{key:"getMarkers",value:function(){var t=this.points,e=t.length-1,n=[];return t.forEach((function(r,i){i!==e&&n.push([r,r.angleTo(t[i+1])])})),0<n.length&&n.push([t[t.length-1],n[n.length-1][1]]),n}}]),n}(Vt);function qt(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Gt=function(t){p()(n,t);var e=qt(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="polygon",t}return c()(n,[{key:"path",value:function(t){var e=d()(y()(n.prototype),"path",this).call(this,t),r=i()(this.points,1)[0],o=r.x;r=r.y;return t&&(t.lineTo(o,r),t.closePath()),e}}]),n}($t);function Xt(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Wt=function(t){p()(n,t);var e=Xt(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="pattern",t}return c()(n,[{key:"createPattern",value:function(t,e,n){var r=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),o=new Tt(this.document,null),a=(o.attributes.viewBox=new H(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.width=new H(this.document,"width","".concat(r,"px")),o.attributes.height=new H(this.document,"height","".concat(i,"px")),o.attributes.transform=new H(this.document,"transform",this.getAttribute("patternTransform").getValue()),o.children=this.children,this.document.createCanvas(r,i)),u=a.getContext("2d");r=this.getAttribute("x"),i=this.getAttribute("y");r.hasValue()&&i.hasValue()&&u.translate(r.getPixels("x",!0),i.getPixels("y",!0)),n.hasValue()?this.styles["fill-opacity"]=n:Reflect.deleteProperty(this.styles,"fill-opacity");for(var s=-1;s<=1;s++)for(var c=-1;c<=1;c++)u.save(),o.attributes.x=new H(this.document,"x",s*a.width),o.attributes.y=new H(this.document,"y",c*a.height),o.render(u),u.restore();return t.createPattern(a,"repeat")}}]),n}(pt);function Ht(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Yt=function(t){p()(n,t);var e=Ht(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="marker",t}return c()(n,[{key:"render",value:function(t,e,n){var r,i,o,a;e&&(r=e.x,e=e.y,i=this.getAttribute("orient").getValue("auto"),o=this.getAttribute("markerUnits").getValue("strokeWidth"),t.translate(r,e),"auto"===i&&t.rotate(n),"strokeWidth"===o&&t.scale(t.lineWidth,t.lineWidth),t.save(),(a=new Tt(this.document,null)).type=this.type,a.attributes.viewBox=new H(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.refX=new H(this.document,"refX",this.getAttribute("refX").getValue()),a.attributes.refY=new H(this.document,"refY",this.getAttribute("refY").getValue()),a.attributes.width=new H(this.document,"width",this.getAttribute("markerWidth").getValue()),a.attributes.height=new H(this.document,"height",this.getAttribute("markerHeight").getValue()),a.attributes.overflow=new H(this.document,"overflow",this.getAttribute("overflow").getValue()),a.attributes.fill=new H(this.document,"fill",this.getAttribute("fill").getColor("black")),a.attributes.stroke=new H(this.document,"stroke",this.getAttribute("stroke").getValue("none")),a.children=this.children,a.render(t),t.restore(),"strokeWidth"===o&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"===i&&t.rotate(-n),t.translate(-r,-e))}}]),n}(pt);function Ut(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Qt=function(t){p()(n,t);var e=Ut(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="defs",t}return c()(n,[{key:"render",value:function(){}}]),n}(pt);function Zt(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Jt=function(t){p()(n,t);var e=Zt(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="g",t}return c()(n,[{key:"getBoundingBox",value:function(t){var e=new xt;return this.children.forEach((function(n){e.addBoundingBox(n.getBoundingBox(t))})),e}}]),n}(kt);function Kt(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var te=function(t){p()(n,t);var e=Kt(n);function n(t,r,i){s()(this,n),(t=e.call(this,t,r,i)).attributesToInherit=["gradientUnits"],t.stops=[];r=v()(t);var o=r.stops;return r.children.forEach((function(t){"stop"===t.type&&o.push(t)})),t}return c()(n,[{key:"getGradientUnits",value:function(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}},{key:"createGradient",value:function(t,e,n){var r=this,o=this;this.getHrefAttribute().hasValue()&&(o=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(o));o=o.stops;var a,u,s=this.getGradient(t,e);return s?(o.forEach((function(t){s.addColorStop(t.offset,r.addParentOpacity(n,t.color))})),this.getAttribute("gradientTransform").hasValue()?(u=(e=(t=this.document).screen).MAX_VIRTUAL_PIXELS,e=e.viewPort,e=i()(e.viewPorts,1)[0],(a=new Lt(t,null)).attributes.x=new H(t,"x",-u/3),a.attributes.y=new H(t,"y",-u/3),a.attributes.width=new H(t,"width",u),a.attributes.height=new H(t,"height",u),(u=new Jt(t,null)).attributes.transform=new H(t,"transform",this.getAttribute("gradientTransform").getValue()),u.children=[a],(a=new Tt(t,null)).attributes.x=new H(t,"x",0),a.attributes.y=new H(t,"y",0),a.attributes.width=new H(t,"width",e.width),a.attributes.height=new H(t,"height",e.height),a.children=[u],(t=(u=t.createCanvas(e.width,e.height)).getContext("2d")).fillStyle=s,a.render(t),t.createPattern(u,"no-repeat")):s):this.addParentOpacity(n,o[o.length-1].color)}},{key:"inheritStopContainer",value:function(t){var e=this;this.attributesToInherit.forEach((function(n){!e.getAttribute(n).hasValue()&&t.getAttribute(n).hasValue()&&e.getAttribute(n,!0).setValue(t.getAttribute(n).getValue())}))}},{key:"addParentOpacity",value:function(t,e){return t.hasValue()?new H(this.document,"color",e).addOpacity(t).getColor():e}}]),n}(pt);function ee(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var ne=function(t){p()(n,t);var e=ee(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,i)).type="linearGradient",t.attributesToInherit.push("x1","y1","x2","y2"),t}return c()(n,[{key:"getGradient",value:function(t,e){var n="objectBoundingBox"===this.getGradientUnits();e=n?e.getBoundingBox(t):null;if(n&&!e)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var r=n?e.x+e.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),i=n?e.y+e.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),o=n?e.x+e.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x");n=n?e.y+e.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return r===o&&i===n?null:t.createLinearGradient(r,i,o,n)}}]),n}(te);function re(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var ie=function(t){p()(n,t);var e=re(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,i)).type="radialGradient",t.attributesToInherit.push("cx","cy","r","fx","fy","fr"),t}return c()(n,[{key:"getGradient",value:function(t,e){var n="objectBoundingBox"===this.getGradientUnits();e=e.getBoundingBox(t);if(n&&!e)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var r=n?e.x+e.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),i=n?e.y+e.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),o=r,a=i;this.getAttribute("fx").hasValue()&&(o=n?e.x+e.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(a=n?e.y+e.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y")),n=n?(e.width+e.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),e=this.getAttribute("fr").getPixels();return t.createRadialGradient(o,a,e,r,i,n)}}]),n}(te);function oe(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var ae=function(t){p()(n,t);var e=oe(n);function n(t,r,i){s()(this,n),(t=e.call(this,t,r,i)).type="stop";r=Math.max(0,Math.min(1,t.getAttribute("offset").getNumber())),i=t.getStyle("stop-opacity");var o=t.getStyle("stop-color",!0);return""===o.getString()&&o.setValue("#000"),i.hasValue()&&(o=o.addOpacity(i)),t.offset=r,t.color=o.getColor(),t}return n}(pt);function ue(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var se=function(t){p()(n,t);var e=ue(n);function n(t,r,i){return s()(this,n),(r=e.call(this,t,r,i)).type="animate",r.duration=0,r.initialValue=null,r.initialUnits="",r.removed=!1,r.frozen=!1,t.screen.animations.push(v()(r)),r.begin=r.getAttribute("begin").getMilliseconds(),r.maxDuration=r.begin+r.getAttribute("dur").getMilliseconds(),r.from=r.getAttribute("from"),r.to=r.getAttribute("to"),r.values=r.getAttribute("values"),r.values.hasValue()&&r.values.setValue(r.values.getString().split(";")),r}return c()(n,[{key:"getProperty",value:function(){var t=this.getAttribute("attributeType").getString(),e=this.getAttribute("attributeName").getString();return"CSS"===t?this.parent.getStyle(e,!0):this.parent.getAttribute(e,!0)}},{key:"calcValue",value:function(){var t=this.initialUnits,e=this.getProgress(),n=e.progress,r=e.from;e=e.to,e=r.getNumber()+(e.getNumber()-r.getNumber())*n;return"%"===t&&(e*=100),"".concat(e).concat(t)}},{key:"update",value:function(t){var e=this.parent,n=this.getProperty();if(this.initialValue||(this.initialValue=n.getString(),this.initialUnits=n.getUnits()),this.duration>this.maxDuration){var r=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==r||this.frozen){if("remove"===r&&!this.removed)return this.removed=!0,n.setValue(e.animationFrozen?e.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,e.animationFrozen=!0,e.animationFrozenValue=n.getString();return!1}return this.duration+=t,r=!1,this.begin<this.duration&&(e=this.calcValue(),(t=this.getAttribute("type")).hasValue()&&(t=t.getString(),e="".concat(t,"(").concat(e,")")),n.setValue(e),r=!0),r}},{key:"getProgress",value:function(){var t,e,n,r=this.document,i=this.values,o={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};return i.hasValue()?(t=o.progress*(i.getValue().length-1),e=Math.floor(t),n=Math.ceil(t),o.from=new H(r,"from",parseFloat(i.getValue()[e])),o.to=new H(r,"to",parseFloat(i.getValue()[n])),o.progress=(t-e)/(n-e)):(o.from=this.from,o.to=this.to),o}}]),n}(pt);function ce(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var le=function(t){p()(n,t);var e=ce(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="animateColor",t}return c()(n,[{key:"calcValue",value:function(){var t,e,n=this.getProgress(),r=n.progress,i=n.from;n=n.to,i=new h.a(i.getColor()),n=new h.a(n.getColor());return i.ok&&n.ok?(t=i.r+(n.r-i.r)*r,e=i.g+(n.g-i.g)*r,n=i.b+(n.b-i.b)*r,"rgb(".concat(parseInt(t,10),", ").concat(parseInt(e,10),", ").concat(parseInt(n,10),")")):this.getAttribute("from").getColor()}}]),n}(se);function he(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var fe=function(t){p()(n,t);var e=he(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="animateTransform",t}return c()(n,[{key:"calcValue",value:function(){var t=this.getProgress(),e=t.progress,n=t.from,r=(t=t.to,n=w(n.getString()),w(t.getString()));return n.map((function(t,n){return t+(r[n]-t)*e})).join(" ")}}]),n}(se);function ye(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){var e,n;if(Array.isArray(t)||(t=function(t,e){if(t){if("string"==typeof t)return pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(t,e):void 0}}(t)))return e=0,{s:n=function(){},n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ge(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var de=function(t){p()(n,t);var e=ge(n);function n(t,r,i){s()(this,n),(o=e.call(this,t,r,i)).type="font",o.glyphs={},o.horizAdvX=o.getAttribute("horiz-adv-x").getNumber();var o,a,u=t.definitions,c=ye(v()(o).children);try{for(c.s();!(a=c.n()).done;){var l=a.value;switch(l.type){case"font-face":var h=(o.fontFace=l).getStyle("font-family");h.hasValue()&&(u[h.getString()]=v()(o));break;case"missing-glyph":o.missingGlyph=l;break;case"glyph":var f=l;f.arabicForm?(o.isRTL=!0,o.isArabic=!0,void 0===o.glyphs[f.unicode]&&(o.glyphs[f.unicode]={}),o.glyphs[f.unicode][f.arabicForm]=f):o.glyphs[f.unicode]=f}}}catch(t){c.e(t)}finally{c.f()}return o}return c()(n,[{key:"render",value:function(){}}]),n}(pt);function ve(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var me=function(t){p()(n,t);var e=ve(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,i)).type="font-face",t.ascent=t.getAttribute("ascent").getNumber(),t.descent=t.getAttribute("descent").getNumber(),t.unitsPerEm=t.getAttribute("units-per-em").getNumber(),t}return n}(pt);function xe(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var be=function(t){p()(n,t);var e=xe(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="missing-glyph",t.horizAdvX=0,t}return n}(Vt);function ke(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var we=function(t){p()(n,t);var e=ke(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,i)).type="glyph",t.horizAdvX=t.getAttribute("horiz-adv-x").getNumber(),t.unicode=t.getAttribute("unicode").getString(),t.arabicForm=t.getAttribute("arabic-form").getString(),t}return n}(Vt);function Se(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Pe=function(t){p()(n,t);var e=Se(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="tref",t}return c()(n,[{key:"getText",value:function(){var t=this.getHrefAttribute().getDefinition();return t&&(t=t.children[0],t)?t.getText():""}}]),n}(St);function Re(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Ae=function(t){p()(n,t);var e=Re(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,i)).type="a",i=r.childNodes,r=i[0],i=0<i.length&&Array.from(i).every((function(t){return 3===t.nodeType})),t.hasText=i,t.text=i?t.getTextFromNode(r):"",t}return c()(n,[{key:"getText",value:function(){return this.text}},{key:"renderChildren",value:function(t){var e,r,i,o;this.hasText?(d()(y()(n.prototype),"renderChildren",this).call(this,t),i=this.document,e=this.x,r=this.y,o=i.screen.mouse,i=new H(i,"fontSize",mt.parse(i.ctx.font).fontSize),o.isWorking()&&o.checkBoundingBox(this,new xt(e,r-i.getPixels("y"),e+this.measureText(t),r))):0<this.children.length&&((o=new Jt(this.document,null)).children=this.children,o.parent=this,o.render(t))}},{key:"onClick",value:function(){var t=this.document.window;t&&t.open(this.getHrefAttribute().getString())}},{key:"onMouseMove",value:function(){this.document.ctx.canvas.style.cursor="pointer"}}]),n}(St);function Ce(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){var e,n;if(Array.isArray(t)||(t=function(t,e){if(t){if("string"==typeof t)return Me(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(t,e):void 0}}(t)))return e=0,{s:n=function(){},n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function Me(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ee(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Ve=function(t){p()(n,t);var e=Ee(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,i)).type="textPath",t.textWidth=0,t.textHeight=0,t.pathLength=-1,t.glyphInfo=null,t.letterSpacingCache=[],t.measuresCache=new Map([["",0]]),r=t.getHrefAttribute().getDefinition(),t.text=t.getTextFromNode(),t.dataArray=t.parsePathData(r),t}return c()(n,[{key:"getText",value:function(){return this.text}},{key:"path",value:function(t){var e=this.dataArray;t&&t.beginPath(),e.forEach((function(e){var n=e.command,r=e.points;switch(n){case"L":t&&t.lineTo(r[0],r[1]);break;case"M":t&&t.moveTo(r[0],r[1]);break;case"C":t&&t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":t&&t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var i=r[0],o=r[1],a=r[2],u=r[3],s=r[4],c=r[5],l=r[6],h=r[7],f=u<a?a:u,y=u<a?1:a/u;u=u<a?u/a:1;t&&(t.translate(i,o),t.rotate(l),t.scale(y,u),t.arc(0,0,f,s,s+c,Boolean(1-h)),t.scale(1/y,1/u),t.rotate(-l),t.translate(-i,-o));break;case"z":t&&t.closePath()}}))}},{key:"renderChildren",value:function(t){this.setTextData(t),t.save();var e=this.parent.getStyle("text-decoration").getString(),n=this.getFontSize(),r=this.glyphInfo,i=t.fillStyle;"underline"===e&&t.beginPath(),r.forEach((function(i,o){var a=i.p0,u=i.p1;i=i.text;t.save(),t.translate(a.x,a.y),t.rotate(r[o].rotation),t.fillStyle&&t.fillText(i,0,0),t.strokeStyle&&t.strokeText(i,0,0),t.restore(),"underline"===e&&(0===o&&t.moveTo(a.x,a.y+n/8),t.lineTo(u.x,u.y+n/5))})),"underline"===e&&(t.lineWidth=n/20,t.strokeStyle=i,t.stroke(),t.closePath()),t.restore()}},{key:"getLetterSpacingAt",value:function(){return this.letterSpacingCache[0<arguments.length&&void 0!==arguments[0]?arguments[0]:0]||0}},{key:"findSegmentToFitChar",value:function(t,e,n,r,i,o,a,u){return t=this.measureText(t,a)," "===a&&"justify"===e&&n<r&&(t+=(r-n)/i),-1<u&&(o+=this.getLetterSpacingAt(u)),a=this.textHeight/20,e={p0:this.getEquidistantPointOnPath(o,a),p1:this.getEquidistantPointOnPath(o+t,a)},{offset:o+=t,segment:e}}},{key:"measureText",value:function(t,e){var n=this.measuresCache;e=e||this.getText();return n.has(e)?n.get(e):(t=this.measureTargetText(t,e),n.set(e,t),t)}},{key:"setTextData",value:function(t){var e=this;if(!this.glyphInfo){var n=this.getText(),r=n.split(""),i=n.split(" ").length-1,o=w(this.parent.getAttribute("dx").getString("0")),a=this.parent.getStyle("text-anchor").getString("start"),u=this.getStyle("letter-spacing"),s=this.parent.getStyle("letter-spacing"),c=0,l=(u.hasValue()&&"inherit"!==u.getValue()?u.hasValue()&&"initial"!==u.getValue()&&"unset"!==u.getValue()&&(c=u.getPixels()):c=s.getPixels(),[]),h=n.length;this.letterSpacingCache=l;for(var f=0;f<h;f++)l.push(void 0!==o[f]?o[f]:c);u=l.reduce((function(t,e){return t+e||0}),0);var y=(this.textWidth=this.measureText(t),this.textHeight=this.getFontSize(),Math.max(this.textWidth+u,0)),p=(this.glyphInfo=[],this.getPathLength()),g=(s=this.getStyle("startOffset").getNumber(0)*p,"end"!==a&&"right"!==a?"middle"!==a&&"center"!==a?0:-y/2:-y);g+=s,r.forEach((function(n,o){n=e.findSegmentToFitChar(t,a,y,p,i,g,n,o);var u,s=n.offset;n=n.segment;g=s,n.p0&&n.p1&&(s=e.getLineLength(n.p0.x,n.p0.y,n.p1.x,n.p1.y),s=e.getPointOnLine(0+s/2,n.p0.x,n.p0.y,n.p1.x,n.p1.y),u=Math.atan2(n.p1.y-n.p0.y,n.p1.x-n.p0.x),e.glyphInfo.push({transposeX:s.x,transposeY:s.y,text:r[o],p0:n.p0,p1:n.p1,rotation:u}))}))}}},{key:"parsePathData",value:function(t){if(this.pathLength=-1,!t)return[];var e=[],n=t.pathParser;for(n.reset();!n.isEnd();){var r=n.current,i=r?r.x:0,o=(r=r?r.y:0,""),a=[],u=(n.nextCommand(),n.command.toUpperCase());switch(n.command){case"M":case"m":o=this.pathM(n,a);break;case"L":case"l":o=this.pathL(n,a);break;case"H":case"h":o=this.pathH(n,a);break;case"V":case"v":o=this.pathV(n,a);break;case"C":case"c":this.pathC(n,a);break;case"S":case"s":o=this.pathS(n,a);break;case"Q":case"q":this.pathQ(n,a);break;case"T":case"t":o=this.pathT(n,a);break;case"A":case"a":a=this.pathA(n);break;case"Z":case"z":n.current=n.start}"Z"!==u?e.push({command:o||u,points:a,start:{x:i,y:r},pathLength:this.calcLength(i,r,o||u,a)}):e.push({command:"z",points:[],pathLength:0})}return e}},{key:"pathM",value:function(t,e){var n=t.getAsCurrentPoint();for(e.push(n.x,n.y),t.start=t.current;!t.isCommandOrEnd();){var r=t.getAsCurrentPoint();return e.push(r.x,r.y),"L"}}},{key:"pathL",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.getAsCurrentPoint();e.push(n.x,n.y)}return"L"}},{key:"pathH",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.current;n=new U((t.isRelativeCommand()?n.x:0)+t.getScalar(),n.y);e.push(n.x,n.y),t.current=n}return"L"}},{key:"pathV",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.current;n=new U(n.x,(t.isRelativeCommand()?n.y:0)+t.getScalar());e.push(n.x,n.y),t.current=n}return"L"}},{key:"pathC",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.getPoint(),r=t.getAsControlPoint(),i=t.getAsCurrentPoint();e.push(n.x,n.y,r.x,r.y,i.x,i.y)}}},{key:"pathS",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.getReflectedControlPoint(),r=t.getAsControlPoint(),i=t.getAsCurrentPoint();e.push(n.x,n.y,r.x,r.y,i.x,i.y)}return"C"}},{key:"pathQ",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.getAsControlPoint(),r=t.getAsCurrentPoint();e.push(n.x,n.y,r.x,r.y)}}},{key:"pathT",value:function(t,e){for(;!t.isCommandOrEnd();){var n=t.getReflectedControlPoint(),r=(t.control=n,t.getAsCurrentPoint());e.push(n.x,n.y,r.x,r.y)}return"Q"}},{key:"pathA",value:function(t){for(;!t.isCommandOrEnd();){var e=t.current,n=t.getScalar(),r=t.getScalar(),i=t.getScalar()*(Math.PI/180),o=t.getScalar(),a=t.getScalar(),u=t.getAsCurrentPoint(),s=new U(Math.cos(i)*(e.x-u.x)/2+Math.sin(i)*(e.y-u.y)/2,-Math.sin(i)*(e.x-u.x)/2+Math.cos(i)*(e.y-u.y)/2),c=Math.pow(s.x,2)/Math.pow(n,2)+Math.pow(s.y,2)/Math.pow(r,2);c=(1<c&&(n*=Math.sqrt(c),r*=Math.sqrt(c)),(o===a?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(s.y,2)-Math.pow(r,2)*Math.pow(s.x,2))/(Math.pow(n,2)*Math.pow(s.y,2)+Math.pow(r,2)*Math.pow(s.x,2)))),o=(isNaN(c)&&(c=0),new U(c*n*s.y/r,c*-r*s.x/n)),c=new U((e.x+u.x)/2+Math.cos(i)*o.x-Math.sin(i)*o.y,(e.y+u.y)/2+Math.sin(i)*o.x+Math.cos(i)*o.y),e=F([1,0],[(s.x-o.x)/n,(s.y-o.y)/r]),u=[(s.x-o.x)/n,(s.y-o.y)/r],s=[(-s.x-o.x)/n,(-s.y-o.y)/r],o=F(u,s);return I(u,s)<=-1&&(o=Math.PI),1<=I(u,s)&&(o=0),0===a&&0<o&&(o-=2*Math.PI),1===a&&o<0&&(o+=2*Math.PI),[c.x,c.y,n,r,e,o,i,a]}}},{key:"calcLength",value:function(t,e,n,r){var i=0,o=null,a=null,u=0;switch(n){case"L":return this.getLineLength(t,e,r[0],r[1]);case"C":for(o=this.getPointOnCubicBezier(i=0,t,e,r[0],r[1],r[2],r[3],r[4],r[5]),u=.01;u<=1;u+=.01)a=this.getPointOnCubicBezier(u,t,e,r[0],r[1],r[2],r[3],r[4],r[5]),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;return i;case"Q":for(o=this.getPointOnQuadraticBezier(i=0,t,e,r[0],r[1],r[2],r[3]),u=.01;u<=1;u+=.01)a=this.getPointOnQuadraticBezier(u,t,e,r[0],r[1],r[2],r[3]),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;return i;case"A":i=0;var s=r[4],c=r[5],l=r[4]+c,h=Math.PI/180;if(Math.abs(s-l)<h&&(h=Math.abs(s-l)),o=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),c<0)for(u=s-h;l<u;u-=h)a=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(u=s+h;u<l;u+=h)a=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),i+=this.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),i+this.getLineLength(o.x,o.y,a.x,a.y)}return 0}},{key:"getPointOnLine",value:function(t,e,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:e,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:n,u=(i-n)/(r-e+z),s=Math.sqrt(t*t/(1+u*u)),c=(r<e&&(s*=-1),u*s),l=null;if(r===e)l={x:o,y:a+c};else if((a-n)/(o-e+z)==u)l={x:o+s,y:a+c};else{var h=this.getLineLength(e,n,r,i);if(h<z)return null;var f=(o-e)*(r-e)+(a-n)*(i-n);h=this.getLineLength(o,a,o=e+(f/=h*h)*(r-e),a=n+f*(i-n)),f=Math.sqrt(t*t-h*h),s=Math.sqrt(f*f/(1+u*u));r<e&&(s*=-1),l={x:o+s,y:a+(c=u*s)}}return l}},{key:"getPointOnPath",value:function(t){var e=this.getPathLength(),n=0,r=null;if(t<-5e-5||e<t-5e-5)return null;var i,o=Ce(this.dataArray);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!a||!(a.pathLength<5e-5||n+a.pathLength+5e-5<t)){var u=t-n,s=0;switch(a.command){case"L":r=this.getPointOnLine(u,a.start.x,a.start.y,a.points[0],a.points[1],a.start.x,a.start.y);break;case"A":var c=a.points[4],l=a.points[5],h=a.points[4]+l;s=c+u/a.pathLength*l;if(l<0&&s<h||0<=l&&h<s)break;r=this.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],s,a.points[6]);break;case"C":1<(s=u/a.pathLength)&&(s=1),r=this.getPointOnCubicBezier(s,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3],a.points[4],a.points[5]);break;case"Q":1<(s=u/a.pathLength)&&(s=1),r=this.getPointOnQuadraticBezier(s,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3])}if(r)return r;break}n+=a.pathLength}}catch(t){o.e(t)}finally{o.f()}return null}},{key:"getLineLength",value:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}},{key:"getPathLength",value:function(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce((function(t,e){return 0<e.pathLength?t+e.pathLength:t}),0)),this.pathLength}},{key:"getPointOnCubicBezier",value:function(t,e,n,r,i,o,a,u,s){return{x:u*j(t)+o*_(t)+r*$(t)+e*q(t),y:s*j(t)+a*_(t)+i*$(t)+n*q(t)}}},{key:"getPointOnQuadraticBezier",value:function(t,e,n,r,i,o,a){return{x:o*G(t)+r*X(t)+e*W(t),y:a*G(t)+i*X(t)+n*W(t)}}},{key:"getPointOnEllipticalArc",value:function(t,e,n,r,i,o){var a=Math.cos(o);o=Math.sin(o),n*=Math.cos(i),r*=Math.sin(i);return{x:t+(n*a-r*o),y:e+(n*o+r*a)}}},{key:"buildEquidistantCache",value:function(t,e){var n=this.getPathLength(),r=e||.25,i=t||n/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==r){this.equidistantCache={step:i,precision:r,points:[]};for(var o=0,a=0;a<=n;a+=r){var u=this.getPointOnPath(a),s=this.getPointOnPath(a+r);u&&s&&i<=(o+=this.getLineLength(u.x,u.y,s.x,s.y))&&(this.equidistantCache.points.push({x:u.x,y:u.y,distance:a}),o-=i)}}}},{key:"getEquidistantPointOnPath",value:function(t,e,n){return this.buildEquidistantCache(e,n),t<0||5e-5<t-this.getPathLength()?null:(e=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1)),this.equidistantCache.points[e]||null)}}]),n}(St);function De(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Te=function(t){p()(i,t);var e,n,r=De(i);function i(t,e,n){if(s()(this,i),(e=r.call(this,t,e,n)).type="image",e.loaded=!1,n=e.getHrefAttribute().getString(),!n)return f()(e);var o=/\.svg$/.test(n);return t.images.push(v()(e)),o?e.loadSvg(n):e.loadImage(n),e.isSvg=o,e}return c()(i,[{key:"loadImage",value:(n=a()(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.document.createImage(e);case 3:n=t.sent,this.image=n,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:this.loaded=!0;case 11:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t){return n.apply(this,arguments)})},{key:"loadSvg",value:(e=a()(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.document.fetch(e);case 3:return n=t.sent,t.next=6,n.text();case 6:n=t.sent,this.image=n,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0);case 13:this.loaded=!0;case 14:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(t){return e.apply(this,arguments)})},{key:"renderChildren",value:function(t){var e=this.document,n=this.image,r=this.loaded,i=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y");r&&n&&a&&u&&(t.save(),this.isSvg?e.canvg.forkString(t,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:i,offsetY:o,scaleWidth:a,scaleHeight:u}).render():(r=this.image,t.translate(i,o),e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:a,desiredWidth:r.width,height:u,desiredHeight:r.height}),this.loaded&&(void 0!==r.complete&&!r.complete||t.drawImage(r,0,0))),t.restore())}},{key:"getBoundingBox",value:function(){var t=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y"),n=this.getStyle("width").getPixels("x"),r=this.getStyle("height").getPixels("y");return new xt(t,e,t+n,e+r)}}]),i}(kt);function Oe(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Le=function(t){p()(n,t);var e=Oe(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="symbol",t}return c()(n,[{key:"render",value:function(t){}}]),n}(kt),Ne=function(){function t(e){s()(this,t),this.document=e,this.loaded=!1,e.fonts.push(this)}var e;return c()(t,[{key:"load",value:(e=a()(o.a.mark((function t(e,n){var r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this.document,t.next=4,r.canvg.parser.load(n);case 4:i=t.sent,i=i.getElementsByTagName("font"),Array.from(i).forEach((function(t){t=r.createElement(t),r.definitions[e]=t})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0);case 12:this.loaded=!0;case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t,n){return e.apply(this,arguments)})}]),t}();function ze(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Be=function(t){p()(n,t);var e=ze(n);function n(t,r,i){return s()(this,n),(i=e.call(this,t,r,i)).type="style",x(Array.from(r.childNodes).map((function(t){return t.data})).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach((function(e){var n,r;e=e.trim();e&&(n=(e=e.split("{"))[0].split(","),r=e[1].split(";"),n.forEach((function(e){var n,i;e=e.trim();e&&(n=t.styles[e]||{},r.forEach((function(e){var r=e.indexOf(":"),i=e.substr(0,r).trim();e=e.substr(r+1,e.length-r).trim();i&&e&&(n[i]=new H(t,i,e))})),t.styles[e]=n,t.stylesSpecificity[e]=N(e),"@font-face"===e&&(i=n["font-family"].getString().replace(/"|'/g,""),n.src.getString().split(",").forEach((function(e){0<e.indexOf('format("svg")')&&(e=R(e))&&new Ne(t).load(i,e)}))))})))})),i}return n}(pt);function Ie(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}Be.parseExternalUrl=R;var Fe=function(t){p()(n,t);var e=Ie(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="use",t}return c()(n,[{key:"setContext",value:function(t){d()(y()(n.prototype),"setContext",this).call(this,t);var e=this.getAttribute("x"),r=this.getAttribute("y");e.hasValue()&&t.translate(e.getPixels("x"),0),r.hasValue()&&t.translate(0,r.getPixels("y"))}},{key:"path",value:function(t){var e=this.element;e&&e.path(t)}},{key:"renderChildren",value:function(t){var e,n,r=this.document,i=this.element;i&&("symbol"===(e=i).type&&((e=new Tt(r,null)).attributes.viewBox=new H(r,"viewBox",i.getAttribute("viewBox").getString()),e.attributes.preserveAspectRatio=new H(r,"preserveAspectRatio",i.getAttribute("preserveAspectRatio").getString()),e.attributes.overflow=new H(r,"overflow",i.getAttribute("overflow").getString()),e.children=i.children),"svg"===e.type&&(i=this.getStyle("width",!1,!0),n=this.getStyle("height",!1,!0),i.hasValue()&&(e.attributes.width=new H(r,"width",i.getString())),n.hasValue()&&(e.attributes.height=new H(r,"height",n.getString()))),i=e.parent,e.parent=this,e.render(t),e.parent=i)}},{key:"getBoundingBox",value:function(t){var e=this.element;return e?e.getBoundingBox(t):null}},{key:"elementTransform",value:function(){var t=this.document,e=this.element;return yt.fromElement(t,e)}},{key:"element",get:function(){return this._element||(this._element=this.getHrefAttribute().getDefinition()),this._element}}]),n}(kt);function je(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}function _e(t,e,n,r,i,o){return t[n*r*4+4*e+o]}function $e(t,e,n,r,i,o,a){t[n*r*4+4*e+o]=a}function qe(t,e,n){return t=t[e],t*(t<0?n-255:n)}function Ge(t,e,n,r){return e+Math.cos(t)*n+Math.sin(t)*r}var Xe=function(t){p()(n,t);var e=je(n);function n(t,r,i){s()(this,n),(t=e.call(this,t,r,i)).type="feColorMatrix";var o=w(t.getAttribute("values").getString());switch(t.getAttribute("type").getString("matrix")){case"saturate":var a=o[0];o=[.213+.787*a,.715-.715*a,.072-.072*a,0,0,.213-.213*a,.715+.285*a,.072-.072*a,0,0,.213-.213*a,.715-.715*a,.072+.928*a,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":a=o[0]*Math.PI/180,o=[Ge(a,.213,.787,-.213),Ge(a,.715,-.715,-.715),Ge(a,.072,-.072,.928),0,0,Ge(a,.213,-.213,.143),Ge(a,.715,.285,.14),Ge(a,.072,-.072,-.283),0,0,Ge(a,.213,-.213,-.787),Ge(a,.715,-.715,.715),Ge(a,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}return t.matrix=o,t.includeOpacity=t.getAttribute("includeOpacity").hasValue(),t}return c()(n,[{key:"apply",value:function(t,e,n,r,i){for(var o=this.includeOpacity,a=this.matrix,u=t.getImageData(0,0,r,i),s=0;s<i;s++)for(var c=0;c<r;c++){var l=_e(u.data,c,s,r,0,0),h=_e(u.data,c,s,r,0,1),f=_e(u.data,c,s,r,0,2),y=_e(u.data,c,s,r,0,3),p=qe(a,0,l)+qe(a,1,h)+qe(a,2,f)+qe(a,3,y)+qe(a,4,1),g=qe(a,5,l)+qe(a,6,h)+qe(a,7,f)+qe(a,8,y)+qe(a,9,1),d=qe(a,10,l)+qe(a,11,h)+qe(a,12,f)+qe(a,13,y)+qe(a,14,1);l=qe(a,15,l)+qe(a,16,h)+qe(a,17,f)+qe(a,18,y)+qe(a,19,1);o&&(p=g=d=0,l*=y/255),$e(u.data,c,s,r,0,0,p),$e(u.data,c,s,r,0,1,g),$e(u.data,c,s,r,0,2,d),$e(u.data,c,s,r,0,3,l)}t.clearRect(0,0,r,i),t.putImageData(u,0,0)}}]),n}(pt);function We(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var He=function(t){p()(n,t);var e=We(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="mask",t}return c()(n,[{key:"apply",value:function(t,e){var r,i=this.document,o=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),u=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y"),c=(u||s||(r=new xt,this.children.forEach((function(e){r.addBoundingBox(e.getBoundingBox(t))})),o=Math.floor(r.x1),a=Math.floor(r.y1),u=Math.floor(r.width),s=Math.floor(r.height)),this.removeStyles(e,n.ignoreStyles)),l=i.createCanvas(o+u,a+s),h=l.getContext("2d"),f=(i.screen.setDefaults(h),this.renderChildren(h),new Xe(i,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(h,0,0,o+u,a+s),i.createCanvas(o+u,a+s)),y=f.getContext("2d");i.screen.setDefaults(y),e.render(y),y.globalCompositeOperation="destination-in",y.fillStyle=h.createPattern(l,"no-repeat"),y.fillRect(0,0,o+u,a+s),t.fillStyle=y.createPattern(f,"no-repeat"),t.fillRect(0,0,o+u,a+s),this.restoreStyles(e,c)}},{key:"render",value:function(t){}}]),n}(pt);function Ye(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}function Ue(){}He.ignoreStyles=["mask","transform","clip-path"];var Qe=function(t){p()(n,t);var e=Ye(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="clipPath",t}return c()(n,[{key:"apply",value:function(t){var e=this.document,n=Reflect.getPrototypeOf(t),r=t.beginPath,i=t.closePath;n&&(n.beginPath=Ue,n.closePath=Ue),Reflect.apply(r,t,[]),this.children.forEach((function(r){var o;void 0!==r.path&&((o=(o=void 0!==r.elementTransform?r.elementTransform():null)||yt.fromElement(e,r))&&o.apply(t),r.path(t),n&&(n.closePath=i),o&&o.unapply(t))})),Reflect.apply(i,t,[]),t.clip(),n&&(n.beginPath=r,n.closePath=i)}},{key:"render",value:function(t){}}]),n}(pt);function Ze(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var Je=function(t){p()(n,t);var e=Ze(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="filter",t}return c()(n,[{key:"apply",value:function(t,e){var r,i,o,a,u,s,c,l,h=this.document,f=this.children,y=e.getBoundingBox(t);y&&(i=r=0,f.forEach((function(t){t=t.extraFilterDistance||0,r=Math.max(r,t),i=Math.max(i,t)})),s=Math.floor(y.width),u=Math.floor(y.height),a=u+2*i,(o=s+2*r)<1||a<1||(u=Math.floor(y.x),s=Math.floor(y.y),y=this.removeStyles(e,n.ignoreStyles),c=h.createCanvas(o,a),l=c.getContext("2d"),h.screen.setDefaults(l),l.translate(-u+r,-s+i),e.render(l),f.forEach((function(t){"function"==typeof t.apply&&t.apply(l,0,0,o,a)})),t.drawImage(c,0,0,o,a,u-r,s-i,o,a),this.restoreStyles(e,y)))}},{key:"render",value:function(t){}}]),n}(pt);function Ke(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}Je.ignoreStyles=["filter","transform","clip-path"];var tn=function(t){p()(n,t);var e=Ke(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,i)).type="feDropShadow",t.addStylesFromStyleDefinition(),t}return c()(n,[{key:"apply",value:function(t,e,n,r,i){}}]),n}(pt);function en(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var nn=function(t){p()(n,t);var e=en(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="feMorphology",t}return c()(n,[{key:"apply",value:function(t,e,n,r,i){}}]),n}(pt);function rn(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var on=function(t){p()(n,t);var e=rn(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="feComposite",t}return c()(n,[{key:"apply",value:function(t,e,n,r,i){}}]),n}(pt);function an(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var un=function(t){p()(n,t);var e=an(n);function n(t,r,i){return s()(this,n),(t=e.call(this,t,r,i)).type="feGaussianBlur",t.blurRadius=Math.floor(t.getAttribute("stdDeviation").getNumber()),t.extraFilterDistance=t.blurRadius,t}return c()(n,[{key:"apply",value:function(t,e,n,r,i){var o=this.document,a=this.blurRadius,u=o.window?o.window.document.body:null;t=t.canvas;t.id=o.getUniqueId(),u&&(t.style.display="none",u.appendChild(t)),Object(m.a)(t,e,n,r,i,a),u&&u.removeChild(t)}}]),n}(pt);function sn(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var cn=function(t){p()(n,t);var e=sn(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="title",t}return n}(pt);function ln(t){return function(){var e,n=y()(t);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?(e=y()(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),f()(this,e)}}var hn=function(t){p()(n,t);var e=ln(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).type="desc",t}return n}(pt);r={svg:Tt,rect:Lt,circle:zt,ellipse:It,line:jt,polyline:$t,polygon:Gt,path:Vt,pattern:Wt,marker:Yt,defs:Qt,linearGradient:ne,radialGradient:ie,stop:ae,animate:se,animateColor:le,animateTransform:fe,font:de,"font-face":me,"missing-glyph":be,glyph:we,text:St,tspan:Rt,tref:Pe,a:Ae,textPath:Ve,image:Te,g:Jt,symbol:Le,style:Be,use:Fe,mask:He,clipPath:Qe,filter:Je,feDropShadow:tn,feMorphology:nn,feComposite:on,feColorMatrix:Xe,feGaussianBlur:un,title:cn,desc:hn};function fn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function yn(){return(yn=a()(o.a.mark((function t(e){var n,r,i=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=1<i.length&&void 0!==i[1]&&i[1],r=document.createElement("img"),n&&(r.crossOrigin="Anonymous"),t.abrupt("return",new Promise((function(t,n){r.onload=function(){t(r)},r.onerror=function(){n()},r.src=e})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var pn=function(){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.rootEmSize,i=(r=void 0===r?12:r,n.emSize),o=(i=void 0===i?12:i,n.createCanvas),a=(o=void 0===o?t.createCanvas:o,n.createImage);a=void 0===a?t.createImage:a,n=n.anonymousCrossOrigin;s()(this,t),this.canvg=e,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=r,this.emSize=i,this.createCanvas=o,this.createImage=this.bindCreateImage(a,n),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}return c()(t,[{key:"bindCreateImage",value:function(t,e){return"boolean"==typeof e?function(n,r){return t(n,"boolean"==typeof r?r:e)}:t}},{key:"popEmSize",value:function(){this.emSizeStack.pop()}},{key:"getUniqueId",value:function(){return"canvg".concat(++this.uniqueId)}},{key:"isImagesLoaded",value:function(){return this.images.every((function(t){return t.loaded}))}},{key:"isFontsLoaded",value:function(){return this.fonts.every((function(t){return t.loaded}))}},{key:"createDocumentElement",value:function(t){return t=this.createElement(t.documentElement),t.root=!0,t.addStylesFromStyleDefinition(),this.documentElement=t}},{key:"createElement",value:function(e){var n=e.nodeName.replace(/^[^:]+:/,"");n=t.elementTypes[n];return new(void 0!==n?n:dt)(this,e)}},{key:"createTextNode",value:function(t){return new Ct(this,t)}},{key:"setViewBox",value:function(t){this.screen.setViewBox(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({document:this},t))}},{key:"window",get:function(){return this.screen.window}},{key:"fetch",get:function(){return this.screen.fetch}},{key:"ctx",get:function(){return this.screen.ctx}},{key:"emSize",get:function(){var t=this.emSizeStack;return t[t.length-1]},set:function(t){this.emSizeStack.push(t)}}]),t}();function gn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function dn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gn(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}pn.createCanvas=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n},pn.createImage=function(t){return yn.apply(this,arguments)},pn.elementTypes=r;var vn=function(){function t(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};s()(this,t),this.parser=new nt(r),this.screen=new K(e,r),this.options=r,e=new pn(this,r),r=e.createDocumentElement(n);this.document=e,this.documentElement=r}var e,n;return c()(t,[{key:"fork",value:function(e,n){return t.from(e,n,dn({},this.options,{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}))}},{key:"forkString",value:function(e,n){return t.fromString(e,n,dn({},this.options,{},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}))}},{key:"ready",value:function(){return this.screen.ready()}},{key:"isReady",value:function(){return this.screen.isReady()}},{key:"render",value:(n=a()(o.a.mark((function t(){var e,n=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0<n.length&&void 0!==n[0]?n[0]:{},this.start(dn({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},e)),t.next=4,this.ready();case 4:this.stop();case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"start",value:function(){var t=this.documentElement,e=this.screen,n=this.options;e.start(t,dn({enableRedraw:!0},n,{},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))}},{key:"stop",value:function(){this.screen.stop()}},{key:"resize",value:function(t){this.documentElement.resize(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,2<arguments.length&&void 0!==arguments[2]&&arguments[2])}}],[{key:"from",value:(e=a()(o.a.mark((function e(n,r){var i,a,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new nt(i=2<u.length&&void 0!==u[2]?u[2]:{}),e.next=4,a.parse(r);case 4:return a=e.sent,e.abrupt("return",new t(n,a,i));case 6:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)})},{key:"fromString",value:function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return new t(e,new nt(r).parseFromString(n),r)}}]),t}(),mn=Object.freeze({__proto__:null,offscreen:function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).DOMParser,e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas:function(t,e){return new OffscreenCanvas(t,e)},createImage:function(t){return a()(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return n=e.sent,e.next=8,createImageBitmap(n);case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))()}};return"undefined"==typeof DOMParser&&void 0!==t||Reflect.deleteProperty(e,"DOMParser"),e},node:function(t){var e=t.DOMParser,n=t.canvas;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:t.fetch,createCanvas:n.createCanvas,createImage:n.loadImage}}});e.default=vn}.call(this,n("4362"))},8962:function(t,e,n){n("d3b7"),n("f8c9"),n("5d41"),n("e439");var r=n("9f70");function i(){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(t,e,n){var i=r(t,e);if(i)return i=Object.getOwnPropertyDescriptor(i,e),i.get?i.get.call(arguments.length<3?t:n):i.value},t.exports.__esModule=!0,t.exports.default=t.exports,i.apply(this,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},"970b":function(t,e,n){n("d9e2"),t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},"9b42":function(t,e,n){n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){u=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}},t.exports.__esModule=!0,t.exports.default=t.exports},"9f70":function(t,e,n){var r=n("36c6e");t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},a34a:function(t,e,n){t.exports=n("96cf")},a623:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").every;r({target:"Array",proto:!0,forced:!n("a640")("every")},{every:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}})},a6fd:function(t,e,n){var r=n("23e7"),i=n("2ba4"),o=n("59ed"),a=n("825a");r({target:"Reflect",stat:!0,forced:!n("d039")((function(){Reflect.apply((function(){}))}))},{apply:function(t,e,n){return i(o(t),e,a(n))}})},ac16:function(t,e,n){var r=n("23e7"),i=n("825a"),o=n("06cf").f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=o(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},c135:function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},c240:function(t,e,n){n("d9e2"),t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},c60d:function(t,e,n){var r=n("1a2d");t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},ed6d:function(t,e,n){n("d9e2");var r=n("4a4b");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},f8c9:function(t,e,n){var r=n("23e7"),i=n("da84");n=n("d44e");r({global:!0},{Reflect:{}}),n(i.Reflect,"Reflect",!0)}}]);