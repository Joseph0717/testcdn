(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-19366d53"],{"31a9":function(t,e,n){},4458:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return T}));e=n("96cf");var i=n("1da1"),s=n("7424"),r=n("b775");function a(t,e,n){return o.apply(this,arguments)}function o(){return(o=Object(i.a)(regeneratorRuntime.mark((function t(e,n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SEASETTLEMENTOBJECTGETPAGE,r.a.POST,{currentPage:e,pageSize:n,dynamicFilter:i}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(t){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SEASETTLEMENTOBJECTADD,r.a.POST,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return d.apply(this,arguments)}function d(){return(d=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SEASETTLEMENTOBJECTUPDATE,r.a.PUT,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SEASETTLEMENTOBJECTBATCHSOFTDELETE,r.a.PUT,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SEASETTLEMENTOBJECTGETHEDERANDDETAILASYNC,r.a.GET,{id:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SEASETTLEMENTOBJECTGETSELECTSETTLEMENTOBJECT,r.a.POST,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SEASETTLEMENTOBJECTGETSELECTSETTLEMENTOBJECTBYMAWB,r.a.POST,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},"786d":function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return T}));e=n("96cf");var i=n("1da1"),s=n("7424"),r=n("b775");function a(t,e,n){return o.apply(this,arguments)}function o(){return(o=Object(i.a)(regeneratorRuntime.mark((function t(e,n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SETTLEMENTOBJECTGETPAGE,r.a.POST,{currentPage:e,pageSize:n,dynamicFilter:i}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(t){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SETTLEMENTOBJECTADD,r.a.POST,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return d.apply(this,arguments)}function d(){return(d=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SETTLEMENTOBJECTUPDATE,r.a.PUT,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SETTLEMENTOBJECTBATCHSOFTDELETE,r.a.PUT,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SETTLEMENTOBJECTGETHEDERANDDETAILASYNC,r.a.GET,{id:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SETTLEMENTOBJECTGETSELECTSETTLEMENTOBJECT,r.a.POST,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.e)(s.SETTLEMENTOBJECTGETSELECTSETTLEMENTOBJECTBYMAWB,r.a.POST,e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},c314:function(t,e,n){"use strict";n("31a9")},dc7e:function(t,e,n){"use strict";n("d81d"),n("45fc"),n("a9e3");var i=n("786d"),s=n("4458"),r=n("682e"),a=n("7943"),o=n("046f"),c=n("2716"),u=n("597e"),l=n("c408"),d=n("f221"),b=n("bfdf"),p={name:"SelectSettlement",props:{table:{type:Object,default:function(){}},businessType:{type:Number,default:0},bindingDoc:{type:Number,default:0}},data:function(){return{tableList:[],settlementObjectList:[],form:{},rules:{setOCode:[{required:!0,message:"请选择计费规则",trigger:"change"}]},visible:!1,confirmLoading:!1,spinning:!1,disabled:!1}},methods:{isAllEqual:function(t,e){return!(0<t.length)||!t.some((function(n,i){return n[e]!==t[0][e]}))},open:function(){if(this.tableList=this.table.getCheckboxRecords(),(1002==this.businessType||1001==this.businessType)&&0==this.bindingDoc){if(!(this.isAllEqual(this.tableList,"entrustCode")&&this.isAllEqual(this.tableList,"loadingPort")&&this.isAllEqual(this.tableList,"destinationPort")&&this.isAllEqual(this.tableList,"tradeTerms")))return this.$message.error("请选择相同 委托人,起运港,目的港,贸易条款 的订单!"),!1;this.getSelectSettlementObject()}if((1002==this.businessType||1001==this.businessType)&&1==this.bindingDoc){if(!(this.isAllEqual(this.tableList,"airlineCarrier")&&this.isAllEqual(this.tableList,"loadingPort")&&this.isAllEqual(this.tableList,"destinationPort")))return this.$message.error("请选择相同 航空承运人,起运港,目的港 的订单!"),!1;this.getSelectSettlementObjectMawb()}if((1004==this.businessType||1003==this.businessType)&&0==this.bindingDoc){if(!(this.isAllEqual(this.tableList,"entrustCode")&&this.isAllEqual(this.tableList,"loadingPort")&&this.isAllEqual(this.tableList,"destinationPort")&&this.isAllEqual(this.tableList,"tradeTerms")))return this.$message.error("请选择相同 委托人,起运港,目的港,贸易条款 的订单!"),!1;this.getSeaSelectSettlementObject()}if((1004==this.businessType||1003==this.businessType)&&1==this.bindingDoc){if(!(this.isAllEqual(this.tableList,"bookingCode")&&this.isAllEqual(this.tableList,"loadingPort")&&this.isAllEqual(this.tableList,"destinationPort")))return this.$message.error("请选择相同 订舱代理,起运港,目的港 的订单!"),!1;this.getSeaSelectSettlementObjectMawb()}},getSelectSettlementObject:function(){var t=this;this.form={idlist:[],setOCode:"",bussinessType:this.businessType,entrustCode:this.tableList[0].entrustCode,loadingPort:this.tableList[0].loadingPort,destinationPort:this.tableList[0].destinationPort,tradeTerms:this.tableList[0].tradeTerms},this.visible=!0,this.spinning=!0,this.disabled=!0;var e={businessType:this.businessType,bindingDoc:this.bindingDoc,entrustCode:this.tableList[0].entrustCode,loadingPort:this.tableList[0].loadingPort,destinationPort:this.tableList[0].destinationPort,trade:this.tableList[0].tradeTerms};Object(i.e)(e).then((function(e){1===e.data.code&&(t.settlementObjectList=e.data.data,t.spinning=!1,t.disabled=!1)}))},getSelectSettlementObjectMawb:function(){var t=this;this.form={idlist:[],setOCode:"",bussinessType:this.businessType,airlineCarrier:this.tableList[0].airlineCarrier,loadingPort:this.tableList[0].loadingPort,destinationPort:this.tableList[0].destinationPort},this.visible=!0,this.spinning=!0,this.disabled=!0;var e={businessType:this.businessType,bindingDoc:this.bindingDoc,entrustCode:this.tableList[0].airlineCarrier,loadingPort:this.tableList[0].loadingPort,destinationPort:this.tableList[0].destinationPort};Object(i.f)(e).then((function(e){1===e.data.code&&(t.settlementObjectList=e.data.data,t.spinning=!1,t.disabled=!1)}))},getSeaSelectSettlementObject:function(){var t=this;this.form={idlist:[],setOCode:"",bussinessType:this.businessType,entrustCode:this.tableList[0].entrustCode,loadingPort:this.tableList[0].loadingPort,destinationPort:this.tableList[0].destinationPort,tradeTerms:this.tableList[0].tradeTerms},this.visible=!0,this.spinning=!0,this.disabled=!0;var e={businessType:this.businessType,bindingDoc:this.bindingDoc,entrustCode:this.tableList[0].entrustCode,loadingPort:this.tableList[0].loadingPort,destinationPort:this.tableList[0].destinationPort,trade:this.tableList[0].tradeTerms};Object(s.e)(e).then((function(e){1===e.data.code&&(t.settlementObjectList=e.data.data,t.spinning=!1,t.disabled=!1)}))},getSeaSelectSettlementObjectMawb:function(){var t=this;this.form={idlist:[],setOCode:"",bussinessType:this.businessType,airlineCarrier:this.tableList[0].bookingCode,loadingPort:this.tableList[0].loadingPort,destinationPort:this.tableList[0].destinationPort},this.visible=!0,this.spinning=!0,this.disabled=!0;var e={businessType:this.businessType,bindingDoc:this.bindingDoc,entrustCode:this.tableList[0].bookingCode,loadingPort:this.tableList[0].loadingPort,destinationPort:this.tableList[0].destinationPort};Object(s.f)(e).then((function(e){1===e.data.code&&(t.settlementObjectList=e.data.data,t.spinning=!1,t.disabled=!1)}))},handelOk:function(){var t=this;0<this.settlementObjectList.length&&(this.form.idlist=[],this.$refs.form.validate((function(e){e&&(t.confirmLoading=!0,t.tableList.map((function(e){t.form.idlist.push(e.id)})),1002==t.businessType&&0==t.bindingDoc&&Object(r.n)(t.form).then((function(e){1===e.data.code?(t.confirmLoading=!1,t.visible=!1,t.$message.success("保存成功!")):(t.confirmLoading=!1,t.$message.error(e.data.msg))})).catch((function(e){t.confirmLoading=!1,t.$message.error("系统内部错误!")})),1002==t.businessType&&1==t.bindingDoc&&Object(a.o)(t.form).then((function(e){1===e.data.code?(t.confirmLoading=!1,t.visible=!1,t.$message.success("保存成功!")):(t.confirmLoading=!1,t.$message.error(e.data.msg))})).catch((function(e){t.confirmLoading=!1,t.$message.error("系统内部错误!")})),1001==t.businessType&&0==t.bindingDoc&&Object(c.j)(t.form).then((function(e){1===e.data.code?(t.confirmLoading=!1,t.visible=!1,t.$message.success("保存成功!")):(t.confirmLoading=!1,t.$message.error(e.data.msg))})).catch((function(e){t.confirmLoading=!1,t.$message.error("系统内部错误!")})),1001==t.businessType&&1==t.bindingDoc&&Object(o.j)(t.form).then((function(e){1===e.data.code?(t.confirmLoading=!1,t.visible=!1,t.$message.success("保存成功!")):(t.confirmLoading=!1,t.$message.error(e.data.msg))})).catch((function(e){t.confirmLoading=!1,t.$message.error("系统内部错误!")})),1004==t.businessType&&0==t.bindingDoc&&Object(u.l)(t.form).then((function(e){1===e.data.code?(t.confirmLoading=!1,t.visible=!1,t.$message.success("保存成功!")):(t.confirmLoading=!1,t.$message.error(e.data.msg))})).catch((function(e){t.confirmLoading=!1,t.$message.error("系统内部错误!")})),1003==t.businessType&&0==t.bindingDoc&&Object(l.j)(t.form).then((function(e){1===e.data.code?(t.confirmLoading=!1,t.visible=!1,t.$message.success("保存成功!")):(t.confirmLoading=!1,t.$message.error(e.data.msg))})).catch((function(e){t.confirmLoading=!1,t.$message.error("系统内部错误!")})),1004==t.businessType&&1==t.bindingDoc&&Object(d.j)(t.form).then((function(e){1===e.data.code?(t.confirmLoading=!1,t.visible=!1,t.$message.success("保存成功!")):(t.confirmLoading=!1,t.$message.error(e.data.msg))})).catch((function(e){t.confirmLoading=!1,t.$message.error("系统内部错误!")})),1003==t.businessType&&1==t.bindingDoc&&Object(b.k)(t.form).then((function(e){1===e.data.code?(t.confirmLoading=!1,t.visible=!1,t.$message.success("保存成功!")):(t.confirmLoading=!1,t.$message.error(e.data.msg))})).catch((function(e){t.confirmLoading=!1,t.$message.error("系统内部错误!")})))})))}}};n("c314"),n=n("2877"),p=Object(n.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SelectSettlement"},[0==t.bindingDoc?n("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:settlementobject:getselectsettlementobject",expression:"`api:admin:settlementobject:getselectsettlementobject`",arg:"permission"}],attrs:{type:"primary"},on:{click:t.open}},[t._v("选择计费规则")]):t._e(),1==t.bindingDoc?n("a-button",{directives:[{name:"auth",rawName:"v-auth:permission",value:"api:admin:settlementobject:getselectsettlementobjectbymawb",expression:"`api:admin:settlementobject:getselectsettlementobjectbymawb`",arg:"permission"}],attrs:{type:"primary"},on:{click:t.open}},[t._v("选择计费规则")]):t._e(),n("a-modal",{attrs:{destroyOnClose:!0,title:"选择计费规则",centered:"",visible:t.visible,"confirm-loading":t.confirmLoading,maskClosable:!1,"ok-button-props":{props:{disabled:t.disabled}}},on:{ok:t.handelOk,cancel:function(e){t.visible=!1}}},[n("template",{slot:"closeIcon"},[n("a-button",{attrs:{type:"danger",size:"small",shape:"circle",icon:"close-circle"}})],1),n("a-spin",{attrs:{spinning:t.spinning}},[n("a-form-model",{ref:"form",attrs:{model:t.form,rules:t.rules}},[0<t.settlementObjectList.length?n("a-form-model-item",{attrs:{prop:"setOCode"}},[n("a-radio-group",{model:{value:t.form.setOCode,callback:function(e){t.$set(t.form,"setOCode",e)},expression:"form.setOCode"}},t._l(t.settlementObjectList,(function(e,i){return n("a-radio",{key:i,staticStyle:{display:"block",height:"30px"},attrs:{value:e.setOCode}},[t._v(" "+t._s(e.setOCode)+" - "+t._s(e.setOName)+" ")])})),1)],1):n("div",[t._v(" 暂无数据 ")])],1)],1)],2)],1)}),[],!1,null,"1ac1274b",null);e.a=p.exports}}]);